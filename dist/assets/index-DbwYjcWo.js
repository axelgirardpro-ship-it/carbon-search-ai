var ET=Object.defineProperty;var xx=e=>{throw TypeError(e)};var PT=(e,t,n)=>t in e?ET(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var na=(e,t,n)=>PT(e,typeof t!="symbol"?t+"":t,n),ch=(e,t,n)=>t.has(e)||xx("Cannot "+n);var W=(e,t,n)=>(ch(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?xx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ve=(e,t,n,r)=>(ch(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(ch(e,t,"access private method"),n);var su=(e,t,n,r)=>({set _(i){ve(e,t,i,n)},get _(){return W(e,t,r)}});function CT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var g1={exports:{}},of={},v1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),RT=Symbol.for("react.portal"),NT=Symbol.for("react.fragment"),TT=Symbol.for("react.strict_mode"),OT=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),IT=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),$T=Symbol.for("react.suspense"),DT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),bx=Symbol.iterator;function MT(e){return e===null||typeof e!="object"?null:(e=bx&&e[bx]||e["@@iterator"],typeof e=="function"?e:null)}var y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x1=Object.assign,b1={};function wo(e,t,n){this.props=e,this.context=t,this.refs=b1,this.updater=n||y1}wo.prototype.isReactComponent={};wo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w1(){}w1.prototype=wo.prototype;function Bg(e,t,n){this.props=e,this.context=t,this.refs=b1,this.updater=n||y1}var Hg=Bg.prototype=new w1;Hg.constructor=Bg;x1(Hg,wo.prototype);Hg.isPureReactComponent=!0;var wx=Array.isArray,S1=Object.prototype.hasOwnProperty,Wg={current:null},j1={key:!0,ref:!0,__self:!0,__source:!0};function _1(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)S1.call(t,r)&&!j1.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:$c,type:e,key:s,ref:a,props:i,_owner:Wg.current}}function UT(e,t){return{$$typeof:$c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vg(e){return typeof e=="object"&&e!==null&&e.$$typeof===$c}function zT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sx=/\/+/g;function uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zT(""+e.key):t.toString(36)}function Vu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $c:case RT:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+uh(a,0):r,wx(i)?(n="",e!=null&&(n=e.replace(Sx,"$&/")+"/"),Vu(i,t,n,"",function(u){return u})):i!=null&&(Vg(i)&&(i=UT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Sx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",wx(e))for(var o=0;o<e.length;o++){s=e[o];var c=r+uh(s,o);a+=Vu(s,t,n,c,i)}else if(c=MT(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=r+uh(s,o++),a+=Vu(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function au(e,t,n){if(e==null)return e;var r=[],i=0;return Vu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function BT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},qu={transition:null},HT={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:qu,ReactCurrentOwner:Wg};function E1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!Vg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=wo;we.Fragment=NT;we.Profiler=OT;we.PureComponent=Bg;we.StrictMode=TT;we.Suspense=$T;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT;we.act=E1;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x1({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Wg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)S1.call(t,c)&&!j1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:$c,type:e.type,key:i,ref:s,props:r,_owner:a}};we.createContext=function(e){return e={$$typeof:IT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AT,_context:e},e.Consumer=e};we.createElement=_1;we.createFactory=function(e){var t=_1.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:FT,render:e}};we.isValidElement=Vg;we.lazy=function(e){return{$$typeof:LT,_payload:{_status:-1,_result:e},_init:BT}};we.memo=function(e,t){return{$$typeof:DT,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=qu.transition;qu.transition={};try{e()}finally{qu.transition=t}};we.unstable_act=E1;we.useCallback=function(e,t){return Jt.current.useCallback(e,t)};we.useContext=function(e){return Jt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};we.useEffect=function(e,t){return Jt.current.useEffect(e,t)};we.useId=function(){return Jt.current.useId()};we.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Jt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};we.useRef=function(e){return Jt.current.useRef(e)};we.useState=function(e){return Jt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Jt.current.useTransition()};we.version="18.3.1";v1.exports=we;var b=v1.exports;const H=qs(b),qg=CT({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=b,VT=Symbol.for("react.element"),qT=Symbol.for("react.fragment"),QT=Object.prototype.hasOwnProperty,KT=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GT={key:!0,ref:!0,__self:!0,__source:!0};function P1(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)QT.call(t,r)&&!GT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:VT,type:e,key:s,ref:a,props:i,_owner:KT.current}}of.Fragment=qT;of.jsx=P1;of.jsxs=P1;g1.exports=of;var l=g1.exports,C1={exports:{}},Cn={},k1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,$){var E=P.length;P.push($);e:for(;0<E;){var L=E-1>>>1,z=P[L];if(0<i(z,$))P[L]=$,P[E]=z,E=L;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],E=P.pop();if(E!==$){P[0]=E;e:for(var L=0,z=P.length,N=z>>>1;L<N;){var ne=2*(L+1)-1,te=P[ne],J=ne+1,Y=P[J];if(0>i(te,E))J<z&&0>i(Y,te)?(P[L]=Y,P[J]=E,L=J):(P[L]=te,P[ne]=E,L=ne);else if(J<z&&0>i(Y,E))P[L]=Y,P[J]=E,L=J;else break e}}return $}function i(P,$){var E=P.sortIndex-$.sortIndex;return E!==0?E:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=P)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function S(P){if(m=!1,y(P),!g)if(n(c)!==null)g=!0,O(_);else{var $=n(u);$!==null&&U(S,$.startTime-P)}}function _(P,$){g=!1,m&&(m=!1,v(k),k=-1),p=!0;var E=h;try{for(y($),f=n(c);f!==null&&(!(f.expirationTime>$)||P&&!I());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var z=L(f.expirationTime<=$);$=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),y($)}else r(c);f=n(c)}if(f!==null)var N=!0;else{var ne=n(u);ne!==null&&U(S,ne.startTime-$),N=!1}return N}finally{f=null,h=E,p=!1}}var j=!1,C=null,k=-1,A=5,F=-1;function I(){return!(e.unstable_now()-F<A)}function T(){if(C!==null){var P=e.unstable_now();F=P;var $=!0;try{$=C(!0,P)}finally{$?M():(j=!1,C=null)}}else j=!1}var M;if(typeof x=="function")M=function(){x(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=T,M=function(){D.postMessage(null)}}else M=function(){w(T,0)};function O(P){C=P,j||(j=!0,M())}function U(P,$){k=w(function(){P(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var E=h;h=$;try{return P()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=h;h=P;try{return $()}finally{h=E}},e.unstable_scheduleCallback=function(P,$,E){var L=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?L+E:L):E=L,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=E+z,P={id:d++,callback:$,priorityLevel:P,startTime:E,expirationTime:z,sortIndex:-1},E>L?(P.sortIndex=E,t(u,P),n(c)===null&&P===n(u)&&(m?(v(k),k=-1):m=!0,U(S,E-L))):(P.sortIndex=z,t(c,P),g||p||(g=!0,O(_))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var $=h;return function(){var E=h;h=$;try{return P.apply(this,arguments)}finally{h=E}}}})(R1);k1.exports=R1;var JT=k1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=b,Pn=JT;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N1=new Set,Nl={};function Qs(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(Nl[e]=t,e=0;e<t.length;e++)N1.add(t[e])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},_x={};function ZT(e){return $p.call(_x,e)?!0:$p.call(jx,e)?!1:XT.test(e)?_x[e]=!0:(jx[e]=!0,!1)}function eO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tO(e,t,n,r){if(t===null||typeof t>"u"||eO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Kg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qg,Kg);Ct[t]=new Yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qg,Kg);Ct[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qg,Kg);Ct[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gg(e,t,n,r){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tO(t,n,i,r)&&(n=null),r||i===null?ZT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var li=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),xa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),A1=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function $o(e){return e===null||typeof e!="object"?null:(e=Ex&&e[Ex]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,dh;function tl(e){if(dh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dh=t&&t[1]||""}return`
`+dh+e}var fh=!1;function hh(e,t){if(!e||fh)return"";fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{fh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function nO(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=hh(e.type,!1),e;case 11:return e=hh(e.type.render,!1),e;case 1:return e=hh(e.type,!0),e;default:return""}}function Up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case xa:return"Portal";case Dp:return"Profiler";case Jg:return"StrictMode";case Lp:return"Suspense";case Mp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O1:return(e.displayName||"Context")+".Consumer";case T1:return(e._context.displayName||"Context")+".Provider";case Yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xg:return t=e.displayName||null,t!==null?t:Up(e.type)||"Memo";case Ei:t=e._payload,e=e._init;try{return Up(e(t))}catch{}}return null}function rO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iO(e){var t=I1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lu(e){e._valueTracker||(e._valueTracker=iO(e))}function F1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=I1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function md(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zp(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Px(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $1(e,t){t=t.checked,t!=null&&Gg(e,"checked",t,!1)}function Bp(e,t){$1(e,t);var n=Ji(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hp(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hp(e,t,n){(t!=="number"||md(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function Aa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ji(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(nl(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ji(n)}}function D1(e,t){var n=Ji(t.value),r=Ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,M1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sO=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){sO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function U1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function z1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(e,t){if(t){if(aO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Qp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Zg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gp=null,Ia=null,Fa=null;function Nx(e){if(e=Mc(e)){if(typeof Gp!="function")throw Error(V(280));var t=e.stateNode;t&&(t=ff(t),Gp(e.stateNode,e.type,t))}}function B1(e){Ia?Fa?Fa.push(e):Fa=[e]:Ia=e}function H1(){if(Ia){var e=Ia,t=Fa;if(Fa=Ia=null,Nx(e),t)for(e=0;e<t.length;e++)Nx(t[e])}}function W1(e,t){return e(t)}function V1(){}var ph=!1;function q1(e,t,n){if(ph)return e(t,n);ph=!0;try{return W1(e,t,n)}finally{ph=!1,(Ia!==null||Fa!==null)&&(V1(),H1())}}function Ol(e,t){var n=e.stateNode;if(n===null)return null;var r=ff(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Jp=!1;if(Yr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Jp=!1}function oO(e,t,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var hl=!1,gd=null,vd=!1,Yp=null,lO={onError:function(e){hl=!0,gd=e}};function cO(e,t,n,r,i,s,a,o,c){hl=!1,gd=null,oO.apply(lO,arguments)}function uO(e,t,n,r,i,s,a,o,c){if(cO.apply(this,arguments),hl){if(hl){var u=gd;hl=!1,gd=null}else throw Error(V(198));vd||(vd=!0,Yp=u)}}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Q1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tx(e){if(Ks(e)!==e)throw Error(V(188))}function dO(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tx(i),e;if(s===r)return Tx(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function K1(e){return e=dO(e),e!==null?G1(e):null}function G1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G1(e);if(t!==null)return t;e=e.sibling}return null}var J1=Pn.unstable_scheduleCallback,Ox=Pn.unstable_cancelCallback,fO=Pn.unstable_shouldYield,hO=Pn.unstable_requestPaint,at=Pn.unstable_now,pO=Pn.unstable_getCurrentPriorityLevel,ev=Pn.unstable_ImmediatePriority,Y1=Pn.unstable_UserBlockingPriority,yd=Pn.unstable_NormalPriority,mO=Pn.unstable_LowPriority,X1=Pn.unstable_IdlePriority,lf=null,Pr=null;function gO(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(lf,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:xO,vO=Math.log,yO=Math.LN2;function xO(e){return e>>>=0,e===0?32:31-(vO(e)/yO|0)|0}var uu=64,du=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=rl(o):(s&=a,s!==0&&(r=rl(s)))}else a=n&~i,a!==0?r=rl(a):s!==0&&(r=rl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zn(t),i=1<<n,r|=e[n],t&=~i;return r}function bO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Zn(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=bO(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function Xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z1(){var e=uu;return uu<<=1,!(uu&4194240)&&(uu=64),e}function mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=n}function SO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function tv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function ej(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tj,nv,nj,rj,ij,Zp=!1,fu=[],Mi=null,Ui=null,zi=null,Al=new Map,Il=new Map,Ci=[],jO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ax(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Lo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mc(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _O(e,t,n,r,i){switch(t){case"focusin":return Mi=Lo(Mi,e,t,n,r,i),!0;case"dragenter":return Ui=Lo(Ui,e,t,n,r,i),!0;case"mouseover":return zi=Lo(zi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Al.set(s,Lo(Al.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Lo(Il.get(s)||null,e,t,n,r,i)),!0}return!1}function sj(e){var t=_s(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=Q1(n),t!==null){e.blockedOn=t,ij(e.priority,function(){nj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return t=Mc(n),t!==null&&nv(t),e.blockedOn=n,!1;t.shift()}return!0}function Ix(e,t,n){Qu(e)&&n.delete(t)}function EO(){Zp=!1,Mi!==null&&Qu(Mi)&&(Mi=null),Ui!==null&&Qu(Ui)&&(Ui=null),zi!==null&&Qu(zi)&&(zi=null),Al.forEach(Ix),Il.forEach(Ix)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,EO)))}function Fl(e){function t(i){return Mo(i,e)}if(0<fu.length){Mo(fu[0],e);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mi!==null&&Mo(Mi,e),Ui!==null&&Mo(Ui,e),zi!==null&&Mo(zi,e),Al.forEach(t),Il.forEach(t),n=0;n<Ci.length;n++)r=Ci[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)sj(n),n.blockedOn===null&&Ci.shift()}var $a=li.ReactCurrentBatchConfig,bd=!0;function PO(e,t,n,r){var i=Te,s=$a.transition;$a.transition=null;try{Te=1,rv(e,t,n,r)}finally{Te=i,$a.transition=s}}function CO(e,t,n,r){var i=Te,s=$a.transition;$a.transition=null;try{Te=4,rv(e,t,n,r)}finally{Te=i,$a.transition=s}}function rv(e,t,n,r){if(bd){var i=em(e,t,n,r);if(i===null)Eh(e,t,r,wd,n),Ax(e,r);else if(_O(i,e,t,n,r))r.stopPropagation();else if(Ax(e,r),t&4&&-1<jO.indexOf(e)){for(;i!==null;){var s=Mc(i);if(s!==null&&tj(s),s=em(e,t,n,r),s===null&&Eh(e,t,r,wd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Eh(e,t,r,null,n)}}var wd=null;function em(e,t,n,r){if(wd=null,e=Zg(r),e=_s(e),e!==null)if(t=Ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Q1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wd=e,null}function aj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pO()){case ev:return 1;case Y1:return 4;case yd:case mO:return 16;case X1:return 536870912;default:return 16}default:return 16}}var $i=null,iv=null,Ku=null;function oj(){if(Ku)return Ku;var e,t=iv,n=t.length,r,i="value"in $i?$i.value:$i.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Ku=i.slice(e,1<r?1-r:void 0)}function Gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hu(){return!0}function Fx(){return!1}function kn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hu:Fx,this.isPropagationStopped=Fx,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=kn(So),Lc=Xe({},So,{view:0,detail:0}),kO=kn(Lc),gh,vh,Uo,cf=Xe({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(gh=e.screenX-Uo.screenX,vh=e.screenY-Uo.screenY):vh=gh=0,Uo=e),gh)},movementY:function(e){return"movementY"in e?e.movementY:vh}}),$x=kn(cf),RO=Xe({},cf,{dataTransfer:0}),NO=kn(RO),TO=Xe({},Lc,{relatedTarget:0}),yh=kn(TO),OO=Xe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),AO=kn(OO),IO=Xe({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FO=kn(IO),$O=Xe({},So,{data:0}),Dx=kn($O),DO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MO[e])?!!t[e]:!1}function av(){return UO}var zO=Xe({},Lc,{key:function(e){if(e.key){var t=DO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(e){return e.type==="keypress"?Gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BO=kn(zO),HO=Xe({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=kn(HO),WO=Xe({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),VO=kn(WO),qO=Xe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),QO=kn(qO),KO=Xe({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=kn(KO),JO=[9,13,27,32],ov=Yr&&"CompositionEvent"in window,pl=null;Yr&&"documentMode"in document&&(pl=document.documentMode);var YO=Yr&&"TextEvent"in window&&!pl,lj=Yr&&(!ov||pl&&8<pl&&11>=pl),Mx=" ",Ux=!1;function cj(e,t){switch(e){case"keyup":return JO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function XO(e,t){switch(e){case"compositionend":return uj(t);case"keypress":return t.which!==32?null:(Ux=!0,Mx);case"textInput":return e=t.data,e===Mx&&Ux?null:e;default:return null}}function ZO(e,t){if(wa)return e==="compositionend"||!ov&&cj(e,t)?(e=oj(),Ku=iv=$i=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lj&&t.locale!=="ko"?null:t.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e2[e.type]:t==="textarea"}function dj(e,t,n,r){B1(r),t=Sd(t,"onChange"),0<t.length&&(n=new sv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ml=null,$l=null;function t2(e){Sj(e,0)}function uf(e){var t=_a(e);if(F1(t))return e}function n2(e,t){if(e==="change")return t}var fj=!1;if(Yr){var xh;if(Yr){var bh="oninput"in document;if(!bh){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),bh=typeof Bx.oninput=="function"}xh=bh}else xh=!1;fj=xh&&(!document.documentMode||9<document.documentMode)}function Hx(){ml&&(ml.detachEvent("onpropertychange",hj),$l=ml=null)}function hj(e){if(e.propertyName==="value"&&uf($l)){var t=[];dj(t,$l,e,Zg(e)),q1(t2,t)}}function r2(e,t,n){e==="focusin"?(Hx(),ml=t,$l=n,ml.attachEvent("onpropertychange",hj)):e==="focusout"&&Hx()}function i2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uf($l)}function s2(e,t){if(e==="click")return uf(t)}function a2(e,t){if(e==="input"||e==="change")return uf(t)}function o2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:o2;function Dl(e,t){if(ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$p.call(t,i)||!ir(e[i],t[i]))return!1}return!0}function Wx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vx(e,t){var n=Wx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wx(n)}}function pj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mj(){for(var e=window,t=md();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=md(e.document)}return t}function lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function l2(e){var t=mj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pj(n.ownerDocument.documentElement,n)){if(r!==null&&lv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Vx(n,s);var a=Vx(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c2=Yr&&"documentMode"in document&&11>=document.documentMode,Sa=null,tm=null,gl=null,nm=!1;function qx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||Sa==null||Sa!==md(r)||(r=Sa,"selectionStart"in r&&lv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Dl(gl,r)||(gl=r,r=Sd(tm,"onSelect"),0<r.length&&(t=new sv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sa)))}function pu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},wh={},gj={};Yr&&(gj=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function df(e){if(wh[e])return wh[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gj)return wh[e]=t[n];return e}var vj=df("animationend"),yj=df("animationiteration"),xj=df("animationstart"),bj=df("transitionend"),wj=new Map,Qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){wj.set(e,t),Qs(t,[e])}for(var Sh=0;Sh<Qx.length;Sh++){var jh=Qx[Sh],u2=jh.toLowerCase(),d2=jh[0].toUpperCase()+jh.slice(1);rs(u2,"on"+d2)}rs(vj,"onAnimationEnd");rs(yj,"onAnimationIteration");rs(xj,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(bj,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Kx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uO(r,t,void 0,e),e.currentTarget=null}function Sj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Kx(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Kx(i,o,u),s=c}}}if(vd)throw e=Yp,vd=!1,Yp=null,e}function We(e,t){var n=t[om];n===void 0&&(n=t[om]=new Set);var r=e+"__bubble";n.has(r)||(jj(t,e,2,!1),n.add(r))}function _h(e,t,n){var r=0;t&&(r|=4),jj(n,e,r,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[mu]){e[mu]=!0,N1.forEach(function(n){n!=="selectionchange"&&(f2.has(n)||_h(n,!1,e),_h(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,_h("selectionchange",!1,t))}}function jj(e,t,n,r){switch(aj(t)){case 1:var i=PO;break;case 4:i=CO;break;default:i=rv}n=i.bind(null,t,n,e),i=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Eh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=_s(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}q1(function(){var u=s,d=Zg(n),f=[];e:{var h=wj.get(e);if(h!==void 0){var p=sv,g=e;switch(e){case"keypress":if(Gu(n)===0)break e;case"keydown":case"keyup":p=BO;break;case"focusin":g="focus",p=yh;break;case"focusout":g="blur",p=yh;break;case"beforeblur":case"afterblur":p=yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VO;break;case vj:case yj:case xj:p=AO;break;case bj:p=QO;break;case"scroll":p=kO;break;case"wheel":p=GO;break;case"copy":case"cut":case"paste":p=FO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lx}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,y;x!==null;){y=x;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Ol(x,v),S!=null&&m.push(Ml(x,S,y)))),w)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Kp&&(g=n.relatedTarget||n.fromElement)&&(_s(g)||g[Xr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?_s(g):null,g!==null&&(w=Ks(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=$x,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=Lx,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?h:_a(p),y=g==null?h:_a(g),h=new m(S,x+"leave",p,n,d),h.target=w,h.relatedTarget=y,S=null,_s(d)===u&&(m=new m(v,x+"enter",g,n,d),m.target=y,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,v=g,x=0,y=m;y;y=ra(y))x++;for(y=0,S=v;S;S=ra(S))y++;for(;0<x-y;)m=ra(m),x--;for(;0<y-x;)v=ra(v),y--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=ra(m),v=ra(v)}m=null}else m=null;p!==null&&Gx(f,h,p,m,!1),g!==null&&w!==null&&Gx(f,w,g,m,!0)}}e:{if(h=u?_a(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=n2;else if(zx(h))if(fj)_=a2;else{_=i2;var j=r2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=s2);if(_&&(_=_(e,u))){dj(f,_,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Hp(h,"number",h.value)}switch(j=u?_a(u):window,e){case"focusin":(zx(j)||j.contentEditable==="true")&&(Sa=j,tm=u,gl=null);break;case"focusout":gl=tm=Sa=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,qx(f,n,d);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":qx(f,n,d)}var C;if(ov)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else wa?cj(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(lj&&n.locale!=="ko"&&(wa||k!=="onCompositionStart"?k==="onCompositionEnd"&&wa&&(C=oj()):($i=d,iv="value"in $i?$i.value:$i.textContent,wa=!0)),j=Sd(u,k),0<j.length&&(k=new Dx(k,e,null,n,d),f.push({event:k,listeners:j}),C?k.data=C:(C=uj(n),C!==null&&(k.data=C)))),(C=YO?XO(e,n):ZO(e,n))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(d=new Dx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Sj(f,t)})}function Ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(e,n),s!=null&&r.unshift(Ml(e,s,i)),s=Ol(e,t),s!=null&&r.push(Ml(e,s,i))),e=e.return}return r}function ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gx(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=Ol(n,s),c!=null&&a.unshift(Ml(n,c,o))):i||(c=Ol(n,s),c!=null&&a.push(Ml(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var h2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function Jx(e){return(typeof e=="string"?e:""+e).replace(h2,`
`).replace(p2,"")}function gu(e,t,n){if(t=Jx(t),Jx(e)!==t&&n)throw Error(V(425))}function jd(){}var rm=null,im=null;function sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var am=typeof setTimeout=="function"?setTimeout:void 0,m2=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(e){return Yx.resolve(null).then(e).catch(v2)}:am;function v2(e){setTimeout(function(){throw e})}function Ph(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(t)}function Bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),jr="__reactFiber$"+jo,Ul="__reactProps$"+jo,Xr="__reactContainer$"+jo,om="__reactEvents$"+jo,y2="__reactListeners$"+jo,x2="__reactHandles$"+jo;function _s(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xx(e);e!==null;){if(n=e[jr])return n;e=Xx(e)}return t}e=n,n=e.parentNode}return null}function Mc(e){return e=e[jr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function ff(e){return e[Ul]||null}var lm=[],Ea=-1;function is(e){return{current:e}}function Ve(e){0>Ea||(e.current=lm[Ea],lm[Ea]=null,Ea--)}function Ue(e,t){Ea++,lm[Ea]=e.current,e.current=t}var Yi={},Ut=is(Yi),on=is(!1),Fs=Yi;function ro(e,t){var n=e.type.contextTypes;if(!n)return Yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ln(e){return e=e.childContextTypes,e!=null}function _d(){Ve(on),Ve(Ut)}function Zx(e,t,n){if(Ut.current!==Yi)throw Error(V(168));Ue(Ut,t),Ue(on,n)}function _j(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,rO(e)||"Unknown",i));return Xe({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yi,Fs=Ut.current,Ue(Ut,e),Ue(on,on.current),!0}function eb(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=_j(e,t,Fs),r.__reactInternalMemoizedMergedChildContext=e,Ve(on),Ve(Ut),Ue(Ut,e)):Ve(on),Ue(on,n)}var Wr=null,hf=!1,Ch=!1;function Ej(e){Wr===null?Wr=[e]:Wr.push(e)}function b2(e){hf=!0,Ej(e)}function ss(){if(!Ch&&Wr!==null){Ch=!0;var e=0,t=Te;try{var n=Wr;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wr=null,hf=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(e+1)),J1(ev,ss),i}finally{Te=t,Ch=!1}}return null}var Pa=[],Ca=0,Pd=null,Cd=0,On=[],An=0,$s=null,Qr=1,Kr="";function vs(e,t){Pa[Ca++]=Cd,Pa[Ca++]=Pd,Pd=e,Cd=t}function Pj(e,t,n){On[An++]=Qr,On[An++]=Kr,On[An++]=$s,$s=e;var r=Qr;e=Kr;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qr=1<<32-Zn(t)+i|n<<i|r,Kr=s+e}else Qr=1<<s|n<<i|r,Kr=e}function cv(e){e.return!==null&&(vs(e,1),Pj(e,1,0))}function uv(e){for(;e===Pd;)Pd=Pa[--Ca],Pa[Ca]=null,Cd=Pa[--Ca],Pa[Ca]=null;for(;e===$s;)$s=On[--An],On[An]=null,Kr=On[--An],On[An]=null,Qr=On[--An],On[An]=null}var jn=null,bn=null,Qe=!1,Xn=null;function Cj(e,t){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jn=e,bn=Bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$s!==null?{id:Qr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jn=e,bn=null,!0):!1;default:return!1}}function cm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function um(e){if(Qe){var t=bn;if(t){var n=t;if(!tb(e,t)){if(cm(e))throw Error(V(418));t=Bi(n.nextSibling);var r=jn;t&&tb(e,t)?Cj(r,n):(e.flags=e.flags&-4097|2,Qe=!1,jn=e)}}else{if(cm(e))throw Error(V(418));e.flags=e.flags&-4097|2,Qe=!1,jn=e}}}function nb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jn=e}function vu(e){if(e!==jn)return!1;if(!Qe)return nb(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sm(e.type,e.memoizedProps)),t&&(t=bn)){if(cm(e))throw kj(),Error(V(418));for(;t;)Cj(e,t),t=Bi(t.nextSibling)}if(nb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Bi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=jn?Bi(e.stateNode.nextSibling):null;return!0}function kj(){for(var e=bn;e;)e=Bi(e.nextSibling)}function io(){bn=jn=null,Qe=!1}function dv(e){Xn===null?Xn=[e]:Xn.push(e)}var w2=li.ReactCurrentBatchConfig;function zo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function yu(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rb(e){var t=e._init;return t(e._payload)}function Rj(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=qi(v,x),v.index=0,v.sibling=null,v}function s(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,y,S){return x===null||x.tag!==6?(x=Ih(y,v.mode,S),x.return=v,x):(x=i(x,y),x.return=v,x)}function c(v,x,y,S){var _=y.type;return _===ba?d(v,x,y.props.children,S,y.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ei&&rb(_)===x.type)?(S=i(x,y.props),S.ref=zo(v,x,y),S.return=v,S):(S=nd(y.type,y.key,y.props,null,v.mode,S),S.ref=zo(v,x,y),S.return=v,S)}function u(v,x,y,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Fh(y,v.mode,S),x.return=v,x):(x=i(x,y.children||[]),x.return=v,x)}function d(v,x,y,S,_){return x===null||x.tag!==7?(x=As(y,v.mode,S,_),x.return=v,x):(x=i(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ih(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ou:return y=nd(x.type,x.key,x.props,null,v.mode,y),y.ref=zo(v,null,x),y.return=v,y;case xa:return x=Fh(x,v.mode,y),x.return=v,x;case Ei:var S=x._init;return f(v,S(x._payload),y)}if(nl(x)||$o(x))return x=As(x,v.mode,y,null),x.return=v,x;yu(v,x)}return null}function h(v,x,y,S){var _=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(v,x,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ou:return y.key===_?c(v,x,y,S):null;case xa:return y.key===_?u(v,x,y,S):null;case Ei:return _=y._init,h(v,x,_(y._payload),S)}if(nl(y)||$o(y))return _!==null?null:d(v,x,y,S,null);yu(v,y)}return null}function p(v,x,y,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,o(x,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ou:return v=v.get(S.key===null?y:S.key)||null,c(x,v,S,_);case xa:return v=v.get(S.key===null?y:S.key)||null,u(x,v,S,_);case Ei:var j=S._init;return p(v,x,y,j(S._payload),_)}if(nl(S)||$o(S))return v=v.get(y)||null,d(x,v,S,_,null);yu(x,S)}return null}function g(v,x,y,S){for(var _=null,j=null,C=x,k=x=0,A=null;C!==null&&k<y.length;k++){C.index>k?(A=C,C=null):A=C.sibling;var F=h(v,C,y[k],S);if(F===null){C===null&&(C=A);break}e&&C&&F.alternate===null&&t(v,C),x=s(F,x,k),j===null?_=F:j.sibling=F,j=F,C=A}if(k===y.length)return n(v,C),Qe&&vs(v,k),_;if(C===null){for(;k<y.length;k++)C=f(v,y[k],S),C!==null&&(x=s(C,x,k),j===null?_=C:j.sibling=C,j=C);return Qe&&vs(v,k),_}for(C=r(v,C);k<y.length;k++)A=p(C,v,k,y[k],S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),x=s(A,x,k),j===null?_=A:j.sibling=A,j=A);return e&&C.forEach(function(I){return t(v,I)}),Qe&&vs(v,k),_}function m(v,x,y,S){var _=$o(y);if(typeof _!="function")throw Error(V(150));if(y=_.call(y),y==null)throw Error(V(151));for(var j=_=null,C=x,k=x=0,A=null,F=y.next();C!==null&&!F.done;k++,F=y.next()){C.index>k?(A=C,C=null):A=C.sibling;var I=h(v,C,F.value,S);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&t(v,C),x=s(I,x,k),j===null?_=I:j.sibling=I,j=I,C=A}if(F.done)return n(v,C),Qe&&vs(v,k),_;if(C===null){for(;!F.done;k++,F=y.next())F=f(v,F.value,S),F!==null&&(x=s(F,x,k),j===null?_=F:j.sibling=F,j=F);return Qe&&vs(v,k),_}for(C=r(v,C);!F.done;k++,F=y.next())F=p(C,v,k,F.value,S),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?k:F.key),x=s(F,x,k),j===null?_=F:j.sibling=F,j=F);return e&&C.forEach(function(T){return t(v,T)}),Qe&&vs(v,k),_}function w(v,x,y,S){if(typeof y=="object"&&y!==null&&y.type===ba&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ou:e:{for(var _=y.key,j=x;j!==null;){if(j.key===_){if(_=y.type,_===ba){if(j.tag===7){n(v,j.sibling),x=i(j,y.props.children),x.return=v,v=x;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ei&&rb(_)===j.type){n(v,j.sibling),x=i(j,y.props),x.ref=zo(v,j,y),x.return=v,v=x;break e}n(v,j);break}else t(v,j);j=j.sibling}y.type===ba?(x=As(y.props.children,v.mode,S,y.key),x.return=v,v=x):(S=nd(y.type,y.key,y.props,null,v.mode,S),S.ref=zo(v,x,y),S.return=v,v=S)}return a(v);case xa:e:{for(j=y.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(v,x.sibling),x=i(x,y.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Fh(y,v.mode,S),x.return=v,v=x}return a(v);case Ei:return j=y._init,w(v,x,j(y._payload),S)}if(nl(y))return g(v,x,y,S);if($o(y))return m(v,x,y,S);yu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,y),x.return=v,v=x):(n(v,x),x=Ih(y,v.mode,S),x.return=v,v=x),a(v)):n(v,x)}return w}var so=Rj(!0),Nj=Rj(!1),kd=is(null),Rd=null,ka=null,fv=null;function hv(){fv=ka=Rd=null}function pv(e){var t=kd.current;Ve(kd),e._currentValue=t}function dm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Da(e,t){Rd=e,fv=ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(fv!==e)if(e={context:e,memoizedValue:t,next:null},ka===null){if(Rd===null)throw Error(V(308));ka=e,Rd.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Es=null;function mv(e){Es===null?Es=[e]:Es.push(e)}function Tj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zr(e,r)}function Zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pi=!1;function gv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zr(e,n)}return i=r.interleaved,i===null?(t.next=t,mv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zr(e,n)}function Ju(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tv(e,n)}}function ib(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nd(e,t,n,r){var i=e.updateQueue;Pi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Xe({},f,h);break e;case 2:Pi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ls|=a,e.lanes=a,e.memoizedState=f}}function sb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Uc={},Cr=is(Uc),zl=is(Uc),Bl=is(Uc);function Ps(e){if(e===Uc)throw Error(V(174));return e}function vv(e,t){switch(Ue(Bl,t),Ue(zl,e),Ue(Cr,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vp(t,e)}Ve(Cr),Ue(Cr,t)}function ao(){Ve(Cr),Ve(zl),Ve(Bl)}function Aj(e){Ps(Bl.current);var t=Ps(Cr.current),n=Vp(t,e.type);t!==n&&(Ue(zl,e),Ue(Cr,n))}function yv(e){zl.current===e&&(Ve(Cr),Ve(zl))}var Ge=is(0);function Td(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kh=[];function xv(){for(var e=0;e<kh.length;e++)kh[e]._workInProgressVersionPrimary=null;kh.length=0}var Yu=li.ReactCurrentDispatcher,Rh=li.ReactCurrentBatchConfig,Ds=0,Ye=null,ht=null,yt=null,Od=!1,vl=!1,Hl=0,S2=0;function Ot(){throw Error(V(321))}function bv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function wv(e,t,n,r,i,s){if(Ds=s,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yu.current=e===null||e.memoizedState===null?P2:C2,e=n(r,i),vl){s=0;do{if(vl=!1,Hl=0,25<=s)throw Error(V(301));s+=1,yt=ht=null,t.updateQueue=null,Yu.current=k2,e=n(r,i)}while(vl)}if(Yu.current=Ad,t=ht!==null&&ht.next!==null,Ds=0,yt=ht=Ye=null,Od=!1,t)throw Error(V(300));return e}function Sv(){var e=Hl!==0;return Hl=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ye.memoizedState=yt=e:yt=yt.next=e,yt}function zn(){if(ht===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=yt===null?Ye.memoizedState:yt.next;if(t!==null)yt=t,ht=e;else{if(e===null)throw Error(V(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ye.memoizedState=yt=e:yt=yt.next=e}return yt}function Wl(e,t){return typeof t=="function"?t(e):t}function Nh(e){var t=zn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((Ds&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,Ye.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,ir(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ye.lanes|=s,Ls|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Th(e){var t=zn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ir(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ij(){}function Fj(e,t){var n=Ye,r=zn(),i=t(),s=!ir(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,jv(Lj.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Vl(9,Dj.bind(null,n,r,i,t),void 0,null),bt===null)throw Error(V(349));Ds&30||$j(n,t,i)}return i}function $j(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dj(e,t,n,r){t.value=n,t.getSnapshot=r,Mj(t)&&Uj(e)}function Lj(e,t,n){return n(function(){Mj(t)&&Uj(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch{return!0}}function Uj(e){var t=Zr(e,1);t!==null&&er(t,e,1,-1)}function ab(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=E2.bind(null,Ye,e),[t.memoizedState,e]}function Vl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zj(){return zn().memoizedState}function Xu(e,t,n,r){var i=gr();Ye.flags|=e,i.memoizedState=Vl(1|t,n,void 0,r===void 0?null:r)}function pf(e,t,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var a=ht.memoizedState;if(s=a.destroy,r!==null&&bv(r,a.deps)){i.memoizedState=Vl(t,n,s,r);return}}Ye.flags|=e,i.memoizedState=Vl(1|t,n,s,r)}function ob(e,t){return Xu(8390656,8,e,t)}function jv(e,t){return pf(2048,8,e,t)}function Bj(e,t){return pf(4,2,e,t)}function Hj(e,t){return pf(4,4,e,t)}function Wj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,n){return n=n!=null?n.concat([e]):null,pf(4,4,Wj.bind(null,t,e),n)}function _v(){}function qj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kj(e,t,n){return Ds&21?(ir(n,t)||(n=Z1(),Ye.lanes|=n,Ls|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function j2(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Rh.transition;Rh.transition={};try{e(!1),t()}finally{Te=n,Rh.transition=r}}function Gj(){return zn().memoizedState}function _2(e,t,n){var r=Vi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jj(e))Yj(t,n);else if(n=Tj(e,t,n,r),n!==null){var i=Gt();er(n,e,r,i),Xj(n,t,r)}}function E2(e,t,n){var r=Vi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jj(e))Yj(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ir(o,a)){var c=t.interleaved;c===null?(i.next=i,mv(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Tj(e,t,i,r),n!==null&&(i=Gt(),er(n,e,r,i),Xj(n,t,r))}}function Jj(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Yj(e,t){vl=Od=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tv(e,n)}}var Ad={readContext:Un,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},P2={readContext:Un,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:ob,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xu(4194308,4,Wj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xu(4,2,e,t)},useMemo:function(e,t){var n=gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_2.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:ab,useDebugValue:_v,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=ab(!1),t=e[0];return e=j2.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,i=gr();if(Qe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),bt===null)throw Error(V(349));Ds&30||$j(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ob(Lj.bind(null,r,s,e),[e]),r.flags|=2048,Vl(9,Dj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gr(),t=bt.identifierPrefix;if(Qe){var n=Kr,r=Qr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=S2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},C2={readContext:Un,useCallback:qj,useContext:Un,useEffect:jv,useImperativeHandle:Vj,useInsertionEffect:Bj,useLayoutEffect:Hj,useMemo:Qj,useReducer:Nh,useRef:zj,useState:function(){return Nh(Wl)},useDebugValue:_v,useDeferredValue:function(e){var t=zn();return Kj(t,ht.memoizedState,e)},useTransition:function(){var e=Nh(Wl)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Ij,useSyncExternalStore:Fj,useId:Gj,unstable_isNewReconciler:!1},k2={readContext:Un,useCallback:qj,useContext:Un,useEffect:jv,useImperativeHandle:Vj,useInsertionEffect:Bj,useLayoutEffect:Hj,useMemo:Qj,useReducer:Th,useRef:zj,useState:function(){return Th(Wl)},useDebugValue:_v,useDeferredValue:function(e){var t=zn();return ht===null?t.memoizedState=e:Kj(t,ht.memoizedState,e)},useTransition:function(){var e=Th(Wl)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Ij,useSyncExternalStore:Fj,useId:Gj,unstable_isNewReconciler:!1};function Qn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mf={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Vi(e),s=Gr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,i),t!==null&&(er(t,e,i,r),Ju(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Vi(e),s=Gr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,i),t!==null&&(er(t,e,i,r),Ju(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=Vi(e),i=Gr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hi(e,i,r),t!==null&&(er(t,e,r,n),Ju(t,e,r))}};function lb(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function Zj(e,t,n){var r=!1,i=Yi,s=t.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=ln(t)?Fs:Ut.current,r=t.contextTypes,s=(r=r!=null)?ro(e,i):Yi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function cb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mf.enqueueReplaceState(t,t.state,null)}function hm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=ln(t)?Fs:Ut.current,i.context=ro(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(fm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mf.enqueueReplaceState(i,i.state,null),Nd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do n+=nO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Oh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var R2=typeof WeakMap=="function"?WeakMap:Map;function e_(e,t,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fd||(Fd=!0,_m=r),pm(e,t)},n}function t_(e,t,n){n=Gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){pm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pm(e,t),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ub(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new R2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=H2.bind(null,e,t,n),t.then(e,e))}function db(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gr(-1,1),t.tag=2,Hi(n,t,1))),n.lanes|=1),e)}var N2=li.ReactCurrentOwner,sn=!1;function Qt(e,t,n,r){t.child=e===null?Nj(t,null,n,r):so(t,e.child,n,r)}function hb(e,t,n,r,i){n=n.render;var s=t.ref;return Da(t,i),r=wv(e,t,n,r,s,i),n=Sv(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(Qe&&n&&cv(t),t.flags|=1,Qt(e,t,r,i),t.child)}function pb(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,n_(e,t,s,r,i)):(e=nd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(a,r)&&e.ref===t.ref)return ei(e,t,i)}return t.flags|=1,e=qi(s,r),e.ref=t.ref,e.return=t,t.child=e}function n_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Dl(s,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,ei(e,t,i)}return mm(e,t,n,r,i)}function r_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Na,yn),yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Na,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(Na,yn),yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ue(Na,yn),yn|=r;return Qt(e,t,i,n),t.child}function i_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mm(e,t,n,r,i){var s=ln(n)?Fs:Ut.current;return s=ro(t,s),Da(t,i),n=wv(e,t,n,r,s,i),r=Sv(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(Qe&&r&&cv(t),t.flags|=1,Qt(e,t,n,i),t.child)}function mb(e,t,n,r,i){if(ln(n)){var s=!0;Ed(t)}else s=!1;if(Da(t,i),t.stateNode===null)Zu(e,t),Zj(t,n,r),hm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=ln(n)?Fs:Ut.current,u=ro(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&cb(t,a,r,u),Pi=!1;var h=t.memoizedState;a.state=h,Nd(t,r,a,i),c=t.memoizedState,o!==r||h!==c||on.current||Pi?(typeof d=="function"&&(fm(t,n,d,r),c=t.memoizedState),(o=Pi||lb(t,n,o,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oj(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Qn(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=ln(n)?Fs:Ut.current,c=ro(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&cb(t,a,r,c),Pi=!1,h=t.memoizedState,a.state=h,Nd(t,r,a,i);var g=t.memoizedState;o!==f||h!==g||on.current||Pi?(typeof p=="function"&&(fm(t,n,p,r),g=t.memoizedState),(u=Pi||lb(t,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return gm(e,t,n,r,s,i)}function gm(e,t,n,r,i,s){i_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&eb(t,n,!1),ei(e,t,s);r=t.stateNode,N2.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=so(t,e.child,null,s),t.child=so(t,null,o,s)):Qt(e,t,o,s),t.memoizedState=r.state,i&&eb(t,n,!0),t.child}function s_(e){var t=e.stateNode;t.pendingContext?Zx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zx(e,t.context,!1),vv(e,t.containerInfo)}function gb(e,t,n,r,i){return io(),dv(i),t.flags|=256,Qt(e,t,n,r),t.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function ym(e){return{baseLanes:e,cachePool:null,transitions:null}}function a_(e,t,n){var r=t.pendingProps,i=Ge.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Ge,i&1),e===null)return um(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=yf(a,r,0,null),e=As(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ym(n),t.memoizedState=vm,e):Ev(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return T2(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=qi(o,s):(s=As(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ym(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=vm,r}return s=e.child,e=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ev(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,n,r){return r!==null&&dv(r),so(t,e.child,null,n),e=Ev(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function T2(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Oh(Error(V(422))),xu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=yf({mode:"visible",children:r.children},i,0,null),s=As(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&so(t,e.child,null,a),t.child.memoizedState=ym(a),t.memoizedState=vm,s);if(!(t.mode&1))return xu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(V(419)),r=Oh(s,r,void 0),xu(e,t,a,r)}if(o=(a&e.childLanes)!==0,sn||o){if(r=bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zr(e,i),er(r,e,i,-1))}return Tv(),r=Oh(Error(V(421))),xu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=W2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bn=Bi(i.nextSibling),jn=t,Qe=!0,Xn=null,e!==null&&(On[An++]=Qr,On[An++]=Kr,On[An++]=$s,Qr=e.id,Kr=e.overflow,$s=t),t=Ev(t,r.children),t.flags|=4096,t)}function vb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dm(e.return,t,n)}function Ah(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function o_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vb(e,n,t);else if(e.tag===19)vb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Td(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ah(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Td(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ah(t,!0,n,null,s);break;case"together":Ah(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ei(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O2(e,t,n){switch(t.tag){case 3:s_(t),io();break;case 5:Aj(t);break;case 1:ln(t.type)&&Ed(t);break;case 4:vv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?a_(e,t,n):(Ue(Ge,Ge.current&1),e=ei(e,t,n),e!==null?e.sibling:null);Ue(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return o_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,r_(e,t,n)}return ei(e,t,n)}var l_,xm,c_,u_;l_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};c_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ps(Cr.current);var s=null;switch(n){case"input":i=zp(e,i),r=zp(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Wp(e,i),r=Wp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jd)}qp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};u_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bo(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A2(e,t,n){var r=t.pendingProps;switch(uv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return ln(t.type)&&_d(),At(t),null;case 3:return r=t.stateNode,ao(),Ve(on),Ve(Ut),xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xn!==null&&(Cm(Xn),Xn=null))),xm(e,t),At(t),null;case 5:yv(t);var i=Ps(Bl.current);if(n=t.type,e!==null&&t.stateNode!=null)c_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return At(t),null}if(e=Ps(Cr.current),vu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[jr]=t,r[Ul]=s,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)We(il[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Px(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":kx(r,s),We("invalid",r)}qp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&gu(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&gu(r.textContent,o,e),i=["children",""+o]):Nl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&We("scroll",r)}switch(n){case"input":lu(r),Cx(r,s,!0);break;case"textarea":lu(r),Rx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[jr]=t,e[Ul]=r,l_(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qp(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)We(il[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":Px(e,r),i=zp(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),We("invalid",e);break;case"textarea":kx(e,r),i=Wp(e,r),We("invalid",e);break;default:i=r}qp(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?z1(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M1(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tl(e,c):typeof c=="number"&&Tl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&We("scroll",e):c!=null&&Gg(e,s,c,a))}switch(n){case"input":lu(e),Cx(e,r,!1);break;case"textarea":lu(e),Rx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ji(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Aa(e,!!r.multiple,s,!1):r.defaultValue!=null&&Aa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)u_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Ps(Bl.current),Ps(Cr.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[jr]=t,(s=r.nodeValue!==n)&&(e=jn,e!==null))switch(e.tag){case 3:gu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=t,t.stateNode=r}return At(t),null;case 13:if(Ve(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&bn!==null&&t.mode&1&&!(t.flags&128))kj(),io(),t.flags|=98560,s=!1;else if(s=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[jr]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),s=!1}else Xn!==null&&(Cm(Xn),Xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?pt===0&&(pt=3):Tv())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return ao(),xm(e,t),e===null&&Ll(t.stateNode.containerInfo),At(t),null;case 10:return pv(t.type._context),At(t),null;case 17:return ln(t.type)&&_d(),At(t),null;case 19:if(Ve(Ge),s=t.memoizedState,s===null)return At(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Bo(s,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Td(e),a!==null){for(t.flags|=128,Bo(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>lo&&(t.flags|=128,r=!0,Bo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Td(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qe)return At(t),null}else 2*at()-s.renderingStartTime>lo&&n!==1073741824&&(t.flags|=128,r=!0,Bo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=Ge.current,Ue(Ge,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return Nv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function I2(e,t){switch(uv(t),t.tag){case 1:return ln(t.type)&&_d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ao(),Ve(on),Ve(Ut),xv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yv(t),null;case 13:if(Ve(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ge),null;case 4:return ao(),null;case 10:return pv(t.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var bu=!1,Lt=!1,F2=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ra(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function bm(e,t,n){try{n()}catch(r){nt(e,t,r)}}var yb=!1;function $2(e,t){if(rm=bd,e=mj(),lv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:e,selectionRange:n},bd=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Qn(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(S){nt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=yb,yb=!1,g}function yl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&bm(t,n,s)}i=i.next}while(i!==r)}}function gf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function d_(e){var t=e.alternate;t!==null&&(e.alternate=null,d_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[Ul],delete t[om],delete t[y2],delete t[x2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f_(e){return e.tag===5||e.tag===3||e.tag===4}function xb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jd));else if(r!==4&&(e=e.child,e!==null))for(Sm(e,t,n),e=e.sibling;e!==null;)Sm(e,t,n),e=e.sibling}function jm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jm(e,t,n),e=e.sibling;e!==null;)jm(e,t,n),e=e.sibling}var Et=null,Jn=!1;function mi(e,t,n){for(n=n.child;n!==null;)h_(e,t,n),n=n.sibling}function h_(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(lf,n)}catch{}switch(n.tag){case 5:Lt||Ra(n,t);case 6:var r=Et,i=Jn;Et=null,mi(e,t,n),Et=r,Jn=i,Et!==null&&(Jn?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Jn?(e=Et,n=n.stateNode,e.nodeType===8?Ph(e.parentNode,n):e.nodeType===1&&Ph(e,n),Fl(e)):Ph(Et,n.stateNode));break;case 4:r=Et,i=Jn,Et=n.stateNode.containerInfo,Jn=!0,mi(e,t,n),Et=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bm(n,t,a),i=i.next}while(i!==r)}mi(e,t,n);break;case 1:if(!Lt&&(Ra(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){nt(n,t,o)}mi(e,t,n);break;case 21:mi(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,mi(e,t,n),Lt=r):mi(e,t,n);break;default:mi(e,t,n)}}function bb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new F2),t.forEach(function(r){var i=V2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Et=o.stateNode,Jn=!1;break e;case 3:Et=o.stateNode.containerInfo,Jn=!0;break e;case 4:Et=o.stateNode.containerInfo,Jn=!0;break e}o=o.return}if(Et===null)throw Error(V(160));h_(s,a,i),Et=null,Jn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)p_(t,e),t=t.sibling}function p_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),fr(e),r&4){try{yl(3,e,e.return),gf(3,e)}catch(m){nt(e,e.return,m)}try{yl(5,e,e.return)}catch(m){nt(e,e.return,m)}}break;case 1:Hn(t,e),fr(e),r&512&&n!==null&&Ra(n,n.return);break;case 5:if(Hn(t,e),fr(e),r&512&&n!==null&&Ra(n,n.return),e.flags&32){var i=e.stateNode;try{Tl(i,"")}catch(m){nt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&$1(i,s),Qp(o,a);var u=Qp(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?z1(i,f):d==="dangerouslySetInnerHTML"?M1(i,f):d==="children"?Tl(i,f):Gg(i,d,f,u)}switch(o){case"input":Bp(i,s);break;case"textarea":D1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Aa(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Aa(i,!!s.multiple,s.defaultValue,!0):Aa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ul]=s}catch(m){nt(e,e.return,m)}}break;case 6:if(Hn(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){nt(e,e.return,m)}}break;case 3:if(Hn(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(m){nt(e,e.return,m)}break;case 4:Hn(t,e),fr(e);break;case 13:Hn(t,e),fr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kv=at())),r&4&&bb(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(u=Lt)||d,Hn(t,e),Lt=u):Hn(t,e),fr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:yl(4,h,h.return);break;case 1:Ra(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){nt(r,n,m)}}break;case 5:Ra(h,h.return);break;case 22:if(h.memoizedState!==null){Sb(f);continue}}p!==null?(p.return=h,Z=p):Sb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=U1("display",a))}catch(m){nt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){nt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(t,e),fr(e),r&4&&bb(e);break;case 21:break;default:Hn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(f_(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var s=xb(e);jm(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=xb(e);Sm(e,o,a);break;default:throw Error(V(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D2(e,t,n){Z=e,m_(e)}function m_(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||bu;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Lt;o=bu;var u=Lt;if(bu=a,(Lt=c)&&!u)for(Z=i;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?jb(i):c!==null?(c.return=a,Z=c):jb(i);for(;s!==null;)Z=s,m_(s),s=s.sibling;Z=i,bu=o,Lt=u}wb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):wb(e)}}function wb(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||gf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sb(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sb(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Lt||t.flags&512&&wm(t)}catch(h){nt(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Sb(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function jb(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gf(4,t)}catch(c){nt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){nt(t,i,c)}}var s=t.return;try{wm(t)}catch(c){nt(t,s,c)}break;case 5:var a=t.return;try{wm(t)}catch(c){nt(t,a,c)}}}catch(c){nt(t,t.return,c)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var L2=Math.ceil,Id=li.ReactCurrentDispatcher,Pv=li.ReactCurrentOwner,Dn=li.ReactCurrentBatchConfig,je=0,bt=null,dt=null,Pt=0,yn=0,Na=is(0),pt=0,ql=null,Ls=0,vf=0,Cv=0,xl=null,nn=null,kv=0,lo=1/0,zr=null,Fd=!1,_m=null,Wi=null,wu=!1,Di=null,$d=0,bl=0,Em=null,ed=-1,td=0;function Gt(){return je&6?at():ed!==-1?ed:ed=at()}function Vi(e){return e.mode&1?je&2&&Pt!==0?Pt&-Pt:w2.transition!==null?(td===0&&(td=Z1()),td):(e=Te,e!==0||(e=window.event,e=e===void 0?16:aj(e.type)),e):1}function er(e,t,n,r){if(50<bl)throw bl=0,Em=null,Error(V(185));Dc(e,n,r),(!(je&2)||e!==bt)&&(e===bt&&(!(je&2)&&(vf|=n),pt===4&&ki(e,Pt)),cn(e,r),n===1&&je===0&&!(t.mode&1)&&(lo=at()+500,hf&&ss()))}function cn(e,t){var n=e.callbackNode;wO(e,t);var r=xd(e,e===bt?Pt:0);if(r===0)n!==null&&Ox(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ox(n),t===1)e.tag===0?b2(_b.bind(null,e)):Ej(_b.bind(null,e)),g2(function(){!(je&6)&&ss()}),n=null;else{switch(ej(r)){case 1:n=ev;break;case 4:n=Y1;break;case 16:n=yd;break;case 536870912:n=X1;break;default:n=yd}n=j_(n,g_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function g_(e,t){if(ed=-1,td=0,je&6)throw Error(V(327));var n=e.callbackNode;if(La()&&e.callbackNode!==n)return null;var r=xd(e,e===bt?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dd(e,r);else{t=r;var i=je;je|=2;var s=y_();(bt!==e||Pt!==t)&&(zr=null,lo=at()+500,Os(e,t));do try{z2();break}catch(o){v_(e,o)}while(!0);hv(),Id.current=s,je=i,dt!==null?t=0:(bt=null,Pt=0,t=pt)}if(t!==0){if(t===2&&(i=Xp(e),i!==0&&(r=i,t=Pm(e,i))),t===1)throw n=ql,Os(e,0),ki(e,r),cn(e,at()),n;if(t===6)ki(e,r);else{if(i=e.current.alternate,!(r&30)&&!M2(i)&&(t=Dd(e,r),t===2&&(s=Xp(e),s!==0&&(r=s,t=Pm(e,s))),t===1))throw n=ql,Os(e,0),ki(e,r),cn(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:ys(e,nn,zr);break;case 3:if(ki(e,r),(r&130023424)===r&&(t=kv+500-at(),10<t)){if(xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=am(ys.bind(null,e,nn,zr),t);break}ys(e,nn,zr);break;case 4:if(ki(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Zn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L2(r/1960))-r,10<r){e.timeoutHandle=am(ys.bind(null,e,nn,zr),r);break}ys(e,nn,zr);break;case 5:ys(e,nn,zr);break;default:throw Error(V(329))}}}return cn(e,at()),e.callbackNode===n?g_.bind(null,e):null}function Pm(e,t){var n=xl;return e.current.memoizedState.isDehydrated&&(Os(e,t).flags|=256),e=Dd(e,t),e!==2&&(t=nn,nn=n,t!==null&&Cm(t)),e}function Cm(e){nn===null?nn=e:nn.push.apply(nn,e)}function M2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ir(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t){for(t&=~Cv,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function _b(e){if(je&6)throw Error(V(327));La();var t=xd(e,0);if(!(t&1))return cn(e,at()),null;var n=Dd(e,t);if(e.tag!==0&&n===2){var r=Xp(e);r!==0&&(t=r,n=Pm(e,r))}if(n===1)throw n=ql,Os(e,0),ki(e,t),cn(e,at()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ys(e,nn,zr),cn(e,at()),null}function Rv(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(lo=at()+500,hf&&ss())}}function Ms(e){Di!==null&&Di.tag===0&&!(je&6)&&La();var t=je;je|=1;var n=Dn.transition,r=Te;try{if(Dn.transition=null,Te=1,e)return e()}finally{Te=r,Dn.transition=n,je=t,!(je&6)&&ss()}}function Nv(){yn=Na.current,Ve(Na)}function Os(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,m2(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:ao(),Ve(on),Ve(Ut),xv();break;case 5:yv(r);break;case 4:ao();break;case 13:Ve(Ge);break;case 19:Ve(Ge);break;case 10:pv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(bt=e,dt=e=qi(e.current,null),Pt=yn=t,pt=0,ql=null,Cv=vf=Ls=0,nn=xl=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Es=null}return e}function v_(e,t){do{var n=dt;try{if(hv(),Yu.current=Ad,Od){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(Ds=0,yt=ht=Ye=null,vl=!1,Hl=0,Pv.current=null,n===null||n.return===null){pt=1,ql=t,dt=null;break}e:{var s=e,a=n.return,o=n,c=t;if(t=Pt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=db(a);if(p!==null){p.flags&=-257,fb(p,a,o,s,t),p.mode&1&&ub(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){ub(s,u,t),Tv();break e}c=Error(V(426))}}else if(Qe&&o.mode&1){var w=db(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fb(w,a,o,s,t),dv(oo(c,o));break e}}s=c=oo(c,o),pt!==4&&(pt=2),xl===null?xl=[s]:xl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=e_(s,c,t);ib(s,v);break e;case 1:o=c;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wi===null||!Wi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=t_(s,o,t);ib(s,S);break e}}s=s.return}while(s!==null)}b_(n)}catch(_){t=_,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function y_(){var e=Id.current;return Id.current=Ad,e===null?Ad:e}function Tv(){(pt===0||pt===3||pt===2)&&(pt=4),bt===null||!(Ls&268435455)&&!(vf&268435455)||ki(bt,Pt)}function Dd(e,t){var n=je;je|=2;var r=y_();(bt!==e||Pt!==t)&&(zr=null,Os(e,t));do try{U2();break}catch(i){v_(e,i)}while(!0);if(hv(),je=n,Id.current=r,dt!==null)throw Error(V(261));return bt=null,Pt=0,pt}function U2(){for(;dt!==null;)x_(dt)}function z2(){for(;dt!==null&&!fO();)x_(dt)}function x_(e){var t=S_(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?b_(e):dt=t,Pv.current=null}function b_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I2(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,dt=null;return}}else if(n=A2(n,t,yn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);pt===0&&(pt=5)}function ys(e,t,n){var r=Te,i=Dn.transition;try{Dn.transition=null,Te=1,B2(e,t,n,r)}finally{Dn.transition=i,Te=r}return null}function B2(e,t,n,r){do La();while(Di!==null);if(je&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(SO(e,s),e===bt&&(dt=bt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wu||(wu=!0,j_(yd,function(){return La(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var a=Te;Te=1;var o=je;je|=4,Pv.current=null,$2(e,n),p_(n,e),l2(im),bd=!!rm,im=rm=null,e.current=n,D2(n),hO(),je=o,Te=a,Dn.transition=s}else e.current=n;if(wu&&(wu=!1,Di=e,$d=i),s=e.pendingLanes,s===0&&(Wi=null),gO(n.stateNode),cn(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fd)throw Fd=!1,e=_m,_m=null,e;return $d&1&&e.tag!==0&&La(),s=e.pendingLanes,s&1?e===Em?bl++:(bl=0,Em=e):bl=0,ss(),null}function La(){if(Di!==null){var e=ej($d),t=Dn.transition,n=Te;try{if(Dn.transition=null,Te=16>e?16:e,Di===null)var r=!1;else{if(e=Di,Di=null,$d=0,je&6)throw Error(V(331));var i=je;for(je|=4,Z=e.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:yl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(d_(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Z=v;break e}Z=s.return}}var x=e.current;for(Z=x;Z!==null;){a=Z;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Z=y;else e:for(a=x;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gf(9,o)}}catch(_){nt(o,o.return,_)}if(o===a){Z=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Z=S;break e}Z=o.return}}if(je=i,ss(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(lf,e)}catch{}r=!0}return r}finally{Te=n,Dn.transition=t}}return!1}function Eb(e,t,n){t=oo(n,t),t=e_(e,t,1),e=Hi(e,t,1),t=Gt(),e!==null&&(Dc(e,1,t),cn(e,t))}function nt(e,t,n){if(e.tag===3)Eb(e,e,n);else for(;t!==null;){if(t.tag===3){Eb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){e=oo(n,e),e=t_(t,e,1),t=Hi(t,e,1),e=Gt(),t!==null&&(Dc(t,1,e),cn(t,e));break}}t=t.return}}function H2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(Pt&n)===n&&(pt===4||pt===3&&(Pt&130023424)===Pt&&500>at()-kv?Os(e,0):Cv|=n),cn(e,t)}function w_(e,t){t===0&&(e.mode&1?(t=du,du<<=1,!(du&130023424)&&(du=4194304)):t=1);var n=Gt();e=Zr(e,t),e!==null&&(Dc(e,t,n),cn(e,n))}function W2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),w_(e,n)}function V2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),w_(e,n)}var S_;S_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,O2(e,t,n);sn=!!(e.flags&131072)}else sn=!1,Qe&&t.flags&1048576&&Pj(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zu(e,t),e=t.pendingProps;var i=ro(t,Ut.current);Da(t,n),i=wv(null,t,r,e,i,n);var s=Sv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(s=!0,Ed(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gv(t),i.updater=mf,t.stateNode=i,i._reactInternals=t,hm(t,r,e,n),t=gm(null,t,r,!0,s,n)):(t.tag=0,Qe&&s&&cv(t),Qt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Q2(r),e=Qn(r,e),i){case 0:t=mm(null,t,r,e,n);break e;case 1:t=mb(null,t,r,e,n);break e;case 11:t=hb(null,t,r,e,n);break e;case 14:t=pb(null,t,r,Qn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qn(r,i),mm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qn(r,i),mb(e,t,r,i,n);case 3:e:{if(s_(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Oj(e,t),Nd(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=oo(Error(V(423)),t),t=gb(e,t,r,n,i);break e}else if(r!==i){i=oo(Error(V(424)),t),t=gb(e,t,r,n,i);break e}else for(bn=Bi(t.stateNode.containerInfo.firstChild),jn=t,Qe=!0,Xn=null,n=Nj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===i){t=ei(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return Aj(t),e===null&&um(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,sm(r,i)?a=null:s!==null&&sm(r,s)&&(t.flags|=32),i_(e,t),Qt(e,t,a,n),t.child;case 6:return e===null&&um(t),null;case 13:return a_(e,t,n);case 4:return vv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=so(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qn(r,i),hb(e,t,r,i,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ue(kd,r._currentValue),r._currentValue=a,s!==null)if(ir(s.value,a)){if(s.children===i.children&&!on.current){t=ei(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Gr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),dm(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),dm(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Da(t,n),i=Un(i),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,i=Qn(r,t.pendingProps),i=Qn(r.type,i),pb(e,t,r,i,n);case 15:return n_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qn(r,i),Zu(e,t),t.tag=1,ln(r)?(e=!0,Ed(t)):e=!1,Da(t,n),Zj(t,r,i),hm(t,r,i,n),gm(null,t,r,!0,e,n);case 19:return o_(e,t,n);case 22:return r_(e,t,n)}throw Error(V(156,t.tag))};function j_(e,t){return J1(e,t)}function q2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,n,r){return new q2(e,t,n,r)}function Ov(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q2(e){if(typeof e=="function")return Ov(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yg)return 11;if(e===Xg)return 14}return 2}function qi(e,t){var n=e.alternate;return n===null?(n=$n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nd(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Ov(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ba:return As(n.children,i,s,t);case Jg:a=8,i|=8;break;case Dp:return e=$n(12,n,t,i|2),e.elementType=Dp,e.lanes=s,e;case Lp:return e=$n(13,n,t,i),e.elementType=Lp,e.lanes=s,e;case Mp:return e=$n(19,n,t,i),e.elementType=Mp,e.lanes=s,e;case A1:return yf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T1:a=10;break e;case O1:a=9;break e;case Yg:a=11;break e;case Xg:a=14;break e;case Ei:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=$n(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function As(e,t,n,r){return e=$n(7,e,r,t),e.lanes=n,e}function yf(e,t,n,r){return e=$n(22,e,r,t),e.elementType=A1,e.lanes=n,e.stateNode={isHidden:!1},e}function Ih(e,t,n){return e=$n(6,e,null,t),e.lanes=n,e}function Fh(e,t,n){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mh(0),this.expirationTimes=mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Av(e,t,n,r,i,s,a,o,c){return e=new K2(e,t,n,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$n(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(s),e}function G2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function __(e){if(!e)return Yi;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(ln(n))return _j(e,n,t)}return t}function E_(e,t,n,r,i,s,a,o,c){return e=Av(n,r,!0,e,i,s,a,o,c),e.context=__(null),n=e.current,r=Gt(),i=Vi(n),s=Gr(r,i),s.callback=t??null,Hi(n,s,i),e.current.lanes=i,Dc(e,i,r),cn(e,r),e}function xf(e,t,n,r){var i=t.current,s=Gt(),a=Vi(i);return n=__(n),t.context===null?t.context=n:t.pendingContext=n,t=Gr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hi(i,t,a),e!==null&&(er(e,i,a,s),Ju(e,i,a)),a}function Ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Iv(e,t){Pb(e,t),(e=e.alternate)&&Pb(e,t)}function J2(){return null}var P_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fv(e){this._internalRoot=e}bf.prototype.render=Fv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));xf(e,t,null,null)};bf.prototype.unmount=Fv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ms(function(){xf(null,e,null,null)}),t[Xr]=null}};function bf(e){this._internalRoot=e}bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=rj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ci.length&&t!==0&&t<Ci[n].priority;n++);Ci.splice(n,0,e),n===0&&sj(e)}};function $v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cb(){}function Y2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ld(a);s.call(u)}}var a=E_(t,r,e,0,null,!1,!1,"",Cb);return e._reactRootContainer=a,e[Xr]=a.current,Ll(e.nodeType===8?e.parentNode:e),Ms(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Ld(c);o.call(u)}}var c=Av(e,0,!1,null,null,!1,!1,"",Cb);return e._reactRootContainer=c,e[Xr]=c.current,Ll(e.nodeType===8?e.parentNode:e),Ms(function(){xf(t,c,n,r)}),c}function Sf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Ld(a);o.call(c)}}xf(t,a,e,i)}else a=Y2(n,t,e,i,r);return Ld(a)}tj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(tv(t,n|1),cn(t,at()),!(je&6)&&(lo=at()+500,ss()))}break;case 13:Ms(function(){var r=Zr(e,1);if(r!==null){var i=Gt();er(r,e,1,i)}}),Iv(e,1)}};nv=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var n=Gt();er(t,e,134217728,n)}Iv(e,134217728)}};nj=function(e){if(e.tag===13){var t=Vi(e),n=Zr(e,t);if(n!==null){var r=Gt();er(n,e,t,r)}Iv(e,t)}};rj=function(){return Te};ij=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};Gp=function(e,t,n){switch(t){case"input":if(Bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ff(r);if(!i)throw Error(V(90));F1(r),Bp(r,i)}}}break;case"textarea":D1(e,n);break;case"select":t=n.value,t!=null&&Aa(e,!!n.multiple,t,!1)}};W1=Rv;V1=Ms;var X2={usingClientEntryPoint:!1,Events:[Mc,_a,ff,B1,H1,Rv]},Ho={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z2={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=K1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||J2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{lf=Su.inject(Z2),Pr=Su}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$v(t))throw Error(V(200));return G2(e,t,null,n)};Cn.createRoot=function(e,t){if(!$v(e))throw Error(V(299));var n=!1,r="",i=P_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Av(e,1,!1,null,null,n,!1,r,i),e[Xr]=t.current,Ll(e.nodeType===8?e.parentNode:e),new Fv(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=K1(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Ms(e)};Cn.hydrate=function(e,t,n){if(!wf(t))throw Error(V(200));return Sf(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!$v(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=P_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=E_(t,null,e,1,n??null,i,!1,s,a),e[Xr]=t.current,Ll(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bf(t)};Cn.render=function(e,t,n){if(!wf(t))throw Error(V(200));return Sf(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!wf(e))throw Error(V(40));return e._reactRootContainer?(Ms(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Rv;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wf(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Sf(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function C_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C_)}catch(e){console.error(e)}}C_(),C1.exports=Cn;var Gs=C1.exports;const k_=qs(Gs);var R_,kb=Gs;R_=kb.createRoot,kb.hydrateRoot;const eA=1,tA=1e6;let $h=0;function nA(){return $h=($h+1)%Number.MAX_SAFE_INTEGER,$h.toString()}const Dh=new Map,Rb=e=>{if(Dh.has(e))return;const t=setTimeout(()=>{Dh.delete(e),wl({type:"REMOVE_TOAST",toastId:e})},tA);Dh.set(e,t)},rA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Rb(n):e.toasts.forEach(r=>{Rb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rd=[];let id={toasts:[]};function wl(e){id=rA(id,e),rd.forEach(t=>{t(id)})}function iA({...e}){const t=nA(),n=i=>wl({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>wl({type:"DISMISS_TOAST",toastId:t});return wl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Rt(){const[e,t]=b.useState(id);return b.useEffect(()=>(rd.push(t),()=>{const n=rd.indexOf(t);n>-1&&rd.splice(n,1)}),[e]),{...e,toast:iA,dismiss:n=>wl({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function N_(...e){return t=>e.forEach(n=>sA(n,t))}function ke(...e){return b.useCallback(N_(...e),e)}function aA(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,oA(i,...t)]}function oA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Us=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),s=i.find(lA);if(s){const a=s.props.children,o=i.map(c=>c===s?b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null:c);return l.jsx(km,{...r,ref:t,children:b.isValidElement(a)?b.cloneElement(a,void 0,o):null})}return l.jsx(km,{...r,ref:t,children:n})});Us.displayName="Slot";var km=b.forwardRef((e,t)=>{const{children:n,...r}=e;if(b.isValidElement(n)){const i=uA(n);return b.cloneElement(n,{...cA(r,n.props),ref:t?N_(t,i):i})}return b.Children.count(n)>1?b.Children.only(null):null});km.displayName="SlotClone";var Dv=({children:e})=>l.jsx(l.Fragment,{children:e});function lA(e){return b.isValidElement(e)&&e.type===Dv}function cA(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function uA(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lv(e){const t=e+"CollectionProvider",[n,r]=aA(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,w=H.useRef(null),v=H.useRef(new Map).current;return l.jsx(i,{scope:g,itemMap:v,collectionRef:w,children:m})};a.displayName=t;const o=e+"CollectionSlot",c=H.forwardRef((p,g)=>{const{scope:m,children:w}=p,v=s(o,m),x=ke(g,v.collectionRef);return l.jsx(Us,{ref:x,children:w})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=H.forwardRef((p,g)=>{const{scope:m,children:w,...v}=p,x=H.useRef(null),y=ke(g,x),S=s(u,m);return H.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),l.jsx(Us,{[d]:"",ref:y,children:w})});f.displayName=u;function h(p){const g=s(e+"CollectionConsumer",p);return H.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function dA(e,t){const n=b.createContext(t),r=s=>{const{children:a,...o}=s,c=b.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ci(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,fA(i,...t)]}function fA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var hA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=hA.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?Us:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function T_(e,t){e&&Gs.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function pA(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var mA="DismissableLayer",Rm="dismissableLayer.update",gA="dismissableLayer.pointerDownOutside",vA="dismissableLayer.focusOutside",Nb,O_=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=b.useContext(O_),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=ke(t,C=>f(C)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),x=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,_=xA(C=>{const k=C.target,A=[...u.branches].some(F=>F.contains(k));!S||A||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},h),j=bA(C=>{const k=C.target;[...u.branches].some(F=>F.contains(k))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},h);return pA(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Tb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Nb)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Tb())},[d,u]),b.useEffect(()=>{const C=()=>p({});return document.addEventListener(Rm,C),()=>document.removeEventListener(Rm,C)},[]),l.jsx(le.div,{...c,ref:g,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,j.onFocusCapture),onBlurCapture:re(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,_.onPointerDownCapture)})});zc.displayName=mA;var yA="DismissableLayerBranch",A_=b.forwardRef((e,t)=>{const n=b.useContext(O_),r=b.useRef(null),i=ke(t,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(le.div,{...e,ref:i})});A_.displayName=yA;function xA(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){I_(gA,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function bA(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&I_(vA,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tb(){const e=new CustomEvent(Rm);document.dispatchEvent(e)}function I_(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?T_(i,s):i.dispatchEvent(s)}var wA=zc,SA=A_,kt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},jA="Portal",jf=b.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=b.useState(!1);kt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?k_.createPortal(l.jsx(le.div,{...r,ref:t}),a):null});jf.displayName=jA;function _A(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var ui=e=>{const{present:t,children:n}=e,r=EA(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=ke(r.ref,PA(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};ui.displayName="Presence";function EA(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[o,c]=_A(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=ju(r.current);s.current=o==="mounted"?u:"none"},[o]),kt(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=ju(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=ju(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(s.current=ju(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ju(e){return(e==null?void 0:e.animationName)||"none"}function PA(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ti({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=CA({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=dn(n),c=b.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else i(u)},[s,e,i,o]);return[a,c]}function CA({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,i=b.useRef(r),s=dn(t);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var kA="VisuallyHidden",Bc=b.forwardRef((e,t)=>l.jsx(le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Bc.displayName=kA;var RA=Bc,Mv="ToastProvider",[Uv,NA,TA]=Lv("Toast"),[F_,bJ]=ci("Toast",[TA]),[OA,_f]=F_(Mv),$_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mv}\`. Expected non-empty \`string\`.`),l.jsx(Uv.Provider,{scope:t,children:l.jsx(OA,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};$_.displayName=Mv;var D_="ToastViewport",AA=["F8"],Nm="toast.viewportPause",Tm="toast.viewportResume",L_=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=AA,label:i="Notifications ({hotkey})",...s}=e,a=_f(D_,n),o=NA(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=ke(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;b.useEffect(()=>{const w=v=>{var y;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),b.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Nm);v.dispatchEvent(j),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Tm);v.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!w.contains(j.relatedTarget)&&y()},_=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[g,a.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:w})=>{const x=o().map(y=>{const S=y.ref.current,_=[S,...qA(S)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[o]);return b.useEffect(()=>{const w=f.current;if(w){const v=x=>{var _,j,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const k=document.activeElement,A=x.shiftKey;if(x.target===w&&A){(_=u.current)==null||_.focus();return}const T=m({tabbingDirection:A?"backwards":"forwards"}),M=T.findIndex(R=>R===k);Lh(T.slice(M+1))?x.preventDefault():A?(j=u.current)==null||j.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[o,m]),l.jsxs(SA,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(Om,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Lh(w)}}),l.jsx(Uv.Slot,{scope:n,children:l.jsx(le.ol,{tabIndex:-1,...s,ref:h})}),g&&l.jsx(Om,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Lh(w)}})]})});L_.displayName=D_;var M_="ToastFocusProxy",Om=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=_f(M_,n);return l.jsx(Bc,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});Om.displayName=M_;var Ef="Toast",IA="toast.swipeStart",FA="toast.swipeMove",$A="toast.swipeCancel",DA="toast.swipeEnd",U_=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,c]=ti({prop:r,defaultProp:i,onChange:s});return l.jsx(ui,{present:n||o,children:l.jsx(UA,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});U_.displayName=Ef;var[LA,MA]=F_(Ef,{onClose(){}}),UA=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=_f(Ef,n),[w,v]=b.useState(null),x=ke(t,R=>v(R)),y=b.useRef(null),S=b.useRef(null),_=i||m.duration,j=b.useRef(0),C=b.useRef(_),k=b.useRef(0),{onToastAdd:A,onToastRemove:F}=m,I=dn(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),a()}),T=b.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),j.current=new Date().getTime(),k.current=window.setTimeout(I,R))},[I]);b.useEffect(()=>{const R=m.viewport;if(R){const D=()=>{T(C.current),u==null||u()},O=()=>{const U=new Date().getTime()-j.current;C.current=C.current-U,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(Nm,O),R.addEventListener(Tm,D),()=>{R.removeEventListener(Nm,O),R.removeEventListener(Tm,D)}}},[m.viewport,_,c,u,T]),b.useEffect(()=>{s&&!m.isClosePausedRef.current&&T(_)},[s,_,m.isClosePausedRef,T]),b.useEffect(()=>(A(),()=>F()),[A,F]);const M=b.useMemo(()=>w?Q_(w):null,[w]);return m.viewport?l.jsxs(l.Fragment,{children:[M&&l.jsx(zA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),l.jsx(LA,{scope:n,onClose:I,children:Gs.createPortal(l.jsx(Uv.ItemSlot,{scope:n,children:l.jsx(wA,{asChild:!0,onEscapeKeyDown:re(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:re(e.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:re(e.onPointerMove,R=>{if(!y.current)return;const D=R.clientX-y.current.x,O=R.clientY-y.current.y,U=!!S.current,P=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,E=P?$(0,D):0,L=P?0:$(0,O),z=R.pointerType==="touch"?10:2,N={x:E,y:L},ne={originalEvent:R,delta:N};U?(S.current=N,_u(FA,f,ne,{discrete:!1})):Ob(N,m.swipeDirection,z)?(S.current=N,_u(IA,d,ne,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>z||Math.abs(O)>z)&&(y.current=null)}),onPointerUp:re(e.onPointerUp,R=>{const D=S.current,O=R.target;if(O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),S.current=null,y.current=null,D){const U=R.currentTarget,P={originalEvent:R,delta:D};Ob(D,m.swipeDirection,m.swipeThreshold)?_u(DA,p,P,{discrete:!0}):_u($A,h,P,{discrete:!0}),U.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),zA=e=>{const{__scopeToast:t,children:n,...r}=e,i=_f(Ef,t),[s,a]=b.useState(!1),[o,c]=b.useState(!1);return WA(()=>a(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(jf,{asChild:!0,children:l.jsx(Bc,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},BA="ToastTitle",z_=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(le.div,{...r,ref:t})});z_.displayName=BA;var HA="ToastDescription",B_=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(le.div,{...r,ref:t})});B_.displayName=HA;var H_="ToastAction",W_=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(q_,{altText:n,asChild:!0,children:l.jsx(zv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${H_}\`. Expected non-empty \`string\`.`),null)});W_.displayName=H_;var V_="ToastClose",zv=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=MA(V_,n);return l.jsx(q_,{asChild:!0,children:l.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,i.onClose)})})});zv.displayName=V_;var q_=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Q_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VA(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Q_(r))}}),t}function _u(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?T_(i,s):i.dispatchEvent(s)}var Ob=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function WA(e=()=>{}){const t=dn(e);kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VA(e){return e.nodeType===e.ELEMENT_NODE}function qA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var QA=$_,K_=L_,G_=U_,J_=z_,Y_=B_,X_=W_,Z_=zv;function eE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tE(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eE(e))&&(r&&(r+=" "),r+=t);return r}const Ab=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ib=tE,Hc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ib(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Ab(d)||Ab(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...o}[m]):{...s,...o}[m]===w})?[...u,f,h]:u},[]);return Ib(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>b.createElement("svg",{ref:c,...GA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:nE("lucide",i),...o},[...a.map(([u,d])=>b.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(JA,{ref:s,iconNode:t,className:nE(`lucide-${KA(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=fe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=fe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kv="-",fI=e=>{const t=pI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Kv);return o[0]===""&&o.length!==1&&o.shift(),uE(o,t)||hI(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},uE=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?uE(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Kv);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},$b=/^\[(.+)\]$/,hI=e=>{if($b.test(e)){const t=$b.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gI(Object.entries(e.classGroups),n).forEach(([s,a])=>{Fm(a,r,s,t)}),r},Fm=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Db(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(mI(i)){Fm(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Fm(a,Db(t,s),n,r)})})},Db=(e,t)=>{let n=e;return t.split(Kv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mI=e=>e.isThemeGetter,gI=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,vI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},dE="!",yI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let v=o[w];if(u===0){if(v===i&&(r||o.slice(w,w+s)===t)){c.push(o.slice(d,w)),d=w+s;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(dE),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},xI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},bI=e=>({cache:vI(e.cacheSize),parseClassName:yI(e),...fI(e)}),wI=/\s+/,SI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(wI);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const w=xI(d).join(":"),v=f?w+dE:w,x=v+m;if(s.includes(x))continue;s.push(x);const y=i(m,g);for(let S=0;S<y.length;++S){const _=y[S];s.push(v+_)}o=u+(o.length>0?" "+o:o)}return o};function jI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fE(t))&&(r&&(r+=" "),r+=n);return r}const fE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fE(e[r]))&&(n&&(n+=" "),n+=t);return n};function _I(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=bI(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=SI(c,n);return i(c,d),d}return function(){return s(jI.apply(null,arguments))}}const He=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hE=/^\[(?:([a-z-]+):)?(.+)\]$/i,EI=/^\d+\/\d+$/,PI=new Set(["px","full","screen"]),CI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=e=>Ma(e)||PI.has(e)||EI.test(e),gi=e=>_o(e,"length",MI),Ma=e=>!!e&&!Number.isNaN(Number(e)),Mh=e=>_o(e,"number",Ma),Wo=e=>!!e&&Number.isInteger(Number(e)),OI=e=>e.endsWith("%")&&Ma(e.slice(0,-1)),me=e=>hE.test(e),vi=e=>CI.test(e),AI=new Set(["length","size","percentage"]),II=e=>_o(e,AI,pE),FI=e=>_o(e,"position",pE),$I=new Set(["image","url"]),DI=e=>_o(e,$I,zI),LI=e=>_o(e,"",UI),Vo=()=>!0,_o=(e,t,n)=>{const r=hE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},MI=e=>kI.test(e)&&!RI.test(e),pE=()=>!1,UI=e=>NI.test(e),zI=e=>TI.test(e),BI=()=>{const e=He("colors"),t=He("spacing"),n=He("blur"),r=He("brightness"),i=He("borderColor"),s=He("borderRadius"),a=He("borderSpacing"),o=He("borderWidth"),c=He("contrast"),u=He("grayscale"),d=He("hueRotate"),f=He("invert"),h=He("gap"),p=He("gradientColorStops"),g=He("gradientColorStopPositions"),m=He("inset"),w=He("margin"),v=He("opacity"),x=He("padding"),y=He("saturate"),S=He("scale"),_=He("sepia"),j=He("skew"),C=He("space"),k=He("translate"),A=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",me,t],T=()=>[me,t],M=()=>["",$r,gi],R=()=>["auto",Ma,me],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",me],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Ma,me];return{cacheSize:500,separator:":",theme:{colors:[Vo],spacing:[$r,gi],blur:["none","",vi,me],brightness:L(),borderColor:[e],borderRadius:["none","","full",vi,me],borderSpacing:T(),borderWidth:M(),contrast:L(),grayscale:$(),hueRotate:L(),invert:$(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[OI,gi],inset:I(),margin:I(),opacity:L(),padding:T(),saturate:L(),scale:L(),sepia:$(),skew:L(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[vi]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),me]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wo,me]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Wo,me]}],"grid-cols":[{"grid-cols":[Vo]}],"col-start-end":[{col:["auto",{span:["full",Wo,me]},me]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Vo]}],"row-start-end":[{row:["auto",{span:[Wo,me]},me]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[vi]},vi]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vi,gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mh]}],"font-family":[{font:[Vo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Ma,Mh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,gi]}],"underline-offset":[{"underline-offset":["auto",$r,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),FI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",II]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[$r,me]}],"outline-w":[{outline:[$r,gi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[$r,gi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vi,LI]}],"shadow-color":[{shadow:[Vo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vi,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Wo,me]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$r,gi,Mh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HI=_I(BI);function ie(...e){return HI(tE(e))}const WI=QA,mE=b.forwardRef(({className:e,...t},n)=>l.jsx(K_,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mE.displayName=K_.displayName;const VI=Hc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gE=b.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(G_,{ref:r,className:ie(VI({variant:t}),e),...n}));gE.displayName=G_.displayName;const qI=b.forwardRef(({className:e,...t},n)=>l.jsx(X_,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qI.displayName=X_.displayName;const vE=b.forwardRef(({className:e,...t},n)=>l.jsx(Z_,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Qv,{className:"h-4 w-4"})}));vE.displayName=Z_.displayName;const yE=b.forwardRef(({className:e,...t},n)=>l.jsx(J_,{ref:n,className:ie("text-sm font-semibold",e),...t}));yE.displayName=J_.displayName;const xE=b.forwardRef(({className:e,...t},n)=>l.jsx(Y_,{ref:n,className:ie("text-sm opacity-90",e),...t}));xE.displayName=Y_.displayName;function QI(){const{toasts:e}=Rt();return l.jsxs(WI,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return l.jsxs(gE,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(yE,{children:n}),r&&l.jsx(xE,{children:r})]}),i,l.jsx(vE,{})]},t)}),l.jsx(mE,{})]})}var Lb=["light","dark"],KI="(prefers-color-scheme: dark)",GI=b.createContext(void 0),JI={setTheme:e=>{},themes:[]},YI=()=>{var e;return(e=b.useContext(GI))!=null?e:JI};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Lb.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,w=!0)=>{let v=a?a[g]:g,x=m?g+"|| ''":`'${v}'`,y="";return i&&w&&!m&&Lb.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?y+=`c.add(${x})`:y+="null":v&&(y+=`d[s](n,${x})`),y},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${KI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var XI=e=>{switch(e){case"success":return tF;case"info":return rF;case"warning":return nF;case"error":return iF;default:return null}},ZI=Array(12).fill(0),eF=({visible:e})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},H.createElement("div",{className:"sonner-spinner"},ZI.map((t,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),tF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sF=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},$m=1,aF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$m++,s=this.toasts.find(o=>o.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(lF(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||$m++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},vn=new aF,oF=(e,t)=>{let n=(t==null?void 0:t.id)||$m++;return vn.addToast({title:e,...t,id:n}),n},lF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cF=oF,uF=()=>vn.toasts,qt=Object.assign(cF,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:uF});function dF(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}dF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Eu(e){return e.label!==void 0}var fF=3,hF="32px",pF=4e3,mF=356,gF=14,vF=20,yF=200;function xF(...e){return e.filter(Boolean).join(" ")}var bF=e=>{var t,n,r,i,s,a,o,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:w,heights:v,index:x,toasts:y,expanded:S,removeToast:_,defaultRichColors:j,closeButton:C,style:k,cancelButtonStyle:A,actionButtonStyle:F,className:I="",descriptionClassName:T="",duration:M,position:R,gap:D,loadingIcon:O,expandByDefault:U,classNames:P,icons:$,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:L,cn:z}=e,[N,ne]=H.useState(!1),[te,J]=H.useState(!1),[Y,ee]=H.useState(!1),[oe,se]=H.useState(!1),[de,ye]=H.useState(0),[ft,wt]=H.useState(0),Nt=H.useRef(null),St=H.useRef(null),lr=x===0,Fo=x+1<=w,lt=h.type,Ir=h.dismissible!==!1,ah=h.className||"",oh=h.descriptionClassName||"",ta=H.useMemo(()=>v.findIndex(ae=>ae.toastId===h.id)||0,[v,h.id]),lh=H.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:C},[h.closeButton,C]),ru=H.useMemo(()=>h.duration||M||pF,[h.duration,M]),B=H.useRef(0),K=H.useRef(0),ue=H.useRef(0),he=H.useRef(null),[Re,hn]=R.split("-"),cr=H.useMemo(()=>v.reduce((ae,Be,Fe)=>Fe>=ta?ae:ae+Be.height,0),[v,ta]),Rn=sF(),fs=h.invert||f,Fr=lt==="loading";K.current=H.useMemo(()=>ta*D+cr,[ta,cr]),H.useEffect(()=>{ne(!0)},[]),H.useLayoutEffect(()=>{if(!N)return;let ae=St.current,Be=ae.style.height;ae.style.height="auto";let Fe=ae.getBoundingClientRect().height;ae.style.height=Be,wt(Fe),m(ur=>ur.find(dr=>dr.toastId===h.id)?ur.map(dr=>dr.toastId===h.id?{...dr,height:Fe}:dr):[{toastId:h.id,height:Fe,position:h.position},...ur])},[N,h.title,h.description,m,h.id]);let Ze=H.useCallback(()=>{J(!0),ye(K.current),m(ae=>ae.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{_(h)},yF)},[h,_,m,K]);H.useEffect(()=>{if(h.promise&&lt==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Be=ru;return S||g||L&&Rn?(()=>{if(ue.current<B.current){let Fe=new Date().getTime()-B.current;Be=Be-Fe}ue.current=new Date().getTime()})():Be!==1/0&&(B.current=new Date().getTime(),ae=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),Ze()},Be)),()=>clearTimeout(ae)},[S,g,U,h,ru,Ze,h.promise,lt,L,Rn]),H.useEffect(()=>{let ae=St.current;if(ae){let Be=ae.getBoundingClientRect().height;return wt(Be),m(Fe=>[{toastId:h.id,height:Be,position:h.position},...Fe]),()=>m(Fe=>Fe.filter(ur=>ur.toastId!==h.id))}},[m,h.id]),H.useEffect(()=>{h.delete&&Ze()},[Ze,h.delete]);function pi(){return $!=null&&$.loading?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},$.loading):O?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},O):H.createElement(eF,{visible:lt==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:St,className:z(I,ah,P==null?void 0:P.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[lt],(n=h==null?void 0:h.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":N,"data-promise":!!h.promise,"data-removed":te,"data-visible":Fo,"data-y-position":Re,"data-x-position":hn,"data-index":x,"data-front":lr,"data-swiping":Y,"data-dismissible":Ir,"data-type":lt,"data-invert":fs,"data-swipe-out":oe,"data-expanded":!!(S||U&&N),style:{"--index":x,"--toasts-before":x,"--z-index":y.length-x,"--offset":`${te?de:K.current}px`,"--initial-height":U?"auto":`${ft}px`,...k,...h.style},onPointerDown:ae=>{Fr||!Ir||(Nt.current=new Date,ye(K.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ee(!0),he.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Be,Fe,ur;if(oe||!Ir)return;he.current=null;let dr=Number(((ae=St.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),iu=new Date().getTime()-((Be=Nt.current)==null?void 0:Be.getTime()),_T=Math.abs(dr)/iu;if(Math.abs(dr)>=vF||_T>.11){ye(K.current),(Fe=h.onDismiss)==null||Fe.call(h,h),Ze(),se(!0);return}(ur=St.current)==null||ur.style.setProperty("--swipe-amount","0px"),ee(!1)},onPointerMove:ae=>{var Be;if(!he.current||!Ir)return;let Fe=ae.clientY-he.current.y,ur=ae.clientX-he.current.x,dr=(Re==="top"?Math.min:Math.max)(0,Fe),iu=ae.pointerType==="touch"?10:2;Math.abs(dr)>iu?(Be=St.current)==null||Be.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(ur)>iu&&(he.current=null)}},lh&&!h.jsx?H.createElement("button",{"aria-label":E,"data-disabled":Fr,"data-close-button":!0,onClick:Fr||!Ir?()=>{}:()=>{var ae;Ze(),(ae=h.onDismiss)==null||ae.call(h,h)},className:z(P==null?void 0:P.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,lt||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:z(P==null?void 0:P.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pi():null,h.type!=="loading"?h.icon||($==null?void 0:$[lt])||XI(lt):null):null,H.createElement("div",{"data-content":"",className:z(P==null?void 0:P.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:z(P==null?void 0:P.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:z(T,oh,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&Eu(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:ae=>{var Be,Fe;Eu(h.cancel)&&Ir&&((Fe=(Be=h.cancel).onClick)==null||Fe.call(Be,ae),Ze())},className:z(P==null?void 0:P.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&Eu(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||F,onClick:ae=>{var Be,Fe;Eu(h.action)&&(ae.defaultPrevented||((Fe=(Be=h.action).onClick)==null||Fe.call(Be,ae),Ze()))},className:z(P==null?void 0:P.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Mb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var wF=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=fF,toastOptions:p,dir:g=Mb(),gap:m=gF,loadingIcon:w,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:y,cn:S=xF}=e,[_,j]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([n].concat(_.filter(L=>L.position).map(L=>L.position)))),[_,n]),[k,A]=H.useState([]),[F,I]=H.useState(!1),[T,M]=H.useState(!1),[R,D]=H.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=H.useRef(null),U=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=H.useRef(null),$=H.useRef(!1),E=H.useCallback(L=>{var z;(z=_.find(N=>N.id===L.id))!=null&&z.delete||vn.dismiss(L.id),j(N=>N.filter(({id:ne})=>ne!==L.id))},[_]);return H.useEffect(()=>vn.subscribe(L=>{if(L.dismiss){j(z=>z.map(N=>N.id===L.id?{...N,delete:!0}:N));return}setTimeout(()=>{k_.flushSync(()=>{j(z=>{let N=z.findIndex(ne=>ne.id===L.id);return N!==-1?[...z.slice(0,N),{...z[N],...L},...z.slice(N+1)]:[L,...z]})})})}),[]),H.useEffect(()=>{if(c!=="system"){D(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{D(L?"dark":"light")})},[c]),H.useEffect(()=>{_.length<=1&&I(!1)},[_]),H.useEffect(()=>{let L=z=>{var N,ne;r.every(te=>z[te]||z.code===te)&&(I(!0),(N=O.current)==null||N.focus()),z.code==="Escape"&&(document.activeElement===O.current||(ne=O.current)!=null&&ne.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),H.useEffect(()=>{if(O.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,$.current=!1)}},[O.current]),_.length?H.createElement("section",{"aria-label":`${x} ${U}`,tabIndex:-1},C.map((L,z)=>{var N;let[ne,te]=L.split("-");return H.createElement("ol",{key:L,dir:g==="auto"?Mb():g,tabIndex:-1,ref:O,className:a,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ne,"data-x-position":te,style:{"--front-toast-height":`${((N=k[0])==null?void 0:N.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||hF,"--width":`${mF}px`,"--gap":`${m}px`,...f},onBlur:J=>{$.current&&!J.currentTarget.contains(J.relatedTarget)&&($.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||$.current||($.current=!0,P.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{T||I(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(J=>!J.position&&z===0||J.position===L).map((J,Y)=>{var ee,oe;return H.createElement(bF,{key:J.id,icons:v,index:Y,toast:J,defaultRichColors:u,duration:(ee=p==null?void 0:p.duration)!=null?ee:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(oe=p==null?void 0:p.closeButton)!=null?oe:s,interacting:T,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:E,toasts:_.filter(se=>se.position==J.position),heights:k.filter(se=>se.position==J.position),setHeights:A,expandByDefault:i,gap:m,loadingIcon:w,expanded:F,pauseWhenPageIsHidden:y,cn:S})}))})):null};const SF=({...e})=>{const{theme:t="system"}=YI();return l.jsx(wF,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jF=qg.useId||(()=>{}),_F=0;function Jr(e){const[t,n]=b.useState(jF());return kt(()=>{e||n(r=>r??String(_F++))},[e]),e||(t?`radix-${t}`:"")}const EF=["top","right","bottom","left"],Xi=Math.min,xn=Math.max,zd=Math.round,Pu=Math.floor,Zi=e=>({x:e,y:e}),PF={left:"right",right:"left",bottom:"top",top:"bottom"},CF={start:"end",end:"start"};function Dm(e,t,n){return xn(e,Xi(t,n))}function ni(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function Eo(e){return e.split("-")[1]}function Gv(e){return e==="x"?"y":"x"}function Jv(e){return e==="y"?"height":"width"}function es(e){return["top","bottom"].includes(ri(e))?"y":"x"}function Yv(e){return Gv(es(e))}function kF(e,t,n){n===void 0&&(n=!1);const r=Eo(e),i=Yv(e),s=Jv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Bd(a)),[a,Bd(a)]}function RF(e){const t=Bd(e);return[Lm(e),t,Lm(t)]}function Lm(e){return e.replace(/start|end/g,t=>CF[t])}function NF(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function TF(e,t,n,r){const i=Eo(e);let s=NF(ri(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Lm)))),s}function Bd(e){return e.replace(/left|right|bottom|top/g,t=>PF[t])}function OF(e){return{top:0,right:0,bottom:0,left:0,...e}}function bE(e){return typeof e!="number"?OF(e):{top:e,right:e,bottom:e,left:e}}function Hd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ub(e,t,n){let{reference:r,floating:i}=e;const s=es(t),a=Yv(t),o=Jv(a),c=ri(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Eo(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const AF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=Ub(u,r,c),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:w,fn:v}=o[m],{x,y,data:S,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,f=y??f,p={...p,[w]:{...p[w],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=Ub(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Gl(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ni(t,e),g=bE(p),w=o[h?f==="floating"?"reference":"floating":f],v=Hd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Hd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:c}):x);return{top:(v.top-_.top+g.top)/S.y,bottom:(_.bottom-v.bottom+g.bottom)/S.y,left:(v.left-_.left+g.left)/S.x,right:(_.right-v.right+g.right)/S.x}}const IF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=ni(e,t)||{};if(u==null)return{};const f=bE(d),h={x:n,y:r},p=Yv(i),g=Jv(p),m=await a.getDimensions(u),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",y=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],_=h[p]-s.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=j?j[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(j)))&&(C=o.floating[y]||s.floating[g]);const k=S/2-_/2,A=C/2-m[g]/2-1,F=Xi(f[v],A),I=Xi(f[x],A),T=F,M=C-m[g]-I,R=C/2-m[g]/2+k,D=Dm(T,R,M),O=!c.arrow&&Eo(i)!=null&&R!==D&&s.reference[g]/2-(R<T?F:I)-m[g]/2<0,U=O?R<T?R-T:R-M:0;return{[p]:h[p]+U,data:{[p]:D,centerOffset:R-D-U,...O&&{alignmentOffset:U}},reset:O}}}),FF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=ni(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=ri(i),x=es(o),y=ri(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(y||!m?[Bd(o)]:RF(o)),j=g!=="none";!h&&j&&_.push(...TF(o,m,g,S));const C=[o,..._],k=await Gl(t,w),A=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(k[v]),f){const R=kF(i,a,S);A.push(k[R[0]],k[R[1]])}if(F=[...F,{placement:i,overflows:A}],!A.every(R=>R<=0)){var I,T;const R=(((I=s.flip)==null?void 0:I.index)||0)+1,D=C[R];if(D)return{data:{index:R,overflows:F},reset:{placement:D}};let O=(T=F.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(p){case"bestFit":{var M;const U=(M=F.filter(P=>{if(j){const $=es(P.placement);return $===x||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,E)=>$+E,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:M[0];U&&(O=U);break}case"initialPlacement":O=o;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function zb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bb(e){return EF.some(t=>e[t]>=0)}const $F=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ni(e,t);switch(r){case"referenceHidden":{const s=await Gl(t,{...i,elementContext:"reference"}),a=zb(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Bb(a)}}}case"escaped":{const s=await Gl(t,{...i,altBoundary:!0}),a=zb(s,n.floating);return{data:{escapedOffsets:a,escaped:Bb(a)}}}default:return{}}}}};async function DF(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ri(n),o=Eo(n),c=es(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=ni(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const LF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await DF(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},MF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=ni(e,t),u={x:n,y:r},d=await Gl(t,c),f=es(ri(i)),h=Gv(f);let p=u[h],g=u[f];if(s){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[w],y=p-d[v];p=Dm(x,p,y)}if(a){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+d[w],y=g-d[v];g=Dm(x,g,y)}const m=o.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},UF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=ni(e,t),d={x:n,y:r},f=es(i),h=Gv(f);let p=d[h],g=d[f];const m=ni(o,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=h==="y"?"height":"width",S=s.reference[h]-s.floating[y]+w.mainAxis,_=s.reference[h]+s.reference[y]-w.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var v,x;const y=h==="y"?"width":"height",S=["top","left"].includes(ri(i)),_=s.reference[f]-s.floating[y]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),j=s.reference[f]+s.reference[y]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?w.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[h]:p,[f]:g}}}},zF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=ni(e,t),d=await Gl(t,u),f=ri(i),h=Eo(i),p=es(i)==="y",{width:g,height:m}=s.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,y=g-d.left-d.right,S=Xi(m-d[w],x),_=Xi(g-d[v],y),j=!t.middlewareData.shift;let C=S,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),j&&!h){const F=xn(d.left,0),I=xn(d.right,0),T=xn(d.top,0),M=xn(d.bottom,0);p?k=g-2*(F!==0||I!==0?F+I:xn(d.left,d.right)):C=m-2*(T!==0||M!==0?T+M:xn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const A=await a.getDimensions(o.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function Cf(){return typeof window<"u"}function Po(e){return wE(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Or(e){var t;return(t=(wE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wE(e){return Cf()?e instanceof Node||e instanceof _n(e).Node:!1}function sr(e){return Cf()?e instanceof Element||e instanceof _n(e).Element:!1}function Rr(e){return Cf()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function Hb(e){return!Cf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}function Vc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function BF(e){return["table","td","th"].includes(Po(e))}function kf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xv(e){const t=Zv(),n=sr(e)?ar(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HF(e){let t=ts(e);for(;Rr(t)&&!uo(t);){if(Xv(t))return t;if(kf(t))return null;t=ts(t)}return null}function Zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uo(e){return["html","body","#document"].includes(Po(e))}function ar(e){return _n(e).getComputedStyle(e)}function Rf(e){return sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if(Po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hb(e)&&e.host||Or(e);return Hb(t)?t.host:t}function SE(e){const t=ts(e);return uo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&Vc(t)?t:SE(t)}function Jl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=SE(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=_n(i);if(s){const o=Mm(a);return t.concat(a,a.visualViewport||[],Vc(i)?i:[],o&&n?Jl(o):[])}return t.concat(i,Jl(i,[],n))}function Mm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jE(e){const t=ar(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Rr(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=zd(n)!==s||zd(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function ey(e){return sr(e)?e:e.contextElement}function Ua(e){const t=ey(e);if(!Rr(t))return Zi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=jE(t);let a=(s?zd(n.width):n.width)/r,o=(s?zd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const WF=Zi(0);function _E(e){const t=_n(e);return!Zv()||!t.visualViewport?WF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function Bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=ey(e);let a=Zi(1);t&&(r?sr(r)&&(a=Ua(r)):a=Ua(e));const o=VF(s,n,r)?_E(s):Zi(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=_n(s),p=r&&sr(r)?_n(r):r;let g=h,m=Mm(g);for(;m&&r&&p!==g;){const w=Ua(m),v=m.getBoundingClientRect(),x=ar(m),y=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=y,u+=S,g=_n(m),m=Mm(g)}}return Hd({width:d,height:f,x:c,y:u})}function qF(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Or(r),o=t?kf(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Zi(1);const d=Zi(0),f=Rr(r);if((f||!f&&!s)&&((Po(r)!=="body"||Vc(a))&&(c=Rf(r)),Rr(r))){const h=Bs(r);u=Ua(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function QF(e){return Array.from(e.getClientRects())}function Um(e,t){const n=Rf(e).scrollLeft;return t?t.left+n:Bs(Or(e)).left+n}function KF(e){const t=Or(e),n=Rf(e),r=e.ownerDocument.body,i=xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Um(e);const o=-n.scrollTop;return ar(r).direction==="rtl"&&(a+=xn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function GF(e,t){const n=_n(e),r=Or(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=Zv();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function JF(e,t){const n=Bs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Rr(e)?Ua(e):Zi(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function Wb(e,t,n){let r;if(t==="viewport")r=GF(e,n);else if(t==="document")r=KF(Or(e));else if(sr(t))r=JF(t,n);else{const i=_E(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Hd(r)}function EE(e,t){const n=ts(e);return n===t||!sr(n)||uo(n)?!1:ar(n).position==="fixed"||EE(n,t)}function YF(e,t){const n=t.get(e);if(n)return n;let r=Jl(e,[],!1).filter(o=>sr(o)&&Po(o)!=="body"),i=null;const s=ar(e).position==="fixed";let a=s?ts(e):e;for(;sr(a)&&!uo(a);){const o=ar(a),c=Xv(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vc(a)&&!c&&EE(e,a))?r=r.filter(d=>d!==a):i=o,a=ts(a)}return t.set(e,r),r}function XF(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?kf(t)?[]:YF(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=Wb(t,d,i);return u.top=xn(f.top,u.top),u.right=Xi(f.right,u.right),u.bottom=Xi(f.bottom,u.bottom),u.left=xn(f.left,u.left),u},Wb(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZF(e){const{width:t,height:n}=jE(e);return{width:t,height:n}}function e$(e,t,n){const r=Rr(t),i=Or(t),s=n==="fixed",a=Bs(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=Zi(0);if(r||!r&&!s)if((Po(t)!=="body"||Vc(i))&&(o=Rf(t)),r){const p=Bs(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=Um(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-Um(i,p)}const f=a.left+o.scrollLeft-c.x-u,h=a.top+o.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Uh(e){return ar(e).position==="static"}function Vb(e,t){if(!Rr(e)||ar(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Or(e)===n&&(n=n.ownerDocument.body),n}function PE(e,t){const n=_n(e);if(kf(e))return n;if(!Rr(e)){let i=ts(e);for(;i&&!uo(i);){if(sr(i)&&!Uh(i))return i;i=ts(i)}return n}let r=Vb(e,t);for(;r&&BF(r)&&Uh(r);)r=Vb(r,t);return r&&uo(r)&&Uh(r)&&!Xv(r)?n:r||HF(e)||n}const t$=async function(e){const t=this.getOffsetParent||PE,n=this.getDimensions,r=await n(e.floating);return{reference:e$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n$(e){return ar(e).direction==="rtl"}const r$={convertOffsetParentRelativeRectToViewportRelativeRect:qF,getDocumentElement:Or,getClippingRect:XF,getOffsetParent:PE,getElementRects:t$,getClientRects:QF,getDimensions:ZF,getScale:Ua,isElement:sr,isRTL:n$};function i$(e,t){let n=null,r;const i=Or(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const p=Pu(d),g=Pu(i.clientWidth-(u+f)),m=Pu(i.clientHeight-(d+h)),w=Pu(u),x={rootMargin:-p+"px "+-g+"px "+-m+"px "+-w+"px",threshold:xn(0,Xi(1,c))||1};let y=!0;function S(_){const j=_[0].intersectionRatio;if(j!==c){if(!y)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return a(!0),s}function s$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ey(e),d=i||s?[...u?Jl(u):[],...Jl(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&o?i$(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Bs(e):null;c&&w();function w(){const v=Bs(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const a$=LF,o$=MF,l$=FF,c$=zF,u$=$F,qb=IF,d$=UF,f$=(e,t,n)=>{const r=new Map,i={platform:r$,...n},s={...i.platform,_c:r};return AF(e,t,{...i,platform:s})};var od=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Wd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Wd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function CE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qb(e,t){const n=CE(e);return Math.round(t*n)/n}function zh(e){const t=b.useRef(e);return od(()=>{t.current=e}),t}function h$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);Wd(h,r)||p(r);const[g,m]=b.useState(null),[w,v]=b.useState(null),x=b.useCallback(P=>{P!==j.current&&(j.current=P,m(P))},[]),y=b.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),S=s||g,_=a||w,j=b.useRef(null),C=b.useRef(null),k=b.useRef(d),A=c!=null,F=zh(c),I=zh(i),T=zh(u),M=b.useCallback(()=>{if(!j.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};I.current&&(P.platform=I.current),f$(j.current,C.current,P).then($=>{const E={...$,isPositioned:T.current!==!1};R.current&&!Wd(k.current,E)&&(k.current=E,Gs.flushSync(()=>{f(E)}))})},[h,t,n,I,T]);od(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const R=b.useRef(!1);od(()=>(R.current=!0,()=>{R.current=!1}),[]),od(()=>{if(S&&(j.current=S),_&&(C.current=_),S&&_){if(F.current)return F.current(S,_,M);M()}},[S,_,M,F,A]);const D=b.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:y}),[x,y]),O=b.useMemo(()=>({reference:S,floating:_}),[S,_]),U=b.useMemo(()=>{const P={position:n,left:0,top:0};if(!O.floating)return P;const $=Qb(O.floating,d.x),E=Qb(O.floating,d.y);return o?{...P,transform:"translate("+$+"px, "+E+"px)",...CE(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:E}},[n,o,O.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:M,refs:D,elements:O,floatingStyles:U}),[d,M,D,O,U])}const p$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?qb({element:r.current,padding:i}).fn(n):{}:r?qb({element:r,padding:i}).fn(n):{}}}},m$=(e,t)=>({...a$(e),options:[e,t]}),g$=(e,t)=>({...o$(e),options:[e,t]}),v$=(e,t)=>({...d$(e),options:[e,t]}),y$=(e,t)=>({...l$(e),options:[e,t]}),x$=(e,t)=>({...c$(e),options:[e,t]}),b$=(e,t)=>({...u$(e),options:[e,t]}),w$=(e,t)=>({...p$(e),options:[e,t]});var S$="Arrow",kE=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(le.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});kE.displayName=S$;var j$=kE;function _$(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,E$(i,...t)]}function E$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ty(e){const[t,n]=b.useState(void 0);return kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ny="Popper",[RE,Nf]=_$(ny),[P$,NE]=RE(ny),TE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return l.jsx(P$,{scope:t,anchor:r,onAnchorChange:i,children:n})};TE.displayName=ny;var OE="PopperAnchor",AE=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=NE(OE,n),a=b.useRef(null),o=ke(t,a);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(le.div,{...i,ref:o})});AE.displayName=OE;var ry="PopperContent",[C$,k$]=RE(ry),IE=b.forwardRef((e,t)=>{var Y,ee,oe,se,de,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,w=NE(ry,n),[v,x]=b.useState(null),y=ke(t,ft=>x(ft)),[S,_]=b.useState(null),j=ty(S),C=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,A=r+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],T=I.length>0,M={padding:F,boundary:I.filter(N$),altBoundary:T},{refs:R,floatingStyles:D,placement:O,isPositioned:U,middlewareData:P}=h$({strategy:"fixed",placement:A,whileElementsMounted:(...ft)=>s$(...ft,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[m$({mainAxis:i+k,alignmentAxis:a}),c&&g$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v$():void 0,...M}),c&&y$({...M}),x$({...M,apply:({elements:ft,rects:wt,availableWidth:Nt,availableHeight:St})=>{const{width:lr,height:Fo}=wt.reference,lt=ft.floating.style;lt.setProperty("--radix-popper-available-width",`${Nt}px`),lt.setProperty("--radix-popper-available-height",`${St}px`),lt.setProperty("--radix-popper-anchor-width",`${lr}px`),lt.setProperty("--radix-popper-anchor-height",`${Fo}px`)}}),S&&w$({element:S,padding:o}),T$({arrowWidth:C,arrowHeight:k}),h&&b$({strategy:"referenceHidden",...M})]}),[$,E]=DE(O),L=dn(g);kt(()=>{U&&(L==null||L())},[U,L]);const z=(Y=P.arrow)==null?void 0:Y.x,N=(ee=P.arrow)==null?void 0:ee.y,ne=((oe=P.arrow)==null?void 0:oe.centerOffset)!==0,[te,J]=b.useState();return kt(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:U?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(se=P.transformOrigin)==null?void 0:se.x,(de=P.transformOrigin)==null?void 0:de.y].join(" "),...((ye=P.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(C$,{scope:n,placedSide:$,onArrowChange:_,arrowX:z,arrowY:N,shouldHideArrow:ne,children:l.jsx(le.div,{"data-side":$,"data-align":E,...m,ref:y,style:{...m.style,animation:U?void 0:"none"}})})})});IE.displayName=ry;var FE="PopperArrow",R$={top:"bottom",right:"left",bottom:"top",left:"right"},$E=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=k$(FE,r),a=R$[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(j$,{...i,ref:n,style:{...i.style,display:"block"}})})});$E.displayName=FE;function N$(e){return e!==null}var T$=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:r,middlewareData:i}=t,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=DE(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-c}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function DE(e){const[t,n="center"]=e.split("-");return[t,n]}var O$=TE,LE=AE,ME=IE,UE=$E,[Tf,wJ]=ci("Tooltip",[Nf]),iy=Nf(),zE="TooltipProvider",A$=700,Kb="tooltip.open",[I$,BE]=Tf(zE),HE=e=>{const{__scopeTooltip:t,delayDuration:n=A$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,o]=b.useState(!0),c=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(I$,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};HE.displayName=zE;var WE="Tooltip",[SJ,Of]=Tf(WE),zm="TooltipTrigger",F$=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Of(zm,n),s=BE(zm,n),a=iy(n),o=b.useRef(null),c=ke(t,o,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(LE,{asChild:!0,...a,children:l.jsx(le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:re(e.onBlur,i.onClose),onClick:re(e.onClick,i.onClose)})})});F$.displayName=zm;var $$="TooltipPortal",[jJ,D$]=Tf($$,{forceMount:void 0}),fo="TooltipContent",VE=b.forwardRef((e,t)=>{const n=D$(fo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=Of(fo,e.__scopeTooltip);return l.jsx(ui,{present:r||a.open,children:a.disableHoverableContent?l.jsx(qE,{side:i,...s,ref:t}):l.jsx(L$,{side:i,...s,ref:t})})}),L$=b.forwardRef((e,t)=>{const n=Of(fo,e.__scopeTooltip),r=BE(fo,e.__scopeTooltip),i=b.useRef(null),s=ke(t,i),[a,o]=b.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{o(null),f(!1)},[f]),p=b.useCallback((g,m)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},x=B$(v,w.getBoundingClientRect()),y=H$(v,x),S=W$(m.getBoundingClientRect()),_=q$([...y,...S]);o(_),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const g=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),b.useEffect(()=>{if(a){const g=m=>{const w=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),y=!V$(v,a);x?h():y&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),l.jsx(qE,{...e,ref:s})}),[M$,U$]=Tf(WE,{isInside:!1}),qE=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=Of(fo,n),u=iy(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(Kb,d),()=>document.removeEventListener(Kb,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(ME,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Dv,{children:r}),l.jsx(M$,{scope:n,isInside:!0,children:l.jsx(RA,{id:c.contentId,role:"tooltip",children:i||r})})]})})});VE.displayName=fo;var QE="TooltipArrow",z$=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=iy(n);return U$(QE,n).isInside?null:l.jsx(UE,{...i,...r,ref:t})});z$.displayName=QE;function B$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function H$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function W$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function V$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(i=!i)}return i}function q$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q$(t)}function Q$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var K$=HE,KE=VE;const G$=K$,J$=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(KE,{ref:r,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));J$.displayName=KE.displayName;var Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},If=typeof window>"u"||"Deno"in globalThis;function Kn(){}function Y$(e,t){return typeof e=="function"?e(t):e}function X$(e){return typeof e=="number"&&e>=0&&e!==1/0}function Z$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gb(e,t){return typeof e=="function"?e(t):e}function eD(e,t){return typeof e=="function"?e(t):e}function Jb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==sy(a,t.options))return!1}else if(!Xl(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function Yb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Yl(t.options.mutationKey)!==Yl(s))return!1}else if(!Xl(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function sy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yl)(e)}function Yl(e){return JSON.stringify(e,(t,n)=>Bm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Xl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Xl(e[n],t[n])):!1}function GE(e,t){if(e===t)return e;const n=Xb(e)&&Xb(t);if(n||Bm(e)&&Bm(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=GE(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function Xb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bm(e){if(!Zb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Zb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zb(e){return Object.prototype.toString.call(e)==="[object Object]"}function tD(e){return new Promise(t=>{setTimeout(t,e)})}function nD(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GE(e,t):t}function rD(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function iD(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ay=Symbol();function JE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ay?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ks,Ti,Qa,l1,sD=(l1=class extends Af{constructor(){super();Ne(this,ks);Ne(this,Ti);Ne(this,Qa);ve(this,Qa,t=>{if(!If&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ti)||this.setEventListener(W(this,Qa))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ti))==null||t.call(this),ve(this,Ti,void 0))}setEventListener(t){var n;ve(this,Qa,t),(n=W(this,Ti))==null||n.call(this),ve(this,Ti,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,ks)!==t&&(ve(this,ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,ks)=="boolean"?W(this,ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ks=new WeakMap,Ti=new WeakMap,Qa=new WeakMap,l1),YE=new sD,Ka,Oi,Ga,c1,aD=(c1=class extends Af{constructor(){super();Ne(this,Ka,!0);Ne(this,Oi);Ne(this,Ga);ve(this,Ga,t=>{if(!If&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Oi)||this.setEventListener(W(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Oi))==null||t.call(this),ve(this,Oi,void 0))}setEventListener(t){var n;ve(this,Ga,t),(n=W(this,Oi))==null||n.call(this),ve(this,Oi,t(this.setOnline.bind(this)))}setOnline(t){W(this,Ka)!==t&&(ve(this,Ka,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Ka)}},Ka=new WeakMap,Oi=new WeakMap,Ga=new WeakMap,c1),Vd=new aD;function oD(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function lD(e){return Math.min(1e3*2**e,3e4)}function XE(e){return(e??"online")==="online"?Vd.isOnline():!0}var ZE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bh(e){return e instanceof ZE}function eP(e){let t=!1,n=0,r=!1,i;const s=oD(),a=m=>{var w;r||(h(new ZE(m)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>YE.isFocused()&&(e.networkMode==="always"||Vd.isOnline())&&e.canRun(),d=()=>XE(e.networkMode)&&e.canRun(),f=m=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var w;i=v=>{(r||u())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var j;if(r)return;const x=e.retry??(If?0:3),y=e.retryDelay??lD,S=typeof y=="function"?y(n,v):y,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!_){h(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),tD(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}function cD(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Kt=cD(),Rs,u1,tP=(u1=class{constructor(){Ne(this,Rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X$(this.gcTime)&&ve(this,Rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(If?1/0:5*60*1e3))}clearGcTimeout(){W(this,Rs)&&(clearTimeout(W(this,Rs)),ve(this,Rs,void 0))}},Rs=new WeakMap,u1),Ja,Ya,Tn,$t,Ic,Ns,Gn,Lr,d1,uD=(d1=class extends tP{constructor(t){super();Ne(this,Gn);Ne(this,Ja);Ne(this,Ya);Ne(this,Tn);Ne(this,$t);Ne(this,Ic);Ne(this,Ns);ve(this,Ns,!1),ve(this,Ic,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Tn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,Ja,fD(this.options)),this.state=t.state??W(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,$t))==null?void 0:t.promise}setOptions(t){this.options={...W(this,Ic),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Tn).remove(this)}setData(t,n){const r=nD(this.state.data,t,this.options);return Tt(this,Gn,Lr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Tt(this,Gn,Lr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,$t))==null?void 0:r.promise;return(i=W(this,$t))==null||i.cancel(t),n?n.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Ja))}isActive(){return this.observers.some(t=>eD(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ay||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Z$(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,$t))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,$t))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,$t)&&(W(this,Ns)?W(this,$t).cancel({revert:!0}):W(this,$t).cancelRetry()),this.scheduleGc()),W(this,Tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Gn,Lr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,$t))return W(this,$t).continueRetry(),W(this,$t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,Ns,!0),r.signal)})},s=()=>{const f=JE(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),ve(this,Ns,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ve(this,Ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Tt(this,Gn,Lr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,g,m;Bh(f)&&f.silent||Tt(this,Gn,Lr).call(this,{type:"error",error:f}),Bh(f)||((p=(h=W(this,Tn).config).onError)==null||p.call(h,f,this),(m=(g=W(this,Tn).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return ve(this,$t,eP({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,m;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){o(w);return}(p=(h=W(this,Tn).config).onSuccess)==null||p.call(h,f,this),(m=(g=W(this,Tn).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Tt(this,Gn,Lr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Tt(this,Gn,Lr).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Gn,Lr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,$t).start()}},Ja=new WeakMap,Ya=new WeakMap,Tn=new WeakMap,$t=new WeakMap,Ic=new WeakMap,Ns=new WeakMap,Gn=new WeakSet,Lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dD(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Bh(i)&&i.revert&&W(this,Ya)?{...W(this,Ya),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Tn).notify({query:this,type:"updated",action:t})})},d1);function dD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,f1,hD=(f1=class extends Af{constructor(t={}){super();Ne(this,xr);this.config=t,ve(this,xr,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??sy(i,n);let a=this.get(s);return a||(a=new uD({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,xr).has(t.queryHash)||(W(this,xr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,xr).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,xr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,xr).get(t)}getAll(){return[...W(this,xr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Jb(t,r)):n}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xr=new WeakMap,f1),br,Vt,Ts,wr,Si,h1,pD=(h1=class extends tP{constructor(t){super();Ne(this,wr);Ne(this,br);Ne(this,Vt);Ne(this,Ts);this.mutationId=t.mutationId,ve(this,Vt,t.mutationCache),ve(this,br,[]),this.state=t.state||mD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,br).includes(t)||(W(this,br).push(t),this.clearGcTimeout(),W(this,Vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,br,W(this,br).filter(n=>n!==t)),this.scheduleGc(),W(this,Vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,br).length||(this.state.status==="pending"?this.scheduleGc():W(this,Vt).remove(this))}continue(){var t;return((t=W(this,Ts))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,c,u,d,f,h,p,g,m,w,v,x,y,S,_,j,C;ve(this,Ts,eP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{Tt(this,wr,Si).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{Tt(this,wr,Si).call(this,{type:"pause"})},onContinue:()=>{Tt(this,wr,Si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Vt).canRun(this)}));const n=this.state.status==="pending",r=!W(this,Ts).canStart();try{if(!n){Tt(this,wr,Si).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=W(this,Vt).config).onMutate)==null?void 0:s.call(i,t,this));const A=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));A!==this.state.context&&Tt(this,wr,Si).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const k=await W(this,Ts).start();return await((u=(c=W(this,Vt).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((p=(h=W(this,Vt).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,k,null,t,this.state.context)),Tt(this,wr,Si).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(w=W(this,Vt).config).onError)==null?void 0:v.call(w,k,t,this.state.context,this)),await((y=(x=this.options).onError)==null?void 0:y.call(x,k,t,this.state.context)),await((_=(S=W(this,Vt).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,k,t,this.state.context)),k}finally{Tt(this,wr,Si).call(this,{type:"error",error:k})}}finally{W(this,Vt).runNext(this)}}},br=new WeakMap,Vt=new WeakMap,Ts=new WeakMap,wr=new WeakSet,Si=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{W(this,br).forEach(r=>{r.onMutationUpdate(t)}),W(this,Vt).notify({mutation:this,type:"updated",action:t})})},h1);function mD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,Fc,p1,gD=(p1=class extends Af{constructor(t={}){super();Ne(this,gn);Ne(this,Fc);this.config=t,ve(this,gn,new Map),ve(this,Fc,Date.now())}build(t,n,r){const i=new pD({mutationCache:this,mutationId:++su(this,Fc)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Cu(t),r=W(this,gn).get(n)??[];r.push(t),W(this,gn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Cu(t);if(W(this,gn).has(n)){const i=(r=W(this,gn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?W(this,gn).delete(n):W(this,gn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,gn).get(Cu(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,gn).get(Cu(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,gn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Yb(n,r))}findAll(t={}){return this.getAll().filter(n=>Yb(t,n))}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kn))))}},gn=new WeakMap,Fc=new WeakMap,p1);function Cu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function e0(e){return{onFetch:(t,n)=>{var d,f,h,p,g;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=JE(t.options,t.fetchOptions),x=async(y,S,_)=>{if(m)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};w(j);const C=await v(j),{maxPages:k}=t.options,A=_?iD:rD;return{pages:A(y.pages,C,k),pageParams:A(y.pageParams,S,k)}};if(i&&s.length){const y=i==="backward",S=y?vD:t0,_={pages:s,pageParams:a},j=S(r,_);o=await x(_,j,y)}else{const y=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:t0(r,o);if(c>0&&S==null)break;o=await x(o,S),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function t0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tt,Ai,Ii,Xa,Za,Fi,eo,to,m1,yD=(m1=class{constructor(e={}){Ne(this,tt);Ne(this,Ai);Ne(this,Ii);Ne(this,Xa);Ne(this,Za);Ne(this,Fi);Ne(this,eo);Ne(this,to);ve(this,tt,e.queryCache||new hD),ve(this,Ai,e.mutationCache||new gD),ve(this,Ii,e.defaultOptions||{}),ve(this,Xa,new Map),ve(this,Za,new Map),ve(this,Fi,0)}mount(){su(this,Fi)._++,W(this,Fi)===1&&(ve(this,eo,YE.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,tt).onFocus())})),ve(this,to,Vd.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,tt).onOnline())})))}unmount(){var e,t;su(this,Fi)._--,W(this,Fi)===0&&((e=W(this,eo))==null||e.call(this),ve(this,eo,void 0),(t=W(this,to))==null||t.call(this),ve(this,to,void 0))}isFetching(e){return W(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Ai).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,tt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Gb(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,tt).get(r.queryHash),s=i==null?void 0:i.state.data,a=Y$(t,s);if(a!==void 0)return W(this,tt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Kt.batch(()=>W(this,tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,tt);Kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,tt),r={type:"active",...e};return Kt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Kt.batch(()=>W(this,tt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Kn).catch(Kn)}invalidateQueries(e={},t={}){return Kt.batch(()=>{if(W(this,tt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Kt.batch(()=>W(this,tt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Kn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,tt).build(this,t);return n.isStaleByTime(Gb(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kn).catch(Kn)}fetchInfiniteQuery(e){return e.behavior=e0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kn).catch(Kn)}ensureInfiniteQueryData(e){return e.behavior=e0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vd.isOnline()?W(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,tt)}getMutationCache(){return W(this,Ai)}getDefaultOptions(){return W(this,Ii)}setDefaultOptions(e){ve(this,Ii,e)}setQueryDefaults(e,t){W(this,Xa).set(Yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Xa).values()];let n={};return t.forEach(r=>{Xl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,Za).set(Yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Za).values()];let n={};return t.forEach(r=>{Xl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Ii).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ay&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Ii).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,tt).clear(),W(this,Ai).clear()}},tt=new WeakMap,Ai=new WeakMap,Ii=new WeakMap,Xa=new WeakMap,Za=new WeakMap,Fi=new WeakMap,eo=new WeakMap,to=new WeakMap,m1),xD=b.createContext(void 0),bD=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(xD.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var Li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Li||(Li={}));const n0="popstate";function wD(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Hm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qd(i)}return jD(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SD(){return Math.random().toString(36).substr(2,8)}function r0(e,t){return{usr:e.state,key:e.key,idx:t}}function Hm(e,t,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:n,key:t&&t.key||r||SD()})}function qd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Li.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Zl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Li.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:o,location:m.location,delta:v})}function h(w,v){o=Li.Push;let x=Hm(m.location,w,v);u=d()+1;let y=r0(x,u),S=m.createHref(x);try{a.pushState(y,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}s&&c&&c({action:o,location:m.location,delta:1})}function p(w,v){o=Li.Replace;let x=Hm(m.location,w,v);u=d();let y=r0(x,u),S=m.createHref(x);a.replaceState(y,"",S),s&&c&&c({action:o,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:qd(w);return x=x.replace(/ $/,"%20"),ot(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return o},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(n0,f),c=w,()=>{i.removeEventListener(n0,f),c=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return a.go(w)}};return m}var i0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(i0||(i0={}));function _D(e,t,n){return n===void 0&&(n="/"),ED(e,t,n,!1)}function ED(e,t,n,r){let i=typeof t=="string"?Co(t):t,s=oy(i.pathname||"/",n);if(s==null)return null;let a=rP(e);PD(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=DD(s);o=FD(a[c],u,r)}return o}function rP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Qi([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rP(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:AD(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of iP(s.path))i(s,a,c)}),t}function iP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=iP(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function PD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ID(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CD=/^:[\w-]+$/,kD=3,RD=2,ND=1,TD=10,OD=-2,s0=e=>e==="*";function AD(e,t){let n=e.split("/"),r=n.length;return n.some(s0)&&(r+=OD),t&&(r+=RD),n.filter(i=>!s0(i)).reduce((i,s)=>i+(CD.test(s)?kD:s===""?ND:TD),r)}function ID(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FD(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=a0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=a0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Qi([s,f.pathname]),pathnameBase:zD(Qi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Qi([s,f.pathnameBase]))}return a}function a0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$D(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function $D(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function DD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Co(e):e;return{pathname:n?n.startsWith("/")?n:MD(n,t):t,search:BD(r),hash:HD(i)}}function MD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ly(e,t){let n=UD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Co(e):(i=Zl({},e),ot(!i.pathname||!i.pathname.includes("?"),Hh("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Hh("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Hh("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=LD(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qi=e=>e.join("/").replace(/\/\/+/g,"/"),zD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sP=["post","put","patch","delete"];new Set(sP);const VD=["get",...sP];new Set(VD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}const uy=b.createContext(null),qD=b.createContext(null),as=b.createContext(null),Ff=b.createContext(null),os=b.createContext({outlet:null,matches:[],isDataRoute:!1}),aP=b.createContext(null);function QD(e,t){let{relative:n}=t===void 0?{}:t;ko()||ot(!1);let{basename:r,navigator:i}=b.useContext(as),{hash:s,pathname:a,search:o}=lP(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Qi([r,a])),i.createHref({pathname:c,search:o,hash:s})}function ko(){return b.useContext(Ff)!=null}function Js(){return ko()||ot(!1),b.useContext(Ff).location}function oP(e){b.useContext(as).static||b.useLayoutEffect(e)}function $f(){let{isDataRoute:e}=b.useContext(os);return e?aL():KD()}function KD(){ko()||ot(!1);let e=b.useContext(uy),{basename:t,future:n,navigator:r}=b.useContext(as),{matches:i}=b.useContext(os),{pathname:s}=Js(),a=JSON.stringify(ly(i,n.v7_relativeSplatPath)),o=b.useRef(!1);return oP(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=cy(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Qi([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function lP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(as),{matches:i}=b.useContext(os),{pathname:s}=Js(),a=JSON.stringify(ly(i,r.v7_relativeSplatPath));return b.useMemo(()=>cy(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function GD(e,t){return JD(e,t)}function JD(e,t,n,r){ko()||ot(!1);let{navigator:i}=b.useContext(as),{matches:s}=b.useContext(os),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Js(),d;if(t){var f;let w=typeof t=="string"?Co(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||ot(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=_D(e,{pathname:p}),m=tL(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Qi([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Qi([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&m?b.createElement(Ff.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Li.Pop}},m):m}function YD(){let e=sL(),t=WD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const XD=b.createElement(YD,null);class ZD extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(os.Provider,{value:this.props.routeContext},b.createElement(aP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eL(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(uy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(os.Provider,{value:t},r)}function tL(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||ot(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||XD,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),x=()=>{let y;return p?y=m:g?y=w:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,b.createElement(eL,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(ZD,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var cP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cP||{}),Qd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qd||{});function nL(e){let t=b.useContext(uy);return t||ot(!1),t}function rL(e){let t=b.useContext(qD);return t||ot(!1),t}function iL(e){let t=b.useContext(os);return t||ot(!1),t}function uP(e){let t=iL(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function sL(){var e;let t=b.useContext(aP),n=rL(Qd.UseRouteError),r=uP(Qd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aL(){let{router:e}=nL(cP.UseNavigateStable),t=uP(Qd.UseNavigateStable),n=b.useRef(!1);return oP(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ec({fromRouteId:t},s)))},[e,t])}function dP(e){let{to:t,replace:n,state:r,relative:i}=e;ko()||ot(!1);let{future:s,static:a}=b.useContext(as),{matches:o}=b.useContext(os),{pathname:c}=Js(),u=$f(),d=cy(t,ly(o,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Nn(e){ot(!1)}function oL(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Li.Pop,navigator:s,static:a=!1,future:o}=e;ko()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:a,future:ec({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=Co(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=b.useMemo(()=>{let w=oy(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:b.createElement(as.Provider,{value:u},b.createElement(Ff.Provider,{children:n,value:m}))}function lL(e){let{children:t,location:n}=e;return GD(Wm(t),n)}new Promise(()=>{});function Wm(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Wm(r.props.children,s));return}r.type!==Nn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wm(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(this,arguments)}function cL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dL(e,t){return e.button===0&&(!t||t==="_self")&&!uL(e)}const fL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hL="6";try{window.__reactRouterVersion=hL}catch{}const pL="startTransition",o0=qg[pL];function mL(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=wD({window:i,v5Compat:!0}));let a=s.current,[o,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&o0?o0(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.createElement(oL,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const gL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=cL(t,fL),{basename:p}=b.useContext(as),g,m=!1;if(typeof u=="string"&&vL.test(u)&&(g=u,gL))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),_=oy(S.pathname,p);S.origin===y.origin&&_!=null?u=_+S.search+S.hash:m=!0}catch{}let w=QD(u,{relative:i}),v=yL(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(y){r&&r(y),y.defaultPrevented||v(y)}return b.createElement("a",Vm({},h,{href:g||w,onClick:m||s?r:x,ref:n,target:c}))});var l0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l0||(l0={}));var c0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(c0||(c0={}));function yL(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=$f(),u=Js(),d=lP(e,{relative:a});return b.useCallback(f=>{if(dL(f,n)){f.preventDefault();let h=r!==void 0?r:qd(u)===qd(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,r,i,n,e,s,a,o])}const xL="modulepreload",bL=function(e){return"/"+e},u0={},qc=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=bL(c),c in u0)return;u0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xL,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},wL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class dy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class SL extends dy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class d0 extends dy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class f0 extends dy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qm||(qm={}));var jL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class _L{constructor(t,{headers:n={},customFetch:r,region:i=qm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=wL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return jL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(m=>{throw new SL(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new d0(f);if(!f.ok)throw new f0(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof f0||i instanceof d0?i.context:void 0}}})}}var rn={},fy={},Df={},Qc={},Lf={},Mf={},EL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ho=EL();const PL=ho.fetch,fP=ho.fetch.bind(ho),hP=ho.Headers,CL=ho.Request,kL=ho.Response,Ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:hP,Request:CL,Response:kL,default:fP,fetch:PL},Symbol.toStringTag,{value:"Module"})),RL=kT(Ro);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let NL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=NL;var pP=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mf,"__esModule",{value:!0});const TL=pP(RL),OL=pP(Uf);let AL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=TL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let u=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new OL.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Mf.default=AL;var IL=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lf,"__esModule",{value:!0});const FL=IL(Mf);let $L=class extends FL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lf.default=$L;var DL=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qc,"__esModule",{value:!0});const LL=DL(Lf);let ML=class extends LL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Qc.default=ML;var UL=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});const qo=UL(Qc);let zL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new qo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new qo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Df.default=zL;var zf={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.version=void 0;Bf.version="0.0.0-automated";Object.defineProperty(zf,"__esModule",{value:!0});zf.DEFAULT_HEADERS=void 0;const BL=Bf;zf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${BL.version}`};var mP=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fy,"__esModule",{value:!0});const HL=mP(Df),WL=mP(Qc),VL=zf;let qL=class gP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},VL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new HL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new WL.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fy.default=qL;var No=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const vP=No(fy);rn.PostgrestClient=vP.default;const yP=No(Df);rn.PostgrestQueryBuilder=yP.default;const xP=No(Qc);rn.PostgrestFilterBuilder=xP.default;const bP=No(Lf);rn.PostgrestTransformBuilder=bP.default;const wP=No(Mf);rn.PostgrestBuilder=wP.default;const SP=No(Uf);rn.PostgrestError=SP.default;var QL=rn.default={PostgrestClient:vP.default,PostgrestQueryBuilder:yP.default,PostgrestFilterBuilder:xP.default,PostgrestTransformBuilder:bP.default,PostgrestBuilder:wP.default,PostgrestError:SP.default};const{PostgrestClient:KL,PostgrestQueryBuilder:RJ,PostgrestFilterBuilder:NJ,PostgrestTransformBuilder:TJ,PostgrestBuilder:OJ,PostgrestError:AJ}=QL;function GL(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const JL=GL(),YL="2.11.15",XL=`realtime-js/${YL}`,ZL="1.0.0",jP=1e4,e4=1e3;var Sl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sl||(Sl={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var Qm;(function(e){e.websocket="websocket"})(Qm||(Qm={}));var ws;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ws||(ws={}));class t4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class _P{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const h0=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=n4(a,e,t,i),s),{})},n4=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?EP(s,a):Km(a)},EP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return a4(t,n)}switch(e){case Le.bool:return r4(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return i4(t);case Le.json:case Le.jsonb:return s4(t);case Le.timestamp:return o4(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Km(t);default:return Km(t)}},Km=e=>e,r4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},s4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},a4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>EP(t,o))}return e},o4=e=>typeof e=="string"?e.replace(" ","T"):e,PP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wh{constructor(t,n,r={},i=jP){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p0||(p0={}));class jl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=jl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jl.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(m0||(m0={}));var g0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(g0||(g0={}));var Br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class hy{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new _P(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new jl(this),this.broadcastEndpointURL=PP(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Br.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Br.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Br.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const w=h[m],{filter:{event:v,schema:x,table:y,filter:S}}=w,_=d&&d[m];if(_&&_.event===v&&_.schema===x&&_.table===y&&_.filter===S)g.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=Ft.errored,t==null||t(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Br.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ft.errored,t==null||t(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Wh(this,Yn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wh(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Yn;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,w,v,x,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:w,commit_timestamp:v,type:x,errors:y}=g;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&hy.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=h0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=h0(t.columns,t.old_record)),n}}const v0=()=>{},l4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c4{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jP,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=v0,this.ref=0,this.logger=v0,this.conn=null,this.sendBuffer=[],this.serializer=new t4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>qc(async()=>{const{default:c}=await Promise.resolve().then(()=>Ro);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Qm.websocket}`,this.httpEndpoint=PP(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _P(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=JL),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZL}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sl.connecting:return ws.Connecting;case Sl.open:return ws.Open;case Sl.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new hy(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:XL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Yn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(e4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([l4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class py extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u4 extends py{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gm extends py{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var d4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const CP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},f4=()=>d4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qc(()=>Promise.resolve().then(()=>Ro),void 0)).Response:Response}),Jm=e=>{if(Array.isArray(e))return e.map(n=>Jm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Jm(r)}),t},h4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ys=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Vh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p4=(e,t,n)=>Ys(void 0,void 0,void 0,function*(){const r=yield f4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new u4(Vh(i),s,a))}).catch(i=>{t(new Gm(Vh(i),i))}):t(new Gm(Vh(e),e))}),m4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(h4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Kc(e,t,n,r,i,s){return Ys(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,m4(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>p4(c,o,r))})})}function Kd(e,t,n,r){return Ys(this,void 0,void 0,function*(){return Kc(e,"GET",t,n,r)})}function Hr(e,t,n,r,i){return Ys(this,void 0,void 0,function*(){return Kc(e,"POST",t,r,i,n)})}function Ym(e,t,n,r,i){return Ys(this,void 0,void 0,function*(){return Kc(e,"PUT",t,r,i,n)})}function g4(e,t,n,r){return Ys(this,void 0,void 0,function*(){return Kc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function kP(e,t,n,r,i){return Ys(this,void 0,void 0,function*(){return Kc(e,"DELETE",t,r,i,n)})}var Xt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const v4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y4{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=CP(i)}uploadOrUpdate(t,n,r,i){return Xt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},y0),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Ym:Hr)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Xt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:y0.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ym(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new py("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Hr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const i=yield Hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}download(t,n){return Xt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Kd(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Kd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jm(r),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield g4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(vt(r)&&r instanceof Gm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield kP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},v4),n),{prefix:t||""});return{data:yield Hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const x4="2.10.4",b4={"X-Client-Info":`storage-js/${x4}`};var ia=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class w4{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},b4),n),this.fetch=CP(r)}listBuckets(){return ia(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return ia(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ia(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ia(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ia(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ia(this,void 0,void 0,function*(){try{return{data:yield kP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}}class S4 extends w4{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new y4(this.url,this.headers,t,this.fetch)}}const j4="2.53.0";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const _4={"X-Client-Info":`supabase-js-${sl}/${j4}`},E4={headers:_4},P4={schema:"public"},C4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k4={};var R4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const N4=e=>{let t;return e?t=e:typeof fetch>"u"?t=fP:t=fetch,(...n)=>t(...n)},T4=()=>typeof Headers>"u"?hP:Headers,O4=(e,t,n)=>{const r=N4(n),i=T4();return(s,a)=>R4(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var A4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function I4(e){return e.endsWith("/")?e:e+"/"}function F4(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>A4(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const RP="2.71.1",va=30*1e3,Xm=3,qh=Xm*va,$4="http://localhost:9999",D4="supabase.auth.token",L4={"X-Client-Info":`gotrue-js/${RP}`},Zm="X-Supabase-Api-Version",NP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U4=10*60*1e3;class my extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z4 extends my{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function B4(e){return pe(e)&&e.name==="AuthApiError"}class TP extends my{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ls extends my{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ji extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H4(e){return pe(e)&&e.name==="AuthSessionMissingError"}class ku extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ru extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nu extends ls{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W4(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class x0 extends ls{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eg extends ls{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Qh(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class b0 extends ls{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tg extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w0=` 	
\r=`.split(""),V4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<w0.length;t+=1)e[w0[t].charCodeAt(0)]=-2;for(let t=0;t<Gd.length;t+=1)e[Gd[t].charCodeAt(0)]=t;return e})();function S0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Gd[r]),t.queuedBits-=6}}function OP(e,t,n){const r=V4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j0(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{K4(a,r,n)};for(let a=0;a<e.length;a+=1)OP(e.charCodeAt(a),i,s);return t.join("")}function q4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Q4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}q4(r,t)}}function K4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function G4(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)OP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function J4(e){const t=[];return Q4(e,n=>t.push(n)),new Uint8Array(t)}function Y4(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>S0(i,n,r)),S0(null,n,r),t.join("")}function X4(e){return Math.round(Date.now()/1e3)+e}function Z4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},AP=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function eM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const IP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ya=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ps=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yi=async(e,t)=>{await e.removeItem(t)};class Hf{constructor(){this.promise=new Hf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hf.promiseConstructor=Promise;function Kh(e){const t=e.split(".");if(t.length!==3)throw new tg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!M4.test(t[r]))throw new tg("JWT not in base64url format");return{header:JSON.parse(j0(t[0])),payload:JSON.parse(j0(t[1])),signature:G4(t[2]),raw:{header:t[0],payload:t[1]}}}async function nM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rM(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function iM(e){return("0"+e.toString(16)).substr(-2)}function sM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,iM).join("")}async function aM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function oM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await aM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sa(e,t,n=!1){const r=sM();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ya(e,`${t}-code-verifier`,i);const s=await oM(r);return[s,r===s?"plain":"s256"]}const lM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cM(e){const t=e.headers.get(Zm);if(!t||!t.match(lM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aa(e){if(!fM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _0(e){return JSON.parse(JSON.stringify(e))}var hM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pM=[502,503,504];async function E0(e){var t;if(!tM(e))throw new eg(xs(e),0);if(pM.includes(e.status))throw new eg(xs(e),e.status);let n;try{n=await e.json()}catch(s){throw new TP(xs(s),s)}let r;const i=cM(e);if(i&&i.getTime()>=NP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new b0(xs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new b0(xs(n),e.status,n.weak_password.reasons);throw new z4(xs(n),e.status||500,r)}const mM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Zm]||(s[Zm]=NP["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await gM(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function gM(e,t,n,r,i,s){const a=mM(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new eg(xs(c),0)}if(o.ok||await E0(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await E0(c)}}function Mr(e){var t;let n=null;bM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=X4(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function P0(e){const t=Mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vM(e){return{data:e,error:null}}function yM(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=hM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function xM(e){return e}function bM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jh=["global","local","others"];var wM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class SM{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=IP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Jh[0]){if(Jh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wM(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ri})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xM});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){aa(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ri})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){aa(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){aa(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){aa(t.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){aa(t.userId),aa(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function C0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oa={debug:!!(globalThis&&AP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _M extends FP{}async function EM(e,t,n){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _M(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jM();const PM={url:$4,storageKey:D4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function k0(e,t,n){return await n()}const la={};class tc{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IP(i.fetch),this.lock=i.lock||k0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EM:this.lock=k0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=C0(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=la[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=la[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=eM(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),W4(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new TP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mr}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await sa(this.storage,this.storageKey)),s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Mr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mr})}else throw new Ru("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P0})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:P0})}else throw new Ru("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ku}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:w,wallet:v,statement:x,options:y}=t;let S;if(Vn())if(typeof v=="object")S=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:w,error:v}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Y4(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mr});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ku}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await ps(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mr});if(await yi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ku}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(pe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ku}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sa(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ru("You must provide either an email or phone number.")}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Mr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await sa(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:vM})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ji;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ru("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ps(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Gh()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ri}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ri})})}catch(n){if(pe(n))return H4(n)&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ji;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await sa(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Ri});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Kh(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vn())throw new Nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new x0("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new Nu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(B4(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Z4(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sa(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await rM(async i=>(i>0&&await nM(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mr})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Qh(s)&&Date.now()+a-r<va})}catch(r){if(this._debug(n,"error",r),pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ps(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ya(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Gh()}else if(i&&!i.user&&!i.user){const a=await ps(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await yi(this.storage,this.storageKey+"-user"),await ya(this.storage,this.storageKey,i)):i.user=Gh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Qh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ji;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),pe(s)){const a={session:null,error:s};return Qh(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ya(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=_0(i);await ya(this.storage,this.storageKey,s)}else{const i=_0(n);await ya(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yi(this.storage,this.storageKey),await yi(this.storage,this.storageKey+"-code-verifier"),await yi(this.storage,this.storageKey+"-user"),this.userStorage&&await yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${va}ms, refresh threshold is ${Xm} ticks`),i<=Xm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof FP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await sa(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Kh(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+U4>i)return r;const{data:s,error:a}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Kh(r);n!=null&&n.allowExpired||uM(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=dM(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,J4(`${o}.${c}`)))throw new tg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}tc.nextInstanceID=0;const CM=tc;class kM extends CM{constructor(t){super(t)}}var RM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class NM{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=I4(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:P4,realtime:k4,auth:Object.assign(Object.assign({},C4),{storageKey:u}),global:E4},f=F4(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=O4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new KL(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new S4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _L(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return RM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kM({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new c4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TM=(e,t,n)=>new NM(e,t,n);function OM(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}OM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AM="https://wrodvaatdujbpfpvrzge.supabase.co",IM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",X=TM(AM,IM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$P=b.createContext(void 0),rt=()=>{const e=b.useContext($P);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},FM=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(null),[s,a]=b.useState(!0);b.useEffect(()=>{const{data:{subscription:f}}=X.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:g,error:m}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(m||!g)return;const{data:w,error:v}=await X.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!w)return;if(w.plan_type==="freemium"){const{data:x,error:y}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!y&&x&&new Date(x.expires_at)<=new Date&&await X.auth.signOut()}}catch(g){console.error("Error checking trial status:",g)}},0),a(!1)});return X.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const o=async()=>{const{error:f}=await X.auth.signOut();if(f)throw console.error("Error signing out:",f),f},c=async(f,h)=>{const{data:p,error:g}=await X.auth.signInWithPassword({email:f,password:h});if(p!=null&&p.user&&!g)try{const{data:m,error:w}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!w&&m){const{data:v,error:x}=await X.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!x&&v&&v.plan_type==="freemium"){const{data:y,error:S}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&y&&new Date(y.expires_at)<=new Date)return await X.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:p,error:g}},u=async(f,h,p)=>{const{data:g,error:m}=await X.auth.signUp({email:f,password:h,options:{data:p}});return{data:g,error:m}},d=async()=>{const{data:f,error:h}=await X.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:h}};return l.jsx($P.Provider,{value:{user:t,session:r,loading:s,signOut:o,signIn:c,signUp:u,signInWithGoogle:d},children:e})},DP=b.createContext(void 0),gy=()=>{const e=b.useContext(DP);if(!e)throw new Error("useUser must be used within a UserProvider");return e},$M=({children:e})=>{const{user:t}=rt(),[n,r]=b.useState(null),[i,s]=b.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await X.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u&&u.code!=="PGRST116"){console.error("Error fetching user profile:",u),r(null),s(!1);return}const{data:d}=await X.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single(),f={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:d==null?void 0:d.role};r(f)}catch(c){console.error("Error in fetchProfile:",c),r(null)}s(!1)};b.useEffect(()=>{a()},[t]);const o=async()=>{s(!0),await a()};return l.jsx(DP.Provider,{value:{userProfile:n,loading:i,refreshProfile:o},children:e})},LP=b.createContext(void 0),di=()=>{const e=b.useContext(LP);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},DM=({children:e})=>{const{user:t}=rt(),{userProfile:n}=gy(),[r,i]=b.useState(null),[s,a]=b.useState(!0),o=async()=>{if(!t||!(n!=null&&n.workspace_id)){i(null),a(!1);return}try{const{data:u,error:d}=await X.from("workspaces").select("*").eq("id",n.workspace_id).single();d?(console.error("Error fetching workspace:",d),i(null)):i(u)}catch(u){console.error("Error in fetchWorkspace:",u),i(null)}a(!1)};b.useEffect(()=>{o()},[t,n]);const c=async()=>{a(!0),await o()};return l.jsx(LP.Provider,{value:{currentWorkspace:r,loading:s,refreshWorkspace:c},children:e})},To=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),[n,r]=b.useState([]),[i,s]=b.useState([]);b.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await X.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(p=>p.source_name));const{data:h}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=b.useCallback(d=>!!e,[e]),o=b.useCallback(d=>!n.includes(d),[n]),c=b.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=b.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:o,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},MP=b.createContext(void 0),Wf=()=>{const e=b.useContext(MP);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},LM=({children:e})=>{const{user:t}=rt(),{canUseFavorites:n}=To(),[r,i]=b.useState([]),[s,a]=b.useState(!1),[o,c]=b.useState(0),u=3e4,d=b.useRef(0),f=b.useCallback((v,x)=>({id:x,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=b.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),d.current=0;return}const x=Date.now();if(!(!v&&d.current&&x-d.current<u))try{a(!0);const{data:y,error:S}=await X.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!y||y.length===0){i([]),c(x),d.current=x;return}const _=y.map(j=>j.item_data?f(j.item_data,j.item_id):null).filter(Boolean);i(_),c(x),d.current=x}catch(y){console.error("Error fetching favorites:",y)}finally{a(!1)}},[t,n,f]),p=b.useCallback(async v=>{if(!(!t||!n()))try{const{error:x}=await X.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(x)throw x;i(y=>[...y,{...v,isFavorite:!0}]),c(0)}catch(x){throw console.error("Error adding to favorites:",x),x}},[t,n]),g=b.useCallback(async v=>{if(!(!t||!n()))try{i(y=>y.filter(S=>S.id!==v));const{error:x}=await X.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(x)throw await h(!0),x;c(0)}catch(x){throw console.error("Error removing from favorites:",x),x}},[t,n,h]),m=b.useMemo(()=>new Set(r.map(v=>v.id)),[r]),w=b.useCallback(v=>m.has(v),[m]);return b.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),l.jsx(MP.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:g,isFavorite:w,refreshFavorites:h},children:e})},MM=Hc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ii=b.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ie(MM({variant:t}),e),...n}));ii.displayName="Alert";const UM=b.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));UM.displayName="AlertTitle";const si=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));si.displayName="AlertDescription";const vy=Hc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Us:"button";return l.jsx(a,{className:ie(vy({variant:t,size:n,className:e})),ref:s,...i})});Q.displayName="Button";const UP=()=>{const{user:e}=rt(),[t,n]=b.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return b.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,o,c)=>{if(!e)return!1;try{const{data:u,error:d}=await X.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:o,workspace_name:c},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await X.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await X.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await X.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},zM=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=UP(),{toast:r}=Rt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return l.jsxs(ii,{className:"bg-orange-50 border-orange-200 mb-4",children:[l.jsx(zs,{className:"h-4 w-4 text-orange-600"}),l.jsxs(si,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-orange-800",children:[l.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",l.jsx("strong",{children:t.email})," dans le workspace"," ",l.jsx("strong",{children:t.workspace_name})]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[l.jsx(lE,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},_e=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const Ae=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const Ie=b.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const wn=b.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));wn.displayName="CardDescription";const Ee=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const BM=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));BM.displayName="CardFooter";function HM(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,WM(i,...t)]}function WM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var VM=b.createContext(void 0);function yy(e){const t=b.useContext(VM);return e||t||"ltr"}var Yh="rovingFocusGroup.onEntryFocus",qM={bubbles:!1,cancelable:!0},Vf="RovingFocusGroup",[ng,zP,QM]=Lv(Vf),[KM,BP]=HM(Vf,[QM]),[GM,JM]=KM(Vf),HP=b.forwardRef((e,t)=>l.jsx(ng.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(ng.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(YM,{...e,ref:t})})}));HP.displayName=Vf;var YM=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=b.useRef(null),p=ke(t,h),g=yy(s),[m=null,w]=ti({prop:a,defaultProp:o,onChange:c}),[v,x]=b.useState(!1),y=dn(u),S=zP(n),_=b.useRef(!1),[j,C]=b.useState(0);return b.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Yh,y),()=>k.removeEventListener(Yh,y)},[y]),l.jsx(GM,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:b.useCallback(k=>w(k),[w]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:b.useCallback(()=>C(k=>k-1),[]),children:l.jsx(le.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{_.current=!0}),onFocus:re(e.onFocus,k=>{const A=!_.current;if(k.target===k.currentTarget&&A&&!v){const F=new CustomEvent(Yh,qM);if(k.currentTarget.dispatchEvent(F),!F.defaultPrevented){const I=S().filter(O=>O.focusable),T=I.find(O=>O.active),M=I.find(O=>O.id===m),D=[T,M,...I].filter(Boolean).map(O=>O.ref.current);qP(D,d)}}_.current=!1}),onBlur:re(e.onBlur,()=>x(!1))})})}),WP="RovingFocusGroupItem",VP=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=Jr(),c=s||o,u=JM(WP,n),d=u.currentTabStopId===c,f=zP(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),l.jsx(ng.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:re(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:re(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:re(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=e3(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const x=v.indexOf(g.currentTarget);v=u.loop?t3(v,x+1):v.slice(x+1)}setTimeout(()=>qP(v))}})})})});VP.displayName=WP;var XM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function e3(e,t,n){const r=ZM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return XM[r]}function qP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function t3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var n3=HP,r3=VP,xy="Tabs",[i3,IJ]=ci(xy,[BP]),QP=BP(),[s3,by]=i3(xy),KP=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=yy(o),[f,h]=ti({prop:r,onChange:i,defaultProp:s});return l.jsx(s3,{scope:n,baseId:Jr(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(le.div,{dir:d,"data-orientation":a,...u,ref:t})})});KP.displayName=xy;var GP="TabsList",JP=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=by(GP,n),a=QP(n);return l.jsx(n3,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(le.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});JP.displayName=GP;var YP="TabsTrigger",XP=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=by(YP,n),o=QP(n),c=tC(a.baseId,r),u=nC(a.baseId,r),d=r===a.value;return l.jsx(r3,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:re(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});XP.displayName=YP;var ZP="TabsContent",eC=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=by(ZP,n),c=tC(o.baseId,r),u=nC(o.baseId,r),d=r===o.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(ui,{present:i||d,children:({present:h})=>l.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});eC.displayName=ZP;function tC(e,t){return`${e}-trigger-${t}`}function nC(e,t){return`${e}-content-${t}`}var a3=KP,rC=JP,iC=XP,sC=eC;const rg=a3,Jd=b.forwardRef(({className:e,...t},n)=>l.jsx(rC,{ref:n,className:ie("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));Jd.displayName=rC.displayName;const Vr=b.forwardRef(({className:e,...t},n)=>l.jsx(iC,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Vr.displayName=iC.displayName;const qr=b.forwardRef(({className:e,...t},n)=>l.jsx(sC,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));qr.displayName=sC.displayName;const xe=({src:e,alt:t,className:n})=>l.jsx("span",{role:"img","aria-label":t,className:ie("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),o3=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"outline",children:"S'inscrire"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{children:"Se connecter"})})]})]})})}),l.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",l.jsx("br",{}),"de FE le plus puissant",l.jsx("br",{}),"du marché"]}),l.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",l.jsx("br",{}),"agrégés et enrichis par nos experts."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),l.jsx("div",{className:"order-1 lg:order-2",children:l.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),l.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto text-center",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",l.jsx("br",{}),"du moteur de recherche"]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:l.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",l.jsx("br",{}),"puissant et personnalisable"]}),l.jsxs(rg,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[l.jsxs(Jd,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[l.jsx(Vr,{value:"donnees",className:"rounded-full",children:"Données"}),l.jsx(Vr,{value:"recherche",className:"rounded-full",children:"Recherche"}),l.jsx(Vr,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),l.jsx(Vr,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),l.jsxs(qr,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",l.jsx("br",{}),"données carbone"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",l.jsx("br",{}),"données de références internationales."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",l.jsx("br",{}),"qualité des FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",l.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),l.jsxs(qr,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",l.jsx("br",{}),"d'utilisation"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",l.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",l.jsx("br",{}),"automatiques et tri personnalisable."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",l.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),l.jsxs(qr,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",l.jsx("br",{}),"selon vos besoins"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",l.jsx("br",{}),"thématiques pour un accès rapide."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",l.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",l.jsx("br",{}),"base de données personnalisée."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),l.jsxs(qr,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",l.jsx("br",{}),"la recherche de FE"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",l.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",l.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",l.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",l.jsx("br",{}),"sur une seule plateforme"]}),l.jsxs(rg,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[l.jsxs(Jd,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[l.jsx(Vr,{value:"standards",className:"rounded-full",children:"Datasets standards"}),l.jsx(Vr,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),l.jsx(qr,{value:"standards",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="AIB"?l.jsx(xe,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):e==="Agribalyse"?l.jsx(xe,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):e==="BEIS"?l.jsx(xe,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):e==="Base Carbone"?l.jsx(xe,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):e==="Base Impacts"?l.jsx(xe,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):e==="CCF"?l.jsx(xe,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):e==="Climate Trace"?l.jsx(xe,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):e==="EEA"?l.jsx(xe,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):e==="EPA"?l.jsx(xe,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):e==="Exiobase"?l.jsx(xe,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(xe,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):e==="Ecobalyse"?l.jsx(xe,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):e==="Electricity Maps"?l.jsx(xe,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):e==="Ember"?l.jsx(xe,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):e==="GESPoint5"?l.jsx(xe,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):e==="GLEC"?l.jsx(xe,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):e==="Kering"?l.jsx(xe,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):e==="OMEGA TP"?l.jsx(xe,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):e==="Open CEDA"?l.jsx(xe,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):e==="PCAF"?l.jsx(xe,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})}),l.jsx(qr,{value:"premium",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="Inies"?l.jsx(xe,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):e==="Eco-platform"?l.jsx(xe,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(xe,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",l.jsx("br",{}),"structurée et enrichie par nos",l.jsx("br",{}),"experts"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",l.jsx("br",{}),"à vos besoins"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs(_e,{className:"p-8 border border-border",children:[l.jsxs(Ae,{className:"pb-4",children:[l.jsx(Ie,{className:"text-xl font-semibold",children:"STANDARD"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),l.jsxs(Ee,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsx(Q,{className:"w-full mt-6",children:"En savoir plus"})]})]}),l.jsxs(_e,{className:"p-8 relative border border-border",children:[l.jsxs(Ae,{className:"pb-4",children:[l.jsx(Ie,{className:"text-xl font-semibold",children:"PREMIUM"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),l.jsxs(Ee,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Export des données"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),l.jsx(Q,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto text-center",children:l.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),l.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),l.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[l.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),l.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(rI,{className:"h-4 w-4"})}),l.jsx(Q,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(cE,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[l.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),l.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[l.jsx(it,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),l.jsx(it,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),l.jsx(it,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]}),xt=b.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xt.displayName="Input";var l3="Label",aC=b.forwardRef((e,t)=>l.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aC.displayName=l3;var oC=aC;const c3=Hc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=b.forwardRef(({className:e,...t},n)=>l.jsx(oC,{ref:n,className:ie(c3(),e),...t}));ut.displayName=oC.displayName;const lC=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const o={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return l.jsxs(Q,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${o[e]} ${a}`,children:[n?l.jsx(co,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx("span",{className:"mr-2",children:s}),i]})},cC=b.createContext(void 0),uC=()=>{const e=b.useContext(cC);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},dC=({children:e})=>{const[t,n]=b.useState({loading:{google:!1},lastError:null}),r=(a,o)=>{n(c=>({...c,loading:{...c.loading,[a]:o}}))},i=a=>{n(o=>({...o,lastError:a}))},s=()=>{i(null)};return l.jsx(cC.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},u3=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{toast:c}=Rt(),{signIn:u,signInWithGoogle:d}=rt(),{ssoState:f,setProviderLoading:h,setLastError:p}=uC(),g=Js();b.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){o(!0);return}try{const{data:{session:y}}=await X.auth.getSession();if(y!=null&&y.user){const{data:S}=await X.from("users").select("workspace_id").eq("user_id",y.user.id).single();if(S){const{data:_}=await X.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((_==null?void 0:_.plan_type)==="freemium"){const{data:j}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();j&&new Date(j.expires_at)<=new Date&&(o(!0),await X.auth.signOut())}}}}catch(y){console.error("Error checking trial status:",y)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),p(null);try{const x=await u(e,n);x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},w=async v=>{h(v,!0),p(null);try{const x=await d();x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Bv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ie,{className:"text-2xl",children:"Se connecter"}),l.jsx(wn,{children:"Connectez-vous à votre compte DataCarb"})]}),l.jsxs(Ee,{children:[a&&l.jsxs(ii,{variant:"destructive",className:"mb-6",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),l.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(co,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(lC,{provider:"google",onClick:()=>w("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:f.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",l.jsx(it,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},d3=()=>l.jsx(dC,{children:l.jsx(u3,{})}),f3=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[a,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState(!1),{toast:g}=Rt(),{signUp:m,signInWithGoogle:w}=rt(),{ssoState:v,setProviderLoading:x,setLastError:y}=uC(),S=async j=>{if(j.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),y(null);try{const C=await m(e,n,{firstName:a,lastName:c,company:d||"Mon Entreprise"});C.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:C.error.message}),y(C.error.message)):(g({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),y("Une erreur inattendue s'est produite")}finally{p(!1)}},_=async j=>{x(j,!0),y(null);try{const C=await w();C.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:C.error.message}),y(C.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),y("Une erreur inattendue s'est produite")}finally{x(j,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Bv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ie,{className:"text-2xl",children:"Créer un compte"}),l.jsx(wn,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),l.jsxs(Ee,{children:[l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"firstName",children:"Prénom"}),l.jsx(xt,{id:"firstName",type:"text",value:a,onChange:j=>o(j.target.value),required:!0,placeholder:"Votre prénom"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"lastName",children:"Nom"}),l.jsx(xt,{id:"lastName",type:"text",value:c,onChange:j=>u(j.target.value),required:!0,placeholder:"Votre nom"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"company",children:"Nom de l'entreprise"}),l.jsx(xt,{id:"company",type:"text",value:d,onChange:j=>f(j.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:j=>t(j.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:j=>r(j.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),l.jsx(xt,{id:"confirmPassword",type:"password",value:i,onChange:j=>s(j.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(co,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(lC,{provider:"google",onClick:()=>_("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:v.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",l.jsx(it,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},h3=()=>l.jsx(dC,{children:l.jsx(f3,{})}),ig="7.16.2";function zt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var wy=zt;zt.prototype._events=void 0;zt.prototype._maxListeners=void 0;zt.defaultMaxListeners=10;zt.prototype.setMaxListeners=function(e){if(!p3(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};zt.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||nc(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(n=this._events[e],fC(n))return!1;if(ai(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(nc(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};zt.prototype.addListener=function(e,t){var n;if(!ai(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,ai(t.listener)?t.listener:t),this._events[e]?nc(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,nc(this._events[e])&&!this._events[e].warned&&(fC(this._maxListeners)?n=zt.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};zt.prototype.on=zt.prototype.addListener;zt.prototype.once=function(e,t){if(!ai(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};zt.prototype.removeListener=function(e,t){var n,r,i,s;if(!ai(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||ai(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(nc(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};zt.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],ai(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};zt.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:ai(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};zt.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(ai(t))return 1;if(t)return t.length}return 0};zt.listenerCount=function(e,t){return e.listenerCount(t)};function ai(e){return typeof e=="function"}function p3(e){return typeof e=="number"}function nc(e){return typeof e=="object"&&e!==null}function fC(e){return e===void 0}const m3=qs(wy);function g3(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var hC=g3,v3=wy,y3=hC;function Gc(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}y3(Gc,v3);Gc.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Gc.prototype.getModifiedState=function(e){return this.fn(e)};Gc.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var x3=Gc;function b3(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function w3(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var Sy={escapeFacetValue:b3,unescapeFacetValue:w3};function S3(e){return typeof e=="object"&&e!==null?jy(Array.isArray(e)?[]:{},e):e}function Yd(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function jy(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(Yd(i)&&Yd(r)?e[n]=jy(i,r):e[n]=S3(r))}return e}function j3(e){Yd(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Yd(r)&&jy(e,r)}return e}var _y=j3;function _3(e){return e&&Object.keys(e).length>0}var Ey=_3;function E3(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Py=E3;function al(e){e=e||{},this.params=e.params||[]}al.prototype={constructor:al,addParams:function(e){var t=this.params.slice();return t.push(e),new al({params:t})},removeParams:function(e){return new al({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var pC=al;function sg(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}sg.prototype={constructor:sg};var mC=sg,Tu=_y;function Ou(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var mt={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:mt._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:mt._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),o=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(o).length>1){var c=a[0].split(o).slice(0,-1).reduce(function(d,f,h){return d.concat({attribute:s.attributes[h],value:h===0?f:[d[d.length-1].value,f].join(o)})},[]);c.forEach(function(u,d){var f=mt._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function h(m){return s.attributes.some(function(w){return w===m.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(m,w){if(Array.isArray(w)){var v=w.filter(function(x){return!h(x)});v.length>0&&m.push(v)}return typeof w=="string"&&!h(w)&&m.push(w),m},[]),g=c[d-1];d>0?f.facetFilters=p.concat(g.attribute+":"+g.value):p.length>0?f.facetFilters=p:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:mt._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=mt._getFacetFilters(e),r=mt._getNumericFilters(e),i=mt._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Ou(Tu({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(o){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[o]&&e.disjunctiveFacetsRefinements[o].length>0?"disjunctive("+o+")":o})).concat(mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=mt._getFacetFilters(e),r=mt._getNumericFilters(e),i=mt._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,Ou(Tu({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=mt._getFacetFilters(e,t,n),i=mt._getNumericFilters(e,t),s=mt._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return o?a.facets=mt._getDisjunctiveHierarchicalFacetAttribute(e,o,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),Ou(Tu({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(o){if(Array.isArray(o)){var c=o.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+o)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(d){r.push(c+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(d){r.push(c+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(c+":"+f)}),r.push(d)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(c){var u=o[c]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(c),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),g,m;if(t===c){if(d.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===d.split(h).length)return;p?(m=p.split(h).length-1,d=p):(m=d.split(h).length-2,d=d.slice(0,d.lastIndexOf(h))),g=f.attributes[m]}else m=d.split(h).length-1,g=f.attributes[m];g&&r.push([g+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),o=s.split(a).length,c=i.attributes.slice(0,o+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",o=a.split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),Ou(Tu({},mt._getHitsSearchParams(i),s))}},P3=mt,Cy=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},Jc=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function C3(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var k3=C3;function gC(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(gC);throw new Error("The value should be a number, a parsable string or an array of those.")}var R3=gC,N3=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},T3=Cy,O3=Ey,A3=Py,bs={addRefinement:function(t,n,r){if(bs.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,T3(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return bs.clearRefinement(t,function(s,a){return n===a});var i=""+r;return bs.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return bs.isRefined(t,n,r)?bs.removeRefinement(t,n,r):bs.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return O3(t)?{}:t;if(typeof n=="string")return A3(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,o){var c=t[o]||[],u=c.filter(function(d){return!n(d,o,r)});return u.length!==c.length&&(i=!0),a[o]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},I3=bs,Xh=Cy,vC=Jc,R0=k3,ag=_y,og=Ey,N0=Py,Zh=R3,F3=N3,et=I3;function ky(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return ky(t[r],n)}):e===t}function $3(e,t){return vC(e,function(n){return ky(n,t)})}function an(e){var t=e?an._parseNumbers(e):{};t.userToken!==void 0&&!F3(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=an.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}an.PARAMETERS=Object.keys(new an);an._parseNumbers=function(e){if(e instanceof an)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var o=s[a],c=o.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return ag(e,t)};an.make=function(t){var n=new an(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};an.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&og(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):og(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};an.prototype={constructor:an,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:et.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:et.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:et.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:et.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=Zh(n);if(this.isNumericRefined(e,t,r))return this;var i=ag({},this.numericRefinements);return i[e]=ag({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&ky(i.val,Zh(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return og(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return N0(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var o=r[a],c={};return o=o||{},Object.keys(o).forEach(function(u){var d=o[u]||[],f=[];d.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||f.push(h)}),f.length!==d.length&&(n=!0),c[u]=f}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:et.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:et.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return et.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:et.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:et.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:et.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return et.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:et.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:et.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:et.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:et.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Xh(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Xh(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Xh(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?et.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?et.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?et.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=Zh(r),a=$3(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=R0(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return R0(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=an.validate(this,t);if(n)throw n;var r=this,i=an._parseNumbers(t),s=Object.keys(this).reduce(function(o,c){return o[c]=r[c],o},{}),a=Object.keys(i).reduce(function(o,c){var u=o[c]!==void 0,d=i[c]!==void 0;return u&&!d?N0(o,[c]):(d&&(o[c]=i[c]),o)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return vC(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var yC=an,D3=function(t){return Array.isArray(t)?t.filter(Boolean):[]},L3=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},M3=Jc,xC=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var o=a.split(":"),c=M3(r,function(u){return u[0]===o[0]});return o.length>1||!c?(s[0].push(o[0]),s[1].push(o[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function U3(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var z3=U3;function B3(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function H3(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var o=-1;++o<s.criteria.length;){var c=B3(s.criteria[o],a.criteria[o]);if(c)return o>=n.length?c:n[o]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var bC=H3,W3=J3,wC=Sy,V3=Jc,q3=xC,Q3=bC,K3=wC.escapeFacetValue,G3=wC.unescapeFacetValue;function J3(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=q3(e._getHierarchicalFacetSortBy(i)),d=n.every(function(p){return p.exhaustive}),f=Y3(u,a,o,c,s),h=n;return o&&(h=n.slice(o.split(a).length)),h.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function Y3(e,t,n,r,i){return function(a,o,c){var u=a;if(c>0){var d=0;for(u=a;d<c;){var f=u&&Array.isArray(u.data)?u.data:[];u=V3(f,function(p){return p.isRefined}),d++}}if(u){var h=Object.keys(o.data).map(function(p){return[p,o.data[p]]}).filter(function(p){var g=p[0];return X3(g,u.path||n,i,t,n,r)});u.data=Q3(h.map(function(p){var g=p[0],m=p[1];return Z3(m,g,t,G3(i),o.exhaustive)}),e[0],e[1])}return a}}function X3(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function Z3(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:K3(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var ep=D3,_l=Cy,SC=Sy,tr=Jc,Qo=L3,e5=xC,T0=z3,jC=bC,O0=SC.escapeFacetValue,_C=SC.unescapeFacetValue,t5=W3;function A0(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function tp(e,t,n){t&&t[n]&&(e.stats=t[n])}function n5(e,t){return tr(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Ki(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=_l(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=A0(e.facets),c=A0(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var h=d[f],p=n5(e.hierarchicalFacets,f);if(p){var g=p.attributes.indexOf(f),m=Qo(e.hierarchicalFacets,function(y){return y.name===p.name});i.hierarchicalFacets[m][g]={attribute:f,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var w=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,x;w&&(x=c[f],i.disjunctiveFacets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},tp(i.disjunctiveFacets[x],r.facets_stats,f)),v&&(x=o[f],i.facets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},tp(i.facets[x],r.facets_stats,f))}}),this.hierarchicalFacets=ep(this.hierarchicalFacets),a.forEach(function(f){var h=t[u],p=h&&h.facets?h.facets:{},g=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(m){var w=p[m],v;if(g){v=Qo(e.hierarchicalFacets,function(S){return S.name===g.name});var x=Qo(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(x===-1)return;i.hierarchicalFacets[v][x].data=i.persistHierarchicalRootCount?T0(i.hierarchicalFacets[v][x].data,w):_l(w,i.hierarchicalFacets[v][x].data)}else{v=c[m];var y=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:T0(y,w),exhaustive:h.exhaustiveFacetsCount},tp(i.disjunctiveFacets[v],h.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(_C(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),g=e.getHierarchicalRefinement(f);g.length===0||g[0].split(p).length<2||t.slice(u).forEach(function(m){var w=m&&m.facets?m.facets:{};Object.keys(w).forEach(function(v){var x=w[v],y=Qo(e.hierarchicalFacets,function(C){return C.name===h.name}),S=Qo(i.hierarchicalFacets[y],function(C){return C.attribute===v});if(S!==-1){var _={};if(g.length>0&&!i.persistHierarchicalRootCount){var j=g[0].split(p)[0];_[j]=i.hierarchicalFacets[y][S].data[j]}i.hierarchicalFacets[y][S].data=_l(_,x,i.hierarchicalFacets[y][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=o[f];i.facets[p]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(g){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(t5(e)),this.facets=ep(this.facets),this.disjunctiveFacets=ep(this.disjunctiveFacets),this._state=e}Ki.prototype.getFacetByName=function(e){function t(n){return n.name===e}return tr(this.facets,t)||tr(this.disjunctiveFacets,t)||tr(this.hierarchicalFacets,t)};function r5(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=tr(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=O0(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=tr(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=O0(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=tr(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),c=_C(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+o,""));var u=c.split(o);return u.unshift(t),EC(s,u,0),s}}function EC(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){EC(r,t,n+1)})}function PC(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return PC(e,o,n,r+1)}),s=e(i,n[r]),a=_l({data:s},t);return a}Ki.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function i5(e,t){return t.sort(e)}function s5(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var o=t.sortRemainingBy,c;return o==="hidden"?n:(o==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(jC(r,c[0],c[1])))}function a5(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Ki.prototype.getFacetValues=function(e,t){var n=r5(this,e);if(n){var r=_l(t,{sortBy:Ki.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return PC(function(o,c){if(r.facetOrdering){var u=a5(i,c);if(u)return s5(o,u)}if(Array.isArray(r.sortBy)){var d=e5(r.sortBy,Ki.DEFAULT_SORT);return jC(o,d[0],d[1])}else if(typeof r.sortBy=="function")return i5(r.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Ki.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return I0(this.facets,e);if(this._state.isDisjunctiveFacet(e))return I0(this.disjunctiveFacets,e)};function I0(e,t){var n=tr(e,function(r){return r.name===t});return n&&n.stats}Ki.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(np(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(np(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(np(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(o5(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function np(e,t,n,r,i){var s=tr(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}function o5(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=tr(r,function(h){return h.name===t}),c=a.reduce(function(h,p){var g=h&&tr(h.data,function(m){return m.name===p});return g!==void 0?g:h},o),u=c&&c.count||0,d=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var CC=Ki,l5=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},c5=Jc,u5=l5;function d5(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function f5(e,t){var n={};t.forEach(function(s){s.forEach(function(a,o){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+o,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:o,count:1})})});var r=d5(n,t.length),i=r.reduce(function(s,a){var o=c5(u5(t),function(c){return c.objectID===a.objectID});return o?s.concat(o):s},[]);return i}var h5=f5,kC="3.26.0",p5=wy,m5=x3,RC=Sy.escapeFacetValue,g5=hC,v5=_y,y5=Ey,x5=Py,NC=pC,b5=mC,ns=P3,Ry=yC,lg=CC,w5=h5,TC=kC;function G(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+TC+")"),this.setClient(e);var i=n||{};i.index=t,this.state=Ry.make(i),this.recommendState=new NC({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}g5(G,p5);G.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};G.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};G.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};G.prototype.recommend=function(){return this._recommend(),this};G.prototype.getQuery=function(){var e=this.state;return ns._getHitsSearchParams(e)};G.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=ns._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new lg(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new lg(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};G.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=v5({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:x5(ns._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};G.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=ns.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?d=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g,m){if(f.indexOf(g.value)>-1){p.facetHits.splice(m,1);return}g.escapedValue=RC(g.value),g.isRefined=o?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};G.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,o;return o=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:ns._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),o.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=RC(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};G.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};G.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};G.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};G.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};G.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};G.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};G.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};G.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};G.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};G.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};G.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};G.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};G.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};G.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};G.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};G.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};G.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};G.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};G.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};G.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};G.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};G.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};G.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};G.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};G.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};G.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};G.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function OC(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}G.prototype.setCurrentPage=OC;G.prototype.setPage=OC;G.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};G.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};G.prototype.setState=function(e){return this._change({state:Ry.make(e),isPageReset:!1}),this};G.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Ry(e),this};G.prototype.hasRefinements=function(e){return y5(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};G.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};G.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};G.prototype.hasTag=function(e){return this.state.isTagRefined(e)};G.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};G.prototype.getIndex=function(){return this.state.index};function AC(){return this.state.page}G.prototype.getCurrentPage=AC;G.prototype.getPage=AC;G.prototype.getTags=function(){return this.state.tagRefinements};G.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var o=s[a];t.push({value:o,operator:a,type:"numeric"})}),t};G.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};G.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};G.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=ns._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var c=o.getModifiedState(t),u=c.index?ns._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}};G.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(o){var c=o.getModifiedState(e),u=ns._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};G.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new NC);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};G.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,o){return o!=="results"&&(a[o]=n[o]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var o=a.state,c=a.queriesCount,u=a.helper,d=i.splice(0,c);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new lg(o,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:o})})}};G.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(o){return i[o]===void 0}).forEach(function(o,c){s[o]||(s[o]=[]),s[o].push(c)}),Object.keys(s).forEach(function(o){var c=s[o],u=r.results[c[0]];if(c.length===1){i[o]=u;return}i[o]=Object.assign({},u,{hits:w5(n,c.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(o){a[o]=i[o]}),t.forEach(function(o){var c=o.state,u=o.helper;if(!o.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new b5(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};G.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};G.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};G.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};G.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};G.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};G.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};G.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};G.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+TC+")"),this.client=e,this)};G.prototype.getClient=function(){return this.client};G.prototype.derive=function(e,t){var n=new m5(this,e,t);return this.derivedHelpers.push(n),n};G.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};G.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var S5=G,IC=S5,j5=pC,_5=mC,E5=yC,P5=CC;function Xs(e,t,n,r){return new IC(e,t,n,r)}Xs.version=kC;Xs.AlgoliaSearchHelper=IC;Xs.SearchParameters=E5;Xs.RecommendParameters=j5;Xs.SearchResults=P5;Xs.RecommendResults=_5;var C5=Xs;const Dt=qs(C5);var k5=0;function R5(e){e.dependsOn==="recommend"&&(e.$$id=k5++)}function st(){}function N5(e){return Object.prototype.toString.call(e).slice(8,-1)}function fi(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(N5(e),`).

`).concat(t))}function F0(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var T5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},FC=/[&<>"']/g,O5=RegExp(FC.source);function A5(e){return e&&O5.test(e)?e.replace(FC,function(t){return T5[t]}):e}var I5={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$C=/&(amp|quot|lt|gt|#39);/g,F5=RegExp($C.source);function $5(e){return e&&F5.test(e)?e.replace($C,function(t){return I5[t]}):e}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function D5(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function L5(e){return cg(e)==="object"&&e!==null}function DC(e){if(!L5(e)||D5(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function M5(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(this,arguments)}function $0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(n),!0).forEach(function(r){LC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LC(e,t,n){return t=U5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U5(e){var t=z5(e,"string");return rc(t)=="symbol"?t:String(t)}function z5(e,t){if(rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var po={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Bt={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function MC(e){return A5(e).replace(new RegExp(po.highlightPreTag,"g"),Bt.highlightPreTag).replace(new RegExp(po.highlightPostTag,"g"),Bt.highlightPostTag)}function Xd(e){return DC(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return Ta(Ta({},t),{},LC({},n,Xd(e[n])))},{}):Array.isArray(e)?e.map(Xd):Ta(Ta({},e),{},{value:MC(e.value)})}function B5(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=ug({},(M5(t),t));return n._highlightResult&&(n._highlightResult=Xd(n._highlightResult)),n._snippetResult&&(n._snippetResult=Xd(n._snippetResult)),n}),e.__escaped=!0),e}function H5(e){return e.map(function(t){return Ta(Ta({},t),{},{highlighted:MC(t.highlighted)})})}function UC(e){var t=Bt.highlightPreTag,n=Bt.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function W5(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function D0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D0(Object(n),!0).forEach(function(r){q5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q5(e,t,n){return t=Q5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q5(e){var t=K5(e,"string");return mo(t)=="symbol"?t:String(t)}function K5(e,t){if(mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function G5(e,t){return Z5(e)||X5(e,t)||Y5(e,t)||J5()}function J5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y5(e,t){if(e){if(typeof e=="string")return L0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L0(e,t)}}function L0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Z5(e){if(Array.isArray(e))return e}function eU(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=c[1],f=c[2],h=f===void 0?"Filter Applied":f,p=c[3],g=p===void 0?{}:p,m=c[0].split(":"),w=G5(m,2),v=w[0],x=w[1],y=typeof r=="string"?r:r(d);if(c.length===1&&mo(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!W5(n,y,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:x,payload:V5({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(y,":").concat(d)]},g),attribute:y})}};return s}function zC(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function M0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M0(Object(n),!0).forEach(function(r){tU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tU(e,t,n){return t=nU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nU(e){var t=rU(e,"string");return go(t)=="symbol"?t:String(t)}function rU(e,t){if(go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iU(e,t){return lU(e)||oU(e,t)||aU(e,t)||sU()}function sU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return U0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(e,t)}}function U0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function lU(e){if(Array.isArray(e))return e}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function cU(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function BC(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&go(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=iU(s,2),o=a[0],c=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((o==="click"||o==="conversion")&&!d)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,g=cU(h),m=g.map(function(v){return v.map(function(x){return x.objectID})}),w=g.map(function(v){return v.map(function(x){return x.__position})});return o==="view"?i.status!=="idle"?[]:g.map(function(v,x){var y;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:o,payload:rp({eventName:d||"Hits Viewed",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,objectIDs:m[x]},f),hits:v,eventModifier:c}}):o==="click"?g.map(function(v,x){var y;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:rp({eventName:d||"Hit Clicked",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,queryID:p,objectIDs:m[x],positions:w[x]},f),hits:v,eventModifier:c}}):o==="conversion"?g.map(function(v,x){var y;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:rp({eventName:d||"Hit Converted",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,queryID:p,objectIDs:m[x]},f),hits:v,eventModifier:c}}):[]}function uU(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=BC({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function dU(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=BC({widgetType:n,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:r});return u.length?"data-insights-event=".concat(zC(u)):""};return i}function Fn(e){return e.$$type==="ais.index"}function dg(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Fn).forEach(function(r){return dg(e,r)})}var fU=Promise.resolve();function Ko(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t===null&&(t=fU.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function hU(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return hU(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function pU(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function ol(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function Hs(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function mU(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function z0(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],o=n[s]||r[s];return[a,o]}else return[e.applicationID,e.apiKey]}function HC(e){var t=Bt.highlightPostTag,n=Bt.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(t);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var gU=new RegExp(/\w/i);function vU(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!gU.test($5(i.value))&&a===s?a:i.isHighlighted}function qf(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function ip(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:ol(r)},a=Hs(i,function(p){return p.name===n}),o;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),d=function(g){return function(m){return g[m]}},f=function(g){a=a&&a.data&&Hs(Object.keys(a.data).map(d(a.data)),function(m){return m.name===u[g]})},h=0;a!==void 0&&h<u.length;++h)f(h);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function yU(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,o=t.facetsExcludes,c=o===void 0?{}:o,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,h=f===void 0?{}:f,p=t.numericRefinements,g=p===void 0?{}:p,m=t.tagRefinements,w=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var x=a[v];x.forEach(function(y){i.push(ip(t,"facet",v,y,r.facets))})}),Object.keys(c).forEach(function(v){var x=c[v];x.forEach(function(y){i.push({type:"exclude",attribute:v,name:y,exclude:!0})})}),Object.keys(d).forEach(function(v){var x=d[v];x.forEach(function(y){i.push(ip(t,"disjunctive",v,pU(y),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var x=h[v];x.forEach(function(y){i.push(ip(t,"hierarchical",v,y,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var x=g[v];Object.keys(x).forEach(function(y){var S=y,_=x[S],j=Array.isArray(_)?_:[_];j.forEach(function(C){i.push({type:"numeric",attribute:v,name:"".concat(C),numericValue:C,operator:S})})})}),w.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function B0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B0(Object(n),!0).forEach(function(r){xU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xU(e,t,n){return t=bU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bU(e){var t=wU(e,"string");return ic(t)=="symbol"?t:String(t)}function wU(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SU(e,t,n){return e.map(function(r,i){return H0(H0({},r),{},{__position:n*t+i+1})})}function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function W0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W0(Object(n),!0).forEach(function(r){jU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jU(e,t,n){return t=_U(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _U(e){var t=EU(e,"string");return sc(t)=="symbol"?t:String(t)}function EU(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PU(e,t){return t?e.map(function(n){return V0(V0({},n),{},{__queryID:t})}):e}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(r){CU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CU(e,t,n){return t=kU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kU(e){var t=RU(e,"string");return ac(t)=="symbol"?t:String(t)}function RU(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NU(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?Q0(Q0({},r),s.recommendResults.results):r},{});e._recommendCache=n}function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function TU(e,t){return FU(e)||IU(e,t)||AU(e,t)||OU()}function OU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(e,t){if(e){if(typeof e=="string")return K0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(e,t)}}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function FU(e){if(Array.isArray(e))return e}function G0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(n),!0).forEach(function(r){WC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WC(e,t,n){return t=$U(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){var t=DU(e,"string");return oc(t)=="symbol"?t:String(t)}function DU(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LU(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,o){var c=t[o],u=c.state,d=c.requestParams,f=c.results,h=f&&u?f.map(function(p,g){return Go({indexName:u.index||p.index},d!=null&&d[g]||p.params?{params:sp((d==null?void 0:d[g])||MU(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,o){var c=t[o].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return Go(Go({},f),{},{params:sp(f.params)})}):sp(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=Go(Go({},e.cache),{},WC({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function MU(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=TU(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function sp(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function J0(e){return e!==Object(e)}function VC(e,t){if(e===t)return!0;if(J0(e)||J0(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!VC(e[i],t[i]))return!1}return!0}function $e(e){return typeof e=="number"&&isFinite(e)}function qC(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var UU=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(n),!0).forEach(function(r){zU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zU(e,t,n){return t=BU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BU(e){var t=HU(e,"string");return lc(t)=="symbol"?t:String(t)}function HU(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WU(e,t){if(e==null)return{};var n=VU(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var qU=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=WU(n,UU);return t.setQueryParameters(r)},QU=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},KU=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},GU=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=mU(r,function(o){return o.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},JU=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},YU=function(t,n){return t.setQueryParameters({facetsRefinements:Nr(Nr({},t.facetsRefinements),n.facetsRefinements)})},XU=function(t,n){return t.setQueryParameters({facetsExcludes:Nr(Nr({},t.facetsExcludes),n.facetsExcludes)})},ZU=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:Nr(Nr({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},e6=function(t,n){return t.setQueryParameters({numericRefinements:Nr(Nr({},t.numericRefinements),n.numericRefinements)})},t6=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:Nr(Nr({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},n6=function(t,n){var r=qC([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},El=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=t6(i,s),o=GU(a,s),c=JU(o,s),u=e6(c,s),d=ZU(u,s),f=XU(d,s),h=YU(f,s),p=KU(h,s),g=n6(p,s),m=QU(g,s);return qU(m,s)})};function r6(e){return o6(e)||a6(e)||s6(e)||i6()}function i6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6(e,t){if(e){if(typeof e=="string")return fg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fg(e,t)}}function a6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o6(e){if(Array.isArray(e))return fg(e)}function fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X0(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,o=Math.round((r-n)/a);return r6(Array(o)).map(function(c,u){return n+u*a})}function ll(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Z0(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function l6(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(n),!0).forEach(function(r){c6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c6(e,t,n){return t=u6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u6(e){var t=d6(e,"string");return cc(t)=="symbol"?t:String(t)}function d6(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QC(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Au(Au({},t),{},{isHighlighted:!vU(e,n)})}):e.map(function(t){return Au(Au({},t),{},{isHighlighted:!1})})}function Ni(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function ap(e){return Array.isArray(e)?e:[e]}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(r){KC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KC(e,t,n){return t=f6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f6(e){var t=h6(e,"string");return uc(t)=="symbol"?t:String(t)}function h6(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p6=Bn({name:"configure",connector:!0});function nw(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return gt(gt({},n),{},KC({},r,void 0))},{}))}var m6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:st,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return function(r){if(!r||!DC(r.searchParameters))throw new Error(p6("The `searchParameters` option expects an object."));var i={};function s(a){return function(o){var c=nw(a.state,r),u=El(c,new Dt.SearchParameters(o));r.searchParameters=o,a.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var c=o.instantSearchInstance;t(gt(gt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!0)},render:function(o){var c=o.instantSearchInstance;t(gt(gt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!1)},dispose:function(o){var c=o.state;return n(),nw(c,r)},getRenderState:function(o,c){var u,d=this.getWidgetRenderState(c);return gt(gt({},o),{},{configure:gt(gt({},d),{},{widgetParams:gt(gt({},d.widgetParams),{},{searchParameters:El(new Dt.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new Dt.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var c=o.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(o,c){var u=c.uiState;return El(o,new Dt.SearchParameters(gt(gt({},u.configure),r.searchParameters)))},getWidgetUiState:function(o){return gt(gt({},o),{},{configure:gt(gt({},o.configure),r.searchParameters)})}}}};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var rw=Object.prototype.hasOwnProperty;function vo(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&vo(e[i],t[i],n););return i===-1}if(!r||hg(e)==="object"){i=0;for(r in e)if(rw.call(e,r)&&++i&&!rw.call(t,r)||!(r in t)||!vo(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function iw(e){var t,n,r;return new Dt.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(n),!0).forEach(function(r){g6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g6(e,t,n){return t=v6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v6(e){var t=y6(e,"string");return dc(t)=="symbol"?t:String(t)}function y6(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x6(e){var t=e.getHelper(),n=e.getResults()||iw(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:iw(i.helper.state);return aw(aw({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var GC=b.createContext(null);function JC(e,t){if(!e)throw new Error("Invariant failed")}function b6(){var e=b.useContext(GC);return JC(e!==null),e}var YC=b.createContext(null);function XC(){var e=b.useContext(YC);return JC(e!==null),e}var w6=b.createContext(null);function ZC(){return b.useContext(w6)}var S6=b.createContext(null);function ek(){return b.useContext(S6)}function j6(e,t){return C6(e)||P6(e,t)||E6(e,t)||_6()}function _6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(e,t){if(e){if(typeof e=="string")return ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(e,t)}}function ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function C6(e){if(Array.isArray(e))return e}function lw(e){var t=b.useState(function(){return e}),n=j6(t,2),r=n[0],i=n[1];return vo(r,e)||i(e),r}var k6="use",cw=qg[k6],R6=typeof window<"u"?b.useLayoutEffect:b.useEffect,N6=b.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function tk(){return b.useContext(N6)}function T6(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,o=e.skipSuspense,c=tk(),u=c.waitForResultsRef,d=c.countRef;c.ignoreMultipleHooksWarning;var f=b.useRef(s);b.useEffect(function(){f.current=s},[s]);var h=b.useRef(r);b.useEffect(function(){h.current=r},[r]);var p=b.useRef(null),g=a&&!i.getWidgets().includes(r),m=XC();if(R6(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var x=vo(s,f.current);x||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!o){var w;cw(u.current),r.$$type!=="ais.dynamicWidgets"&&(w=m.helper)!==null&&w!==void 0&&w.lastResults&&cw(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}var O6=["skipSuspense"],A6=["instantSearchInstance","widgetParams"],I6=["widgetParams"];function F6(e,t){return M6(e)||L6(e,t)||D6(e,t)||$6()}function $6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(e,t){if(e){if(typeof e=="string")return uw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function M6(e){if(Array.isArray(e))return e}function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){U6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U6(e,t,n){return t=z6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z6(e){var t=B6(e,"string");return fc(t)=="symbol"?t:String(t)}function B6(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(e,t){if(e==null)return{};var n=H6(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=op(n,O6),a=ZC(),o=ek(),c=XC(),u=b6(),d=lw(t),f=lw(s),h=b.useRef(!0),p=b.useRef(null),g=b.useRef(c.status),m=b.useMemo(function(){var S=e(function(_,j){if(j){h.current=!0;return}if(h.current){var C=_.instantSearchInstance;_.widgetParams;var k=op(_,A6);(!vo(k,p.current,function(A,F){return(A==null?void 0:A.constructor)===Function&&(F==null?void 0:F.constructor)===Function})||C.status!==g.current)&&(y(k),p.current=k,g.current=C.status)}},function(){h.current=!1});return fw(fw({},S(d)),f)},[e,d,f]),w=b.useState(function(){if(m.getWidgetRenderState){var S,_=u.getHelper(),j=u.getWidgetUiState({})[u.getIndexId()];_.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,_.state,{uiState:j}))||_.state;var C=x6(u),k=C.results,A=C.scopedResults,F=C.recommendResults,I=m.getWidgetRenderState({helper:_,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&F&&o?F[o.recommendIdx.current++]:k,scopedResults:A,state:_.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});I.widgetParams;var T=op(I,I6);return T}return{}}),v=F6(w,2),x=v[0],y=v[1];return T6({widget:m,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),x}function W6(e,t){return Ar(m6,{searchParameters:e},t)}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(n),!0).forEach(function(r){q6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q6(e,t,n){return t=Q6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q6(e){var t=K6(e,"string");return hc(t)=="symbol"?t:String(t)}function K6(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ny(e){return W6(V6({},e),{$$widgetType:"ais.configure"}),null}function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}var G6=["initialSearchParameters"],J6=["initialRecommendParameters"];function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(n),!0).forEach(function(r){Oa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oa(e,t,n){return t=Y6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y6(e){var t=X6(e,"string");return pc(t)=="symbol"?t:String(t)}function X6(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nk(e){return nz(e)||tz(e)||ez(e)||Z6()}function Z6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(e,t){if(e){if(typeof e=="string")return pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pg(e,t)}}function tz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nz(e){if(Array.isArray(e))return pg(e)}function pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rk(e,t){if(e==null)return{};var n=rz(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rz(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Jo=Bn({name:"index-widget"});function ik(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function Yo(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Fn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function Xo(e,t){var n=t.initialSearchParameters,r=rk(t,G6);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||Fn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function mw(e,t){var n=t.initialRecommendParameters,r=rk(t,J6);return e.reduce(function(i,s){return!Fn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function sk(e){var t=e.filter(Fn);t.length!==0&&t.forEach(function(n){var r=n.getHelper();ik(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),sk(n.getWidgets())})}function ak(e){var t=e.filter(Fn);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(nk(ak(r.getWidgets()))))},[])}var iz=function(t){if(t===void 0||t.indexName===void 0)throw new Error(Jo("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},o=null,c=null,u=null,d=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=d)!==null&&m!==void 0&&m.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(m){var w;return m.dependsOn!=="recommend"||Fn(m)||m.$$id===void 0?this.getResults():(w=u)!==null&&w!==void 0&&w.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),w;return m?w=m.getWidgets():n.length===0?w=this.getWidgets():w=[this],ak(w)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?o._createURL(Oa({},i,m(a))):o._createURL(Oa({},i,Yo(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(Jo("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(Jo("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){Fn(v)||(o&&v.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,R5(v))}),s=s.concat(m),o&&m.length&&(ik(u,{state:Xo(s,{uiState:a,initialSearchParameters:u.state}),recommendState:mw(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var x=v.getRenderState(o.renderState[w.getIndexId()]||{},ll(o,w,o._initialUiState));lp({renderState:x,instantSearchInstance:o,parent:w})}}),m.forEach(function(v){v.init&&v.init(ll(o,w,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(Jo("The `removeWidgets` method expects an array of widgets."));if(m.some(function(_){return typeof _.dispose!="function"}))throw new Error(Jo("The widget definition expects a `dispose` method."));if(s=s.filter(function(_){return m.indexOf(_)===-1}),s.forEach(function(_){Fn(_)||(o&&_.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:_.dependsOn==="recommend"?h=!0:p=!0)}),o&&m.length){var v=m.reduce(function(_,j){var C=j.dispose({helper:u,state:_.cleanedSearchState,recommendState:_.cleanedRecommendState,parent:w});return C instanceof Dt.RecommendParameters?_.cleanedRecommendState=C:C&&(_.cleanedSearchState=C),_},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),x=v.cleanedSearchState,y=v.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?Xo(s,{uiState:a,initialSearchParameters:new Dt.SearchParameters({index:this.getIndexName()})}):Xo(s,{uiState:Yo(s,{searchParameters:x,helper:u}),initialSearchParameters:x});a=Yo(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=y,s.length&&o.scheduleSearch()}return this},init:function(m){var w=this,v,x=m.instantSearchInstance,y=m.parent,S=m.uiState;if(u===null){o=x,c=y,a=S[i]||{};var _=x.mainHelper,j=Xo(s,{uiState:a,initialSearchParameters:new Dt.SearchParameters({index:n})}),C=mw(s,{uiState:a,initialRecommendParameters:new Dt.RecommendParameters});u=Dt({},j.index,j),u.recommendState=C,u.search=function(){return x.onStateChange?(x.onStateChange({uiState:x.mainIndex.getWidgetUiState({}),setUiState:function(T){return x.setUiState(T,!1)}}),_):_.search()},u.searchWithoutTriggeringOnStateChange=function(){return _.search()},u.searchForFacetValues=function(I,T,M,R){var D=u.state.setQueryParameters(R);return _.searchForFacetValues(I,T,M,D)},d=_.derive(function(){return El.apply(void 0,[_.state].concat(nk(l6(w))))},function(){return w.getHelper().recommendState});var k=(v=x._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(k!=null&&k.results){var A=new Dt.SearchResults(new Dt.SearchParameters(k.state),k.results);d.lastResults=A,u.lastResults=A}if(k!=null&&k.recommendResults){var F=new Dt.RecommendResults(new Dt.RecommendParameters({params:k.recommendResults.params}),k.recommendResults.results);d.lastRecommendResults=F,u.lastRecommendResults=F}u.on("change",function(I){var T=I.isPageReset;T&&sk(s)}),d.on("search",function(){x.scheduleStalledRender()}),d.on("result",function(I){var T=I.results;x.scheduleRender(),u.lastResults=T,f=T==null?void 0:T._state}),d.on("recommend:result",function(I){var T=I.recommend;x.scheduleRender(),u.lastRecommendResults=T.results}),s.forEach(function(I){if(I.getRenderState){var T=I.getRenderState(x.renderState[w.getIndexId()]||{},ll(x,w,S));lp({renderState:T,instantSearchInstance:x,parent:w})}}),s.forEach(function(I){I.init&&I.init(ll(x,w,S))}),u.on("change",function(I){var T=I.state,M=I._uiState;a=Yo(s,{searchParameters:T,helper:u},M||{}),x.onStateChange||x.onInternalStateChange()}),k&&x.scheduleRender(),h&&(x._hasRecommendWidget=!0),p&&(x._hasSearchWidget=!0)}},render:function(m){var w,v=this,x=m.instantSearchInstance;x.status==="error"&&!x.mainHelper.hasPendingRequests()&&f&&u.setState(f);var y=this.getResults()||(w=d)!==null&&w!==void 0&&w.lastRecommendResults?s:s.filter(Fn);y=y.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:x}):!0}),y.forEach(function(S){if(S.getRenderState){var _=S.getRenderState(x.renderState[v.getIndexId()]||{},Z0(x,v,S));lp({renderState:_,instantSearchInstance:x,parent:v})}}),y.forEach(function(S){S.render&&S.render(Z0(x,v,S))})},dispose:function(){var m=this,w,v;s.forEach(function(x){x.dispose&&u&&x.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),o=null,c=null,(w=u)===null||w===void 0||w.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(m){return s.filter(Fn).reduce(function(w,v){return v.getWidgetUiState(w)},Sr(Sr({},m),{},Oa({},i,Sr(Sr({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,w){var v=w.uiState;return Xo(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=Yo(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var w=typeof m=="function"?m(a):m;o.setUiState(function(v){return Sr(Sr({},v),{},Oa({},i,w))})}}};function lp(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Sr(Sr({},n.renderState),{},Oa({},i,Sr(Sr({},n.renderState[i]),t)))}function sz(e,t){return cz(e)||lz(e,t)||oz(e,t)||az()}function az(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oz(e,t){if(e){if(typeof e=="string")return gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(e,t)}}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function cz(e){if(Array.isArray(e))return e}function uz(){var e=b.useReducer(function(r){return r+1},0),t=sz(e,2),n=t[1];return n}var dz="ais",Qf=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(dz,"-").concat(t).concat(s).concat(a)}},fz=Qf("Highlight");function hz(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=qf(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=fz({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var pz=Qf("ReverseHighlight");function mz(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=qf(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=pz({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=UC(QC(HC(d)));return h.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var gz=Qf("Snippet");function vz(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=qf(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=gz({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var yz=Qf("ReverseSnippet");function xz(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=qf(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=yz({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=UC(QC(HC(d)));return h.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function bz(e){var t=e.method,n=e.payload;if(mg(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=zC(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function wz(e,t){return bz({method:e,payload:t})}function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}var Sz="_ALGOLIA";function jz(e){if(!((typeof document>"u"?"undefined":gg(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function _z(){return jz(Sz)}function Ez(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){Pz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pz(e,t,n){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cz(e){var t=kz(e,"string");return mc(t)=="symbol"?t:String(t)}function kz(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t){return Tz(e)||Nz(e,t)||ok(e,t)||Rz()}function Rz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Tz(e){if(Array.isArray(e))return e}function Oz(e){return Fz(e)||Iz(e)||ok(e)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ok(e,t){if(e){if(typeof e=="string")return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(e,t)}}function Iz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fz(e){if(Array.isArray(e))return vg(e)}function vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lk="2.17.2",$z="https://cdn.jsdelivr.net/npm/search-insights@".concat(lk,"/dist/search-insights.min.js");function yw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,o=a===void 0?!1:a,c=t;!t&&t!==null&&Ni(function(d){var f=d.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(c=f[h]),c||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];f[h].queue.push(g)},f[h].version=lk,f[h].shouldAddScript=!0),c=f[h])});var u=c||st;return function(d){var f=d.instantSearchInstance,h=f.middleware.filter(function(A){return A.instance.$$type==="ais.insights"&&A.instance.$$internal}).map(function(A){return A.creator});f.unuse.apply(f,Oz(h));var p=z0(f.client),g=Ur(p,2),m=g[0],w=g[1],v=void 0,x=void 0,y=void 0,S=u.queue;if(Array.isArray(S)){var _=["setUserToken","init"].map(function(A){var F=Hs(S.slice().reverse(),function(M){var R=Ur(M,1),D=R[0];return D===A})||[],I=Ur(F,2),T=I[1];return T}),j=Ur(_,2);x=j[0],v=j[1]}u("getUserToken",null,function(A,F){y=bw(F)}),(n||!xw(u))&&u("init",ms({appId:m,apiKey:w,partial:!0},n));var C,k;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var F="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var I=document.createElement("script");I.async=!0,I.src=$z,I.onerror=function(){f.emit("error",new Error(F))},document.body.appendChild(I),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(F))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),k=f.mainHelper;var F=u.queue;if(Array.isArray(F)){var I=["setUserToken","init"].map(function(te){var J=Hs(F.slice().reverse(),function(oe){var se=Ur(oe,1),de=se[0];return de===te})||[],Y=Ur(J,2),ee=Y[1];return ee}),T=Ur(I,2);x=T[0],v=T[1]}C=Dz(f),o||k.overrideStateWithoutTriggeringChangeEvent(ms(ms({},k.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var M=function(J){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee=bw(J);if(!ee)return;var oe=k.state.userToken;function se(){k.overrideStateWithoutTriggeringChangeEvent(ms(ms({},k.state),{},{userToken:ee})),oe&&oe!==J&&f.scheduleSearch()}Y?se():setTimeout(se,0)};function R(te){M(te,!0),u("setUserToken",te)}var D=void 0,O=_z();if(O)D=O;else{var U="anonymous-".concat(Ez());D=U}var P,$=C.userToken;if(n!=null&&n.userToken&&(P=n.userToken),P)R(P);else if($)R($);else if(y)R(y);else if(x)R(x);else if(D){var E;if(R(D),n!=null&&n.useCookie||(E=v)!==null&&E!==void 0&&E.useCookie){var L;Lz(D,(n==null?void 0:n.cookieDuration)||((L=v)===null||L===void 0?void 0:L.cookieDuration))}}u("onUserTokenChange",function(te){return M(te,!0)},{immediate:!0});var z=u;xw(u)&&(z=function(J,Y){var ee=z0(f.client),oe=Ur(ee,2),se=oe[0],de=oe[1],ye={headers:{"X-Algolia-Application-Id":se,"X-Algolia-API-Key":de}};return u(J,Y,ye)});var N=new Set,ne;f.mainHelper.derivedHelpers[0].on("result",function(te){var J=te.results;J&&(!J.queryID||J.queryID!==ne)&&(ne=J.queryID,N.clear())}),f.sendEventToInsights=function(te){if(r)r(te,z);else if(te.insightsMethod){if(te.insightsMethod==="viewedObjectIDs"){var J=te.payload,Y=J.objectIDs.filter(function(ee){return!N.has(ee)});if(Y.length===0)return;Y.forEach(function(ee){return N.add(ee)}),J.objectIDs=Y}te.payload.algoliaSource=["instantsearch"],o&&te.payload.algoliaSource.push("instantsearch-automatic"),te.eventModifier==="internal"&&te.payload.algoliaSource.push("instantsearch-internal"),z(te.insightsMethod,te.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=st,k&&C&&(k.overrideStateWithoutTriggeringChangeEvent(ms(ms({},k.state),C)),f.scheduleSearch())}}}}function Dz(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function Lz(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function xw(e){var t=(e.version||"").split(".").map(Number),n=Ur(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,o=r===1&&i>=10;return s||a||o}function bw(e){if(e)return typeof e=="number"?e.toString():e}function ck(e,t,n){var r=ll(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&ck(i.getWidgets(),t,n)})}function Mz(){return Ni(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Uz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,ck(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var zz=String.prototype.replace,Bz=/%20/g,cp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ty={default:cp.RFC3986,formatters:{RFC1738:function(e){return zz.call(e,Bz,"+")},RFC3986:function(e){return String(e)}},RFC1738:cp.RFC1738,RFC3986:cp.RFC3986},Hz=Ty,up=Object.prototype.hasOwnProperty,Ss=Array.isArray,hr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Wz=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Ss(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},uk=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Vz=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Ss(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!up.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Ss(t)&&!Ss(n)&&(i=uk(t,r)),Ss(t)&&Ss(n)?(n.forEach(function(s,a){if(up.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var o=n[a];return up.call(s,a)?s[a]=e(s[a],o,r):s[a]=o,s},i)},qz=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Qz=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Kz=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Hz.RFC1738&&(u===40||u===41)){o+=a.charAt(c);continue}if(u<128){o=o+hr[u];continue}if(u<2048){o=o+(hr[192|u>>6]+hr[128|u&63]);continue}if(u<55296||u>=57344){o=o+(hr[224|u>>12]+hr[128|u>>6&63]+hr[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),o+=hr[240|u>>18]+hr[128|u>>12&63]+hr[128|u>>6&63]+hr[128|u&63]}return o},Gz=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return Wz(n),t},Jz=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Yz=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Xz=function(t,n){return[].concat(t,n)},Zz=function(t,n){if(Ss(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},dk={arrayToObject:uk,assign:qz,combine:Xz,compact:Gz,decode:Qz,encode:Kz,isBuffer:Yz,isRegExp:Jz,maybeMap:Zz,merge:Vz},yg=dk,Pl=Ty,e8=Object.prototype.hasOwnProperty,ww={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Cs=Array.isArray,t8=String.prototype.split,n8=Array.prototype.push,fk=function(e,t){n8.apply(e,Cs(t)?t:[t])},r8=Date.prototype.toISOString,Sw=Pl.default,_t={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:yg.encode,encodeValuesOnly:!1,format:Sw,formatter:Pl.formatters[Sw],indices:!1,serializeDate:function(t){return r8.call(t)},skipNulls:!1,strictNullHandling:!1},i8=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},s8=function e(t,n,r,i,s,a,o,c,u,d,f,h,p,g){var m=t;if(typeof o=="function"?m=o(n,m):m instanceof Date?m=d(m):r==="comma"&&Cs(m)&&(m=yg.maybeMap(m,function(I){return I instanceof Date?d(I):I})),m===null){if(i)return a&&!p?a(n,_t.encoder,g,"key",f):n;m=""}if(i8(m)||yg.isBuffer(m)){if(a){var w=p?n:a(n,_t.encoder,g,"key",f);if(r==="comma"&&p){for(var v=t8.call(String(m),","),x="",y=0;y<v.length;++y)x+=(y===0?"":",")+h(a(v[y],_t.encoder,g,"value",f));return[h(w)+"="+x]}return[h(w)+"="+h(a(m,_t.encoder,g,"value",f))]}return[h(n)+"="+h(String(m))]}var S=[];if(typeof m>"u")return S;var _;if(r==="comma"&&Cs(m))_=[{value:m.length>0?m.join(",")||null:void 0}];else if(Cs(o))_=o;else{var j=Object.keys(m);_=c?j.sort(c):j}for(var C=0;C<_.length;++C){var k=_[C],A=typeof k=="object"&&typeof k.value<"u"?k.value:m[k];if(!(s&&A===null)){var F=Cs(m)?typeof r=="function"?r(n,k):n:n+(u?"."+k:"["+k+"]");fk(S,e(A,F,r,i,s,a,o,c,u,d,f,h,p,g))}}return S},a8=function(t){if(!t)return _t;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||_t.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Pl.default;if(typeof t.format<"u"){if(!e8.call(Pl.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Pl.formatters[r],s=_t.filter;return(typeof t.filter=="function"||Cs(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:_t.addQueryPrefix,allowDots:typeof t.allowDots>"u"?_t.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:_t.charsetSentinel,delimiter:typeof t.delimiter>"u"?_t.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:_t.encode,encoder:typeof t.encoder=="function"?t.encoder:_t.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:_t.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:_t.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:_t.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:_t.strictNullHandling}},o8=function(e,t){var n=e,r=a8(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Cs(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o;t&&t.arrayFormat in ww?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var c=ww[o];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||fk(a,s8(n[d],d,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},yo=dk,xg=Object.prototype.hasOwnProperty,l8=Array.isArray,jt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:yo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c8=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},hk=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u8="utf8=%26%2310003%3B",d8="utf8=%E2%9C%93",f8=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),o=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===d8?u="utf-8":a[c]===u8&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var d=a[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,g;h===-1?(p=n.decoder(d,jt.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),jt.decoder,u,"key"),g=yo.maybeMap(hk(d.slice(h+1),n),function(m){return n.decoder(m,jt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=c8(g)),d.indexOf("[]=")>-1&&(g=l8(g)?[g]:g),xg.call(r,p)?r[p]=yo.combine(r[p],g):r[p]=g}return r},h8=function(e,t,n,r){for(var i=r?t:hk(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},p8=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,d=[];if(u){if(!r.plainObjects&&xg.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(c=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&xg.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),h8(d,n,r,i)}},m8=function(t){if(!t)return jt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?jt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?jt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:jt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:jt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:jt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:jt.comma,decoder:typeof t.decoder=="function"?t.decoder:jt.decoder,delimiter:typeof t.delimiter=="string"||yo.isRegExp(t.delimiter)?t.delimiter:jt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:jt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:jt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:jt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:jt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:jt.strictNullHandling}},g8=function(e,t){var n=m8(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?f8(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],c=p8(o,r[o],n,typeof e=="string");i=yo.merge(i,c,n)}return yo.compact(i)},v8=o8,y8=g8,x8=Ty,b8={formats:x8,parse:y8,stringify:v8};const jw=qs(b8);function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function w8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pk(r.key),r)}}function j8(e,t,n){return t&&S8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wt(e,t,n){return t=pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=_8(e,"string");return gc(t)=="symbol"?t:String(t)}function _8(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _w=function(t){t&&(window.document.title=t)},E8=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,o=t.parseURL,c=t.getLocation,u=t.start,d=t.dispose,f=t.push,h=t.cleanUrlOnDispose;w8(this,e),Wt(this,"$$type","ais.browser"),Wt(this,"windowTitle",void 0),Wt(this,"writeDelay",void 0),Wt(this,"_createURL",void 0),Wt(this,"parseURL",void 0),Wt(this,"getLocation",void 0),Wt(this,"writeTimer",void 0),Wt(this,"_onPopState",void 0),Wt(this,"inPopState",!1),Wt(this,"isDisposed",!1),Wt(this,"latestAcknowledgedHistory",0),Wt(this,"_start",void 0),Wt(this,"_dispose",void 0),Wt(this,"_push",void 0),Wt(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=c,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,Ni(function(p){var g=p.window,m=n.windowTitle&&n.windowTitle(n.read());_w(m),n.latestAcknowledgedHistory=g.history.length})}return j8(e,[{key:"read",value:function(){return this.parseURL({qsModule:jw,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;Ni(function(i){var s=i.window,a=r.createURL(n),o=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){_w(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},Ni(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:jw,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ni(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return Ni(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function P8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,w=g.routeState,v=g.location,x=v.protocol,y=v.hostname,S=v.port,_=S===void 0?"":S,j=v.pathname,C=v.hash,k=m.stringify(w),A=_===""?"":":".concat(_);return k?"".concat(x,"//").concat(y).concat(A).concat(j,"?").concat(k).concat(C):"".concat(x,"//").concat(y).concat(A).concat(j).concat(C)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,w=g.location;return m.parse(w.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,o=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return Ni(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,d=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new E8({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:u,start:d,dispose:f,push:h,cleanUrlOnDispose:p})}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var C8=["configure"];function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){bg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bg(e,t,n){return t=k8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k8(e){var t=R8(e,"string");return vc(t)=="symbol"?t:String(t)}function R8(e,t){if(vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N8(e,t){if(e==null)return{};var n=T8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pw(e){e.configure;var t=N8(e,C8);return t}function O8(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return Iu(Iu({},n),{},bg({},r,Pw(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return Iu(Iu({},n),{},bg({},r,Pw(t[r])))},{})}}}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(n),!0).forEach(function(r){mk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mk(e,t,n){return t=A8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A8(e){var t=I8(e,"string");return yc(t)=="symbol"?t:String(t)}function I8(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?P8():n,i=t.stateMapping,s=i===void 0?O8():i,a=t.$$internal,o=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function d(p){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(p).reduce(function(v,x){return Fu(Fu({},v),{},mk({},x,p[x]))},g),w=s.stateToRoute(m);return r.createURL(w)}u._createURL=d;var f=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var m=g.uiState,w=s.stateToRoute(m);(f===void 0||!VC(f,w))&&(r.write(w),f=w)},subscribe:function(){u._initialUiState=Fu(Fu({},h),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function $8(e,t){return e.toLocaleString(t)}function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(r){D8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D8(e,t,n){return t=L8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L8(e){var t=M8(e,"string");return xc(t)=="symbol"?t:String(t)}function M8(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8(e){var t=e.numberLocale;return{formatNumber:function(r,i){return $8(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(hz(Dr(Dr({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(mz(Dr(Dr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(vz(Dr(Dr({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(xz(Dr(Dr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,o=s.payload;return i(wz(a,Dr({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const z8="4.79.2";function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(r){Pe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gk(r.key),r)}}function W8(e,t,n){return t&&H8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wg(e,t)}function q8(e){var t=K8();return function(){var r=Zd(e),i;if(t){var s=Zd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Q8(this,i)}}function Q8(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(e)}function Pe(e,t,n){return t=gk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gk(e){var t=G8(e,"string");return xo(t)=="symbol"?t:String(t)}function G8(e,t){if(xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn=Bn({name:"instantsearch"});function J8(){return"#"}var vk={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},Y8=function(e){V8(n,e);var t=q8(n);function n(r){var i;B8(this,n),i=t.call(this),Pe(Se(i),"client",void 0),Pe(Se(i),"indexName",void 0),Pe(Se(i),"compositionID",void 0),Pe(Se(i),"insightsClient",void 0),Pe(Se(i),"onStateChange",null),Pe(Se(i),"future",void 0),Pe(Se(i),"helper",void 0),Pe(Se(i),"mainHelper",void 0),Pe(Se(i),"mainIndex",void 0),Pe(Se(i),"started",void 0),Pe(Se(i),"templatesConfig",void 0),Pe(Se(i),"renderState",{}),Pe(Se(i),"_stalledSearchDelay",void 0),Pe(Se(i),"_searchStalledTimer",void 0),Pe(Se(i),"_initialUiState",void 0),Pe(Se(i),"_initialResults",void 0),Pe(Se(i),"_manuallyResetScheduleSearch",!1),Pe(Se(i),"_resetScheduleSearch",void 0),Pe(Se(i),"_createURL",void 0),Pe(Se(i),"_searchFunction",void 0),Pe(Se(i),"_mainHelperSearch",void 0),Pe(Se(i),"_hasSearchWidget",!1),Pe(Se(i),"_hasRecommendWidget",!1),Pe(Se(i),"_insights",void 0),Pe(Se(i),"middleware",[]),Pe(Se(i),"sendEventToInsights",void 0),Pe(Se(i),"status","idle"),Pe(Se(i),"error",void 0),Pe(Se(i),"scheduleSearch",Ko(function(){i.started&&i.mainHelper.search()})),Pe(Se(i),"scheduleRender",Ko(function(){var T,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(T=i.mainHelper)!==null&&T!==void 0&&T.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,M&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Se(i)}),i.emit("render")})),Pe(Se(i),"onInternalStateChange",Ko(function(){var T=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(M){var R=M.instance;R.onStateChange({uiState:T})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,c=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,h=f===void 0?null:f,p=r.insights,g=p===void 0?void 0:p,m=r.searchFunction,w=r.stalledSearchDelay,v=w===void 0?200:w,x=r.searchClient,y=x===void 0?null:x,S=r.insightsClient,_=S===void 0?null:S,j=r.onStateChange,C=j===void 0?null:j,k=r.future,A=k===void 0?dp(dp({},vk),r.future||{}):k;if(y===null)throw new Error(Wn("The `searchClient` option is required."));if(typeof y.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof y.addAlgoliaAgent=="function"&&y.addAlgoliaAgent("instantsearch.js (".concat(z8,")")),_&&typeof _!="function")throw new Error(Wn("The `insightsClient` option should be a function."));if(i.client=y,i.future=A,i.insightsClient=_,i.indexName=a,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=iz({indexName:i.compositionID||i.indexName}),i.onStateChange=C,i.started=!1,i.templatesConfig={helpers:U8({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=J8,i._initialUiState=d,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=st,h){var F=typeof h=="boolean"?{}:h;F.$$internal=!0,i.use(F8(F))}if(g){var I=typeof g=="boolean"?{}:g;I.$$internal=!0,i.use(yw(I))}return Mz()&&i.use(Uz({$$internal:!0})),i}return W8(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var c=a.map(function(u){var d=dp({$$type:"__unknown__",$$internal:!1,subscribe:st,started:st,unsubscribe:st,onStateChange:st},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Wn("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Wn("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(Fn))throw new Error(Wn("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Wn("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Wn("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Wn("The `start` method has already been called once."));var s=this.mainHelper||Dt(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(st)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=Dt(a,c.state.index,c.state);return u.once("search",function(d){var f=d.state;c.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;c.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,h){return f[h]=d[h],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){LU(this.client,this._initialResults),NU(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Ko(st),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:Ko(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});c&&i.use(yw({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Wn("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(u){dg(typeof u=="function"?u(o):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(dg(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Wn("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Wn("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(m3),yk={exports:{}},xk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=b;function X8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z8=typeof Object.is=="function"?Object.is:X8,eB=bo.useState,tB=bo.useEffect,nB=bo.useLayoutEffect,rB=bo.useDebugValue;function iB(e,t){var n=t(),r=eB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return nB(function(){i.value=n,i.getSnapshot=t,fp(i)&&s({inst:i})},[e,n,t]),tB(function(){return fp(i)&&s({inst:i}),e(function(){fp(i)&&s({inst:i})})},[e]),rB(n),n}function fp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Z8(e,n)}catch{return!0}}function sB(e,t){return t()}var aB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sB:iB;xk.useSyncExternalStore=bo.useSyncExternalStore!==void 0?bo.useSyncExternalStore:aB;yk.exports=xk;var oB=yk.exports,lB={};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(n),!0).forEach(function(r){cB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cB(e,t,n){return t=uB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e){var t=dB(e,"string");return bc(t)=="symbol"?t:String(t)}function dB(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ow=["react (".concat(b.version,")"),"react-instantsearch (".concat(ig,")"),"react-instantsearch-core (".concat(ig,")")],Aw="react-instantsearch-server (".concat(ig,")"),fB=function(t){return t?"next.js (".concat(t,")"):null};function hB(e){var t=uz(),n=ZC(),r=ek(),i=tk(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,o=b.useRef(e),c=n||a||s,u=b.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new Y8(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(x){x()}),d._schedule.queue=[]},0)},d._schedule.queue=[],c&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),Iw(e.searchClient,[].concat(Ow,[n&&Aw,fB(pB())])),c&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,h=o.current;if(h.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),o.current=e),h.searchClient!==e.searchClient&&(Iw(e.searchClient,[].concat(Ow,[n&&Aw])),f.mainHelper.setClient(e.searchClient).search(),o.current=e),h.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,o.current=e),h.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,o.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;f._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,o.current=e}vo(h.future,e.future)||(f.future=Tw(Tw({},vk),e.future),o.current=e)}var g=b.useRef(null),m=oB.useSyncExternalStore(b.useCallback(function(){var w=u.current;return g.current===null?w.started||(w.start(),t()):(clearTimeout(g.current),w._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){w.dispose()}clearTimeout(w._schedule.timer),g.current=setTimeout(v),w._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function Iw(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function pB(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=lB)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var mB=["children"];function gB(e,t){if(e==null)return{};var n=vB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bk(e){var t=e.children,n=gB(e,mB),r=hB(n);return r.started?H.createElement(YC.Provider,{value:r},H.createElement(GC.Provider,{value:r.mainIndex},t,H.createElement(yB,{search:r}))):null}function yB(e){var t=e.search;return b.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function xB(e){return jB(e)||SB(e)||wB(e)||bB()}function bB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return Sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(e,t)}}function SB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jB(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(n),!0).forEach(function(r){_B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _B(e,t,n){return t=EB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e){var t=PB(e,"string");return wc(t)=="symbol"?t:String(t)}function PB(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $w=Bn({name:"clear-refinements",connector:!0}),CB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,$w()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,o=i.excludedAttributes,c=o===void 0?["query"]:o,u=i.transformItems,d=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error($w("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:st,createURL:function(){return""},attributesToClear:[]},h=function(){return f.refine()},p=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var w=m.instantSearchInstance;t(ca(ca({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!0)},render:function(m){var w=m.instantSearchInstance;t(ca(ca({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!1)},dispose:function(){n()},getRenderState:function(m,w){return ca(ca({},m),{},{clearRefinements:this.getWidgetRenderState(w)})},getWidgetRenderState:function(m){var w=m.createURL,v=m.scopedResults,x=m.results;f.attributesToClear=v.reduce(function(S,_){return S.concat(kB({scopedResult:_,includedAttributes:a,excludedAttributes:c,transformItems:d,results:x}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var _=S.helper,j=S.items;_.setState(F0({helper:_,attributesToClear:j})).search()})},f.createURL=function(){return w(El.apply(void 0,xB(f.attributesToClear.map(function(S){var _=S.helper,j=S.items;return F0({helper:_,attributesToClear:j})}))))};var y=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:y,hasRefinements:y,refine:h,createURL:p,widgetParams:r}}}}};function kB(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(qC(yU(t.results,t.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return n.length===0||n.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function RB(e,t){return Ar(CB,e,t)}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(n),!0).forEach(function(r){wk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wk(e,t,n){return t=NB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=TB(e,"string");return Sc(t)=="symbol"?t:String(t)}function TB(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OB=Bn({name:"hits",connector:!0});const AB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,OB()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,o=i.transformItems,c=o===void 0?function(f){return f}:o,u,d;return{$$type:"ais.hits",init:function(h){t(xi(xi({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(xi(xi({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return xi(xi({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,g,m,w=h.results,v=h.helper,x=h.instantSearchInstance;if(u||(u=uU({instantSearchInstance:x,helper:v,widgetType:this.$$type})),d||(d=dU({helper:v,widgetType:this.$$type,instantSearchInstance:x})),!w)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&w.hits.length>0&&(w.hits=B5(w.hits));var y=SU(w.hits,w.page,w.hitsPerPage),S=PU(y,w.queryID),_=c(S,{results:w}),j=(p=w.renderingContent)===null||p===void 0||(g=p.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:_,items:_,results:w,banner:j,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(po).reduce(function(g,m){return xi(xi({},g),{},wk({},m,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(po):h}}}};function Kf(e,t){return Ar(AB,e,t)}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function IB(e){return LB(e)||DB(e)||$B(e)||FB()}function FB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return jg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(e,t)}}function DB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LB(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){MB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MB(e,t,n){return t=UB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UB(e){var t=zB(e,"string");return jc(t)=="symbol"?t:String(t)}function zB(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $u=Bn({name:"hits-per-page",connector:!0}),BB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,$u()),function(r){var i=r||{},s=i.items,a=i.transformItems,o=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error($u("The `items` option expects an array of objects."));var c=s,u=c.filter(function(p){return p.default===!0});if(u.length===0)throw new Error($u("A default value must be specified in `items`."));if(u.length>1)throw new Error($u("More than one default value is specified in `items`."));var d=u[0],f=function(g){var m=g.hitsPerPage;return c.map(function(w){return pr(pr({},w),{},{isRefined:Number(w.value)===Number(m)})})},h={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,w=g.createURL,v=g.getWidgetUiState,x=g.helper;return function(y){return w(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!y&&y!==0?void 0:y),helper:x})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,w=g.instantSearchInstance,v=c.some(function(x){return Number(m.hitsPerPage)===Number(x.value)});v||(c=[{value:"",label:""}].concat(IB(c))),t(pr(pr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!0)},render:function(g){var m=g.instantSearchInstance;t(pr(pr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return pr(pr({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,w=g.results,v=g.createURL,x=g.helper,y=w?w.nbHits>0:!1;return{items:o(f(m),{results:w}),refine:h.getRefine(x),createURL:h.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:x}),hasNoResults:!y,canRefine:y,widgetParams:r}},getWidgetUiState:function(g,m){var w=m.searchParameters,v=w.hitsPerPage;return v===void 0||v===d.value?g:pr(pr({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var w=m.uiState;return g.setQueryParameters({hitsPerPage:w.hitsPerPage||d.value})}}}};function HB(e,t){return Ar(BB,e,t)}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function WB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sk(r.key),r)}}function qB(e,t,n){return t&&VB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hp(e,t,n){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sk(e){var t=QB(e,"string");return _c(t)=="symbol"?t:String(t)}function QB(e,t){if(_c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KB=function(){function e(t){WB(this,e),hp(this,"currentPage",void 0),hp(this,"total",void 0),hp(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return qB(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return X0({end:n});var a=this.calculatePaddingLeft(r,i,n,s),o=s-a,c=r-a,u=r+o;return X0({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(n),!0).forEach(function(r){GB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e,t,n){return t=JB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e){var t=YB(e,"string");return Ec(t)=="symbol"?t:String(t)}function YB(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XB=Bn({name:"pagination",connector:!0}),ZB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,XB()),function(r){var i=r||{},s=i.totalPages,a=i.padding,o=a===void 0?3:a,c=new KB({currentPage:0,total:0,padding:o}),u={};function d(f){var h=f.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(mr(mr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(mr(mr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var g=p.searchParameters,m=g.page||0;return m?mr(mr({},h),{},{page:m+1}):h},getWidgetSearchParameters:function(h,p){var g=p.uiState,m=g.page?g.page-1:0;return h.setQueryParameter("page",m)},getWidgetRenderState:function(h){var p=h.results,g=h.helper,m=h.state,w=h.createURL;u.refine||(u.refine=function(y){g.setPage(y),g.search()}),u.createURL||(u.createURL=function(y){return w(function(S){return mr(mr({},S),{},{page:y+1})})});var v=m.page||0,x=d(p||{nbPages:0});return c.currentPage=v,c.total=x,{createURL:u.createURL,refine:u.refine,canRefine:x>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:x,pages:p?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return mr(mr({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function Oy(e,t){return Ar(ZB,e,t)}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){ld(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ld(e,t,n){return t=eH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return Pc(t)=="symbol"?t:String(t)}function tH(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ua(e,t){return sH(e)||iH(e,t)||rH(e,t)||nH()}function nH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(e,t){if(e){if(typeof e=="string")return zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(e,t)}}function zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function sH(e){if(Array.isArray(e))return e}var pp=Bn({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),aH="ais.range";function Bw(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var oH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,pp()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,o=i.min,c=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error(pp("The `attribute` option is required."));if($e(o)&&$e(c)&&o>c)throw new Error(pp("The `max` option can't be lower than `min`."));var f=function(y){return Number(Number(y).toFixed(d))},h={from:function(y){return y.toLocaleString()},to:function(y){return f(y).toLocaleString()}},p=function(y,S,_,j){var C=y.state,k=S.min,A=S.max,F=C.getNumericRefinement(a,">=")||[],I=ua(F,1),T=I[0],M=C.getNumericRefinement(a,"<=")||[],R=ua(M,1),D=R[0],O=_===void 0||_==="",U=j===void 0||j==="",P=Bw({min:O?void 0:parseFloat(_),max:U?void 0:parseFloat(j),precision:d}),$=P.min,E=P.max,L;!$e(o)&&k===$?L=void 0:$e(o)&&O?L=o:L=$;var z;!$e(c)&&A===E?z=void 0:$e(c)&&U?z=c:z=E;var N=L===void 0,ne=$e(k)&&k<=L,te=N||$e(L)&&(!$e(k)||ne),J=z===void 0,Y=$e(z)&&A>=z,ee=J||$e(z)&&(!$e(A)||Y),oe=T!==L,se=D!==z;return(oe||se)&&te&&ee?(C=C.removeNumericRefinement(a),$e(L)&&(C=C.addNumericRefinement(a,">=",L)),$e(z)&&(C=C.addNumericRefinement(a,"<=",z)),C.resetPage()):null},g=function(y){return function(){if(arguments.length===1){y.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(x){var y;$e(o)?y=o:$e(x.min)?y=x.min:y=0;var S;return $e(c)?S=c:$e(x.max)?S=x.max:S=0,Bw({min:y,max:S,precision:d})}function w(x){var y=x.getNumericRefinement(a,">=")||[],S=ua(y,1),_=S[0],j=x.getNumericRefinement(a,"<=")||[],C=ua(j,1),k=C[0],A=$e(_)?_:-1/0,F=$e(k)?k:1/0;return[A,F]}function v(x,y){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],_=ua(S,2),j=_[0],C=_[1],k=p(x,y,j,C);k&&x.setState(k).search()}}return{$$type:aH,init:function(y){t(It(It({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){t(It(It({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!1)},getRenderState:function(y,S){return It(It({},y),{},{range:It(It({},y.range),{},ld({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(y){var S=y.results,_=y.helper,j=y.instantSearchInstance,C=S&&S.disjunctiveFacets||[],k=Hs(C,function(M){return M.name===a}),A=k&&k.stats||{min:void 0,max:void 0},F=m(A),I=w(_),T;return S?T=v(_,F):T=v(_,{min:void 0,max:void 0}),{refine:T,canRefine:F.min!==F.max,format:h,range:F,sendEvent:g(j),widgetParams:It(It({},r),{},{precision:d}),start:I}},dispose:function(y){var S=y.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(y,S){var _=S.searchParameters,j=_.getNumericRefinements(a),C=j[">="],k=C===void 0?[]:C,A=j["<="],F=A===void 0?[]:A;return k.length===0&&F.length===0?y:It(It({},y),{},{range:It(It({},y.range),{},ld({},a,"".concat(k,":").concat(F)))})},getWidgetSearchParameters:function(y,S){var _=S.uiState,j=y.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:It(It({},y.numericRefinements),{},ld({},a,{}))});$e(o)&&(j=j.addNumericRefinement(a,">=",o)),$e(c)&&(j=j.addNumericRefinement(a,"<=",c));var C=_.range&&_.range[a];if(!C||C.indexOf(":")===-1)return j;var k=C.split(":").map(parseFloat),A=ua(k,2),F=A[0],I=A[1];return $e(F)&&(!$e(o)||o<F)&&(j=j.removeNumericRefinement(a,">="),j=j.addNumericRefinement(a,">=",F)),$e(I)&&(!$e(c)||I<c)&&(j=j.removeNumericRefinement(a,"<="),j=j.addNumericRefinement(a,"<=",I)),j}}}};function lH(e,t){return Ar(oH,e,t)}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var cH=["name","escapedValue"],uH=["escapedValue","value"];function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){cl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cl(e,t,n){return t=dH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dH(e){var t=fH(e,"string");return Cc(t)=="symbol"?t:String(t)}function fH(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ww(e,t){if(e==null)return{};var n=hH(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Du=Bn({name:"refinement-list",connector:!0}),Vw=["isRefined","count:desc","name:asc"],pH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,Du()),function(r){var i=r||{},s=i.attribute,a=i.operator,o=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,d=i.showMore,f=d===void 0?!1:d,h=i.showMoreLimit,p=h===void 0?20:h,g=i.sortBy,m=g===void 0?Vw:g,w=i.escapeFacetValues,v=w===void 0?!0:w,x=i.transformItems,y=x===void 0?function(U){return U}:x;if(!s)throw new Error(Du("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(Du('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&p<=u)throw new Error(Du("`showMoreLimit` should be greater than `limit`."));var S=function(P){var $=P.name,E=P.escapedValue,L=Ww(P,cH);return De(De({},L),{},{value:E,label:$,highlighted:$})},_,j=[],C=!0,k,A,F=!1,I=function(){};function T(){I()}function M(U,P){return function(){F=!F,P.render(U)}}function R(){return F?p:u}var D=function(){return function(){}},O=function(P,$){return function(E){return function(L){var z=E.instantSearchInstance,N=E.results;if(L===""&&j)t(De(De({},$.getWidgetRenderState(De(De({},E),{},{results:_}))),{},{instantSearchInstance:z}),!1);else{var ne={highlightPreTag:v?po.highlightPreTag:Bt.highlightPreTag,highlightPostTag:v?po.highlightPostTag:Bt.highlightPostTag};P.searchForFacetValues(s,L,Math.min(R(),100),ne).then(function(te){var J=v?H5(te.facetHits):te.facetHits,Y=y(J.map(function(ee){var oe=ee.escapedValue,se=ee.value,de=Ww(ee,uH);return De(De({},de),{},{value:oe,label:se})}),{results:N});t(De(De({},$.getWidgetRenderState(De(De({},E),{},{results:_}))),{},{items:Y,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:z}),!1)})}}}};return{$$type:"ais.refinementList",init:function(P){t(De(De({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!0)},render:function(P){t(De(De({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!1)},getRenderState:function(P,$){return De(De({},P),{},{refinementList:De(De({},P.refinementList),{},cl({},s,this.getWidgetRenderState($)))})},getWidgetRenderState:function(P){var $=this,E=P.results,L=P.state,z=P.createURL,N=P.instantSearchInstance,ne=P.helper,te=[],J=[];if((!A||!k||!D)&&(A=eU({instantSearchInstance:N,helper:ne,attribute:s,widgetType:this.$$type}),k=function(Nt){A("click:internal",Nt),ne.toggleFacetRefinement(s,Nt).search()},D=O(ne,this)),E){var Y=E.getFacetValues(s,{sortBy:m,facetOrdering:m===Vw});J=Y&&Array.isArray(Y)?Y:[],te=y(J.slice(0,R()).map(S),{results:E});var ee=L.maxValuesPerFacet,oe=R();C=ee>oe?J.length<=oe:J.length<oe,_=E,j=te,P.results&&(I=M(P,this))}var se=D&&D(P),de=F&&j.length>u,ye=f&&!C,ft=de||ye;return{createURL:function(Nt){return z(function(St){return $.getWidgetUiState(St,{searchParameters:L.resetPage().toggleFacetRefinement(s,Nt),helper:ne})})},items:te,refine:k,searchForItems:se,isFromSearch:!1,canRefine:te.length>0,widgetParams:r,isShowingMore:F,canToggleShowMore:ft,toggleShowMore:T,sendEvent:A,hasExhaustiveItems:C}},dispose:function(P){var $=P.state;n();var E=$.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?E.removeFacet(s):E.removeDisjunctiveFacet(s)},getWidgetUiState:function(P,$){var E=$.searchParameters,L=o==="or"?E.getDisjunctiveRefinements(s):E.getConjunctiveRefinements(s);return mH(De(De({},P),{},{refinementList:De(De({},P.refinementList),{},cl({},s,L))}),s)},getWidgetSearchParameters:function(P,$){var E=$.uiState,L=o==="or";if(P.isHierarchicalFacet(s)||L&&P.isConjunctiveFacet(s)||!L&&P.isDisjunctiveFacet(s))return P;var z=E.refinementList&&E.refinementList[s],N=L?P.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):P.addFacet(s).removeFacetRefinement(s),ne=N.maxValuesPerFacet||0,te=Math.max(ne,f?p:u),J=N.setQueryParameter("maxValuesPerFacet",te);if(!z){var Y=L?"disjunctiveFacetsRefinements":"facetsRefinements";return J.setQueryParameters(cl({},Y,De(De({},J[Y]),{},cl({},s,[]))))}return z.reduce(function(ee,oe){return L?ee.addDisjunctiveFacetRefinement(s,oe):ee.addFacetRefinement(s,oe)},J)}}}};function mH(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function gH(e,t){return Ar(pH,e,t)}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){vH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vH(e,t,n){return t=yH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=xH(e,"string");return kc(t)=="symbol"?t:String(t)}function xH(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=Bn({name:"search-box",connector:!0}),wH=function(t,n){return n(t)},SH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,bH()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?wH:s,o,c;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(bi(bi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(bi(bi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return bi(bi({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,h=d.instantSearchInstance,p=d.state;return o||(o=function(m){a(m,function(w){return f.setQuery(w).search()})},c=function(){f.setQuery("").search()}),{query:p.query||"",refine:o,clear:c,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(d,f){var h=f.searchParameters,p=h.query||"";return p===""||d&&d.query===p?d:bi(bi({},d),{},{query:p})},getWidgetSearchParameters:function(d,f){var h=f.uiState;return d.setQueryParameter("query",h.query||"")}}}};function Ay(e,t){return Ar(SH,e,t)}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return t=_H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=EH(e,"string");return Rc(t)=="symbol"?t:String(t)}function EH(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PH=Bn({name:"stats",connector:!0}),CH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,PH()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(da(da({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(da(da({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return da(da({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function Gf(e,t){return Ar(CH,e,t)}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cd(e,t,n){return t=kH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=RH(e,"string");return Nc(t)=="symbol"?t:String(t)}function RH(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e,t){return IH(e)||AH(e,t)||OH(e,t)||TH()}function TH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(e,t){if(e){if(typeof e=="string")return Gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function IH(e){if(Array.isArray(e))return e}var Jw=Bn({name:"toggle-refinement",connector:!0}),jk="ais.toggleRefinement",FH=function(t){var n=t.instantSearchInstance,r=t.helper,i=t.attribute,s=t.on,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];if(u.length===1){n.sendEventToInsights(u[0]);return}var f=u[1],h=u[2],p=h===void 0?"Filter Applied":h,g=u[0].split(":"),m=NH(g,2),w=m[0],v=m[1];if(!(w!=="click"||s===void 0)&&!f){var x;n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:jk,eventType:w,eventModifier:v,payload:{eventName:p,index:((x=r.lastResults)===null||x===void 0?void 0:x.index)||r.state.index,filters:s.map(function(y){return"".concat(i,":").concat(y)})},attribute:i})}};return a},$H=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,Jw()),function(r){var i=r||{},s=i.attribute,a=i.on,o=a===void 0?!0:a,c=i.off;if(!s)throw new Error(Jw("The `attribute` option is required."));var u=c!==void 0,d=ap(o).map(ol),f=u?ap(c).map(ol):void 0,h,p=function(w){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},x=v.isRefined;x?(d.forEach(function(y){return w.removeDisjunctiveFacetRefinement(s,y)}),u&&f.forEach(function(y){return w.addDisjunctiveFacetRefinement(s,y)})):(h("click:internal",x),u&&f.forEach(function(y){return w.removeDisjunctiveFacetRefinement(s,y)}),d.forEach(function(y){return w.addDisjunctiveFacetRefinement(s,y)})),w.search()}},g={createURLFactory:function(w,v){var x=v.state,y=v.createURL,S=v.getWidgetUiState,_=v.helper;return function(){x=x.resetPage();var j=w?d:f;j&&j.forEach(function(k){x=x.removeDisjunctiveFacetRefinement(s,k)});var C=w?f:d;return C&&C.forEach(function(k){x=x.addDisjunctiveFacetRefinement(s,k)}),y(function(k){return S(k,{searchParameters:x,helper:_})})}}};return{$$type:jk,init:function(w){var v=w.instantSearchInstance;t(Zt(Zt({},this.getWidgetRenderState(w)),{},{instantSearchInstance:v}),!0)},render:function(w){var v=w.instantSearchInstance;t(Zt(Zt({},this.getWidgetRenderState(w)),{},{instantSearchInstance:v}),!1)},dispose:function(w){var v=w.state;return n(),v.removeDisjunctiveFacet(s)},getRenderState:function(w,v){return Zt(Zt({},w),{},{toggleRefinement:Zt(Zt({},w.toggleRefinement),{},cd({},s,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(w){var v=w.state,x=w.helper,y=w.results,S=w.createURL,_=w.instantSearchInstance,j=y?d.every(function(R){return v.isDisjunctiveFacetRefined(s,R)}):d.every(function(R){return v.isDisjunctiveFacetRefined(s,R)}),C={isRefined:j,count:0},k={isRefined:u&&!j,count:0};if(y){var A=ap(f||!1),F=y.getFacetValues(s,{})||[],I=d.map(function(R){return Hs(F,function(D){var O=D.escapedValue;return O===ol(String(R))})}).filter(function(R){return R!==void 0}),T=u?A.map(function(R){return Hs(F,function(D){var O=D.escapedValue;return O===ol(String(R))})}).filter(function(R){return R!==void 0}):[];C={isRefined:I.length?I.every(function(R){return R.isRefined}):!1,count:I.reduce(function(R,D){return R+D.count},0)||null},k={isRefined:T.length?T.every(function(R){return R.isRefined}):!1,count:T.reduce(function(R,D){return R+D.count},0)||F.reduce(function(R,D){var O=D.count;return R+O},0)}}h||(h=FH({instantSearchInstance:_,attribute:s,on:d,helper:x}));var M=j?k:C;return{value:{name:s,isRefined:j,count:y?M.count:null,onFacetValue:C,offFacetValue:k},createURL:g.createURLFactory(j,{state:v,createURL:S,helper:x,getWidgetUiState:this.getWidgetUiState}),sendEvent:h,canRefine:!!(y&&M.count),refine:p(x),widgetParams:r}},getWidgetUiState:function(w,v){var x=v.searchParameters,y=d&&d.every(function(_){return x.isDisjunctiveFacetRefined(s,_)});if(!y){var S;return(S=w.toggle)===null||S===void 0||delete S[s],w}return Zt(Zt({},w),{},{toggle:Zt(Zt({},w.toggle),{},cd({},s,y))})},getWidgetSearchParameters:function(w,v){var x=v.uiState;if(w.isHierarchicalFacet(s)||w.isConjunctiveFacet(s))return w;var y=w.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s),S=!!(x.toggle&&x.toggle[s]);return S?(d&&d.forEach(function(_){y=y.addDisjunctiveFacetRefinement(s,_)}),y):u?(f&&f.forEach(function(_){y=y.addDisjunctiveFacetRefinement(s,_)}),y):y.setQueryParameters({disjunctiveFacetsRefinements:Zt(Zt({},w.disjunctiveFacetsRefinements),{},cd({},s,[]))})}}}};function DH(e,t){return Ar($H,e,t)}function LH(){function e(t){return new Promise(n=>{let r=new XMLHttpRequest;r.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>r.setRequestHeader(o,t.headers[o]));let i=(o,c)=>setTimeout(()=>{r.abort(),n({status:0,content:c,isTimedOut:!0})},o),s=i(t.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(t.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(t.data)})}return{send:e}}function MH(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(o){r().setItem(n,JSON.stringify(o))}function a(){const o=e.timeToLive?e.timeToLive*1e3:null,c=i(),u=Object.fromEntries(Object.entries(c).filter(([,f])=>f.timestamp!==void 0));if(s(u),!o)return;const d=Object.fromEntries(Object.entries(u).filter(([,f])=>{const h=new Date().getTime();return!(f.timestamp+o<h)}));s(d)}return{get(o,c,u={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(o)])).then(d=>Promise.all([d?d.value:c(),d!==void 0])).then(([d,f])=>Promise.all([d,f||u.miss(d)])).then(([d])=>d)},set(o,c){return Promise.resolve().then(()=>{const u=i();return u[JSON.stringify(o)]={timestamp:new Date().getTime(),value:c},r().setItem(n,JSON.stringify(u)),c})},delete(o){return Promise.resolve().then(()=>{const c=i();delete c[JSON.stringify(o)],r().setItem(n,JSON.stringify(c))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function UH(){return{get(e,t,n={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function ul(e){const t=[...e.caches],n=t.shift();return n===void 0?UH():{get(r,i,s={miss:()=>Promise.resolve()}){return n.get(r,i,s).catch(()=>ul({caches:t}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>ul({caches:t}).set(r,i))},delete(r){return n.delete(r).catch(()=>ul({caches:t}).delete(r))},clear(){return n.clear().catch(()=>ul({caches:t}).clear())}}}function mp(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then(o=>i.miss(o)).then(()=>a)},set(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function zH(e){const t={value:`Algolia for JavaScript (${e})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return t.value.indexOf(r)===-1&&(t.value=`${t.value}${r}`),t}};return t}function BH(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function HH({algoliaAgents:e,client:t,version:n}){const r=zH(n).add({segment:t,version:n});return e.forEach(i=>r.add(i)),r}function WH(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Yw=2*60*1e3;function Xw(e,t="up"){const n=Date.now();function r(){return t==="up"||Date.now()-n>Yw}function i(){return t==="timed out"&&Date.now()-n<=Yw}return{...e,status:t,lastUpdate:n,isUp:r,isTimedOut:i}}var _k=class extends Error{constructor(t,n){super(t);na(this,"name","AlgoliaError");n&&(this.name=n)}},Ek=class extends _k{constructor(t,n,r){super(t,r);na(this,"stackTrace");this.stackTrace=n}},VH=class extends Ek{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},_g=class extends Ek{constructor(t,n,r,i="ApiError"){super(t,r,i);na(this,"status");this.status=n}},qH=class extends _k{constructor(t,n){super(t,"DeserializationError");na(this,"response");this.response=n}},QH=class extends _g{constructor(t,n,r,i){super(t,n,i,"DetailedApiError");na(this,"error");this.error=r}};function KH(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}function GH(e,t,n){const r=JH(n);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return r.length&&(i+=`?${r}`),i}function JH(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function YH(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}function XH(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}function ZH(e){try{return JSON.parse(e.content)}catch(t){throw new qH(t.message,e)}}function e9({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new QH(r.message,t,r.error,n):new _g(r.message,t,n)}catch{}return new _g(e,t,n)}function t9({isTimedOut:e,status:t}){return!e&&~~t===0}function n9({isTimedOut:e,status:t}){return e||t9({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function r9({status:e}){return~~(e/100)===2}function i9(e){return e.map(t=>Pk(t))}function Pk(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function s9({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:c,responsesCache:u}){async function d(p){const g=await Promise.all(p.map(y=>t.get(y,()=>Promise.resolve(Xw(y))))),m=g.filter(y=>y.isUp()),w=g.filter(y=>y.isTimedOut()),v=[...m,...w];return{hosts:v.length>0?v:p,getTimeout(y,S){return(w.length===0&&y===0?1:w.length+3+y)*S}}}async function f(p,g,m=!0){const w=[],v=YH(p,g),x=XH(n,p.headers,g.headers),y=p.method==="GET"?{...p.data,...g.data}:{},S={...i,...p.queryParameters,...y};if(s.value&&(S["x-algolia-agent"]=s.value),g&&g.queryParameters)for(const A of Object.keys(g.queryParameters))!g.queryParameters[A]||Object.prototype.toString.call(g.queryParameters[A])==="[object Object]"?S[A]=g.queryParameters[A]:S[A]=g.queryParameters[A].toString();let _=0;const j=async(A,F)=>{const I=A.pop();if(I===void 0)throw new VH(i9(w));const T={...a,...g.timeouts},M={data:v,headers:x,method:p.method,url:GH(I,p.path,S),connectTimeout:F(_,T.connect),responseTimeout:F(_,m?T.read:T.write)},R=O=>{const U={request:M,response:O,host:I,triesLeft:A.length};return w.push(U),U},D=await o.send(M);if(n9(D)){const O=R(D);return D.isTimedOut&&_++,r.info("Retryable failure",Pk(O)),await t.set(I,Xw(I,D.isTimedOut?"timed out":"down")),j(A,F)}if(r9(D))return ZH(D);throw R(D),e9(D,w)},C=e.filter(A=>A.accept==="readWrite"||(m?A.accept==="read":A.accept==="write")),k=await d(C);return j([...k.hosts].reverse(),k.getTimeout)}function h(p,g={}){const m=p.useReadTransporter||p.method==="GET";if(!m)return f(p,g,m);const w=()=>f(p,g);if((g.cacheable||p.cacheable)!==!0)return w();const x={request:p,requestOptions:g,transporter:{queryParameters:i,headers:n}};return u.get(x,()=>c.get(x,()=>c.set(x,w()).then(y=>Promise.all([c.delete(x),y]),y=>Promise.all([c.delete(x),Promise.reject(y)])).then(([y,S])=>S)),{miss:y=>u.set(x,y)})}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:h,requestsCache:c,responsesCache:u}}var Ck="5.35.0";function a9(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(KH([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function o9({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=BH(e,t,n),a=s9({hosts:a9(e),...i,algoliaAgent:HH({algoliaAgents:r,client:"Lite",version:Ck}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(o,c){a.algoliaAgent.add({segment:o,version:c})},setClientApiKey({apiKey:o}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=o:a.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,c){return this.search(o,c)},searchForFacets(o,c){return this.search(o,c)},customPost({path:o,parameters:c,body:u},d){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:c||{},headers:{},data:u||{}};return a.request(g,d)},getRecommendations(o,c){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)},search(o,c){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:g,...m})=>m.type==="facet"?{...m,...g,type:"facet"}:{...m,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)}}}function Tc(e,t,n){return o9({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:WH(),requester:LH(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:mp(),requestsCache:mp({serializable:!1}),hostsCache:ul({caches:[MH({key:`${Ck}-${e}`}),mp()]}),...n})}const Jf=()=>{const{user:e}=rt(),[t,n]=b.useState(!1),[r,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:o}=await X.rpc("is_supra_admin",{user_uuid:e.id});o?(console.error("Error checking supra admin status:",o),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},Zs=()=>{rt();const{userProfile:e}=gy(),{isSupraAdmin:t}=Jf(),n=t||(e==null?void 0:e.role)==="admin",r=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin",o=t||(e==null?void 0:e.role)==="admin",c=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:n,canExport:r,canCopyToClipboard:i,canAddToFavorites:s,canManageUsers:a,canManageWorkspace:o,canDeleteData:c,canAddUsers:a,role:e==null?void 0:e.role,planType:e==null?void 0:e.plan_type}},l9={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},c9=()=>{const{user:e}=rt(),{planType:t,isSupraAdmin:n}=Zs(),r=b.useCallback(async()=>{if(!e)return;const i=n?"premium":t||"freemium",s=l9[i];try{const{data:a,error:o}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(o&&o.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",o);return}const{error:c}=await X.from("search_quotas").upsert({user_id:e.id,plan_type:i,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return b.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},Yf=()=>{const{user:e}=rt(),[t,n]=b.useState(null),[r,i]=b.useState(!0),[s,a]=b.useState(null),{syncUserQuotas:o}=c9(),c=b.useCallback(async()=>{if(!e){i(!1);return}i(!0),a(null),await o();try{const{data:v,error:x}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(x&&x.code!=="PGRST116"){a(x.message);return}if(v)n(v);else{const{data:y,error:S}=await X.from("search_quotas").insert({user_id:e.id,plan_type:"freemium",exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(S){a(S.message);return}n(y)}}catch(v){a(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}},[e,o]),u=b.useRef(null);b.useEffect(()=>{c()},[c]),b.useEffect(()=>{if(!e)return;const v=X.channel("quota-updates").on("postgres_changes",{event:"*",schema:"public",table:"search_quotas",filter:`user_id=eq.${e.id}`},x=>{x.eventType==="UPDATE"&&x.new&&n(x.new)}).subscribe(x=>{});return u.current=v,()=>{u.current&&(X.removeChannel(u.current),u.current=null)}},[e]);const d=t?t.exports_limit===null||t.exports_used<t.exports_limit:!1,f=t?t.clipboard_copies_limit===null||t.clipboard_copies_used<t.clipboard_copies_limit:!1,h=t?t.favorites_limit===null||t.favorites_used<t.favorites_limit:!1,p=t?!d||!f||!h:!1,g=b.useCallback(async(v=1)=>{if(!e||!t||t.exports_limit===null)return;const{error:x}=await X.from("search_quotas").update({exports_used:t.exports_used+v}).eq("user_id",e.id);if(x)throw x;n(y=>y?{...y,exports_used:y.exports_used+v}:null)},[e,t]),m=b.useCallback(async(v=1)=>{if(!e||!t||t.clipboard_copies_limit===null)return;const{error:x}=await X.from("search_quotas").update({clipboard_copies_used:t.clipboard_copies_used+v}).eq("user_id",e.id);if(x)throw x;n(y=>y?{...y,clipboard_copies_used:y.clipboard_copies_used+v}:null)},[e,t]),w=b.useCallback(async()=>{if(!e||!t||t.favorites_limit===null)return;const{error:v}=await X.from("search_quotas").update({favorites_used:t.favorites_used+1}).eq("user_id",e.id);if(v)throw v;n(x=>x?{...x,favorites_used:x.favorites_used+1}:null)},[e,t]);return{quotaData:t,isLoading:r,error:s,canExport:d,canCopyToClipboard:f,canAddToFavorites:h,isAtLimit:p,incrementExport:g,incrementClipboardCopy:m,incrementFavorite:w,reloadQuota:c}},tn="ef_all",kk=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function u9(e){let t="all";const n=Array.isArray(e)?e.flat():[];for(const r of n)if(typeof r=="string"&&r.startsWith("source_index:")){const i=r.split(":")[1];(i==="public"||i==="private")&&(t=i)}return t}function ef(e){const t=Array.isArray(e==null?void 0:e.ruleContexts)?e.ruleContexts:[];return t.includes("origin:public")?"public":t.includes("origin:private")?"private":u9(e==null?void 0:e.facetFilters)}function Rk(e){if(!e)return e;const t=n=>typeof n=="string"&&n.startsWith("source_index:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):e}function d9(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},o=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},o.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function za(e,t){const n={...e},r=new Set,i=[],s=a=>{for(const o of a||[]){const c=String((o==null?void 0:o.objectID)??"");r.has(c)||(r.add(c),i.push(o))}};return s(e==null?void 0:e.hits),s(t==null?void 0:t.hits),n.hits=i,n.nbHits=i.length,n.facets=d9(e==null?void 0:e.facets,t==null?void 0:t.facets),n.facets_stats=(e==null?void 0:e.facets_stats)||(t==null?void 0:t.facets_stats)||null,n}function f9(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}function Nk(e,t){const n=e?`workspace_id:${e}`:"workspace_id:_none_",r=t?` AND (${t})`:"";return n+r}const Zw="6BGAS85TYS",eS="e06b7614aaff866708fbd2872de90d37";function h9(e){const[t,n]=b.useState(null);return b.useEffect(()=>{let r=!1;async function i(){r||n({full:Tc(Zw,eS),teaser:Tc(Zw,eS)})}return i(),()=>{r=!0}},[e]),t}const tS=e=>({...e,search:t=>{const n=(t||[]).map(r=>{const i=Object.fromEntries(Object.entries(r.params||{}).filter(([s])=>kk.includes(s)));return{...r,params:i}});return e.search(n)}}),Tk=b.createContext(null),p9=()=>{const e=b.useContext(Tk);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},m9=({children:e})=>{const t=Yf(),{currentWorkspace:n}=di();To();const r=h9(n==null?void 0:n.id),i=b.useRef(n==null?void 0:n.id);b.useEffect(()=>{i.current=n==null?void 0:n.id},[n==null?void 0:n.id]);const s=r,a=b.useRef(null),o=b.useRef(null);b.useEffect(()=>{s?(a.current=tS(s.full),o.current=tS(s.teaser)):(a.current=null,o.current=null)},[s]);const c=b.useRef(null);s&&!c.current&&(c.current={search:async d=>{var y,S,_;const f=a.current,h=o.current;if(!f)return{results:[]};const p=i.current,g=[],m=[];for(const j of d||[]){const C={...j.params||{}},k=Rk(C.facetFilters),A=ef(C),F=Nk(p);A==="public"?(g.push({...j,indexName:tn,params:{...C,facetFilters:[["scope:public"],...k||[]]}}),m.push({...j,indexName:tn,params:{...C,facetFilters:[["scope:public"],...k||[]]}})):A==="private"?g.push({...j,indexName:tn,params:{...C,facetFilters:[["scope:private"],...k||[]],filters:F}}):(g.push({...j,indexName:tn,params:{...C,facetFilters:k}}),m.push({...j,indexName:tn,params:{...C,facetFilters:[["scope:public"],...k||[]]}}),g.push({...j,indexName:tn,params:{...C,facetFilters:[["scope:private"],...k||[]],filters:F}}))}const[w,v]=await Promise.all([f.search(g),(h==null?void 0:h.search(m))??Promise.resolve({results:[]})]),x=[];for(let j=0,C=0,k=0;j<(d||[]).length;j++){const A=((y=(d||[])[j])==null?void 0:y.params)||{},F=ef(A);if(F==="public"){const I=w.results[C];C++;const T=(S=v.results)==null?void 0:S[k];k++,x.push(za(I,T))}else if(F==="private"){const I=w.results[C];C+=1,x.push(I)}else{const I=w.results[C];C++;const T=(_=v.results)==null?void 0:_[k];k++;const M=za(I,T),R=w.results[C];C++,x.push(za(M,R))}}return{results:x}}});const u=s?c.current:null;return l.jsx(Tk.Provider,{value:t,children:u?l.jsx(bk,{searchClient:u,indexName:tn,future:{preserveSharedStateOnUnmount:!0},children:e}):l.jsx("div",{})})},g9="6BGAS85TYS",v9="e06b7614aaff866708fbd2872de90d37",y9=Tc(g9,v9),x9=e=>{const[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState(!1),{user:o}=rt(),{currentWorkspace:c}=di(),u=async f=>{var m,w;if(!f.trim())return[];const h=c==null?void 0:c.id,p=(()=>{const v="(access_level:standard)",x=h?` OR (assigned_workspace_ids:${h})`:"";return v+x})(),g=h?`workspace_id:${h}`:"workspace_id:_none_";try{const{results:v}=await y9.search([{indexName:"ef_all",query:f,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],filters:p}},{indexName:"ef_all",query:f,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],filters:g}}]),x=((m=v[0])==null?void 0:m.hits)||[],y=((w=v[1])==null?void 0:w.hits)||[],S=new Map;for(const j of x)j!=null&&j.Nom&&S.set(j.Nom,!1);for(const j of y)j!=null&&j.Nom&&S.set(j.Nom,!0);return Array.from(S.entries()).slice(0,5).map(([j,C])=>({label:j,isPrivate:C}))}catch(v){return console.error("Error fetching suggestions from Algolia:",v),[]}},d=async()=>{if(!o)return[];try{const{data:f,error:h}=await X.from("search_history").select("search_query").eq("user_id",o.id).order("created_at",{ascending:!1}).limit(10);if(h)throw h;return[...new Set((f==null?void 0:f.map(g=>g.search_query))||[])].slice(0,3)}catch(f){return console.error("Error fetching recent searches:",f),[]}};return b.useEffect(()=>{if(!e.trim()){n([]);return}a(!0);const f=setTimeout(async()=>{const h=await u(e);n(h),a(!1)},300);return()=>clearTimeout(f)},[e,c==null?void 0:c.id]),b.useEffect(()=>{o&&(async()=>{const h=await d();i(h)})()},[o]),{suggestions:t,recentSearches:r,loading:s}},b9=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),n=b.useCallback(async(i,s,a)=>{if(e)try{const{error:o}=await X.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:i,search_filters:s,results_count:a});o&&console.error("Error recording search history:",o)}catch(o){console.error("Error recording search history:",o)}},[e,t]),r=b.useCallback(async()=>{if(!e)return[];try{const{data:i,error:s}=await X.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(s)throw s;return[...new Set((i==null?void 0:i.map(o=>o.search_query))||[])].slice(0,3)}catch(i){return console.error("Error fetching recent searches:",i),[]}},[e]);return{recordSearch:n,getRecentSearches:r}},w9=Hc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:e,variant:t,...n}){return l.jsx("div",{className:ie(w9({variant:t}),e),...n})}const S9=()=>{const{query:e,refine:t}=Ay(),{nbHits:n}=Gf();Kf();const{suggestions:r,recentSearches:i}=x9(e),{recordSearch:s}=b9(),[a,o]=b.useState(!1),c=b.useRef(null);b.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const u=()=>{t(""),o(!1)},d=h=>{t(h),o(!1),s(h,{},0)},f=()=>{e.trim()&&s(e,{},n||0),o(!1)};return l.jsx("div",{className:"space-y-4",ref:c,children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Md,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),l.jsx(xt,{type:"text",value:e,onChange:h=>{t(h.target.value),o(h.target.value.length>0)},onKeyDown:h=>{h.key==="Enter"&&f()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&l.jsx("button",{onClick:u,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:l.jsx(Qv,{className:"h-6 w-6"})})]}),l.jsx(Q,{variant:"hero",onClick:f,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),a&&(r.length>0||i.length>0)&&l.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[r.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat",children:"Suggestions"}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:r.map((h,p)=>l.jsxs("button",{onClick:()=>d(h.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",children:h.label}),h.isPrivate&&l.jsx(Ke,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]},`suggestion-${p}`))})]}),i.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(Am,{className:"h-3 w-3"}),"Recherches récentes"]}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:i.map((h,p)=>l.jsxs("button",{onClick:()=>d(h),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(Am,{className:"h-3 w-3 text-indigo-950/60"}),h]},`recent-${p}`))})]})]})]})})};function nS(e,[t,n]){return Math.min(n,Math.max(t,e))}var gp=0;function Ok(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rS()),document.body.insertAdjacentElement("beforeend",e[1]??rS()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gp--}},[])}function rS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vp="focusScope.autoFocusOnMount",yp="focusScope.autoFocusOnUnmount",iS={bubbles:!1,cancelable:!0},j9="FocusScope",Iy=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=b.useState(null),u=dn(i),d=dn(s),f=b.useRef(null),h=ke(t,m=>c(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let m=function(y){if(p.paused||!o)return;const S=y.target;o.contains(S)?f.current=S:_i(f.current,{select:!0})},w=function(y){if(p.paused||!o)return;const S=y.relatedTarget;S!==null&&(o.contains(S)||_i(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&_i(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){aS.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(vp,iS);o.addEventListener(vp,u),o.dispatchEvent(v),v.defaultPrevented||(_9(R9(Ak(o)),{select:!0}),document.activeElement===m&&_i(o))}return()=>{o.removeEventListener(vp,u),setTimeout(()=>{const v=new CustomEvent(yp,iS);o.addEventListener(yp,d),o.dispatchEvent(v),v.defaultPrevented||_i(m??document.body,{select:!0}),o.removeEventListener(yp,d),aS.remove(p)},0)}}},[o,u,d,p]);const g=b.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const x=m.currentTarget,[y,S]=E9(x);y&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&_i(y,{select:!0})):m.shiftKey&&v===y&&(m.preventDefault(),n&&_i(S,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(le.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Iy.displayName=j9;function _9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_i(r,{select:t}),document.activeElement!==n)return}function E9(e){const t=Ak(e),n=sS(t,e),r=sS(t.reverse(),e);return[n,r]}function Ak(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sS(e,t){for(const n of e)if(!P9(n,{upTo:t}))return n}function P9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C9(e){return e instanceof HTMLInputElement&&"select"in e}function _i(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&C9(e)&&t&&e.select()}}var aS=k9();function k9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=oS(e,t),e.unshift(t)},remove(t){var n;e=oS(e,t),(n=e[0])==null||n.resume()}}}function oS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function R9(e){return e.filter(t=>t.tagName!=="A")}function Fy(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var N9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fa=new WeakMap,Lu=new WeakMap,Mu={},xp=0,Ik=function(e){return e&&(e.host||Ik(e.parentNode))},T9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ik(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},O9=function(e,t,n,r){var i=T9(t,Array.isArray(e)?e:[e]);Mu[n]||(Mu[n]=new WeakMap);var s=Mu[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(fa.get(h)||0)+1,w=(s.get(h)||0)+1;fa.set(h,m),s.set(h,w),a.push(h),m===1&&g&&Lu.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),xp++,function(){a.forEach(function(f){var h=fa.get(f)-1,p=s.get(f)-1;fa.set(f,h),s.set(f,p),h||(Lu.has(f)||f.removeAttribute(r),Lu.delete(f)),p||f.removeAttribute(n)}),xp--,xp||(fa=new WeakMap,fa=new WeakMap,Lu=new WeakMap,Mu={})}},Fk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=N9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),O9(r,i,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_r.apply(this,arguments)};function $k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var ud="right-scroll-bar-position",dd="width-before-scroll-bar",I9="with-scroll-bars-hidden",F9="--removed-body-scroll-bar-size";function bp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $9(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var D9=typeof window<"u"?b.useLayoutEffect:b.useEffect,lS=new WeakMap;function L9(e,t){var n=$9(null,function(r){return e.forEach(function(i){return bp(i,r)})});return D9(function(){var r=lS.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||bp(o,null)}),s.forEach(function(o){i.has(o)||bp(o,a)})}lS.set(n,e)},[e]),n}function M9(e){return e}function U9(e,t){t===void 0&&(t=M9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function z9(e){e===void 0&&(e={});var t=U9(null);return t.options=_r({async:!0,ssr:!1},e),t}var Dk=function(e){var t=e.sideCar,n=$k(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,_r({},n))};Dk.isSideCarExport=!0;function B9(e,t){return e.useMedium(t),Dk}var Lk=z9(),wp=function(){},Xf=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:wp,onWheelCapture:wp,onTouchMoveCapture:wp}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,y=$k(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=L9([n,t]),j=_r(_r({},y),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:Lk,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),a?b.cloneElement(b.Children.only(o),_r(_r({},j),{ref:_})):b.createElement(v,_r({},j,{className:c,ref:_}),o))});Xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xf.classNames={fullWidth:dd,zeroRight:ud};var H9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=H9();return t&&e.setAttribute("nonce",t),e}function V9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function q9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Q9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W9())&&(V9(t,n),q9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},K9=function(){var e=Q9();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Mk=function(){var e=K9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},G9={left:0,top:0,right:0,gap:0},Sp=function(e){return parseInt(e||"",10)||0},J9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Sp(n),Sp(r),Sp(i)]},Y9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return G9;var t=J9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},X9=Mk(),Ba="data-scroll-locked",Z9=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(I9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Ba,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ud,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(dd,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ba,`] {
    `).concat(F9,": ").concat(o,`px;
  }
`)},cS=function(){var e=parseInt(document.body.getAttribute(Ba)||"0",10);return isFinite(e)?e:0},eW=function(){b.useEffect(function(){return document.body.setAttribute(Ba,(cS()+1).toString()),function(){var e=cS()-1;e<=0?document.body.removeAttribute(Ba):document.body.setAttribute(Ba,e.toString())}},[])},tW=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;eW();var s=b.useMemo(function(){return Y9(i)},[i]);return b.createElement(X9,{styles:Z9(s,!t,i,n?"":"!important")})},Eg=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return Eg=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{Eg=!1}var ha=Eg?{passive:!1}:!1,nW=function(e){return e.tagName==="TEXTAREA"},Uk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nW(e)&&n[t]==="visible")},rW=function(e){return Uk(e,"overflowY")},iW=function(e){return Uk(e,"overflowX")},uS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zk(e,r);if(i){var s=Bk(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sW=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aW=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},zk=function(e,t){return e==="v"?rW(t):iW(t)},Bk=function(e,t){return e==="v"?sW(t):aW(t)},oW=function(e,t){return e==="h"&&t==="rtl"?-1:1},lW=function(e,t,n,r,i){var s=oW(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=Bk(e,o),g=p[0],m=p[1],w=p[2],v=m-w-s*g;(g||v)&&zk(e,o)&&(f+=v,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dS=function(e){return[e.deltaX,e.deltaY]},fS=function(e){return e&&"current"in e?e.current:e},cW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dW=0,pa=[];function fW(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(dW++)[0],s=b.useState(Mk)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=A9([e.lockRef.current],(e.shards||[]).map(fS),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=zu(m),x=n.current,y="deltaX"in m?m.deltaX:x[0]-v[0],S="deltaY"in m?m.deltaY:x[1]-v[1],_,j=m.target,C=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&C==="h"&&j.type==="range")return!1;var k=uS(C,j);if(!k)return!0;if(k?_=C:(_=C==="v"?"h":"v",k=uS(C,j)),!k)return!1;if(!r.current&&"changedTouches"in m&&(y||S)&&(r.current=_),!_)return!0;var A=r.current||_;return lW(A,w,m,A==="h"?y:S,!0)},[]),c=b.useCallback(function(m){var w=m;if(!(!pa.length||pa[pa.length-1]!==s)){var v="deltaY"in w?dS(w):zu(w),x=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&cW(_.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(a.current.shards||[]).map(fS).filter(Boolean).filter(function(_){return _.contains(w.target)}),S=y.length>0?o(w,y[0]):!a.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=b.useCallback(function(m,w,v,x){var y={name:m,delta:w,target:v,should:x,shadowParent:hW(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=b.useCallback(function(m){n.current=zu(m),r.current=void 0},[]),f=b.useCallback(function(m){u(m.type,dS(m),m.target,o(m,e.lockRef.current))},[]),h=b.useCallback(function(m){u(m.type,zu(m),m.target,o(m,e.lockRef.current))},[]);b.useEffect(function(){return pa.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ha),document.addEventListener("touchmove",c,ha),document.addEventListener("touchstart",d,ha),function(){pa=pa.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,ha),document.removeEventListener("touchmove",c,ha),document.removeEventListener("touchstart",d,ha)}},[]);var p=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:uW(i)}):null,p?b.createElement(tW,{gapMode:e.gapMode}):null)}function hW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pW=B9(Lk,fW);var $y=b.forwardRef(function(e,t){return b.createElement(Xf,_r({},e,{ref:t,sideCar:pW}))});$y.classNames=Xf.classNames;var mW=[" ","Enter","ArrowUp","ArrowDown"],gW=[" ","Enter"],Yc="Select",[Zf,eh,vW]=Lv(Yc),[Oo,FJ]=ci(Yc,[vW,Nf]),th=Nf(),[yW,cs]=Oo(Yc),[xW,bW]=Oo(Yc),Hk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=th(t),[w,v]=b.useState(null),[x,y]=b.useState(null),[S,_]=b.useState(!1),j=yy(u),[C=!1,k]=ti({prop:r,defaultProp:i,onChange:s}),[A,F]=ti({prop:a,defaultProp:o,onChange:c}),I=b.useRef(null),T=w?g||!!w.closest("form"):!0,[M,R]=b.useState(new Set),D=Array.from(M).map(O=>O.props.value).join(";");return l.jsx(O$,{...m,children:l.jsxs(yW,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Jr(),value:A,onValueChange:F,open:C,onOpenChange:k,dir:j,triggerPointerDownPosRef:I,disabled:h,children:[l.jsx(Zf.Provider,{scope:t,children:l.jsx(xW,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(O=>{R(U=>new Set(U).add(O))},[]),onNativeOptionRemove:b.useCallback(O=>{R(U=>{const P=new Set(U);return P.delete(O),P})},[]),children:n})}),T?l.jsxs(pR,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:O=>F(O.target.value),disabled:h,form:g,children:[A===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},D):null]})})};Hk.displayName=Yc;var Wk="SelectTrigger",Vk=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=th(n),a=cs(Wk,n),o=a.disabled||r,c=ke(t,a.onTriggerChange),u=eh(n),d=b.useRef("touch"),[f,h,p]=mR(m=>{const w=u().filter(y=>!y.disabled),v=w.find(y=>y.value===a.value),x=gR(w,m,v);x!==void 0&&a.onValueChange(x.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(LE,{asChild:!0,...s,children:l.jsx(le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":hR(a.value)?"":void 0,...i,ref:c,onClick:re(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:re(i.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:re(i.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&mW.includes(m.key)&&(g(),m.preventDefault())})})})});Vk.displayName=Wk;var qk="SelectValue",Qk=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=cs(qk,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=ke(t,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),l.jsx(le.span,{...o,ref:f,style:{pointerEvents:"none"},children:hR(c.value)?l.jsx(l.Fragment,{children:a}):s})});Qk.displayName=qk;var wW="SelectIcon",Kk=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(le.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});Kk.displayName=wW;var SW="SelectPortal",Gk=e=>l.jsx(jf,{asChild:!0,...e});Gk.displayName=SW;var Ws="SelectContent",Jk=b.forwardRef((e,t)=>{const n=cs(Ws,e.__scopeSelect),[r,i]=b.useState();if(kt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Gs.createPortal(l.jsx(Yk,{scope:e.__scopeSelect,children:l.jsx(Zf.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(Xk,{...e,ref:t})});Jk.displayName=Ws;var qn=10,[Yk,us]=Oo(Ws),jW="SelectContentImpl",Xk=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=e,x=cs(Ws,n),[y,S]=b.useState(null),[_,j]=b.useState(null),C=ke(t,Y=>S(Y)),[k,A]=b.useState(null),[F,I]=b.useState(null),T=eh(n),[M,R]=b.useState(!1),D=b.useRef(!1);b.useEffect(()=>{if(y)return Fk(y)},[y]),Ok();const O=b.useCallback(Y=>{const[ee,...oe]=T().map(ye=>ye.ref.current),[se]=oe.slice(-1),de=document.activeElement;for(const ye of Y)if(ye===de||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ee&&_&&(_.scrollTop=0),ye===se&&_&&(_.scrollTop=_.scrollHeight),ye==null||ye.focus(),document.activeElement!==de))return},[T,_]),U=b.useCallback(()=>O([k,y]),[O,k,y]);b.useEffect(()=>{M&&U()},[M,U]);const{onOpenChange:P,triggerPointerDownPosRef:$}=x;b.useEffect(()=>{if(y){let Y={x:0,y:0};const ee=se=>{var de,ye;Y={x:Math.abs(Math.round(se.pageX)-(((de=$.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(se.pageY)-(((ye=$.current)==null?void 0:ye.y)??0))}},oe=se=>{Y.x<=10&&Y.y<=10?se.preventDefault():y.contains(se.target)||P(!1),document.removeEventListener("pointermove",ee),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,P,$]),b.useEffect(()=>{const Y=()=>P(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[P]);const[E,L]=mR(Y=>{const ee=T().filter(de=>!de.disabled),oe=ee.find(de=>de.ref.current===document.activeElement),se=gR(ee,Y,oe);se&&setTimeout(()=>se.ref.current.focus())}),z=b.useCallback((Y,ee,oe)=>{const se=!D.current&&!oe;(x.value!==void 0&&x.value===ee||se)&&(A(Y),se&&(D.current=!0))},[x.value]),N=b.useCallback(()=>y==null?void 0:y.focus(),[y]),ne=b.useCallback((Y,ee,oe)=>{const se=!D.current&&!oe;(x.value!==void 0&&x.value===ee||se)&&I(Y)},[x.value]),te=r==="popper"?Pg:Zk,J=te===Pg?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return l.jsx(Yk,{scope:n,content:y,viewport:_,onViewportChange:j,itemRefCallback:z,selectedItem:k,onItemLeave:N,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:F,position:r,isPositioned:M,searchRef:E,children:l.jsx($y,{as:Us,allowPinchZoom:!0,children:l.jsx(Iy,{asChild:!0,trapped:x.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:re(i,Y=>{var ee;(ee=x.trigger)==null||ee.focus({preventScroll:!0}),Y.preventDefault()}),children:l.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(te,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Y=>Y.preventDefault(),...v,...J,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:re(v.onKeyDown,Y=>{const ee=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ee&&Y.key.length===1&&L(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let se=T().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const de=Y.target,ye=se.indexOf(de);se=se.slice(ye+1)}setTimeout(()=>O(se)),Y.preventDefault()}})})})})})})});Xk.displayName=jW;var _W="SelectItemAlignedPosition",Zk=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=cs(Ws,n),a=us(Ws,n),[o,c]=b.useState(null),[u,d]=b.useState(null),f=ke(t,C=>d(C)),h=eh(n),p=b.useRef(!1),g=b.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=a,y=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&w&&v){const C=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),F=v.getBoundingClientRect();if(s.dir!=="rtl"){const de=F.left-k.left,ye=A.left-de,ft=C.left-ye,wt=C.width+ft,Nt=Math.max(wt,k.width),St=window.innerWidth-qn,lr=nS(ye,[qn,Math.max(qn,St-Nt)]);o.style.minWidth=wt+"px",o.style.left=lr+"px"}else{const de=k.right-F.right,ye=window.innerWidth-A.right-de,ft=window.innerWidth-C.right-ye,wt=C.width+ft,Nt=Math.max(wt,k.width),St=window.innerWidth-qn,lr=nS(ye,[qn,Math.max(qn,St-Nt)]);o.style.minWidth=wt+"px",o.style.right=lr+"px"}const I=h(),T=window.innerHeight-qn*2,M=m.scrollHeight,R=window.getComputedStyle(u),D=parseInt(R.borderTopWidth,10),O=parseInt(R.paddingTop,10),U=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),$=D+O+M+P+U,E=Math.min(w.offsetHeight*5,$),L=window.getComputedStyle(m),z=parseInt(L.paddingTop,10),N=parseInt(L.paddingBottom,10),ne=C.top+C.height/2-qn,te=T-ne,J=w.offsetHeight/2,Y=w.offsetTop+J,ee=D+O+Y,oe=$-ee;if(ee<=ne){const de=I.length>0&&w===I[I.length-1].ref.current;o.style.bottom="0px";const ye=u.clientHeight-m.offsetTop-m.offsetHeight,ft=Math.max(te,J+(de?N:0)+ye+U),wt=ee+ft;o.style.height=wt+"px"}else{const de=I.length>0&&w===I[0].ref.current;o.style.top="0px";const ft=Math.max(ne,D+m.offsetTop+(de?z:0)+J)+oe;o.style.height=ft+"px",m.scrollTop=ee-ne+m.offsetTop}o.style.margin=`${qn}px 0`,o.style.minHeight=E+"px",o.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,w,v,s.dir,r]);kt(()=>y(),[y]);const[S,_]=b.useState();kt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=b.useCallback(C=>{C&&g.current===!0&&(y(),x==null||x(),g.current=!1)},[y,x]);return l.jsx(PW,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Zk.displayName=_W;var EW="SelectPopperPosition",Pg=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=qn,...s}=e,a=th(n);return l.jsx(ME,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pg.displayName=EW;var[PW,Dy]=Oo(Ws,{}),Cg="SelectViewport",eR=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=us(Cg,n),a=Dy(Cg,n),o=ke(t,s.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Zf.Slot,{scope:n,children:l.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:re(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-qn*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<g){const x=v+p,y=Math.min(g,x),S=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});eR.displayName=Cg;var tR="SelectGroup",[CW,kW]=Oo(tR),RW=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Jr();return l.jsx(CW,{scope:n,id:i,children:l.jsx(le.div,{role:"group","aria-labelledby":i,...r,ref:t})})});RW.displayName=tR;var nR="SelectLabel",rR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=kW(nR,n);return l.jsx(le.div,{id:i.id,...r,ref:t})});rR.displayName=nR;var tf="SelectItem",[NW,iR]=Oo(tf),sR=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=cs(tf,n),c=us(tf,n),u=o.value===r,[d,f]=b.useState(s??""),[h,p]=b.useState(!1),g=ke(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,r,i)}),m=Jr(),w=b.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(NW,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:b.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Zf.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(le.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:re(a.onFocus,()=>p(!0)),onBlur:re(a.onBlur,()=>p(!1)),onClick:re(a.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:re(a.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:re(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:re(a.onPointerMove,x=>{var y;w.current=x.pointerType,i?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(a.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:re(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(gW.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});sR.displayName=tf;var dl="SelectItemText",aR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=cs(dl,n),o=us(dl,n),c=iR(dl,n),u=bW(dl,n),[d,f]=b.useState(null),h=ke(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return kt(()=>(m(g),()=>w(g)),[m,w,g]),l.jsxs(l.Fragment,{children:[l.jsx(le.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Gs.createPortal(s.children,a.valueNode):null]})});aR.displayName=dl;var oR="SelectItemIndicator",lR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return iR(oR,n).isSelected?l.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});lR.displayName=oR;var kg="SelectScrollUpButton",cR=b.forwardRef((e,t)=>{const n=us(kg,e.__scopeSelect),r=Dy(kg,e.__scopeSelect),[i,s]=b.useState(!1),a=ke(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(dR,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});cR.displayName=kg;var Rg="SelectScrollDownButton",uR=b.forwardRef((e,t)=>{const n=us(Rg,e.__scopeSelect),r=Dy(Rg,e.__scopeSelect),[i,s]=b.useState(!1),a=ke(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(dR,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});uR.displayName=Rg;var dR=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=us("SelectScrollButton",n),a=b.useRef(null),o=eh(n),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(le.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:re(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:re(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:re(i.onPointerLeave,()=>{c()})})}),TW="SelectSeparator",fR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});fR.displayName=TW;var Ng="SelectArrow",OW=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=th(n),s=cs(Ng,n),a=us(Ng,n);return s.open&&a.position==="popper"?l.jsx(UE,{...i,...r,ref:t}):null});OW.displayName=Ng;function hR(e){return e===""||e===void 0}var pR=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=b.useRef(null),s=ke(t,i),a=Fy(n);return b.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),l.jsx(Bc,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});pR.displayName="BubbleSelect";function mR(e){const t=dn(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function gR(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=AW(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function AW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IW=Hk,vR=Vk,FW=Qk,$W=Kk,DW=Gk,yR=Jk,LW=eR,xR=rR,bR=sR,MW=aR,UW=lR,wR=cR,SR=uR,jR=fR;const nr=IW,rr=FW,Ln=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(vR,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx($W,{asChild:!0,children:l.jsx(Wc,{className:"h-4 w-4 opacity-50"})})]}));Ln.displayName=vR.displayName;const _R=b.forwardRef(({className:e,...t},n)=>l.jsx(wR,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Wv,{className:"h-4 w-4"})}));_R.displayName=wR.displayName;const ER=b.forwardRef(({className:e,...t},n)=>l.jsx(SR,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Wc,{className:"h-4 w-4"})}));ER.displayName=SR.displayName;const Mn=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(DW,{children:l.jsxs(yR,{ref:i,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(_R,{}),l.jsx(LW,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(ER,{})]})}));Mn.displayName=yR.displayName;const zW=b.forwardRef(({className:e,...t},n)=>l.jsx(xR,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zW.displayName=xR.displayName;const Je=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(bR,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(UW,{children:l.jsx(Hv,{className:"h-4 w-4"})})}),l.jsx(MW,{children:t})]}));Je.displayName=bR.displayName;const BW=b.forwardRef(({className:e,...t},n)=>l.jsx(jR,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));BW.displayName=jR.displayName;var Ly="Checkbox",[HW,$J]=ci(Ly),[WW,VW]=HW(Ly),PR=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=b.useState(null),g=ke(t,S=>p(S)),m=b.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,x]=ti({prop:i,defaultProp:s,onChange:u}),y=b.useRef(v);return b.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const _=()=>x(y.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[h,x]),l.jsxs(WW,{scope:n,state:v,disabled:o,children:[l.jsx(le.button,{type:"button",role:"checkbox","aria-checked":Gi(v)?"mixed":v,"aria-required":a,"data-state":RR(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onKeyDown:re(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:re(e.onClick,S=>{x(_=>Gi(_)?!0:!_),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&l.jsx(qW,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Gi(s)?!1:s})]})});PR.displayName=Ly;var CR="CheckboxIndicator",kR=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=VW(CR,n);return l.jsx(ui,{present:r||Gi(s.state)||s.state===!0,children:l.jsx(le.span,{"data-state":RR(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});kR.displayName=CR;var qW=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=b.useRef(null),o=Fy(n),c=ty(t);b.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Gi(n),p.call(d,Gi(n)?!1:n),d.dispatchEvent(g)}},[o,n,r]);const u=b.useRef(Gi(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gi(e){return e==="indeterminate"}function RR(e){return Gi(e)?"indeterminate":e?"checked":"unchecked"}var NR=PR,QW=kR;const oi=b.forwardRef(({className:e,...t},n)=>l.jsx(NR,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(QW,{className:ie("flex items-center justify-center text-current"),children:l.jsx(Hv,{className:"h-4 w-4"})})}));oi.displayName=NR.displayName;const yr=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>(di(),e?l.jsxs("div",{className:ie("relative",n),children:[l.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:l.jsxs("div",{className:"text-center space-y-2",children:[i&&l.jsxs(Ke,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[l.jsx(Kl,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&l.jsxs(Q,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[l.jsx(iI,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):l.jsx(l.Fragment,{children:t})),TR=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=Yf(),{canExport:s}=Zs(),a=u=>({id:u.objectID,nom:u.Nom,description:u.Description,fe:u.FE,uniteActivite:u["Unité donnée d'activité"],source:u.Source,secteur:u.Secteur,sousSecteur:u["Sous-secteur"],localisation:u.Localisation,date:u.Date,incertitude:u.Incertitude,perimetre:u.Périmètre,contributeur:u.Contributeur,commentaires:u.Commentaires}),o=b.useCallback(async(u,d="emission_factors")=>{if(!s)return qt.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return qt.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return qt.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return qt.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const g=[["Nom","Description","FE","Unité donnée d'activité","Source","Secteur","Sous-secteur","Localisation","Date","Incertitude","Périmètre","Contributeur","Commentaires"],...f.map(v=>{var x,y;return[v.nom||"",v.description||"",((x=v.fe)==null?void 0:x.toString())||"",v.uniteActivite||"",v.source||"",v.secteur||"",v.sousSecteur||"",v.localisation||"",((y=v.date)==null?void 0:y.toString())||"",v.incertitude||"",v.perimetre||"",v.contributeur||"",v.commentaires||""]})].map(v=>v.map(x=>`"${x.replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");return w.href=URL.createObjectURL(m),w.download=`${d}.csv`,w.click(),URL.revokeObjectURL(w.href),qt.success(`${f.length} facteur(s) d'émission exporté(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),qt.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=b.useCallback(async u=>{if(u.length===0)return qt.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return qt.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return qt.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Description","FE","Unité","Source","Secteur","Sous-secteur","Localisation","Date","Incertitude","Périmètre","Contributeur","Commentaires"],h=d.map(m=>{var w,v;return[m.nom||"",m.description||"",((w=m.fe)==null?void 0:w.toString())||"",m.uniteActivite||"",m.source||"",m.secteur||"",m.sousSecteur||"",m.localisation||"",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"",m.contributeur||"",m.commentaires||""]}),g=[f,...h].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),qt.success(`${d.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),qt.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:o,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function KW(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YW={};function hS(e,t){return(YW.jsx?JW:GW).test(e)}const XW=/[ \t\n\f\r]/g;function ZW(e){return typeof e=="object"?e.type==="text"?pS(e.value):!1:pS(e)}function pS(e){return e.replace(XW,"")===""}class Xc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Xc.prototype.normal={};Xc.prototype.property={};Xc.prototype.space=void 0;function OR(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Xc(n,r,t)}function Tg(e){return e.toLowerCase()}class fn{constructor(t,n){this.attribute=n,this.property=t}}fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let e7=0;const ge=ea(),ct=ea(),Og=ea(),q=ea(),Me=ea(),Ha=ea(),pn=ea();function ea(){return 2**++e7}const Ag=Object.freeze(Object.defineProperty({__proto__:null,boolean:ge,booleanish:ct,commaOrSpaceSeparated:pn,commaSeparated:Ha,number:q,overloadedBoolean:Og,spaceSeparated:Me},Symbol.toStringTag,{value:"Module"})),jp=Object.keys(Ag);class My extends fn{constructor(t,n,r,i){let s=-1;if(super(t,n),mS(this,"space",i),typeof r=="number")for(;++s<jp.length;){const a=jp[s];mS(this,jp[s],(r&Ag[a])===Ag[a])}}}My.prototype.defined=!0;function mS(e,t,n){n&&(e[t]=n)}function Ao(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new My(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Tg(r)]=r,n[Tg(s.attribute)]=r}return new Xc(t,n,e.space)}const AR=Ao({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Me,ariaCurrent:null,ariaDescribedBy:Me,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Me,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Me,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Me,ariaLevel:q,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Me,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Me,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:ct,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function IR(e,t){return t in e?e[t]:t}function FR(e,t){return IR(e,t.toLowerCase())}const t7=Ao({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ha,acceptCharset:Me,accessKey:Me,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:Me,autoFocus:ge,autoPlay:ge,blocking:Me,capture:null,charSet:null,checked:ge,cite:null,className:Me,cols:q,colSpan:null,content:null,contentEditable:ct,controls:ge,controlsList:Me,coords:q|Ha,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:Og,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:Me,height:q,hidden:Og,high:q,href:null,hrefLang:null,htmlFor:Me,httpEquiv:Me,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:Me,itemRef:Me,itemScope:ge,itemType:Me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:q,pattern:null,ping:Me,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:Me,required:ge,reversed:ge,rows:q,rowSpan:q,sandbox:Me,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:ct,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Me,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:q,security:null,unselectable:null},space:"html",transform:FR}),n7=Ao({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pn,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ha,g2:Ha,glyphName:Ha,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pn,rev:pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pn,requiredFeatures:pn,requiredFonts:pn,requiredFormats:pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pn,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:IR}),$R=Ao({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),DR=Ao({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FR}),LR=Ao({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),r7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},i7=/[A-Z]/g,gS=/-[a-z]/g,s7=/^data[-\w.:]+$/i;function a7(e,t){const n=Tg(t);let r=t,i=fn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&s7.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(gS,l7);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!gS.test(s)){let a=s.replace(i7,o7);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=My}return new i(r,t)}function o7(e){return"-"+e.toLowerCase()}function l7(e){return e.charAt(1).toUpperCase()}const c7=OR([AR,t7,$R,DR,LR],"html"),Uy=OR([AR,n7,$R,DR,LR],"svg");function u7(e){return e.join(" ").trim()}var zy={},vS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,d7=/\n/g,f7=/^\s*/,h7=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,p7=/^:\s*/,m7=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,g7=/^[;\s]*/,v7=/^\s+|\s+$/g,y7=`
`,yS="/",xS="*",js="",x7="comment",b7="declaration",w7=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(d7);m&&(n+=m.length);var w=g.lastIndexOf(y7);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){c(f7)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=s();if(!(yS!=e.charAt(0)||xS!=e.charAt(1))){for(var m=2;js!=e.charAt(m)&&(xS!=e.charAt(m)||yS!=e.charAt(m+1));)++m;if(m+=2,js===e.charAt(m-1))return o("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,g({type:x7,comment:w})}}function h(){var g=s(),m=c(h7);if(m){if(f(),!c(p7))return o("property missing ':'");var w=c(m7),v=g({type:b7,property:bS(m[0].replace(vS,js)),value:w?bS(w[0].replace(vS,js)):js});return c(g7),v}}function p(){var g=[];d(g);for(var m;m=h();)m!==!1&&(g.push(m),d(g));return g}return u(),p()};function bS(e){return e?e.replace(v7,js):js}var S7=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zy,"__esModule",{value:!0});zy.default=_7;var j7=S7(w7);function _7(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,j7.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.camelCase=void 0;var E7=/^--[a-zA-Z0-9_-]+$/,P7=/-([a-z])/g,C7=/^[^-]+$/,k7=/^-(webkit|moz|ms|o|khtml)-/,R7=/^-(ms)-/,N7=function(e){return!e||C7.test(e)||E7.test(e)},T7=function(e,t){return t.toUpperCase()},wS=function(e,t){return"".concat(t,"-")},O7=function(e,t){return t===void 0&&(t={}),N7(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(R7,wS):e=e.replace(k7,wS),e.replace(P7,T7))};nh.camelCase=O7;var A7=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},I7=A7(zy),F7=nh;function Ig(e,t){var n={};return!e||typeof e!="string"||(0,I7.default)(e,function(r,i){r&&i&&(n[(0,F7.camelCase)(r,t)]=i)}),n}Ig.default=Ig;var $7=Ig;const D7=qs($7),MR=UR("end"),By=UR("start");function UR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function L7(e){const t=By(e),n=MR(e);if(t&&n)return{start:t,end:n}}function Cl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?SS(e.position):"start"in e||"end"in e?SS(e):"line"in e||"column"in e?Fg(e):""}function Fg(e){return jS(e&&e.line)+":"+jS(e&&e.column)}function SS(e){return Fg(e&&e.start)+"-"+Fg(e&&e.end)}function jS(e){return e&&typeof e=="number"?e:1}class Ht extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Cl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const Hy={}.hasOwnProperty,M7=new Map,U7=/[A-Z]/g,z7=new Set(["table","tbody","thead","tfoot","tr"]),B7=new Set(["td","th"]),zR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function H7(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Y7(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=J7(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Uy:c7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=BR(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function BR(e,t,n){if(t.type==="element")return W7(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return V7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Q7(e,t,n);if(t.type==="mdxjsEsm")return q7(e,t);if(t.type==="root")return K7(e,t,n);if(t.type==="text")return G7(e,t)}function W7(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Uy,e.schema=i),e.ancestors.push(t);const s=WR(e,t.tagName,!1),a=X7(e,t);let o=Vy(e,t);return z7.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!ZW(c):!0})),HR(e,a,s,t),Wy(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function V7(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Oc(e,t.position)}function q7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Oc(e,t.position)}function Q7(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Uy,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:WR(e,t.name,!0),a=Z7(e,t),o=Vy(e,t);return HR(e,a,s,t),Wy(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function K7(e,t,n){const r={};return Wy(r,Vy(e,t)),e.create(t,e.Fragment,r,n)}function G7(e,t){return t.value}function HR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Wy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function J7(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function Y7(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=By(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function X7(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Hy.call(t.properties,i)){const s=eV(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&B7.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Z7(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Oc(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Oc(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Vy(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:M7;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=BR(e,s,a);o!==void 0&&n.push(o)}return n}function eV(e,t,n){const r=a7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KW(n):u7(n)),r.property==="style"){let i=typeof n=="object"?n:tV(e,String(n));return e.stylePropertyNameCase==="css"&&(i=nV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?r7[r.property]||r.property:r.attribute,n]}}function tV(e,t){try{return D7(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=zR+"#cannot-parse-style-attribute",i}}function WR(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=hS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=hS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Hy.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Oc(e)}function Oc(e,t){const n=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nV(e){const t={};let n;for(n in e)Hy.call(e,n)&&(t[rV(n)]=e[n]);return t}function rV(e){let t=e.replace(U7,iV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iV(e){return"-"+e.toLowerCase()}const _p={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sV={};function aV(e,t){const n=sV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return VR(e,r,i)}function VR(e,t,n){if(oV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _S(e.children,t,n)}return Array.isArray(e)?_S(e,t,n):""}function _S(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=VR(e[i],t,n);return r.join("")}function oV(e){return!!(e&&typeof e=="object")}const ES=document.createElement("i");function qy(e){const t="&"+e+";";ES.innerHTML=t;const n=ES.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Tr(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function In(e,t){return e.length>0?(Tr(e,e.length,0,t),e):t}const PS={}.hasOwnProperty;function lV(e){const t={};let n=-1;for(;++n<e.length;)cV(t,e[n]);return t}function cV(e,t){let n;for(n in t){const i=(PS.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){PS.call(i,a)||(i[a]=[]);const o=s[a];uV(i[a],Array.isArray(o)?o:o?[o]:[])}}}function uV(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Tr(e,0,0,r)}function qR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Wa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Er=ds(/[A-Za-z]/),Sn=ds(/[\dA-Za-z]/),dV=ds(/[#-'*+\--9=?A-Z^-~]/);function $g(e){return e!==null&&(e<32||e===127)}const Dg=ds(/\d/),fV=ds(/[\dA-Fa-f]/),hV=ds(/[!-/:-@[-`{-~]/);function ce(e){return e!==null&&e<-2}function un(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const pV=ds(new RegExp("\\p{P}|\\p{S}","u")),mV=ds(/\s/);function ds(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Io(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Sn(e.charCodeAt(n+1))&&Sn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Ce(c)?(e.enter(n),o(c)):t(c)}function o(c){return Ce(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const gV={tokenize:vV};function vV(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ze(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ce(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const yV={tokenize:xV},CS={tokenize:bV};function xV(e){const t=this,n=[];let r=0,i,s,a;return o;function o(y){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(y)}return u(y)}function c(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const S=t.events.length;let _=S,j;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){j=t.events[_][1].end;break}v(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={...j},C++;return Tr(t.events,_+1,0,t.events.slice(S)),t.events.length=C,u(y)}return o(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(CS,d,f)(y)}function d(y){return i&&x(),v(r),h(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(y)}function h(y){return t.containerState={},e.attempt(CS,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function g(y){if(y===null){i&&x(),v(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(y)}function m(y){if(y===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return ce(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),m)}function w(y,S){const _=t.sliceStream(y);if(S&&_.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(_),t.parser.lazy[y.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const C=t.events.length;let k=C,A,F;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(A){F=t.events[k][1].end;break}A=!0}for(v(r),j=C;j<t.events.length;)t.events[j][1].end={...F},j++;Tr(t.events,k+1,0,t.events.slice(C)),t.events.length=j}}function v(y){let S=n.length;for(;S-- >y;){const _=n[S];t.containerState=_[1],_[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bV(e,t,n){return ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function kS(e){if(e===null||un(e)||mV(e))return 1;if(pV(e))return 2}function Qy(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Lg={name:"attention",resolveAll:wV,tokenize:SV};function wV(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};RS(f,-c),RS(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=In(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=In(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=In(u,Qy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=In(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=In(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Tr(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function SV(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=kS(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=kS(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(c)}}function RS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jV={name:"autolink",tokenize:_V};function _V(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Er(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||Sn(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Sn(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||$g(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):dV(p)?(e.consume(p),u):n(p)}function d(p){return Sn(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Sn(p))&&r++<63){const g=p===45?h:f;return e.consume(p),g}return n(p)}}const rh={partial:!0,tokenize:EV};function EV(e,t,n){return r;function r(s){return Ce(s)?ze(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ce(s)?t(s):n(s)}}const QR={continuation:{tokenize:CV},exit:kV,name:"blockQuote",tokenize:PV};function PV(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Ce(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function CV(e,t,n){const r=this;return i;function i(a){return Ce(a)?ze(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(QR,t,n)(a)}}function kV(e){e.exit("blockQuote")}const KR={name:"characterEscape",tokenize:RV};function RV(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return hV(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const GR={name:"characterReference",tokenize:NV};function NV(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Sn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=fV,d):(e.enter("characterReferenceValue"),s=7,a=Dg,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===Sn&&!qy(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const NS={partial:!0,tokenize:OV},TS={concrete:!0,name:"codeFenced",tokenize:TV};function TV(e,t,n){const r=this,i={partial:!0,tokenize:_};let s=0,a=0,o;return c;function c(j){return u(j)}function u(j){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===o?(a++,e.consume(j),d):a<3?n(j):(e.exit("codeFencedFenceSequence"),Ce(j)?ze(e,f,"whitespace")(j):f(j))}function f(j){return j===null||ce(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(NS,m,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||ce(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):Ce(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ze(e,p,"whitespace")(j)):j===96&&j===o?n(j):(e.consume(j),h)}function p(j){return j===null||ce(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||ce(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===o?n(j):(e.consume(j),g)}function m(j){return e.attempt(i,S,w)(j)}function w(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return s>0&&Ce(j)?ze(e,x,"linePrefix",s+1)(j):x(j)}function x(j){return j===null||ce(j)?e.check(NS,m,S)(j):(e.enter("codeFlowValue"),y(j))}function y(j){return j===null||ce(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),y)}function S(j){return e.exit("codeFenced"),t(j)}function _(j,C,k){let A=0;return F;function F(D){return j.enter("lineEnding"),j.consume(D),j.exit("lineEnding"),I}function I(D){return j.enter("codeFencedFence"),Ce(D)?ze(j,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):T(D)}function T(D){return D===o?(j.enter("codeFencedFenceSequence"),M(D)):k(D)}function M(D){return D===o?(A++,j.consume(D),M):A>=a?(j.exit("codeFencedFenceSequence"),Ce(D)?ze(j,R,"whitespace")(D):R(D)):k(D)}function R(D){return D===null||ce(D)?(j.exit("codeFencedFence"),C(D)):k(D)}}}function OV(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ep={name:"codeIndented",tokenize:IV},AV={partial:!0,tokenize:FV};function IV(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ze(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):ce(u)?e.attempt(AV,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ce(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function FV(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ze(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ce(a)?i(a):n(a)}}const $V={name:"codeText",previous:LV,resolve:DV,tokenize:MV};function DV(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function LV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MV(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):ce(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ce(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class UV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Zo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Zo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Zo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Zo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Zo(this.left,n.reverse())}}}function Zo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function JR(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new UV(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zV(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Tr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function zV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,g=0,m=0;const w=[m];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,w.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const v=o.slice(w[h],w[h+1]),x=s.pop();c.push([x,x+v.length-1]),e.splice(x,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const BV={resolve:WV,tokenize:VV},HV={partial:!0,tokenize:qV};function WV(e){return JR(e),e}function VV(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ce(o)?e.check(HV,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qV(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ze(e,s,"linePrefix")}function s(a){if(a===null||ce(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function YR(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||$g(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||ce(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!d&&(v===null||v===41||un(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||$g(v)?n(v):(e.consume(v),v===92?w:m)}function w(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function XR(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):ce(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ce(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Ce(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function ZR(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ze(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||ce(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function kl(e,t){let n;return r;function r(i){return ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ce(i)?ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const QV={name:"definition",tokenize:GV},KV={partial:!0,tokenize:JV};function GV(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return XR.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Wa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return un(p)?kl(e,u)(p):u(p)}function u(p){return YR(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(KV,f,f)(p)}function f(p){return Ce(p)?ze(e,h,"whitespace")(p):h(p)}function h(p){return p===null||ce(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function JV(e,t,n){return r;function r(o){return un(o)?kl(e,i)(o):n(o)}function i(o){return ZR(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ce(o)?ze(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ce(o)?t(o):n(o)}}const YV={name:"hardBreakEscape",tokenize:XV};function XV(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ce(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const ZV={name:"headingAtx",resolve:eq,tokenize:tq};function eq(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Tr(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function tq(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||un(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ce(d)?(e.exit("atxHeading"),t(d)):Ce(d)?ze(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||un(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const nq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],OS=["pre","script","style","textarea"],rq={concrete:!0,name:"htmlFlow",resolveTo:aq,tokenize:oq},iq={partial:!0,tokenize:cq},sq={partial:!0,tokenize:lq};function aq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function oq(e,t,n){const r=this;let i,s,a,o,c;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),s=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:E):Er(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function h(N){return N===45?(e.consume(N),i=2,p):N===91?(e.consume(N),i=5,o=0,g):Er(N)?(e.consume(N),i=4,r.interrupt?t:E):n(N)}function p(N){return N===45?(e.consume(N),r.interrupt?t:E):n(N)}function g(N){const ne="CDATA[";return N===ne.charCodeAt(o++)?(e.consume(N),o===ne.length?r.interrupt?t:T:g):n(N)}function m(N){return Er(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||un(N)){const ne=N===47,te=a.toLowerCase();return!ne&&!s&&OS.includes(te)?(i=1,r.interrupt?t(N):T(N)):nq.includes(a.toLowerCase())?(i=6,ne?(e.consume(N),v):r.interrupt?t(N):T(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):y(N))}return N===45||Sn(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function v(N){return N===62?(e.consume(N),r.interrupt?t:T):n(N)}function x(N){return Ce(N)?(e.consume(N),x):F(N)}function y(N){return N===47?(e.consume(N),F):N===58||N===95||Er(N)?(e.consume(N),S):Ce(N)?(e.consume(N),y):F(N)}function S(N){return N===45||N===46||N===58||N===95||Sn(N)?(e.consume(N),S):_(N)}function _(N){return N===61?(e.consume(N),j):Ce(N)?(e.consume(N),_):y(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),c=N,C):Ce(N)?(e.consume(N),j):k(N)}function C(N){return N===c?(e.consume(N),c=null,A):N===null||ce(N)?n(N):(e.consume(N),C)}function k(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||un(N)?_(N):(e.consume(N),k)}function A(N){return N===47||N===62||Ce(N)?y(N):n(N)}function F(N){return N===62?(e.consume(N),I):n(N)}function I(N){return N===null||ce(N)?T(N):Ce(N)?(e.consume(N),I):n(N)}function T(N){return N===45&&i===2?(e.consume(N),O):N===60&&i===1?(e.consume(N),U):N===62&&i===4?(e.consume(N),L):N===63&&i===3?(e.consume(N),E):N===93&&i===5?(e.consume(N),$):ce(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(iq,z,M)(N)):N===null||ce(N)?(e.exit("htmlFlowData"),M(N)):(e.consume(N),T)}function M(N){return e.check(sq,R,z)(N)}function R(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),D}function D(N){return N===null||ce(N)?M(N):(e.enter("htmlFlowData"),T(N))}function O(N){return N===45?(e.consume(N),E):T(N)}function U(N){return N===47?(e.consume(N),a="",P):T(N)}function P(N){if(N===62){const ne=a.toLowerCase();return OS.includes(ne)?(e.consume(N),L):T(N)}return Er(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),P):T(N)}function $(N){return N===93?(e.consume(N),E):T(N)}function E(N){return N===62?(e.consume(N),L):N===45&&i===2?(e.consume(N),E):T(N)}function L(N){return N===null||ce(N)?(e.exit("htmlFlowData"),z(N)):(e.consume(N),L)}function z(N){return e.exit("htmlFlow"),t(N)}}function lq(e,t,n){const r=this;return i;function i(a){return ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function cq(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(rh,t,n)}}const uq={name:"htmlText",tokenize:dq};function dq(e,t,n){const r=this;let i,s,a;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),_):E===63?(e.consume(E),y):Er(E)?(e.consume(E),k):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),s=0,g):Er(E)?(e.consume(E),x):n(E)}function d(E){return E===45?(e.consume(E),p):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):ce(E)?(a=f,U(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),p):f(E)}function p(E){return E===62?O(E):E===45?h(E):f(E)}function g(E){const L="CDATA[";return E===L.charCodeAt(s++)?(e.consume(E),s===L.length?m:g):n(E)}function m(E){return E===null?n(E):E===93?(e.consume(E),w):ce(E)?(a=m,U(E)):(e.consume(E),m)}function w(E){return E===93?(e.consume(E),v):m(E)}function v(E){return E===62?O(E):E===93?(e.consume(E),v):m(E)}function x(E){return E===null||E===62?O(E):ce(E)?(a=x,U(E)):(e.consume(E),x)}function y(E){return E===null?n(E):E===63?(e.consume(E),S):ce(E)?(a=y,U(E)):(e.consume(E),y)}function S(E){return E===62?O(E):y(E)}function _(E){return Er(E)?(e.consume(E),j):n(E)}function j(E){return E===45||Sn(E)?(e.consume(E),j):C(E)}function C(E){return ce(E)?(a=C,U(E)):Ce(E)?(e.consume(E),C):O(E)}function k(E){return E===45||Sn(E)?(e.consume(E),k):E===47||E===62||un(E)?A(E):n(E)}function A(E){return E===47?(e.consume(E),O):E===58||E===95||Er(E)?(e.consume(E),F):ce(E)?(a=A,U(E)):Ce(E)?(e.consume(E),A):O(E)}function F(E){return E===45||E===46||E===58||E===95||Sn(E)?(e.consume(E),F):I(E)}function I(E){return E===61?(e.consume(E),T):ce(E)?(a=I,U(E)):Ce(E)?(e.consume(E),I):A(E)}function T(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,M):ce(E)?(a=T,U(E)):Ce(E)?(e.consume(E),T):(e.consume(E),R)}function M(E){return E===i?(e.consume(E),i=void 0,D):E===null?n(E):ce(E)?(a=M,U(E)):(e.consume(E),M)}function R(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||un(E)?A(E):(e.consume(E),R)}function D(E){return E===47||E===62||un(E)?A(E):n(E)}function O(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function U(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),P}function P(E){return Ce(E)?ze(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):$(E)}function $(E){return e.enter("htmlTextData"),a(E)}}const Ky={name:"labelEnd",resolveAll:mq,resolveTo:gq,tokenize:vq},fq={tokenize:yq},hq={tokenize:xq},pq={tokenize:bq};function mq(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Tr(e,0,e.length,n),e}function gq(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=In(o,e.slice(s+1,s+r+3)),o=In(o,[["enter",d,t]]),o=In(o,Qy(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=In(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=In(o,e.slice(a+1)),o=In(o,[["exit",c,t]]),Tr(e,s,e.length,o),e}function vq(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Wa(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(fq,d,a?d:f)(h):h===91?e.attempt(hq,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(pq,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function yq(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return un(f)?kl(e,s)(f):s(f)}function s(f){return f===41?d(f):YR(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return un(f)?kl(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?ZR(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return un(f)?kl(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function xq(e,t,n){const r=this;return i;function i(o){return XR.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Wa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function bq(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const wq={name:"labelStartImage",resolveAll:Ky.resolveAll,tokenize:Sq};function Sq(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const jq={name:"labelStartLink",resolveAll:Ky.resolveAll,tokenize:_q};function _q(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Pp={name:"lineEnding",tokenize:Eq};function Eq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ze(e,t,"linePrefix")}}const fd={name:"thematicBreak",tokenize:Pq};function Pq(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||ce(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Ce(u)?ze(e,o,"whitespace")(u):o(u))}}const en={continuation:{tokenize:Nq},exit:Oq,name:"list",tokenize:Rq},Cq={partial:!0,tokenize:Aq},kq={partial:!0,tokenize:Tq};function Rq(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Dg(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(fd,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Dg(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(rh,r.interrupt?n:d,e.attempt(Cq,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Ce(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Nq(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rh,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ze(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Ce(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(kq,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ze(e,e.attempt(en,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Tq(e,t,n){const r=this;return ze(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function Oq(e){e.exit(this.containerState.type)}function Aq(e,t,n){const r=this;return ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Ce(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const AS={name:"setextUnderline",resolveTo:Iq,tokenize:Fq};function Iq(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function Fq(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Ce(u)?ze(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ce(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const $q={tokenize:Dq};function Dq(e){const t=this,n=e.attempt(rh,r,e.attempt(this.parser.constructs.flowInitial,i,ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(BV,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Lq={resolveAll:tN()},Mq=eN("string"),Uq=eN("text");function eN(e){return{resolveAll:tN(e==="text"?zq:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function tN(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function zq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Bq={42:en,43:en,45:en,48:en,49:en,50:en,51:en,52:en,53:en,54:en,55:en,56:en,57:en,62:QR},Hq={91:QV},Wq={[-2]:Ep,[-1]:Ep,32:Ep},Vq={35:ZV,42:fd,45:[AS,fd],60:rq,61:AS,95:fd,96:TS,126:TS},qq={38:GR,92:KR},Qq={[-5]:Pp,[-4]:Pp,[-3]:Pp,33:wq,38:GR,42:Lg,60:[jV,uq],91:jq,92:[YV,KR],93:Ky,95:Lg,96:$V},Kq={null:[Lg,Lq]},Gq={null:[42,95]},Jq={null:[]},Yq=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Gq,contentInitial:Hq,disable:Jq,document:Bq,flow:Vq,flowInitial:Wq,insideSpan:Kq,string:qq,text:Qq},Symbol.toStringTag,{value:"Module"}));function Xq(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:C(_),check:C(j),consume:x,enter:y,exit:S,interrupt:C(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(I){return a=In(a,I),w(),a[a.length-1]!==null?[]:(k(t,0),u.events=Qy(s,u.events,u),u.events)}function h(I,T){return eQ(p(I),T)}function p(I){return Zq(a,I)}function g(){const{_bufferIndex:I,_index:T,line:M,column:R,offset:D}=r;return{_bufferIndex:I,_index:T,line:M,column:R,offset:D}}function m(I){i[I.line]=I.column,F()}function w(){let I;for(;r._index<a.length;){const T=a[r._index];if(typeof T=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<T.length;)v(T.charCodeAt(r._bufferIndex));else v(T)}}function v(I){d=d(I)}function x(I){ce(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,F()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function y(I,T){const M=T||{};return M.type=I,M.start=g(),u.events.push(["enter",M,u]),o.push(M),M}function S(I){const T=o.pop();return T.end=g(),u.events.push(["exit",T,u]),T}function _(I,T){k(I,T.from)}function j(I,T){T.restore()}function C(I,T){return M;function M(R,D,O){let U,P,$,E;return Array.isArray(R)?z(R):"tokenize"in R?z([R]):L(R);function L(J){return Y;function Y(ee){const oe=ee!==null&&J[ee],se=ee!==null&&J.null,de=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(se)?se:se?[se]:[]];return z(de)(ee)}}function z(J){return U=J,P=0,J.length===0?O:N(J[P])}function N(J){return Y;function Y(ee){return E=A(),$=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?te():J.tokenize.call(T?Object.assign(Object.create(u),T):u,c,ne,te)(ee)}}function ne(J){return I($,E),D}function te(J){return E.restore(),++P<U.length?N(U[P]):O}}}function k(I,T){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&Tr(u.events,T,u.events.length-T,I.resolve(u.events.slice(T),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function A(){const I=g(),T=u.previous,M=u.currentConstruct,R=u.events.length,D=Array.from(o);return{from:R,restore:O};function O(){r=I,u.previous=T,u.currentConstruct=M,u.events.length=R,o=D,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Zq(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function eQ(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function tQ(e){const r={constructs:lV([Yq,...(e||{}).extensions||[]]),content:i(gV),defined:[],document:i(yV),flow:i($q),lazy:{},string:i(Mq),text:i(Uq)};return r;function i(s){return a;function a(o){return Xq(r,s,o)}}}function nQ(e){for(;!JR(e););return e}const IS=/[\0\t\n\r]/g;function rQ(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(IS.lastIndex=f,u=IS.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const iQ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sQ(e){return e.replace(iQ,aQ)}function aQ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return qR(n.slice(s?2:1),s?16:10)}return qy(n)||e}const nN={}.hasOwnProperty;function oQ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),lQ(n)(nQ(tQ(n).document().write(rQ()(e,t,!0))))}function lQ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lt),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(Nt),blockQuote:s(se),characterEscape:A,characterReference:A,codeFenced:s(de),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(de,a),codeText:s(ye,a),codeTextData:A,data:A,codeFlowValue:A,definition:s(ft),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(wt),hardBreakEscape:s(St),hardBreakTrailing:s(St),htmlFlow:s(lr,a),htmlFlowData:A,htmlText:s(lr,a),htmlTextData:A,image:s(Fo),label:a,link:s(lt),listItem:s(ah),listItemValue:h,listOrdered:s(Ir,f),listUnordered:s(Ir),paragraph:s(oh),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Nt),strong:s(ta),thematicBreak:s(ru)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:oe,autolinkProtocol:ee,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:J,characterReference:Y,codeFenced:c(w),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:F,codeIndented:c(v),codeText:c(D),codeTextData:F,data:F,definition:c(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(T),hardBreakTrailing:c(T),htmlFlow:c(M),htmlFlowData:F,htmlText:c(R),htmlTextData:F,image:c(U),label:$,labelText:P,lineEnding:I,link:c(O),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ne,resourceDestinationString:E,resourceTitleString:L,resource:z,setextHeading:c(k),setextHeadingLineSequence:C,setextHeadingText:j,strong:c(),thematicBreak:c()}};rN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let K={type:"root",children:[]};const ue={stack:[K],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},he=[];let Re=-1;for(;++Re<B.length;)if(B[Re][1].type==="listOrdered"||B[Re][1].type==="listUnordered")if(B[Re][0]==="enter")he.push(Re);else{const hn=he.pop();Re=i(B,hn,Re)}for(Re=-1;++Re<B.length;){const hn=t[B[Re][0]];nN.call(hn,B[Re][1].type)&&hn[B[Re][1].type].call(Object.assign({sliceSerialize:B[Re][2].sliceSerialize},ue),B[Re][1])}if(ue.tokenStack.length>0){const hn=ue.tokenStack[ue.tokenStack.length-1];(hn[1]||FS).call(ue,void 0,hn[0])}for(K.position={start:wi(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:wi(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)K=t.transforms[Re](K)||K;return K}function i(B,K,ue){let he=K-1,Re=-1,hn=!1,cr,Rn,fs,Fr;for(;++he<=ue;){const Ze=B[he];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?Re++:Re--,Fr=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(cr&&!Fr&&!Re&&!fs&&(fs=he),Fr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Fr=void 0}if(!Re&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||Re===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(cr){let pi=he;for(Rn=void 0;pi--;){const ae=B[pi];if(ae[1].type==="lineEnding"||ae[1].type==="lineEndingBlank"){if(ae[0]==="exit")continue;Rn&&(B[Rn][1].type="lineEndingBlank",hn=!0),ae[1].type="lineEnding",Rn=pi}else if(!(ae[1].type==="linePrefix"||ae[1].type==="blockQuotePrefix"||ae[1].type==="blockQuotePrefixWhitespace"||ae[1].type==="blockQuoteMarker"||ae[1].type==="listItemIndent"))break}fs&&(!Rn||fs<Rn)&&(cr._spread=!0),cr.end=Object.assign({},Rn?B[Rn][1].start:Ze[1].end),B.splice(Rn||he,0,["exit",cr,Ze[2]]),he++,ue++}if(Ze[1].type==="listItemPrefix"){const pi={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};cr=pi,B.splice(he,0,["enter",pi,Ze[2]]),he++,ue++,fs=void 0,Fr=!0}}}return B[K][1]._spread=hn,ue}function s(B,K){return ue;function ue(he){o.call(this,B(he),he),K&&K.call(this,he)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,K,ue){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([K,ue||void 0]),B.position={start:wi(K.start),end:void 0}}function c(B){return K;function K(ue){B&&B.call(this,ue),u.call(this,ue)}}function u(B,K){const ue=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==B.type&&(K?K.call(this,B,he[0]):(he[1]||FS).call(this,B,he[0]));else throw new Error("Cannot close `"+B.type+"` ("+Cl({start:B.start,end:B.end})+"): it’s not open");ue.position.end=wi(B.end)}function d(){return aV(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),K=this.stack[this.stack.length-1];K.lang=B}function g(){const B=this.resume(),K=this.stack[this.stack.length-1];K.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Wa(this.sliceSerialize(B)).toLowerCase()}function y(){const B=this.resume(),K=this.stack[this.stack.length-1];K.title=B}function S(){const B=this.resume(),K=this.stack[this.stack.length-1];K.url=B}function _(B){const K=this.stack[this.stack.length-1];if(!K.depth){const ue=this.sliceSerialize(B).length;K.depth=ue}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function C(B){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function A(B){const ue=this.stack[this.stack.length-1].children;let he=ue[ue.length-1];(!he||he.type!=="text")&&(he=lh(),he.position={start:wi(B.start),end:void 0},ue.push(he)),this.stack.push(he)}function F(B){const K=this.stack.pop();K.value+=this.sliceSerialize(B),K.position.end=wi(B.end)}function I(B){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=K.children[K.children.length-1];ue.position.end=wi(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(A.call(this,B),F.call(this,B))}function T(){this.data.atHardBreak=!0}function M(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function R(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function D(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function O(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=K,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function U(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=K,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function P(B){const K=this.sliceSerialize(B),ue=this.stack[this.stack.length-2];ue.label=sQ(K),ue.identifier=Wa(K).toLowerCase()}function $(){const B=this.stack[this.stack.length-1],K=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const he=B.children;ue.children=he}else ue.alt=K}function E(){const B=this.resume(),K=this.stack[this.stack.length-1];K.url=B}function L(){const B=this.resume(),K=this.stack[this.stack.length-1];K.title=B}function z(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ne(B){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Wa(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function te(B){this.data.characterReferenceType=B.type}function J(B){const K=this.sliceSerialize(B),ue=this.data.characterReferenceType;let he;ue?(he=qR(K,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=qy(K);const Re=this.stack[this.stack.length-1];Re.value+=he}function Y(B){const K=this.stack.pop();K.position.end=wi(B.end)}function ee(B){F.call(this,B);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(B)}function oe(B){F.call(this,B);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(B)}function se(){return{type:"blockquote",children:[]}}function de(){return{type:"code",lang:null,meta:null,value:""}}function ye(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wt(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function lr(){return{type:"html",value:""}}function Fo(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function Ir(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function ah(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function oh(){return{type:"paragraph",children:[]}}function ta(){return{type:"strong",children:[]}}function lh(){return{type:"text",value:""}}function ru(){return{type:"thematicBreak"}}}function wi(e){return{line:e.line,column:e.column,offset:e.offset}}function rN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?rN(e,r):cQ(e,r)}}function cQ(e,t){let n;for(n in t)if(nN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function FS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Cl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Cl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Cl({start:t.start,end:t.end})+") is still open")}function uQ(e){const t=this;t.parser=n;function n(r){return oQ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dQ(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fQ(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hQ(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function pQ(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mQ(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gQ(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Io(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function vQ(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yQ(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function iN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function xQ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return iN(e,t);const i={src:Io(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function bQ(e,t){const n={src:Io(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function wQ(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function SQ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return iN(e,t);const i={href:Io(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function jQ(e,t){const n={href:Io(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _Q(e,t,n){const r=e.all(t),i=n?EQ(n):sN(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function EQ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=sN(n[r])}return t}function sN(e){const t=e.spread;return t??e.children.length>1}function PQ(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function CQ(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kQ(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function RQ(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NQ(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=By(t.children[1]),c=MR(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function TQ(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function OQ(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $S=9,DS=32;function AQ(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(LS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(LS(t.slice(i),i>0,!1)),s.join("")}function LS(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===$S||s===DS;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===$S||s===DS;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function IQ(e,t){const n={type:"text",value:AQ(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function FQ(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const $Q={blockquote:dQ,break:fQ,code:hQ,delete:pQ,emphasis:mQ,footnoteReference:gQ,heading:vQ,html:yQ,imageReference:xQ,image:bQ,inlineCode:wQ,linkReference:SQ,link:jQ,listItem:_Q,list:PQ,paragraph:CQ,root:kQ,strong:RQ,table:NQ,tableCell:OQ,tableRow:TQ,text:IQ,thematicBreak:FQ,toml:Bu,yaml:Bu,definition:Bu,footnoteDefinition:Bu};function Bu(){}const aN=-1,ih=0,Rl=1,nf=2,Gy=3,Jy=4,Yy=5,Xy=6,oN=7,lN=8,MS=typeof self=="object"?self:globalThis,DQ=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case ih:case aN:return n(a,i);case Rl:{const o=n([],i);for(const c of a)o.push(r(c));return o}case nf:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case Gy:return n(new Date(a),i);case Jy:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case Yy:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case Xy:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case oN:{const{name:o,message:c}=a;return n(new MS[o](c),i)}case lN:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new MS[s](a),i)};return r},US=e=>DQ(new Map,e)(0),ma="",{toString:LQ}={},{keys:MQ}=Object,el=e=>{const t=typeof e;if(t!=="object"||!e)return[ih,t];const n=LQ.call(e).slice(8,-1);switch(n){case"Array":return[Rl,ma];case"Object":return[nf,ma];case"Date":return[Gy,ma];case"RegExp":return[Jy,ma];case"Map":return[Yy,ma];case"Set":return[Xy,ma];case"DataView":return[Rl,n]}return n.includes("Array")?[Rl,n]:n.includes("Error")?[oN,n]:[nf,n]},Hu=([e,t])=>e===ih&&(t==="function"||t==="symbol"),UQ=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=el(a);switch(o){case ih:{let d=a;switch(c){case"bigint":o=lN,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([aN],a)}return i([o,d],a)}case Rl:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case nf:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of MQ(a))(e||!Hu(el(a[h])))&&d.push([s(h),s(a[h])]);return f}case Gy:return i([o,a.toISOString()],a);case Jy:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case Yy:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(Hu(el(h))||Hu(el(p))))&&d.push([s(h),s(p)]);return f}case Xy:{const d=[],f=i([o,d],a);for(const h of a)(e||!Hu(el(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},zS=(e,{json:t,lossy:n}={})=>{const r=[];return UQ(!(t||n),!!t,new Map,r)(e),r},rf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?US(zS(e,t)):structuredClone(e):(e,t)=>US(zS(e,t));function zQ(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function BQ(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function HQ(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zQ,r=e.options.footnoteBackLabel||BQ,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Io(f.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(c,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...rf(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const cN=function(e){if(e==null)return QQ;if(typeof e=="function")return sh(e);if(typeof e=="object")return Array.isArray(e)?WQ(e):VQ(e);if(typeof e=="string")return qQ(e);throw new Error("Expected function, string, or object as test")};function WQ(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cN(e[n]);return sh(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function VQ(e){const t=e;return sh(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function qQ(e){return sh(t);function t(n){return n&&n.type===e}}function sh(e){return t;function t(n,r,i){return!!(KQ(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function QQ(){return!0}function KQ(e){return e!==null&&typeof e=="object"&&"type"in e}const uN=[],GQ=!0,BS=!1,JQ="skip";function YQ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=cN(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=uN,g,m,w;if((!t||s(c,u,d[d.length-1]||void 0))&&(p=XQ(n(c,d)),p[0]===BS))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==JQ)for(m=(r?v.children.length:-1)+a,w=d.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(g=o(x,m,w)(),g[0]===BS)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function XQ(e){return Array.isArray(e)?e:typeof e=="number"?[GQ,e]:e==null?uN:[e]}function dN(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),YQ(e,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const Mg={}.hasOwnProperty,ZQ={};function eK(e,t){const n=t||ZQ,r=new Map,i=new Map,s=new Map,a={...$Q,...n.handlers},o={all:u,applyData:nK,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:tK,wrap:iK};return dN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(Mg.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:m,...w}=d,v=rf(w);return v.children=o.all(d),v}return rf(d)}return(o.options.unknownHandler||rK)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=HS(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=HS(m.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function tK(e,t){e.position&&(t.position=L7(e))}function nK(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,rf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rK(e,t){const n=t.data||{},r="value"in t&&!(Mg.call(n,"hProperties")||Mg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function iK(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function HS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function WS(e,t){const n=eK(e,t),r=n.one(e,void 0),i=HQ(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function sK(e,t){return e&&"run"in e?async function(n,r){const i=WS(n,{file:r,...t});await e.run(i,r)}:function(n,r){return WS(n,{file:r,...e||t})}}function VS(e){if(e)throw e}var hd=Object.prototype.hasOwnProperty,fN=Object.prototype.toString,qS=Object.defineProperty,QS=Object.getOwnPropertyDescriptor,KS=function(t){return typeof Array.isArray=="function"?Array.isArray(t):fN.call(t)==="[object Array]"},GS=function(t){if(!t||fN.call(t)!=="[object Object]")return!1;var n=hd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&hd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||hd.call(t,i)},JS=function(t,n){qS&&n.name==="__proto__"?qS(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},YS=function(t,n){if(n==="__proto__")if(hd.call(t,n)){if(QS)return QS(t,n).value}else return;return t[n]},aK=function e(){var t,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=YS(o,n),i=YS(t,n),o!==i&&(d&&i&&(GS(i)||(s=KS(i)))?(s?(s=!1,a=r&&KS(r)?r:[]):a=r&&GS(r)?r:{},JS(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&JS(o,{name:n,newValue:i}));return o};const Cp=qs(aK);function Ug(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oK(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?lK(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function lK(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const vr={basename:cK,dirname:uK,extname:dK,join:fK,sep:"/"};function cK(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zc(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function uK(e){if(Zc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dK(e){Zc(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function fK(...e){let t=-1,n;for(;++t<e.length;)Zc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":hK(n)}function hK(e){Zc(e);const t=e.codePointAt(0)===47;let n=pK(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function pK(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Zc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mK={cwd:gK};function gK(){return"/"}function zg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vK(e){if(typeof e=="string")e=new URL(e);else if(!zg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return yK(e)}function yK(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const kp=["history","path","basename","stem","extname","dirname"];class hN{constructor(t){let n;t?zg(t)?n={path:t}:typeof t=="string"||xK(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":mK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<kp.length;){const s=kp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)kp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(t){Np(t,"basename"),Rp(t,"basename"),this.path=vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(t){XS(this.basename,"dirname"),this.path=vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(t){if(Rp(t,"extname"),XS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){zg(t)&&(t=vK(t)),Np(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(t){Np(t,"stem"),Rp(t,"stem"),this.path=vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ht(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rp(e,t){if(e&&e.includes(vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vr.sep+"`")}function Np(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function XS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bK=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},wK={}.hasOwnProperty;class Zy extends bK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oK()}copy(){const t=new Zy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Cp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ap("data",this.frozen),this.namespace[t]=n,this):wK.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ap("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wu(t),r=this.parser||this.Parser;return Tp("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Tp("process",this.parser||this.Parser),Op("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Wu(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,g=r.stringify(p,h);_K(g)?h.value=g:h.result=g,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Tp("processSync",this.parser||this.Parser),Op("processSync",this.compiler||this.Compiler),this.process(t,i),e1("processSync","process",n),r;function i(s,a){n=!0,VS(s),r=a}}run(t,n,r){ZS(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=Wu(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),e1("runSync","run",r),i;function s(a,o){VS(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Wu(n),i=this.compiler||this.Compiler;return Op("stringify",i),ZS(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ap("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Cp(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const m=r[h][1];Ug(m)&&Ug(p)&&(p=Cp(!0,m,p)),r[h]=[u,p,...g]}}}}const SK=new Zy().freeze();function Tp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Op(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ap(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZS(e){if(!Ug(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function e1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wu(e){return jK(e)?e:new hN(e)}function jK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _K(e){return typeof e=="string"||EK(e)}function EK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",t1=[],n1={allowDangerousHtml:!0},CK=/^(https?|ircs?|mailto|xmpp)$/i,kK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Va(e){const t=RK(e),n=NK(e);return TK(t.runSync(t.parse(n),n),e)}function RK(e){const t=e.rehypePlugins||t1,n=e.remarkPlugins||t1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...n1}:n1;return SK().use(uQ).use(n).use(sK,r).use(t)}function NK(e){const t=e.children||"",n=new hN;return typeof t=="string"&&(n.value=t),n}function TK(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||OK;for(const d of kK)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+PK+d.id,void 0);return dN(e,u),H7(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in _p)if(Object.hasOwn(_p,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],m=_p[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function OK(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||CK.test(e.slice(0,t))?e:""}const Ip={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},pN=()=>{const[e,t]=b.useState({}),[n,r]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const{data:a,error:o}=await X.storage.from("source-logos").list();if(o){console.error("❌ Error fetching source logos:",o),t(Ip);return}const c={...Ip};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=X.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[f]=d.publicUrl}}t(c)}catch(a){console.error("❌ Error in fetchLogos:",a),t(Ip)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),o=Object.keys(e).find(c=>c.toLowerCase()===a);return o?e[o]:null},loading:n,logos:e}},AK=()=>{var n;const{items:e,refine:t}=HB({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),l.jsxs(nr,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[l.jsx(Ln,{className:"w-auto",children:l.jsx(rr,{})}),l.jsx(Mn,{children:e.map(r=>l.jsx(Je,{value:String(r.value),children:r.label},r.value))})]})]})},IK=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),l.jsxs(nr,{value:t,onValueChange:e,children:[l.jsx(Ln,{className:"w-auto min-w-[140px]",children:l.jsx(rr,{})}),l.jsx(Mn,{children:n.map(r=>l.jsx(Je,{value:r.value,children:r.label},r.value))})]})]})},FK=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=Oy();if(t<=1)return null;const s=[],a=5;let o=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,o+a-1);c-o<a-1&&(o=Math.max(0,c-a+1));for(let u=o;u<=c;u++)s.push(u);return l.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[l.jsx(rE,{className:"h-4 w-4"}),"Précédent"]}),o>0&&l.jsxs(l.Fragment,{children:[l.jsx(Q,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),o>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>l.jsx(Q,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&l.jsxs(l.Fragment,{children:[c<t-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),l.jsx(Q,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",l.jsx(iE,{className:"h-4 w-4"})]})]})},$K=()=>{const{query:e}=Ay(),{hits:t}=Kf();return t.length===0&&e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Md,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("p",{children:"Suggestions :"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),l.jsx("li",{children:"• Essayez des termes plus généraux"}),l.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Md,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),l.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},DK=()=>{const{hits:e}=Kf(),[t,n]=H.useState(new Set),[r,i]=H.useState(new Set),[s,a]=H.useState("relevance"),{addToFavorites:o,removeFromFavorites:c,isFavorite:u}=Wf(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:h}=To();Zs();const{toast:p}=Rt();rt(),p9();const{getSourceLogo:g}=pN(),{handleExport:m,handleCopyToClipboard:w}=TR(),v="fr",x=H.useCallback((O,U)=>U==="relevance"?O:[...O].sort((P,$)=>{switch(U){case"fe_asc":return(P.FE||0)-($.FE||0);case"fe_desc":return($.FE||0)-(P.FE||0);case"date_desc":return($.Date||0)-(P.Date||0);case"date_asc":return(P.Date||0)-($.Date||0);case"nom_asc":{const E=P.Nom_fr||"",L=$.Nom_fr||"";return E.localeCompare(L,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const E=P.Nom_fr||"";return($.Nom_fr||"").localeCompare(E,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(P.Source||"").localeCompare($.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:y}=lH({attribute:"FE",precision:2}),S=H.useMemo(()=>{const O=$=>{if(typeof $=="object"&&($==null?void 0:$._type)==="Number"){const E=String($.value);if(E==="-Infinity"||E==="Infinity"||E==="NaN")return;const L=parseFloat($.value);return Number.isFinite(L)?L:void 0}if(typeof $=="number")return Number.isFinite($)?$:void 0};let U,P;if(y&&Array.isArray(y)){const $=O(y[0]),E=O(y[1]);typeof $=="number"&&(U=$),typeof E=="number"&&(P=E)}return U===void 0&&P===void 0?e:e.filter($=>{const E=typeof $.FE=="number"?$.FE:Number($.FE);return!(!Number.isFinite(E)||U!==void 0&&E<U||P!==void 0&&E>P)})},[e,y]),_=H.useMemo(()=>x(S,s),[S,s,x]),j=O=>{a(O)},C=O=>{const U=new Set(t);U.has(O)?U.delete(O):U.add(O),n(U)},k=(O,U)=>{const P=(()=>{switch(U){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[U]}})(),$=O._highlightResult||{};for(const E of P){const L=$[E];if(L!=null&&L.value)return{__html:L.value};const z=O[E];if(z)return{__html:z}}return{__html:""}},A=O=>{const U=new Set(r);U.has(O)?U.delete(O):U.add(O),i(U)},F=()=>{r.size===_.length?i(new Set):i(new Set(_.map(O=>O.objectID)))},I=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const O=_.filter(P=>r.has(P.objectID));await w(O)&&i(new Set)},T=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const O=_.filter(P=>r.has(P.objectID));await m(O,"facteurs_emissions_recherche")&&i(new Set)},M=O=>({id:O.objectID,nom:O.Nom_fr||"",description:O.Description_fr||"",fe:O.FE,uniteActivite:O.Unite_fr||"",source:O.Source,secteur:O.Secteur_fr||"",sousSecteur:O["Sous-secteur_fr"]||"",localisation:O.Localisation_fr||"",date:O.Date,incertitude:O.Incertitude,perimetre:O.Périmètre_fr||"",contributeur:"",commentaires:O.Commentaires_fr||""}),R=async O=>{const U=M(O);u(O.objectID)?await c(O.objectID):await o(U)},D=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const U=_.filter(P=>r.has(P.objectID)).filter(P=>!u(P.objectID));if(U.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(U.map(P=>o(M(P)))),p({title:"Favoris mis à jour",description:`${U.length} élément${U.length>1?"s":""} ajouté${U.length>1?"s":""} aux favoris`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx($K,{}),_.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oi,{checked:r.size===_.length&&_.length>0,onCheckedChange:F,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===_.length&&_.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&l.jsxs(Ke,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Q,{onClick:I,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[l.jsx(sE,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),l.jsxs(Q,{onClick:D,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(Im,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),l.jsxs(Q,{onClick:T,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[l.jsx(Vv,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[_.length," résultat",_.length>1?"s":""," affiché",_.length>1?"s":""]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(IK,{onSortChange:j,currentSort:s}),l.jsx(AK,{})]})]}),l.jsx("div",{className:"space-y-4",children:_.map(O=>{const U=t.has(O.objectID),P=u(O.objectID);d(O.Source);const $=f(O.Source),E=!!O.workspace_id||O.import_type==="imported";return l.jsx(_e,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:l.jsx(Ee,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(oi,{checked:r.has(O.objectID),onCheckedChange:()=>A(O.objectID),onClick:L=>L.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:k(O,"Nom")}),E&&l.jsx(Ke,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),h()&&R(O)},disabled:!h(),className:`${P?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?l.jsx(Im,{className:`h-4 w-4 ${P?"fill-current":""}`}):l.jsx(oE,{className:"h-4 w-4"})}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),C(O.objectID)},children:U?l.jsx(Wv,{className:"h-4 w-4"}):l.jsx(Wc,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(yr,{isBlurred:$,showBadge:!0,children:l.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[O.FE?(typeof O.FE=="number"?parseFloat(O.FE.toFixed(4)):parseFloat(parseFloat(String(O.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:k(O,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(O.Périmètre_fr||O.Périmètre_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:O.Périmètre_fr||O.Périmètre_en})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[g(O.Source)&&l.jsx("img",{src:g(O.Source),alt:`Logo ${O.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:k(O,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(O.Localisation_fr||O.Localisation_en)&&l.jsx(Ke,{variant:"outline",children:O.Localisation_fr||O.Localisation_en}),O.Date&&l.jsx(Ke,{variant:"outline",children:O.Date}),(O.Secteur_fr||O.Secteur_en)&&l.jsx(Ke,{variant:"outline",children:O.Secteur_fr||O.Secteur_en}),(O["Sous-secteur_fr"]||O["Sous-secteur_en"])&&l.jsx(Ke,{variant:"secondary",children:O["Sous-secteur_fr"]||O["Sous-secteur_en"]})]}),U&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(O.Description_fr||O.Description_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:O.Description_fr||O.Description_en})})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:k(O,"Secteur")})})]}),O.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light mt-1",children:O.Incertitude})})]}),O.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:O.Contributeur})})})]}),(O.Commentaires_fr||O.Commentaires_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:O.Commentaires_fr||O.Commentaires_en})})})]})]})]})]})})})},O.objectID)})}),l.jsx(FK,{})]})]})};var ex="Switch",[LK,DJ]=ci(ex),[MK,UK]=LK(ex),mN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=b.useState(null),g=ke(t,y=>p(y)),m=b.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,x]=ti({prop:i,defaultProp:s,onChange:u});return l.jsxs(MK,{scope:n,checked:v,disabled:o,children:[l.jsx(le.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":yN(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onClick:re(e.onClick,y=>{x(S=>!S),w&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),w&&l.jsx(zK,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});mN.displayName=ex;var gN="SwitchThumb",vN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=UK(gN,n);return l.jsx(le.span,{"data-state":yN(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});vN.displayName=gN;var zK=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=b.useRef(null),a=Fy(n),o=ty(t);return b.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[a,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yN(e){return e?"checked":"unchecked"}var xN=mN,BK=vN;const bN=b.forwardRef(({className:e,...t},n)=>l.jsx(xN,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(BK,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bN.displayName=xN.displayName;var tx="Collapsible",[HK,LJ]=ci(tx),[WK,nx]=HK(tx),wN=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[c=!1,u]=ti({prop:r,defaultProp:i,onChange:a});return l.jsx(WK,{scope:n,disabled:s,contentId:Jr(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:l.jsx(le.div,{"data-state":ix(c),"data-disabled":s?"":void 0,...o,ref:t})})});wN.displayName=tx;var SN="CollapsibleTrigger",jN=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=nx(SN,n);return l.jsx(le.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ix(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:re(e.onClick,i.onOpenToggle)})});jN.displayName=SN;var rx="CollapsibleContent",_N=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=nx(rx,e.__scopeCollapsible);return l.jsx(ui,{present:n||i.open,children:({present:s})=>l.jsx(VK,{...r,ref:t,present:s})})});_N.displayName=rx;var VK=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=nx(rx,n),[o,c]=b.useState(r),u=b.useRef(null),d=ke(t,u),f=b.useRef(0),h=f.current,p=b.useRef(0),g=p.current,m=a.open||o,w=b.useRef(m),v=b.useRef();return b.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),kt(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();f.current=y.height,p.current=y.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(r)}},[a.open,r]),l.jsx(le.div,{"data-state":ix(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&i})});function ix(e){return e?"open":"closed"}var qK=wN;const EN=qK,PN=jN,CN=_N,gs=({attribute:e,title:t,searchable:n=!1,limit:r=10})=>{const{items:i,refine:s,searchForItems:a,canToggleShowMore:o,isShowingMore:c,toggleShowMore:u}=gH({attribute:e,limit:r}),[d,f]=H.useState(""),[h,p]=H.useState(i);H.useEffect(()=>{d||p(i)},[i,d]);const g=H.useMemo(()=>e==="Date"?[...i].sort((w,v)=>{const x=parseInt(w.label);return parseInt(v.label)-x}):i,[i,e]),m=H.useMemo(()=>d?h.filter(w=>w.label.toLowerCase().includes(d.toLowerCase())):g,[g,h,d]);return i.length===0?null:l.jsxs(EN,{defaultOpen:!0,children:[l.jsx(PN,{asChild:!0,children:l.jsxs(Q,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 hover:bg-white hover:text-indigo-950",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:t}),l.jsx(aE,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsxs(CN,{className:"space-y-2 mt-2",children:[n&&l.jsx(xt,{type:"search",placeholder:`Rechercher ${t.toLowerCase()}...`,value:d,onChange:w=>{const v=w.target.value;f(v),a(v)},className:"w-full px-3 py-1 text-sm"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:m.map(w=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:`${e}-${w.value}`,checked:w.isRefined,onCheckedChange:()=>s(w.value),className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("label",{htmlFor:`${e}-${w.value}`,className:"flex-1 text-sm cursor-pointer flex justify-between",children:[l.jsx("span",{className:w.isRefined?"font-medium":"",children:w.label}),l.jsxs("span",{className:"text-muted-foreground",children:["(",w.count,")"]})]})]},w.value))}),o&&l.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"w-full",children:c?"Voir moins":"Voir plus"})]})]})},QK=()=>{const{canRefine:e,refine:t}=RB();return e?l.jsxs(Q,{variant:"ghost",size:"sm",onClick:t,className:"text-indigo-950 hover:text-indigo-800 font-montserrat bg-white hover:bg-white",children:[l.jsx(sI,{className:"w-4 h-4 mr-1"}),"RÉINITIALISER LES FILTRES"]}):null},KK=()=>{const{value:e,refine:t}=DH({attribute:"Date",on:[2022,2023,2024,2025]});return l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-border",children:[l.jsx(bN,{checked:e.isRefined,onCheckedChange:()=>t(e),id:"recent-data",className:"data-[state=checked]:bg-indigo-950"}),l.jsx("label",{htmlFor:"recent-data",className:"text-sm font-medium cursor-pointer font-montserrat text-indigo-950",children:"Données récentes (< 3 ans)"})]})},GK=()=>{const[e,t]=H.useState("all"),{refine:n}=Oy(),r=H.useMemo(()=>{if(e!=="all")return[`origin:${e}`]},[e]);return H.useEffect(()=>{n(0)},[e,n]),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Q,{size:"sm",variant:e==="all"?"default":"outline",onClick:()=>{t("all"),n(0)},children:"Tous"}),l.jsx(Q,{size:"sm",variant:e==="public"?"default":"outline",onClick:()=>{t("public"),n(0)},children:"Base commune"}),l.jsx(Q,{size:"sm",variant:e==="private"?"default":"outline",onClick:()=>{t("private"),n(0)},children:"Base personnelle"})]}),l.jsx(Ny,{ruleContexts:r})]})},kN=()=>{const[e,t]=H.useState("fr"),n=e==="fr"?["Nom_fr","Description_fr","Commentaires_fr","Secteur_fr","Sous-secteur_fr","Périmètre_fr","Localisation_fr"]:["Nom_en","Description_en","Commentaires_en","Secteur_en","Sous-secteur_en","Périmètre_en","Localisation_en"];return l.jsxs(_e,{className:"bg-background border border-border",children:[l.jsxs(Ae,{className:"pb-3",children:[l.jsx(Ie,{className:"text-lg font-montserrat text-indigo-950",children:"FILTRER PAR :"}),l.jsx(QK,{})]}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsx(Ny,{facets:["languages"],facetFilters:[[`languages:${e}`]],restrictSearchableAttributes:n}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Langue"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{size:"sm",variant:e==="fr"?"default":"outline",onClick:()=>t("fr"),children:"FR"}),l.jsx(Q,{size:"sm",variant:e==="en"?"default":"outline",onClick:()=>t("en"),children:"EN"})]})]}),l.jsxs(EN,{defaultOpen:!0,children:[l.jsx(PN,{asChild:!0,children:l.jsxs(Q,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 bg-transparent hover:bg-transparent",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:"Données récentes"}),l.jsx(aE,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsx(CN,{className:"space-y-4 mt-4",children:l.jsx(KK,{})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),l.jsx(GK,{})]}),l.jsx(gs,{attribute:e==="fr"?"Unite_fr":"Unite_en",title:"Unité",searchable:!0,limit:500}),l.jsx(gs,{attribute:e==="fr"?"Périmètre_fr":"Périmètre_en",title:"Périmètre",searchable:!0,limit:500}),l.jsx(gs,{attribute:"Source",title:"Source",searchable:!0,limit:500}),l.jsx(gs,{attribute:"Date",title:"Date",limit:500}),l.jsx(gs,{attribute:e==="fr"?"Localisation_fr":"Localisation_en",title:"Localisation",searchable:!0,limit:500}),l.jsx(gs,{attribute:e==="fr"?"Secteur_fr":"Secteur_en",title:"Secteur",searchable:!0,limit:500}),l.jsx(gs,{attribute:e==="fr"?"Sous-secteur_fr":"Sous-secteur_en",title:"Sous-secteur",searchable:!0,limit:500})]})]})},JK=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Gf();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):l.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},YK=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),[n,r]=b.useState(null),[i,s]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:o,error:c}=await X.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",c),s(!1);return}let u=o;if(!o){const{data:g,error:m}=await X.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la création de la période d'essai:",m),s(!1);return}u=g}const d=new Date(u.expires_at),f=new Date,h=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),p=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(o){console.error("Erreur lors du chargement de la période d'essai:",o)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function XK(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,ZK(i,...t)]}function ZK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var sx="Progress",ax=100,[eG,MJ]=XK(sx),[tG,nG]=eG(sx),RN=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=rG,...a}=e;(i||i===0)&&!r1(i)&&console.error(iG(`${i}`,"Progress"));const o=r1(i)?i:ax;r!==null&&!i1(r,o)&&console.error(sG(`${r}`,"Progress"));const c=i1(r,o)?r:null,u=sf(c)?s(c,o):void 0;return l.jsx(tG,{scope:n,value:c,max:o,children:l.jsx(le.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":sf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ON(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});RN.displayName=sx;var NN="ProgressIndicator",TN=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=nG(NN,n);return l.jsx(le.div,{"data-state":ON(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});TN.displayName=NN;function rG(e,t){return`${Math.round(e/t*100)}%`}function ON(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sf(e){return typeof e=="number"}function r1(e){return sf(e)&&!isNaN(e)&&e>0}function i1(e,t){return sf(e)&&!isNaN(e)&&e<=t&&e>=0}function iG(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ax}\`.`}function sG(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ax} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AN=RN,aG=TN;const ox=b.forwardRef(({className:e,value:t,...n},r)=>l.jsx(AN,{ref:r,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(aG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ox.displayName=AN.displayName;const oG=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=YK();if(t||!n)return null;if(!e||!r)return l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[l.jsx(kr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[l.jsx(Am,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),l.jsxs(Ke,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),l.jsx(ox,{value:s,className:"h-2"})]})]})},lG=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=b.useState(!1);if(t)return l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return l.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,o=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,h=o===null?0:a/o*100,p=u===null?0:c/u*100,g=f===null?0:d/f*100,m=()=>s==="premium"?l.jsx(Kl,{className:"h-4 w-4"}):s==="standard"?l.jsx(dI,{className:"h-4 w-4"}):null,w=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>o===null?"Illimitées ∞":o===0?"Non disponible":`${a} / ${o}`,x=()=>u===null?"Illimitées ∞":`${c} / ${u}`,y=()=>f===null?"Illimitées ∞":`${d} / ${f}`,S=s==="premium"||s==="standard";return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),l.jsx("span",{className:"whitespace-nowrap",children:w()}),n&&l.jsx(Ud,{className:"h-3 w-3 text-destructive"}),l.jsx(Wc,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(oG,{})}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",w()]}),m()]}),n&&l.jsxs(Ke,{variant:"destructive",className:"text-xs",children:[l.jsx(Ud,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),l.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),l.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&o!==null&&o>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),l.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:x()})]}),!S&&u!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),l.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:y()})]}),!S&&f!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:l.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},Is=()=>{const{user:e,signOut:t}=rt(),{isSupraAdmin:n}=Jf(),{canUseFavorites:r}=To(),{quotaData:i,isLoading:s,isAtLimit:a}=Yf(),o=$f(),c=async()=>{await t(),o("/")};return l.jsx("nav",{className:"border-b border-border bg-background",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(it,{to:e?"/search":"/",className:"flex items-center",children:l.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),l.jsx("div",{className:"flex items-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block",children:l.jsx(lG,{quotaData:i,isLoading:s,isAtLimit:a})}),l.jsx(it,{to:"/search",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?l.jsx(it,{to:"/favoris",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):l.jsxs(Q,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(oE,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&l.jsx(it,{to:"/import",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),l.jsx(it,{to:"/settings",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),l.jsx(Q,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):l.jsxs(l.Fragment,{children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{children:"Se connecter"})})]})})]})})})},cG=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-full max-w-6xl",children:l.jsx(S9,{})})})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(kN,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(Ny,{hitsPerPage:36}),l.jsx(JK,{}),l.jsx(DK,{})]})]})})]}),uG=()=>l.jsx(m9,{children:l.jsx(cG,{})}),s1="6BGAS85TYS",a1="e06b7614aaff866708fbd2872de90d37";function dG(e){const[t,n]=b.useState(null);return b.useEffect(()=>{let r=!1;async function i(){r||n({full:Tc(s1,a1),teaser:Tc(s1,a1)})}return i(),()=>{r=!0}},[e]),t}const o1=e=>({...e,search:t=>{const n=(t||[]).map(r=>({...r,params:Object.fromEntries(Object.entries(r.params||{}).filter(([i])=>kk.includes(i)))}));return e.search(n)}}),fG=b.createContext(null),hG=({children:e,favoriteIds:t=[]})=>{const n=Yf(),{currentWorkspace:r}=di();To();const i=dG(r==null?void 0:r.id),s=b.useRef(t);b.useEffect(()=>{s.current=t},[t]);const a=b.useRef(null),o=b.useRef(null);b.useEffect(()=>{i?(a.current=o1(i.full),o.current=o1(i.teaser)):(a.current=null,o.current=null)},[i]);const c=b.useRef(r==null?void 0:r.id);b.useEffect(()=>{c.current=r==null?void 0:r.id},[r==null?void 0:r.id]);const u=b.useRef(null);i&&!u.current&&(u.current={search:async f=>{var S,_,j;const h=a.current,p=o.current;if(!h)return{results:[]};const g=c.current,m=[],w=[];for(const C of f||[]){const k={...C.params||{}},A=Rk(k.facetFilters),F=ef(k),I=f9(s.current),T=Nk(g,I);F==="public"?(m.push({...C,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]],filters:I}}),w.push({...C,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]],filters:I}})):F==="private"?m.push({...C,indexName:tn,params:{...k,facetFilters:[["scope:private"],...A||[]],filters:T}}):(m.push({...C,indexName:tn,params:{...k,facetFilters:A,filters:I}}),w.push({...C,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]],filters:I}}),m.push({...C,indexName:tn,params:{...k,facetFilters:[["scope:private"],...A||[]],filters:T}}))}const[v,x]=await Promise.all([h.search(m),(p==null?void 0:p.search(w))??Promise.resolve({results:[]})]),y=[];for(let C=0,k=0,A=0;C<(f||[]).length;C++){const F=((S=(f||[])[C])==null?void 0:S.params)||{},I=ef(F);if(I==="public"){const T=v.results[k];k++;const M=(_=x.results)==null?void 0:_[A];A++,y.push(za(T,M))}else if(I==="private"){const T=v.results[k];k+=1,y.push(T)}else{const T=v.results[k];k++;const M=(j=x.results)==null?void 0:j[A];A++;const R=za(T,M),D=v.results[k];k++,y.push(za(R,D))}}return{results:y}}});const d=i?u.current:null;return d?l.jsx(fG.Provider,{value:n,children:l.jsx(bk,{searchClient:d,indexName:tn,future:{preserveSharedStateOnUnmount:!0},children:e})}):null},pG=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Ay();Gf();const r=()=>{n("")},i=()=>{};return l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Md,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),l.jsx(xt,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&l.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l.jsx(Qv,{className:"h-5 w-5"})})]}),l.jsx(Q,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},IN=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=Zs(),{role:s}=i;return t&&(!s||!t.includes(s))?l.jsx(l.Fragment,{children:r}):n&&!i[n]?l.jsx(l.Fragment,{children:r}):l.jsx(l.Fragment,{children:e})},mG=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:o})=>{const{hits:c}=Kf(),[u,d]=b.useState("relevance"),[f,h]=b.useState(new Set),p=H.useCallback((P,$)=>$==="relevance"?P:[...P].sort((E,L)=>{switch($){case"fe_asc":return(E.FE||0)-(L.FE||0);case"fe_desc":return(L.FE||0)-(E.FE||0);case"date_desc":return(L.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(L.Date||0);case"nom_asc":return(E.Nom||"").localeCompare(L.Nom||"","fr",{numeric:!0,sensitivity:"base"});case"nom_desc":return(L.Nom||"").localeCompare(E.Nom||"","fr",{numeric:!0,sensitivity:"base"});case"source_asc":return(E.Source||"").localeCompare(L.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=H.useMemo(()=>p(c,u),[c,u,p]),m=P=>{d(P)},w=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:x,refine:y}=Oy(),{removeFromFavorites:S,isFavorite:_}=Wf();Zs();const{getSourceLogo:j}=pN(),{shouldBlurPremiumContent:C}=To(),k=g.length>0&&g.every(P=>e.has(P.objectID)),A=P=>{n(P)},F=P=>{const $=new Set(f);$.has(P)?$.delete(P):$.add(P),h($)},I=(P,$)=>{const E=(()=>{switch($){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[$]}})(),L=P._highlightResult||{};for(const z of E){const N=L[z];if(N!=null&&N.value)return{__html:N.value};const ne=P[z];if(ne)return{__html:ne}}return{__html:""}},T=async P=>{try{await S(P.objectID),qt.success("Retiré des favoris")}catch{qt.error("Erreur lors de la suppression du favori")}},M=P=>({id:P.objectID,nom:P.Nom_fr||P.Nom_en||P.Nom||"",description:P.Description_fr||P.Description_en||P.Description||"",fe:P.FE,uniteActivite:P.Unite_fr||P.Unite_en||P["Unité donnée d'activité"]||"",source:P.Source,secteur:P.Secteur_fr||P.Secteur_en||P.Secteur||"",sousSecteur:P["Sous-secteur_fr"]||P["Sous-secteur_en"]||P["Sous-secteur"]||"",localisation:P.Localisation_fr||P.Localisation_en||P.Localisation||"",date:P.Date,incertitude:P.Incertitude,perimetre:P.Périmètre_fr||P.Périmètre_en||P.Périmètre||"",contributeur:P.Contributeur||"",commentaires:P.Commentaires_fr||P.Commentaires_en||P.Commentaires||""}),R=()=>{if(r){const $=g.filter(E=>e.has(E.objectID)).map(M);r($)}},D=()=>{if(i){const $=g.filter(E=>e.has(E.objectID)).map(M);i($)}},O=()=>{if(s){const P=Array.from(e);s(P)}},U=P=>!!P.workspace_id||P.import_type==="imported"||P.__indexName==="ef_private_fr";return g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affiché",g.length>1?"s":""]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),l.jsxs(nr,{value:u,onValueChange:m,children:[l.jsx(Ln,{className:"w-auto min-w-[140px]",children:l.jsx(rr,{})}),l.jsx(Mn,{children:w.map(P=>l.jsx(Je,{value:P.value,children:P.label},P.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:"select-all",checked:k,onCheckedChange:A}),l.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",g.length,")"]})]}),e.size>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:D,children:[l.jsx(sE,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),l.jsx(IN,{requirePermission:"canExport",children:l.jsxs(Q,{variant:"outline",size:"sm",onClick:R,children:[l.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),l.jsxs(Q,{variant:"destructive",size:"sm",onClick:O,children:[l.jsx(Pf,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),l.jsx("div",{className:"space-y-4",children:g.map(P=>{const $=f.has(P.objectID);_(P.objectID);const E=C(P.Source);return l.jsx(_e,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:l.jsx(Ee,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(oi,{checked:e.has(P.objectID),onCheckedChange:()=>t(P.objectID),onClick:L=>L.stopPropagation(),className:"mt-1 cursor-pointer"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:I(P,"Nom")}),U(P)&&l.jsx(Ke,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),T(P)},className:"text-red-500 hover:text-red-600",children:l.jsx(Im,{className:"h-4 w-4 fill-current"})}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),F(P.objectID)},children:$?l.jsx(Wv,{className:"h-4 w-4"}):l.jsx(Wc,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsxs(yr,{isBlurred:E,children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[P.FE?(typeof P.FE=="number"?parseFloat(P.FE.toFixed(4)):parseFloat(parseFloat(String(P.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:I(P,"Unite")})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(P.Périmètre_fr||P.Périmètre_en||P.Périmètre)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:P.Périmètre_fr||P.Périmètre_en||P.Périmètre})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[j(P.Source)&&l.jsx("img",{src:j(P.Source),alt:`Logo ${P.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:I(P,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[P.Localisation&&l.jsx(Ke,{variant:"outline",children:P.Localisation}),P.Date&&l.jsx(Ke,{variant:"outline",children:P.Date}),P.Secteur&&l.jsx(Ke,{variant:"outline",children:P.Secteur}),P["Sous-secteur"]&&l.jsx(Ke,{variant:"secondary",children:P["Sous-secteur"]})]}),$&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[P.Description&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),l.jsx(yr,{isBlurred:E,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Description})})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:I(P,"Secteur")})]}),P.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:P.Incertitude})]}),P.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Contributeur})})]}),P.Commentaires&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),l.jsx(yr,{isBlurred:E,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Va,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Commentaires})})})]})]})]})]})})})},P.objectID)})}),x>1&&(()=>{let $=Math.max(0,v-Math.floor(2.5)),E=Math.min(x-1,$+5-1);E-$<4&&($=Math.max(0,E-5+1));const L=[];for(let z=$;z<=E;z++)L.push(z);return l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>y(v-1),disabled:v===0,children:[l.jsx(rE,{className:"w-4 h-4"}),"Précédent"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[$>0&&l.jsx(Q,{variant:v===0?"default":"outline",size:"sm",onClick:()=>y(0),className:"w-10",children:"1"},"first-page"),$>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),L.map(z=>l.jsx(Q,{variant:z===v?"default":"outline",size:"sm",onClick:()=>y(z),className:"w-10",children:z+1},`page-${z}`)),E<x-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),E<x-1&&l.jsx(Q,{variant:x-1===v?"default":"outline",size:"sm",onClick:()=>y(x-1),className:"w-10",children:x},"last-page")]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>y(v+1),disabled:v>=x-1,children:["Suivant",l.jsx(iE,{className:"w-4 h-4"})]})]})})()]})},gG=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Gf();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):l.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},vG=({favoriteIds:e})=>{const[t,n]=b.useState(new Set),{favorites:r,removeFromFavorites:i}=Wf(),{handleExport:s,handleCopyToClipboard:a}=TR(),o=g=>{n(m=>{const w=new Set(m);return w.has(g)?w.delete(g):w.add(g),w})},c=g=>{if(g){const m=r.map(w=>w.id);n(new Set(m))}else n(new Set)},u=async g=>{await a(g)},d=async g=>{await s(g,"facteurs_emissions_favoris")},f=async g=>{try{for(const m of g)await i(m);n(new Set),qt.success(`${g.length} élément${g.length>1?"s":""} retiré${g.length>1?"s":""} des favoris`)}catch{qt.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(g=>g.source))].filter(Boolean),p=[...new Set(r.map(g=>g.localisation))].filter(Boolean);return[...new Set(r.map(g=>g.date.toString()))].filter(Boolean).sort((g,m)=>parseInt(m)-parseInt(g)),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsx("section",{className:"py-12 px-4 bg-background border-b",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsx(pG,{favoriteIds:e})}),l.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:r.length}),l.jsx("span",{children:"favoris au total"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:h.length}),l.jsx("span",{children:"sources"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:p.length}),l.jsx("span",{children:"localisations"})]})]})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),l.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(kN,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(gG,{}),l.jsx(mG,{selectedItems:t,onItemSelect:o,onSelectAll:c,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},yG=()=>{const{favorites:e}=Wf(),t=b.useMemo(()=>e.map(n=>n.id),[e]);return l.jsx(hG,{favoriteIds:t,children:l.jsx(vG,{favoriteIds:t})})},xG=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),[c,u]=b.useState(0),[d,f]=b.useState("idle"),[h,p]=b.useState(null),{toast:g}=Rt(),{user:m}=rt(),{currentWorkspace:w}=di(),{canImportData:v}=Zs(),x=()=>{const C=["nom,description,fe,unite,source,secteur,categorie,localisation,date,incertitude","Exemple Verre,Description du facteur d'émission,1.62,kgCO2e/kg,Base Impacts 3.0,Matériaux,Verre,Europe,2023,±15%","Exemple Acier,Facteur d'émission pour l'acier,2.5,kgCO2e/kg,ADEME,Matériaux,Métaux,France,2023,±20%"].join(`
`),k=new Blob([C],{type:"text/csv"}),A=URL.createObjectURL(k),F=document.createElement("a");F.href=A,F.download="template_facteurs_emissions.csv",F.click(),URL.revokeObjectURL(A)},y=C=>{var A;const k=(A=C.target.files)==null?void 0:A[0];k&&k.type==="text/csv"?(t(k),f("idle"),p(null)):g({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},S=C=>{const k=C.split(`
`).filter(I=>I.trim());if(k.length===0)return[];const A=k[0].split(",").map(I=>I.trim().replace(/"/g,"")),F=[];for(let I=1;I<k.length;I++){const T=k[I].split(",").map(M=>M.trim().replace(/"/g,""));if(T.length===A.length){const M={};A.forEach((R,D)=>{M[R]=T[D]}),F.push(M)}}return F},_=async()=>{if(!e||!n.trim()){g({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!w||!m){g({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!v){g({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}o(!0),f("uploading"),u(0);try{const C=await e.text();u(25);const k=S(C);if(u(50),f("processing"),k.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:A,error:F}=await X.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:m.id,workspace_id:w.id,uploaded_by:m.id}).select().single();if(F)throw new Error(`Erreur lors de la création du dataset: ${F.message}`);u(75);const I=k.map(R=>({workspace_id:w.id,dataset_id:A.id,Nom:R.nom||R.name||"Sans nom",Description:R.description||"",FE:parseFloat(R.fe||R.factor||"0"),"Unité donnée d'activité":R.unite||R.unit||"",Source:R.source||"Import CSV",Secteur:R.secteur||R.sector||"Non spécifié","Sous-secteur":R.categorie||R.category||"Non spécifié",Localisation:R.localisation||R.location||"Non spécifié",Date:parseInt(R.date||new Date().getFullYear().toString()),Incertitude:R.incertitude||R.uncertainty||""})),{data:T,error:M}=await X.from("emission_factors").insert(I).select();if(M)throw new Error(`Erreur lors de l'insertion: ${M.message}`);u(100),f("success"),p({success:(T==null?void 0:T.length)||0,errors:[]}),g({title:"Import réussi",description:`${(T==null?void 0:T.length)||0} facteurs d'émissions importés avec succès.`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const R=document.getElementById("file-upload");R&&(R.value="")},3e3)}catch(C){console.error("Import error:",C),f("error"),p({success:0,errors:[C instanceof Error?C.message:"Erreur inconnue"]}),g({variant:"destructive",title:"Erreur d'import",description:C instanceof Error?C.message:"Une erreur est survenue lors de l'import."})}finally{o(!1)}},j=()=>{switch(d){case"success":return l.jsx(mn,{className:"w-5 h-5 text-green-500"});case"error":return l.jsx(kr,{className:"w-5 h-5 text-red-500"});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[l.jsx(Fb,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),l.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),l.jsxs(IN,{requirePermission:"canImportData",fallback:l.jsx(_e,{className:"mb-6",children:l.jsx(Ee,{className:"pt-6",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(kr,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[l.jsxs(_e,{className:"mb-6",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(Vv,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),l.jsx(wn,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),l.jsxs(Ee,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(nI,{className:"w-8 h-8 text-muted-foreground mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),l.jsx(Q,{onClick:x,variant:"outline",children:"Télécharger"})]}),l.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:["Importer votre dataset",j()]}),l.jsx(wn,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"dataset-name",children:"Nom du dataset"}),l.jsx(xt,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:C=>r(C.target.value),disabled:a})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"file-upload",children:"Fichier CSV"}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[l.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:y,className:"hidden",disabled:a}),e?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Hv,{className:"w-8 h-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:e.name}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):l.jsxs("div",{children:[l.jsx(Fb,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),l.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des données..."]}),l.jsxs("span",{children:[c,"%"]})]}),l.jsx(ox,{value:c,className:"w-full"})]}),h&&l.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?l.jsxs("div",{className:"flex items-center",children:[l.jsx(mn,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(kr,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),l.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((C,k)=>l.jsxs("li",{children:["• ",C]},k))})]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:"add-favorites",checked:i,onCheckedChange:C=>s(C),disabled:a}),l.jsx(ut,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),l.jsx(Q,{onClick:_,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),l.jsx(_e,{className:"mt-6",children:l.jsx(Ee,{className:"pt-6",children:l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var lx="Dialog",[FN,$N]=ci(lx),[bG,or]=FN(lx),DN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=b.useRef(null),c=b.useRef(null),[u=!1,d]=ti({prop:r,defaultProp:i,onChange:s});return l.jsx(bG,{scope:t,triggerRef:o,contentRef:c,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};DN.displayName=lx;var LN="DialogTrigger",MN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(LN,n),s=ke(t,i.triggerRef);return l.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dx(i.open),...r,ref:s,onClick:re(e.onClick,i.onOpenToggle)})});MN.displayName=LN;var cx="DialogPortal",[wG,UN]=FN(cx,{forceMount:void 0}),zN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=or(cx,t);return l.jsx(wG,{scope:t,forceMount:n,children:b.Children.map(r,a=>l.jsx(ui,{present:n||s.open,children:l.jsx(jf,{asChild:!0,container:i,children:a})}))})};zN.displayName=cx;var af="DialogOverlay",BN=b.forwardRef((e,t)=>{const n=UN(af,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=or(af,e.__scopeDialog);return s.modal?l.jsx(ui,{present:r||s.open,children:l.jsx(SG,{...i,ref:t})}):null});BN.displayName=af;var SG=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(af,n);return l.jsx($y,{as:Us,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(le.div,{"data-state":dx(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Vs="DialogContent",HN=b.forwardRef((e,t)=>{const n=UN(Vs,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=or(Vs,e.__scopeDialog);return l.jsx(ui,{present:r||s.open,children:s.modal?l.jsx(jG,{...i,ref:t}):l.jsx(_G,{...i,ref:t})})});HN.displayName=Vs;var jG=b.forwardRef((e,t)=>{const n=or(Vs,e.__scopeDialog),r=b.useRef(null),i=ke(t,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return Fk(s)},[]),l.jsx(WN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault())})}),_G=b.forwardRef((e,t)=>{const n=or(Vs,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(WN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WN=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=or(Vs,n),c=b.useRef(null),u=ke(t,c);return Ok(),l.jsxs(l.Fragment,{children:[l.jsx(Iy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(zc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":dx(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(PG,{titleId:o.titleId}),l.jsx(kG,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ux="DialogTitle",VN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(ux,n);return l.jsx(le.h2,{id:i.titleId,...r,ref:t})});VN.displayName=ux;var qN="DialogDescription",QN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(qN,n);return l.jsx(le.p,{id:i.descriptionId,...r,ref:t})});QN.displayName=qN;var KN="DialogClose",GN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(KN,n);return l.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>i.onOpenChange(!1))})});GN.displayName=KN;function dx(e){return e?"open":"closed"}var JN="DialogTitleWarning",[EG,YN]=dA(JN,{contentName:Vs,titleName:ux,docsSlug:"dialog"}),PG=({titleId:e})=>{const t=YN(JN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},CG="DialogDescriptionWarning",kG=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YN(CG).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},RG=DN,NG=MN,TG=zN,OG=BN,AG=HN,IG=VN,FG=QN,XN=GN,ZN="AlertDialog",[$G,UJ]=ci(ZN,[$N]),hi=$N(),eT=e=>{const{__scopeAlertDialog:t,...n}=e,r=hi(t);return l.jsx(RG,{...r,...n,modal:!0})};eT.displayName=ZN;var DG="AlertDialogTrigger",tT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(NG,{...i,...r,ref:t})});tT.displayName=DG;var LG="AlertDialogPortal",nT=e=>{const{__scopeAlertDialog:t,...n}=e,r=hi(t);return l.jsx(TG,{...r,...n})};nT.displayName=LG;var MG="AlertDialogOverlay",rT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(OG,{...i,...r,ref:t})});rT.displayName=MG;var qa="AlertDialogContent",[UG,zG]=$G(qa),iT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=hi(n),a=b.useRef(null),o=ke(t,a),c=b.useRef(null);return l.jsx(EG,{contentName:qa,titleName:sT,docsSlug:"alert-dialog",children:l.jsx(UG,{scope:n,cancelRef:c,children:l.jsxs(AG,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:re(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Dv,{children:r}),l.jsx(HG,{contentRef:a})]})})})});iT.displayName=qa;var sT="AlertDialogTitle",aT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(IG,{...i,...r,ref:t})});aT.displayName=sT;var oT="AlertDialogDescription",lT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(FG,{...i,...r,ref:t})});lT.displayName=oT;var BG="AlertDialogAction",cT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(XN,{...i,...r,ref:t})});cT.displayName=BG;var uT="AlertDialogCancel",dT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=zG(uT,n),s=hi(n),a=ke(t,i);return l.jsx(XN,{...s,...r,ref:a})});dT.displayName=uT;var HG=({contentRef:e})=>{const t=`\`${qa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qa}\` by passing a \`${oT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},WG=eT,VG=tT,qG=nT,fT=rT,hT=iT,pT=cT,mT=dT,gT=aT,vT=lT;const yT=WG,xT=VG,QG=qG,bT=b.forwardRef(({className:e,...t},n)=>l.jsx(fT,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));bT.displayName=fT.displayName;const fx=b.forwardRef(({className:e,...t},n)=>l.jsxs(QG,{children:[l.jsx(bT,{}),l.jsx(hT,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fx.displayName=hT.displayName;const hx=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});hx.displayName="AlertDialogHeader";const px=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});px.displayName="AlertDialogFooter";const mx=b.forwardRef(({className:e,...t},n)=>l.jsx(gT,{ref:n,className:ie("text-lg font-semibold",e),...t}));mx.displayName=gT.displayName;const gx=b.forwardRef(({className:e,...t},n)=>l.jsx(vT,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));gx.displayName=vT.displayName;const vx=b.forwardRef(({className:e,...t},n)=>l.jsx(pT,{ref:n,className:ie(vy(),e),...t}));vx.displayName=pT.displayName;const yx=b.forwardRef(({className:e,...t},n)=>l.jsx(mT,{ref:n,className:ie(vy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));yx.displayName=mT.displayName;const KG=()=>{const{user:e,signOut:t}=rt(),{userProfile:n}=gy(),{currentWorkspace:r}=di(),i=Zs(),{toast:s}=Rt(),[a,o]=b.useState(!1),c=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),l.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(ad,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),l.jsx(wn,{children:"Informations générales sur votre compte"})]}),l.jsx(Ee,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),l.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),l.jsx("div",{className:"mt-1",children:l.jsx(Ke,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),l.jsx("div",{className:"mt-1",children:l.jsx(Ke,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(YA,{className:"mr-2 h-5 w-5"}),"Workspace"]}),l.jsx(wn,{children:"Informations sur votre espace de travail"})]}),l.jsx(Ee,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),l.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),l.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),i.isSupraAdmin&&l.jsxs(_e,{className:"border-primary/20",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center text-primary",children:[l.jsx(zs,{className:"mr-2 h-5 w-5"}),"Administration"]}),l.jsx(wn,{children:"Outils d'administration (Supra Admin uniquement)"})]}),l.jsx(Ee,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(Q,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[l.jsx(ZA,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(aI,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),l.jsx(wn,{children:"Gérez votre session et vos données"})]}),l.jsx(Ee,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(yT,{open:a,onOpenChange:o,children:[l.jsx(xT,{asChild:!0,children:l.jsxs(Q,{variant:"outline",className:"flex items-center justify-center",children:[l.jsx(lE,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),l.jsxs(fx,{children:[l.jsxs(hx,{children:[l.jsx(mx,{children:"Confirmer la déconnexion"}),l.jsx(gx,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),l.jsxs(px,{children:[l.jsx(yx,{children:"Annuler"}),l.jsx(vx,{onClick:c,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&l.jsx(_e,{className:"border-orange-200 bg-orange-50",children:l.jsx(Ee,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Kl,{className:"h-5 w-5 text-orange-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),l.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function GG(){const{user:e}=rt(),{toast:t}=Rt(),[n,r]=b.useState({}),[i,s]=b.useState(!1),a=async()=>{s(!0);try{const{data:{session:c},error:u}=await X.auth.getSession();r(d=>{var f,h;return{...d,session:{exists:!!c,userId:(f=c==null?void 0:c.user)==null?void 0:f.id,email:(h=c==null?void 0:c.user)==null?void 0:h.email,accessToken:c!=null&&c.access_token?"Present":"Missing",error:u==null?void 0:u.message}}})}catch(c){r(u=>({...u,session:{error:c instanceof Error?c.message:String(c)}}))}s(!1)},o=async()=>{s(!0);try{const{data:{session:c}}=await X.auth.getSession();if(!c)throw new Error("No session found");const{data:u,error:d}=await X.functions.invoke("create-checkout",{body:{planType:"standard"},headers:{Authorization:`Bearer ${c.access_token}`}});r(f=>({...f,createCheckout:{success:!d,data:u,error:d==null?void 0:d.message,url:u==null?void 0:u.url}})),u!=null&&u.url&&t({title:"Success",description:"Checkout URL generated successfully"})}catch(c){r(u=>({...u,createCheckout:{error:c instanceof Error?c.message:String(c)}}))}s(!1)};return l.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Auth Context Info"})}),l.jsxs(Ee,{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Session Test"})}),l.jsxs(Ee,{className:"space-y-4",children:[l.jsx(Q,{onClick:a,disabled:i,children:"Test Session"}),n.session&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(n.session,null,2)})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Create Checkout Test"})}),l.jsxs(Ee,{className:"space-y-4",children:[l.jsx(Q,{onClick:o,disabled:i,children:"Test Create Checkout"}),n.createCheckout&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(n.createCheckout,null,2)})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"All Debug Info"})}),l.jsx(Ee,{children:l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(n,null,2)})})]})]})]})}const eu=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",e),...t})}));eu.displayName="Table";const tu=b.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",e),...t}));tu.displayName="TableHeader";const nu=b.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",e),...t}));nu.displayName="TableBody";const JG=b.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));JG.displayName="TableFooter";const En=b.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));En.displayName="TableRow";const qe=b.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qe.displayName="TableHead";const Oe=b.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableCell";const YG=b.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));YG.displayName="TableCaption";function Ac({className:e,...t}){return l.jsx("div",{className:ie("animate-pulse rounded-md bg-muted",e),...t})}async function pd(e){const{data:t,error:n}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function XG(e,t=1,n=25){const{data:r,error:i}=await X.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function wT(e,t){const{data:n,error:r}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function ZG(e,t,n){const{data:r,error:i}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function eJ(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function tJ(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function nJ(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function rJ(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function iJ(e,t,n){const{data:r,error:i}=await X.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const sJ=()=>{const[e,t]=b.useState("paid"),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(null),[c,u]=b.useState(null),{toast:d}=Rt();b.useEffect(()=>{(async()=>{try{s(!0);const g=await pd(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const f=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",h=async(g,m)=>{try{await wT(g,m),d({title:"Plan mis à jour",description:`Nouveau plan: ${m}`});const w=await pd(e);r(w),o(null)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await eJ(g),d({title:"Entreprise supprimée",description:m});const w=await pd(e);r(w)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Ql,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(nr,{value:e,onValueChange:g=>t(g),children:[l.jsx(Ln,{className:"w-40",children:l.jsx(rr,{placeholder:"Filtre"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"paid",children:"Payantes"}),l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"all",children:"Toutes"})]})]})})]})}),l.jsx(Ee,{children:i?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>l.jsx(Ac,{className:"h-12 w-full"},m))}):l.jsxs(eu,{children:[l.jsx(tu,{children:l.jsxs(En,{children:[l.jsx(qe,{children:"Entreprise"}),l.jsx(qe,{children:"Propriétaire"}),l.jsx(qe,{children:"Plan"}),l.jsx(qe,{children:"Utilisateurs"}),l.jsx(qe,{children:"Créée le"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(nu,{children:[n.map(g=>l.jsxs(En,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("div",{children:g.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),l.jsx(Oe,{children:g.owner_email}),l.jsx(Oe,{children:l.jsx(Ke,{variant:f(g.plan_type),children:g.plan_type})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uI,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(XA,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),l.jsx(Oe,{children:l.jsx("div",{className:"flex items-center gap-2",children:a===g.id?l.jsxs(l.Fragment,{children:[l.jsxs(nr,{value:g.plan_type,onValueChange:m=>h(g.id,m),children:[l.jsx(Ln,{className:"w-32",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>o(null),children:"Annuler"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>o(g.id),children:[l.jsx(oI,{className:"h-4 w-4 mr-2"}),"Modifier"]}),l.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:c===g.id,children:c===g.id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Pf,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&l.jsx(En,{children:l.jsx(Oe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},aJ=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(1),[a]=b.useState(25),[o,c]=b.useState(0),[u,d]=b.useState("all"),[f,h]=b.useState(!0),[p,g]=b.useState(null),[m,w]=b.useState(null),[v,x]=b.useState(null),{toast:y}=Rt(),{startImpersonation:S}=UP();b.useEffect(()=>{_(),j()},[]),b.useEffect(()=>{j()},[u,i]);const _=async()=>{try{const R=await pd("all");r((R||[]).map(D=>({id:D.id,name:D.name})))}catch(R){console.error("Error fetching workspaces:",R)}},j=async()=>{try{h(!0);const{items:R,total:D}=await XG(u,i,a);t(R),c(D)}catch(R){console.error("Error fetching contacts:",R)}finally{h(!1)}},C=R=>{switch(R){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},k=R=>{switch(R){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},A=R=>{switch(R){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return R}},F=async(R,D)=>{g(`plan-${R.workspace_id}`);try{const O=await wT(R.workspace_id,D);y({title:"Plan du workspace mis à jour",description:`Plan changé vers ${D}. ${(O==null?void 0:O.updatedUsers)??0} utilisateur(s) mis à jour.`}),await j()}catch(O){console.error("Error updating workspace plan:",O),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{g(null)}},I=async(R,D)=>{g(`role-${R.user_id}`);try{await ZG(R.user_id,R.workspace_id,D),y({title:"Rôle mis à jour",description:`Rôle changé vers ${D}`}),await j()}catch(O){console.error("Error updating user role:",O),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{g(null)}},T=async R=>{x(R.user_id);try{if(await S(R.user_id,R.email||"",R.workspace_id,R.company_name||""))y({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${R.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(D){console.error("Error starting impersonation:",D),y({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{x(null)}},M=async(R,D)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${D}" ? Cette action est irréversible et supprimera toutes les données associées.`)){w(R);try{await tJ(R),y({title:"Contact supprimé",description:`Le contact "${D}" a été supprimé avec succès.`}),j()}catch(O){console.error("Error deleting contact:",O),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{w(null)}}};return f?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(ad,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),l.jsx(Ee,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ac,{className:"h-10 w-full"}),[...Array(5)].map((R,D)=>l.jsx(Ac,{className:"h-12 w-full"},D))]})})]}):l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(ad,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{_(),j()},className:"ml-auto",children:[l.jsx(qv,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),l.jsxs(Ee,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",o," résultats"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>s(R=>Math.max(1,R-1)),disabled:i===1,children:"Précédent"}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>s(R=>R+1),disabled:i*a>=o,children:"Suivant"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs(nr,{value:u,onValueChange:d,children:[l.jsx(Ln,{className:"w-64",children:l.jsx(rr,{placeholder:"Filtrer par entreprise"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"all",children:"Toutes les entreprises"}),n.map(R=>l.jsx(Je,{value:R.id,children:R.name},R.id))]})]})}),l.jsxs(eu,{children:[l.jsx(tu,{children:l.jsxs(En,{children:[l.jsx(qe,{children:"Contact"}),l.jsx(qe,{children:"Email"}),l.jsx(qe,{children:"Entreprise"}),l.jsx(qe,{children:"Plan"}),l.jsx(qe,{children:"Rôle"}),l.jsx(qe,{children:"Ajouté le"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(nu,{children:[e.map(R=>l.jsxs(En,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ad,{className:"h-4 w-4 text-muted-foreground"}),R.first_name||R.last_name?`${R.first_name} ${R.last_name}`.trim():"Nom non renseigné"]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cE,{className:"h-4 w-4 text-muted-foreground"}),R.email]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),R.company_name]})}),l.jsx(Oe,{children:l.jsx(Ke,{variant:C(R.company_plan||"freemium"),children:R.company_plan})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zs,{className:"h-4 w-4"}),l.jsx(Ke,{variant:k(R.role),children:A(R.role)})]})}),l.jsx(Oe,{children:new Date(R.created_at).toLocaleDateString("fr-FR")}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Q,{variant:"secondary",size:"sm",onClick:()=>T(R),disabled:v===R.user_id||(p==null?void 0:p.includes(R.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===R.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):l.jsx(lI,{className:"h-4 w-4"})}),l.jsxs(nr,{value:R.company_plan||"freemium",onValueChange:D=>F(R,D),disabled:p===`plan-${R.workspace_id}`,children:[l.jsx(Ln,{className:"w-24",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsxs(nr,{value:R.role,onValueChange:D=>I(R,D),disabled:p===`role-${R.user_id}`,children:[l.jsx(Ln,{className:"w-32",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"admin",children:"Administrateur"}),l.jsx(Je,{value:"gestionnaire",children:"Gestionnaire"}),l.jsx(Je,{value:"lecteur",children:"Lecteur"})]})]}),l.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>M(R.user_id,R.email||""),disabled:m===R.user_id||(p==null?void 0:p.includes(R.user_id)),children:m===R.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Pf,{className:"h-4 w-4"})}),(p===`plan-${R.workspace_id}`||p===`role-${R.user_id}`)&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},R.id)),e.length===0&&l.jsx(En,{children:l.jsx(Oe,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},ST=H.createContext(void 0),oJ=({children:e})=>{const[t,n]=H.useState([]),[r,i]=H.useState(!0),s=H.useRef(0),a=H.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await X.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);H.useEffect(()=>{a(!0)},[a]);const o=H.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return l.jsx(ST.Provider,{value:o,children:e})};function jT(){const e=H.useContext(ST);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const lJ=()=>{const[e,t]=b.useState([]),[n,r]=b.useState({}),{toast:i}=Rt(),{sources:s,refresh:a,loading:o}=jT();b.useEffect(()=>{const p=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const c=b.useCallback(async(p,g)=>{r(m=>({...m,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${g}`);const{error:m}=await X.from("fe_sources").update({access_level:g}).eq("source_name",p);if(m)throw m;console.log(`✅ Successfully updated source ${p} to ${g}`);try{await X.rpc("rebuild_emission_factors_public_search_fr")}catch(w){console.warn("Rebuild projection public failed (continuing to reindex):",w)}try{await X.functions.invoke("algolia-reindex",{body:{index:"public",applySettings:!1}})}catch(w){console.warn("Algolia reindex public failed:",w)}r(w=>({...w,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${g}`}),setTimeout(()=>{r(w=>({...w,[p]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error("💥 Error updating source tier:",m),r(w=>({...w,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:m instanceof Error?m.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=o,d=p=>p==="premium"?"default":"secondary",f=p=>p==="premium"?Kl:zs,h=p=>{const g=n[p.source];return g!=null&&g.loading?l.jsxs(l.Fragment,{children:[l.jsx(co,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):g!=null&&g.success?l.jsxs(l.Fragment,{children:[l.jsx(mn,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?l.jsxs(l.Fragment,{children:[l.jsx(Kl,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(zs,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(sd,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),l.jsx(Ee,{children:l.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,g)=>l.jsx(Ac,{className:"h-12 w-full"},g))})})]}):l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(sd,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[l.jsx(qv,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),l.jsx(Ee,{children:l.jsxs(eu,{children:[l.jsx(tu,{children:l.jsxs(En,{children:[l.jsx(qe,{children:"Source"}),l.jsx(qe,{children:"Niveau actuel"}),l.jsx(qe,{children:"Facteurs Standard"}),l.jsx(qe,{children:"Facteurs Premium"}),l.jsx(qe,{children:"Total"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(nu,{children:[e.map(p=>{const g=f(p.current_tier),m=n[p.source];return l.jsxs(En,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),l.jsx(Oe,{children:l.jsxs(Ke,{variant:d(p.current_tier),children:[l.jsx(g,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),l.jsx(Oe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),l.jsx(Oe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),l.jsx(Oe,{children:l.jsx("span",{className:"font-medium",children:p.total_count})}),l.jsx(Oe,{children:l.jsx(Q,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:h(p)})})]},p.source)}),e.length===0&&l.jsx(En,{children:l.jsx(Oe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},cJ=()=>{const[e,t]=b.useState([]),{sources:n,refresh:r}=jT(),[i,s]=b.useState([]),[a,o]=b.useState(!0),[c,u]=b.useState(""),[d,f]=b.useState(new Set),[h,p]=b.useState({}),{toast:g}=Rt(),m=y=>y==="premium"?"default":"secondary",w=b.useCallback(async()=>{const{data:y,error:S}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(S)throw S;const _=((y==null?void 0:y.data)||[]).map(j=>({id:j.id,name:j.name,plan_type:j.plan_type}));t(_),!c&&_.length&&u(_[0].id)},[c]),v=b.useCallback(async y=>{if(!y){f(new Set);return}const{data:S,error:_}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",y);if(_)throw _;f(new Set((S||[]).map(j=>j.source_name)))},[]);b.useEffect(()=>{s(n||[])},[n]),b.useEffect(()=>{(async()=>{try{o(!0),await w()}catch(y){console.error(y),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{o(!1)}})()},[w,g]),b.useEffect(()=>{(async()=>{try{c&&(o(!0),await v(c))}catch(y){console.error(y)}finally{o(!1)}})()},[c,v]);const x=b.useCallback(async(y,S)=>{if(c){p(_=>({..._,[y]:!0}));try{S?(await nJ(y,c),f(_=>new Set(_).add(y))):(await rJ(y,c),f(_=>{const j=new Set(_);return j.delete(y),j}))}catch(_){console.error(_),g({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(_=>({..._,[y]:!1}))}}},[c,g]);return a?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Ql,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),l.jsx(Ee,{children:l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((y,S)=>l.jsx(Ac,{className:"h-12 w-full"},S))})})]}):l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Ql,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[l.jsx(qv,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),l.jsx(Q,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const y=i.filter(A=>A.access_level==="premium").map(A=>A.source_name),S=i.filter(A=>A.access_level==="standard").map(A=>A.source_name),_=y.filter(A=>d.has(A)),j=y.filter(A=>!d.has(A)),C=[...S,..._],k=j;await iJ(c,C,k),g({title:"Synchronisation réussie",description:`Assignés: ${C.length} • Désassignés: ${k.length}`}),await v(c)}catch(y){console.error(y),g({title:"Erreur",description:(y==null?void 0:y.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(nr,{value:c,onValueChange:u,children:[l.jsx(Ln,{className:"w-96",children:l.jsx(rr,{placeholder:"Sélectionner un workspace"})}),l.jsx(Mn,{children:e.map(y=>l.jsx(Je,{value:y.id,children:y.name},y.id))})]})})}),l.jsxs(eu,{children:[l.jsx(tu,{children:l.jsxs(En,{children:[l.jsx(qe,{children:"Source"}),l.jsx(qe,{children:"Access level"}),l.jsx(qe,{children:"Activer"}),l.jsx(qe,{children:"Désactiver"})]})}),l.jsxs(nu,{children:[i.map(y=>{const S=y.access_level==="standard"||d.has(y.source_name),_=!!h[y.source_name],j=y.access_level==="premium";return l.jsxs(En,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:y.source_name})]})}),l.jsx(Oe,{children:l.jsx(Ke,{variant:m(y.access_level),children:y.access_level})}),l.jsx(Oe,{children:_?l.jsx(co,{className:"h-4 w-4 animate-spin"}):l.jsx(oi,{checked:S,onCheckedChange:()=>j&&x(y.source_name,!0),disabled:!c||!j})}),l.jsx(Oe,{children:_?l.jsx(co,{className:"h-4 w-4 animate-spin"}):l.jsx(oi,{checked:!S,onCheckedChange:()=>j&&x(y.source_name,!1),disabled:!c||!j})})]},y.source_name)}),i.length===0&&l.jsx(En,{children:l.jsx(Oe,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},uJ=()=>{const[e,t]=H.useState("access");return l.jsxs(rg,{value:e,onValueChange:n=>t(n),className:"w-full",children:[l.jsxs(Jd,{children:[l.jsx(Vr,{value:"access",children:"Accès aux sources"}),l.jsx(Vr,{value:"assignments",children:"Assignations"})]}),l.jsx("div",{className:"mt-4"}),e==="access"&&l.jsx(qr,{value:"access",asChild:!0,children:l.jsx("div",{children:l.jsx(lJ,{})})}),e==="assignments"&&l.jsx(qr,{value:"assignments",asChild:!0,children:l.jsx("div",{children:l.jsx(cJ,{})})})]})},dJ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{toast:c}=Rt(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=p.charAt(Math.floor(Math.random()*p.length));r(g)},d=async h=>{h.preventDefault(),o(!0);try{const{data:{session:p}}=await X.auth.getSession();if(!p){c({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succès",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{o(!1)}},f=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return l.jsxs(_e,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(cI,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),l.jsx(wn,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),l.jsx(Ee,{children:l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(xt,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),l.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?l.jsx(eI,{className:"h-4 w-4"}):l.jsx(tI,{className:"h-4 w-4"})})]}),l.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&l.jsx(ii,{children:l.jsxs(si,{children:["Force du mot de passe: ",f(n)?"✅ Fort":"❌ Faible",!f(n)&&l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),l.jsx(Q,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},fJ=()=>{const[e,t]=b.useState(!1),{toast:n}=Rt(),r=async()=>{t(!0);try{const{data:{session:i}}=await X.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return l.jsxs(_e,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Pf,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),l.jsx(wn,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),l.jsxs(Ee,{children:[l.jsxs(ii,{className:"mb-4",children:[l.jsx(Ud,{className:"h-4 w-4"}),l.jsx(si,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),l.jsxs(yT,{children:[l.jsx(xT,{asChild:!0,children:l.jsx(Q,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),l.jsxs(fx,{children:[l.jsxs(hx,{children:[l.jsx(mx,{children:"Confirmer le nettoyage"}),l.jsx(gx,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),l.jsxs(px,{children:[l.jsx(yx,{children:"Annuler"}),l.jsx(vx,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},hJ=()=>{const{toast:e}=Rt(),{isSupraAdmin:t}=Jf(),[n,r]=H.useState(null),[i,s]=H.useState(!1),[a,o]=H.useState(0),[c,u]=H.useState(null),[d,f]=H.useState([]),[h,p]=H.useState(!1),[g,m]=H.useState([]),[w,v]=H.useState(!1),[x,y]=H.useState(null),S=()=>{const T=["ID","Nom","Description","FE","Unité donnée d'activité","Source","Secteur","Sous-secteur","Localisation","Date","Incertitude","Périmètre","Contributeur","Commentaires"],M=["BC::12345","Exemple de facteur","Lorem ipsum","12.34","kg","Base Carbone v23.6","Retail activities","Products manufacture","France","2025","","Scope 2 du producteur","",""],R=[T.join(","),M.join(",")].join(`
`),D=new Blob([R],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(D),U=document.createElement("a");U.href=O,U.download="template_import_emission_factors_fr.csv",U.click(),URL.revokeObjectURL(O)},_=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),o(0);const T=`imports/${Date.now()}_${n.name}`,{error:M}=await X.storage.from("imports").upload(T,n,{upsert:!0});if(M)throw M;u(T),o(100),p(!1),f([]),e({title:"Upload terminé",description:T})}catch(T){e({variant:"destructive",title:"Erreur upload",description:T.message||String(T)})}finally{s(!1)}},j=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const T=await fetch("/functions/v1/import-csv",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("sb-access-token")||""}`},body:JSON.stringify({file_path:c,language:"fr",dry_run:!0})}),M=await T.json();if(!T.ok)throw new Error((M==null?void 0:M.error)||"Analyse échouée");const R=((M==null?void 0:M.sources)||[]).map(D=>({name:D.name,count:D.count,access_level:D.access_level||"standard",is_global:typeof D.is_global=="boolean"?D.is_global:!0}));f(R),p(!0),e({title:"Analyse terminée",description:`${(M==null?void 0:M.processed)||0} lignes valides; ${R.length} sources détectées`}),await A()}catch(T){e({variant:"destructive",title:"Erreur analyse",description:T.message||String(T)})}},C=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser pour préparer le mapping."});return}try{const T={};d.forEach(O=>{T[O.name]={access_level:O.access_level,is_global:O.is_global}});const M={file_path:c,language:"fr",dry_run:!1,mapping:T},R=await fetch("/functions/v1/import-csv",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("sb-access-token")||""}`},body:JSON.stringify(M)}),D=await R.json();if(!R.ok)throw new Error((D==null?void 0:D.error)||"Import échoué");e({title:"Import lancé",description:`Job: ${(D==null?void 0:D.import_id)||"en file"}`}),await A()}catch(T){e({variant:"destructive",title:"Erreur import",description:T.message||String(T)})}},k=async T=>{try{y(T);const M=await fetch("/functions/v1/algolia-reindex",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("sb-access-token")||""}`},body:JSON.stringify({index:T,applySettings:!0})}),R=await M.json();if(!M.ok)throw new Error((R==null?void 0:R.error)||"Reindex échoué");e({title:"Reindex terminé",description:JSON.stringify((R==null?void 0:R.results)||R)})}catch(M){e({variant:"destructive",title:"Erreur reindex",description:M.message||String(M)})}finally{y(null)}},A=H.useCallback(async()=>{try{v(!0);const{data:T,error:M}=await X.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(M)throw M;const R=(T||[]).map(D=>({id:D.id,status:D.status,processed:D.records_processed??null,failed:D.records_failed??null,created_at:D.created_at}));m(R)}catch{}finally{v(!1)}},[]);if(H.useEffect(()=>{A();const T=setInterval(A,5e3);return()=>clearInterval(T)},[A]),!t)return null;const F=T=>f(M=>M.map(R=>({...R,access_level:T}))),I=T=>f(M=>M.map(R=>({...R,is_global:T})));return l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Import de la base de facteurs (FR)"}),l.jsx(wn,{children:"Upload de CSV volumineux, analyse puis lancement d\\'import avec mappage par source."})]}),l.jsxs(Ee,{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Q,{variant:"secondary",onClick:S,children:"Télécharger le template CSV"})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(ut,{children:"Fichier CSV"}),l.jsx(xt,{type:"file",accept:".csv,text/csv",onChange:T=>{var M;return r(((M=T.target.files)==null?void 0:M[0])||null)}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{onClick:_,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"}),c&&l.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{onClick:j,disabled:!c,children:"Analyser"}),l.jsx(Q,{onClick:C,disabled:!c||!h||d.length===0,children:"Lancer l\\'import"})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ut,{children:"Sources détectées (après analyse)"}),d.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),l.jsxs(nr,{onValueChange:T=>F(T),children:[l.jsx(Ln,{className:"w-40",children:l.jsx(rr,{placeholder:"Accès"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I(!0),children:"Global: Oui"}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I(!1),children:"Global: Non"})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Source"}),l.jsx("th",{className:"p-2 text-right",children:"Lignes"}),l.jsx("th",{className:"p-2 text-left",children:"Accès"}),l.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),l.jsx("tbody",{children:d.map((T,M)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:T.name}),l.jsx("td",{className:"p-2 text-right",children:T.count}),l.jsx("td",{className:"p-2",children:l.jsxs(nr,{value:T.access_level,onValueChange:R=>f(D=>D.map((O,U)=>U===M?{...O,access_level:R}:O)),children:[l.jsx(Ln,{className:"w-36",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:T.is_global,onChange:R=>f(D=>D.map((O,U)=>U===M?{...O,is_global:R.target.checked}:O))}),l.jsx("span",{children:"Global"})]})})]},T.name))})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ut,{children:"Historique des imports"}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Date"}),l.jsx("th",{className:"p-2 text-left",children:"Statut"}),l.jsx("th",{className:"p-2 text-right",children:"Traitées"}),l.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map(T=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(T.created_at).toLocaleString()}),l.jsx("td",{className:"p-2",children:T.status??"-"}),l.jsx("td",{className:"p-2 text-right",children:T.processed??"-"}),l.jsx("td",{className:"p-2 text-right",children:T.failed??"-"})]},T.id))})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ut,{children:"Algolia — Reindex"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lancer un reindex complet via replaceAllObjects (swap atomique). Les settings sont lus depuis Supabase Storage (",l.jsx("code",{children:"algolia_settings"}),")."]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(Q,{onClick:()=>k("public"),disabled:x!==null,children:x==="public"?"Reindex base commune...":"Reindex Base commune"}),l.jsx(Q,{onClick:()=>k("private"),disabled:x!==null,children:x==="private"?"Reindex base personnelle...":"Reindex Base personnelle"}),l.jsx(Q,{variant:"secondary",onClick:()=>k("all"),disabled:x!==null,children:x==="all"?"Reindex tout...":"Reindex TOUT"})]})]})]})]})]})},pJ=()=>{const{user:e}=rt(),{isSupraAdmin:t,loading:n}=Jf();Rt();const[r,i]=b.useState(!1);return b.useEffect(()=>{i(!1)},[e,t]),n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(ii,{className:"max-w-2xl mx-auto",children:[l.jsx(Ud,{className:"h-4 w-4"}),l.jsx(si,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Is,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[l.jsx(zs,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),l.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ke,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),l.jsx(Ke,{variant:"outline",children:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),l.jsx(sJ,{})]}),l.jsx(aJ,{}),l.jsx(oJ,{children:l.jsx(uJ,{})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),l.jsx(hJ,{})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsx(dJ,{}),l.jsx(fJ,{})]})]})]}),l.jsxs(_e,{className:"mt-6",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Informations de debug"})}),l.jsx(Ee,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",e.id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},mJ=()=>{const e=Js();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},gJ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(null),{toast:c}=Rt(),u=$f(),d=async f=>{f.preventDefault(),s(!0),o(null);try{const{error:h}=await X.auth.signInWithPassword({email:e,password:n});h?(o(h.message),c({variant:"destructive",title:"Erreur de connexion",description:h.message})):(c({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{o("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[l.jsx(Bv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(zs,{className:"text-white w-6 h-6"})}),l.jsx(Ie,{className:"text-2xl",children:"Connexion Développeur"}),l.jsx(wn,{children:"Accès administrateur pour le développement et la maintenance"})]}),l.jsxs(Ee,{children:[l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(kr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),l.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email administrateur"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:a})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},vJ=new yD,ga=({children:e})=>{const{user:t,loading:n}=rt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(dP,{to:"/login",replace:!0})},Fp=({children:e})=>{const{user:t,loading:n}=rt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(dP,{to:"/search",replace:!0}):l.jsx(l.Fragment,{children:e})},yJ=()=>l.jsx(bD,{client:vJ,children:l.jsx(FM,{children:l.jsx($M,{children:l.jsx(DM,{children:l.jsx(LM,{children:l.jsxs(G$,{children:[l.jsx(QI,{}),l.jsx(SF,{}),l.jsx(mL,{children:l.jsxs("div",{className:"min-h-screen",children:[l.jsx(zM,{}),l.jsxs(lL,{children:[l.jsx(Nn,{path:"/",element:l.jsx(o3,{})}),l.jsx(Nn,{path:"/login",element:l.jsx(Fp,{children:l.jsx(d3,{})})}),l.jsx(Nn,{path:"/signup",element:l.jsx(Fp,{children:l.jsx(h3,{})})}),l.jsx(Nn,{path:"/dev",element:l.jsx(Fp,{children:l.jsx(gJ,{})})}),l.jsx(Nn,{path:"/search",element:l.jsx(ga,{children:l.jsx(uG,{})})}),l.jsx(Nn,{path:"/favoris",element:l.jsx(ga,{children:l.jsx(yG,{})})}),l.jsx(Nn,{path:"/import",element:l.jsx(ga,{children:l.jsx(xG,{})})}),l.jsx(Nn,{path:"/settings",element:l.jsx(ga,{children:l.jsx(KG,{})})}),l.jsx(Nn,{path:"/debug",element:l.jsx(ga,{children:l.jsx(GG,{})})}),l.jsx(Nn,{path:"/admin",element:l.jsx(ga,{children:l.jsx(pJ,{})})}),l.jsx(Nn,{path:"*",element:l.jsx(mJ,{})})]})]})})]})})})})})});R_(document.getElementById("root")).render(l.jsx(yJ,{}));
