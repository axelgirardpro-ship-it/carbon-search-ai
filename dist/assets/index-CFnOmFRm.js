var E2=Object.defineProperty;var C0=e=>{throw TypeError(e)};var k2=(e,t,n)=>t in e?E2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ua=(e,t,n)=>k2(e,typeof t!="symbol"?t+"":t,n),Op=(e,t,n)=>t.has(e)||C0("Cannot "+n);var V=(e,t,n)=>(Op(e,t,"read from private field"),n?n.call(e):t.get(e)),Me=(e,t,n)=>t.has(e)?C0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ee=(e,t,n,r)=>(Op(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Yt=(e,t,n)=>(Op(e,t,"access private method"),n);var cd=(e,t,n,r)=>({set _(i){Ee(e,t,i,n)},get _(){return V(e,t,r)}});function P2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Nj={exports:{}},ph={},Tj={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),R2=Symbol.for("react.portal"),N2=Symbol.for("react.fragment"),T2=Symbol.for("react.strict_mode"),O2=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),I2=Symbol.for("react.context"),F2=Symbol.for("react.forward_ref"),D2=Symbol.for("react.suspense"),L2=Symbol.for("react.memo"),$2=Symbol.for("react.lazy"),R0=Symbol.iterator;function M2(e){return e===null||typeof e!="object"?null:(e=R0&&e[R0]||e["@@iterator"],typeof e=="function"?e:null)}var Oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Aj=Object.assign,Ij={};function hl(e,t,n){this.props=e,this.context=t,this.refs=Ij,this.updater=n||Oj}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fj(){}Fj.prototype=hl.prototype;function wy(e,t,n){this.props=e,this.context=t,this.refs=Ij,this.updater=n||Oj}var Sy=wy.prototype=new Fj;Sy.constructor=wy;Aj(Sy,hl.prototype);Sy.isPureReactComponent=!0;var N0=Array.isArray,Dj=Object.prototype.hasOwnProperty,_y={current:null},Lj={key:!0,ref:!0,__self:!0,__source:!0};function $j(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Dj.call(t,r)&&!Lj.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Au,type:e,key:s,ref:a,props:i,_owner:_y.current}}function U2(e,t){return{$$typeof:Au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Au}function z2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var T0=/\/+/g;function Ap(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z2(""+e.key):t.toString(36)}function Yd(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Au:case R2:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ap(a,0):r,N0(i)?(n="",e!=null&&(n=e.replace(T0,"$&/")+"/"),Yd(i,t,n,"",function(u){return u})):i!=null&&(jy(i)&&(i=U2(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(T0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",N0(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+Ap(s,o);a+=Yd(s,t,n,l,i)}else if(l=M2(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+Ap(s,o++),a+=Yd(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ud(e,t,n){if(e==null)return e;var r=[],i=0;return Yd(e,r,"","",function(s){return t.call(n,s,i++)}),r}function H2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Jd={transition:null},B2={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:_y};function Mj(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:ud,forEach:function(e,t,n){ud(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ud(e,function(){t++}),t},toArray:function(e){return ud(e,function(t){return t})||[]},only:function(e){if(!jy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=hl;Re.Fragment=N2;Re.Profiler=O2;Re.PureComponent=wy;Re.StrictMode=T2;Re.Suspense=D2;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2;Re.act=Mj;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Aj({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=_y.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Dj.call(t,l)&&!Lj.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Au,type:e.type,key:i,ref:s,props:r,_owner:a}};Re.createContext=function(e){return e={$$typeof:I2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A2,_context:e},e.Consumer=e};Re.createElement=$j;Re.createFactory=function(e){var t=$j.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:F2,render:e}};Re.isValidElement=jy;Re.lazy=function(e){return{$$typeof:$2,_payload:{_status:-1,_result:e},_init:H2}};Re.memo=function(e,t){return{$$typeof:L2,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Jd.transition;Jd.transition={};try{e()}finally{Jd.transition=t}};Re.unstable_act=Mj;Re.useCallback=function(e,t){return wn.current.useCallback(e,t)};Re.useContext=function(e){return wn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return wn.current.useEffect(e,t)};Re.useId=function(){return wn.current.useId()};Re.useImperativeHandle=function(e,t,n){return wn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return wn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return wn.current.useReducer(e,t,n)};Re.useRef=function(e){return wn.current.useRef(e)};Re.useState=function(e){return wn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return wn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return wn.current.useTransition()};Re.version="18.3.1";Tj.exports=Re;var w=Tj.exports;const W=ja(w),Ey=P2({__proto__:null,default:W},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2=w,V2=Symbol.for("react.element"),q2=Symbol.for("react.fragment"),Q2=Object.prototype.hasOwnProperty,K2=W2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G2={key:!0,ref:!0,__self:!0,__source:!0};function Uj(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Q2.call(t,r)&&!G2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:V2,type:e,key:s,ref:a,props:i,_owner:K2.current}}ph.Fragment=q2;ph.jsx=Uj;ph.jsxs=Uj;Nj.exports=ph;var c=Nj.exports,zj={exports:{}},Zn={},Hj={exports:{}},Bj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var k=E.length;E.push(A);e:for(;0<k;){var F=k-1>>>1,H=E[F];if(0<i(H,A))E[F]=A,E[k]=H,k=F;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var A=E[0],k=E.pop();if(k!==A){E[0]=k;e:for(var F=0,H=E.length,T=H>>>1;F<T;){var te=2*(F+1)-1,ie=E[te],Y=te+1,ee=E[Y];if(0>i(ie,k))Y<H&&0>i(ee,ie)?(E[F]=ee,E[Y]=k,F=Y):(E[F]=ie,E[te]=k,F=te);else if(Y<H&&0>i(ee,k))E[F]=ee,E[Y]=k,F=Y;else break e}}return A}function i(E,A){var k=E.sortIndex-A.sortIndex;return k!==0?k:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=E)r(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(u)}}function S(E){if(g=!1,x(E),!m)if(n(l)!==null)m=!0,R(j);else{var A=n(u);A!==null&&z(S,A.startTime-E)}}function j(E,A){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var k=h;try{for(x(A),f=n(l);f!==null&&(!(f.expirationTime>A)||E&&!L());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var H=F(f.expirationTime<=A);A=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),x(A)}else r(l);f=n(l)}if(f!==null)var T=!0;else{var te=n(u);te!==null&&z(S,te.startTime-A),T=!1}return T}finally{f=null,h=k,p=!1}}var _=!1,C=null,N=-1,I=5,P=-1;function L(){return!(e.unstable_now()-P<I)}function D(){if(C!==null){var E=e.unstable_now();P=E;var A=!0;try{A=C(!0,E)}finally{A?$():(_=!1,C=null)}}else _=!1}var $;if(typeof y=="function")$=function(){y(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=D,$=function(){M.postMessage(null)}}else $=function(){b(D,0)};function R(E){C=E,_||(_=!0,$())}function z(E,A){N=b(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,R(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var k=h;h=A;try{return E()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var k=h;h=E;try{return A()}finally{h=k}},e.unstable_scheduleCallback=function(E,A,k){var F=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?F+k:F):k=F,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=k+H,E={id:d++,callback:A,priorityLevel:E,startTime:k,expirationTime:H,sortIndex:-1},k>F?(E.sortIndex=k,t(u,E),n(l)===null&&E===n(u)&&(g?(v(N),N=-1):g=!0,z(S,k-F))):(E.sortIndex=H,t(l,E),m||p||(m=!0,R(j))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var A=h;return function(){var k=h;h=A;try{return E.apply(this,arguments)}finally{h=k}}}})(Bj);Hj.exports=Bj;var Y2=Hj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2=w,Xn=Y2;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wj=new Set,Pc={};function Ea(e,t){Ko(e,t),Ko(e+"Capture",t)}function Ko(e,t){for(Pc[e]=t,e=0;e<t.length;e++)Wj.add(t[e])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fg=Object.prototype.hasOwnProperty,X2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O0={},A0={};function Z2(e){return fg.call(A0,e)?!0:fg.call(O0,e)?!1:X2.test(e)?A0[e]=!0:(O0[e]=!0,!1)}function eI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tI(e,t,n,r){if(t===null||typeof t>"u"||eI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new Sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new Sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new Sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new Sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new Sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new Sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new Sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new Sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new Sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ky,Py);qt[t]=new Sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ky,Py);qt[t]=new Sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ky,Py);qt[t]=new Sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new Sn(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new Sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cy(e,t,n,r){var i=qt.hasOwnProperty(t)?qt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tI(t,n,i,r)&&(n=null),r||i===null?Z2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fi=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),uo=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),Vj=Symbol.for("react.provider"),qj=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),mg=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),Qj=Symbol.for("react.offscreen"),I0=Symbol.iterator;function Al(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Ip;function Xl(e){if(Ip===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ip=t&&t[1]||""}return`
`+Ip+e}var Fp=!1;function Dp(e,t){if(!e||Fp)return"";Fp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Fp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xl(e):""}function nI(e){switch(e.tag){case 5:return Xl(e.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return e=Dp(e.type,!1),e;case 11:return e=Dp(e.type.render,!1),e;case 1:return e=Dp(e.type,!0),e;default:return""}}function gg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case uo:return"Portal";case hg:return"Profiler";case Ry:return"StrictMode";case pg:return"Suspense";case mg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qj:return(e.displayName||"Context")+".Consumer";case Vj:return(e._context.displayName||"Context")+".Provider";case Ny:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ty:return t=e.displayName||null,t!==null?t:gg(e.type)||"Memo";case Xi:t=e._payload,e=e._init;try{return gg(e(t))}catch{}}return null}function rI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gg(t);case 8:return t===Ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iI(e){var t=Kj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fd(e){e._valueTracker||(e._valueTracker=iI(e))}function Gj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vg(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_s(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yj(e,t){t=t.checked,t!=null&&Cy(e,"checked",t,!1)}function yg(e,t){Yj(e,t);var n=_s(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xg(e,t.type,n):t.hasOwnProperty("defaultValue")&&xg(e,t.type,_s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function D0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xg(e,t,n){(t!=="number"||wf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zl=Array.isArray;function Eo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_s(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(Zl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_s(n)}}function Jj(e,t){var n=_s(t.value),r=_s(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hd,Zj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sI=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(e){sI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cc[t]=cc[e]})});function eE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cc.hasOwnProperty(e)&&cc[e]?(""+t).trim():t+"px"}function tE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aI=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(e,t){if(t){if(aI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function _g(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eg=null,ko=null,Po=null;function M0(e){if(e=Du(e)){if(typeof Eg!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=xh(t),Eg(e.stateNode,e.type,t))}}function nE(e){ko?Po?Po.push(e):Po=[e]:ko=e}function rE(){if(ko){var e=ko,t=Po;if(Po=ko=null,M0(e),t)for(e=0;e<t.length;e++)M0(t[e])}}function iE(e,t){return e(t)}function sE(){}var Lp=!1;function aE(e,t,n){if(Lp)return e(t,n);Lp=!0;try{return iE(e,t,n)}finally{Lp=!1,(ko!==null||Po!==null)&&(sE(),rE())}}function Rc(e,t){var n=e.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var kg=!1;if(Ei)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){kg=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{kg=!1}function oI(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var uc=!1,Sf=null,_f=!1,Pg=null,lI={onError:function(e){uc=!0,Sf=e}};function cI(e,t,n,r,i,s,a,o,l){uc=!1,Sf=null,oI.apply(lI,arguments)}function uI(e,t,n,r,i,s,a,o,l){if(cI.apply(this,arguments),uc){if(uc){var u=Sf;uc=!1,Sf=null}else throw Error(Q(198));_f||(_f=!0,Pg=u)}}function ka(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U0(e){if(ka(e)!==e)throw Error(Q(188))}function dI(e){var t=e.alternate;if(!t){if(t=ka(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U0(i),e;if(s===r)return U0(i),t;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function lE(e){return e=dI(e),e!==null?cE(e):null}function cE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cE(e);if(t!==null)return t;e=e.sibling}return null}var uE=Xn.unstable_scheduleCallback,z0=Xn.unstable_cancelCallback,fI=Xn.unstable_shouldYield,hI=Xn.unstable_requestPaint,St=Xn.unstable_now,pI=Xn.unstable_getCurrentPriorityLevel,Ay=Xn.unstable_ImmediatePriority,dE=Xn.unstable_UserBlockingPriority,jf=Xn.unstable_NormalPriority,mI=Xn.unstable_LowPriority,fE=Xn.unstable_IdlePriority,mh=null,Xr=null;function gI(e){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(mh,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:xI,vI=Math.log,yI=Math.LN2;function xI(e){return e>>>=0,e===0?32:31-(vI(e)/yI|0)|0}var pd=64,md=4194304;function ec(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ef(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ec(o):(s&=a,s!==0&&(r=ec(s)))}else a=n&~i,a!==0?r=ec(a):s!==0&&(r=ec(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pr(t),i=1<<n,r|=e[n],t&=~i;return r}function bI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=bI(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Cg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hE(){var e=pd;return pd<<=1,!(pd&4194240)&&(pd=64),e}function $p(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Iu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=n}function SI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function pE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mE,Fy,gE,vE,yE,Rg=!1,gd=[],fs=null,hs=null,ps=null,Nc=new Map,Tc=new Map,es=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Fl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Du(t),t!==null&&Fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jI(e,t,n,r,i){switch(t){case"focusin":return fs=Fl(fs,e,t,n,r,i),!0;case"dragenter":return hs=Fl(hs,e,t,n,r,i),!0;case"mouseover":return ps=Fl(ps,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nc.set(s,Fl(Nc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tc.set(s,Fl(Tc.get(s)||null,e,t,n,r,i)),!0}return!1}function xE(e){var t=ta(e.target);if(t!==null){var n=ka(t);if(n!==null){if(t=n.tag,t===13){if(t=oE(n),t!==null){e.blockedOn=t,yE(e.priority,function(){gE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ng(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jg=r,n.target.dispatchEvent(r),jg=null}else return t=Du(n),t!==null&&Fy(t),e.blockedOn=n,!1;t.shift()}return!0}function B0(e,t,n){Xd(e)&&n.delete(t)}function EI(){Rg=!1,fs!==null&&Xd(fs)&&(fs=null),hs!==null&&Xd(hs)&&(hs=null),ps!==null&&Xd(ps)&&(ps=null),Nc.forEach(B0),Tc.forEach(B0)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rg||(Rg=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,EI)))}function Oc(e){function t(i){return Dl(i,e)}if(0<gd.length){Dl(gd[0],e);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fs!==null&&Dl(fs,e),hs!==null&&Dl(hs,e),ps!==null&&Dl(ps,e),Nc.forEach(t),Tc.forEach(t),n=0;n<es.length;n++)r=es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&es.shift()}var Co=Fi.ReactCurrentBatchConfig,kf=!0;function kI(e,t,n,r){var i=Ue,s=Co.transition;Co.transition=null;try{Ue=1,Dy(e,t,n,r)}finally{Ue=i,Co.transition=s}}function PI(e,t,n,r){var i=Ue,s=Co.transition;Co.transition=null;try{Ue=4,Dy(e,t,n,r)}finally{Ue=i,Co.transition=s}}function Dy(e,t,n,r){if(kf){var i=Ng(e,t,n,r);if(i===null)Kp(e,t,r,Pf,n),H0(e,r);else if(jI(i,e,t,n,r))r.stopPropagation();else if(H0(e,r),t&4&&-1<_I.indexOf(e)){for(;i!==null;){var s=Du(i);if(s!==null&&mE(s),s=Ng(e,t,n,r),s===null&&Kp(e,t,r,Pf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Kp(e,t,r,null,n)}}var Pf=null;function Ng(e,t,n,r){if(Pf=null,e=Oy(r),e=ta(e),e!==null)if(t=ka(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pf=e,null}function bE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pI()){case Ay:return 1;case dE:return 4;case jf:case mI:return 16;case fE:return 536870912;default:return 16}default:return 16}}var cs=null,Ly=null,Zd=null;function wE(){if(Zd)return Zd;var e,t=Ly,n=t.length,r,i="value"in cs?cs.value:cs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Zd=i.slice(e,1<r?1-r:void 0)}function ef(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vd(){return!0}function W0(){return!1}function er(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vd:W0,this.isPropagationStopped=W0,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),t}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=er(pl),Fu=ft({},pl,{view:0,detail:0}),CI=er(Fu),Mp,Up,Ll,gh=ft({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ll&&(Ll&&e.type==="mousemove"?(Mp=e.screenX-Ll.screenX,Up=e.screenY-Ll.screenY):Up=Mp=0,Ll=e),Mp)},movementY:function(e){return"movementY"in e?e.movementY:Up}}),V0=er(gh),RI=ft({},gh,{dataTransfer:0}),NI=er(RI),TI=ft({},Fu,{relatedTarget:0}),zp=er(TI),OI=ft({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=er(OI),II=ft({},pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FI=er(II),DI=ft({},pl,{data:0}),q0=er(DI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MI[e])?!!t[e]:!1}function My(){return UI}var zI=ft({},Fu,{key:function(e){if(e.key){var t=LI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ef(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$I[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(e){return e.type==="keypress"?ef(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ef(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HI=er(zI),BI=ft({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q0=er(BI),WI=ft({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),VI=er(WI),qI=ft({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),QI=er(qI),KI=ft({},gh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=er(KI),YI=[9,13,27,32],Uy=Ei&&"CompositionEvent"in window,dc=null;Ei&&"documentMode"in document&&(dc=document.documentMode);var JI=Ei&&"TextEvent"in window&&!dc,SE=Ei&&(!Uy||dc&&8<dc&&11>=dc),K0=" ",G0=!1;function _E(e,t){switch(e){case"keyup":return YI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function XI(e,t){switch(e){case"compositionend":return jE(t);case"keypress":return t.which!==32?null:(G0=!0,K0);case"textInput":return e=t.data,e===K0&&G0?null:e;default:return null}}function ZI(e,t){if(ho)return e==="compositionend"||!Uy&&_E(e,t)?(e=wE(),Zd=Ly=cs=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SE&&t.locale!=="ko"?null:t.data;default:return null}}var eF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eF[e.type]:t==="textarea"}function EE(e,t,n,r){nE(r),t=Cf(t,"onChange"),0<t.length&&(n=new $y("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fc=null,Ac=null;function tF(e){DE(e,0)}function vh(e){var t=go(e);if(Gj(t))return e}function nF(e,t){if(e==="change")return t}var kE=!1;if(Ei){var Hp;if(Ei){var Bp="oninput"in document;if(!Bp){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),Bp=typeof J0.oninput=="function"}Hp=Bp}else Hp=!1;kE=Hp&&(!document.documentMode||9<document.documentMode)}function X0(){fc&&(fc.detachEvent("onpropertychange",PE),Ac=fc=null)}function PE(e){if(e.propertyName==="value"&&vh(Ac)){var t=[];EE(t,Ac,e,Oy(e)),aE(tF,t)}}function rF(e,t,n){e==="focusin"?(X0(),fc=t,Ac=n,fc.attachEvent("onpropertychange",PE)):e==="focusout"&&X0()}function iF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vh(Ac)}function sF(e,t){if(e==="click")return vh(t)}function aF(e,t){if(e==="input"||e==="change")return vh(t)}function oF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ar=typeof Object.is=="function"?Object.is:oF;function Ic(e,t){if(Ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fg.call(t,i)||!Ar(e[i],t[i]))return!1}return!0}function Z0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ew(e,t){var n=Z0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function CE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RE(){for(var e=window,t=wf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wf(e.document)}return t}function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lF(e){var t=RE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&CE(n.ownerDocument.documentElement,n)){if(r!==null&&zy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ew(n,s);var a=ew(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cF=Ei&&"documentMode"in document&&11>=document.documentMode,po=null,Tg=null,hc=null,Og=!1;function tw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Og||po==null||po!==wf(r)||(r=po,"selectionStart"in r&&zy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Ic(hc,r)||(hc=r,r=Cf(Tg,"onSelect"),0<r.length&&(t=new $y("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=po)))}function yd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mo={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},Wp={},NE={};Ei&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function yh(e){if(Wp[e])return Wp[e];if(!mo[e])return e;var t=mo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NE)return Wp[e]=t[n];return e}var TE=yh("animationend"),OE=yh("animationiteration"),AE=yh("animationstart"),IE=yh("transitionend"),FE=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){FE.set(e,t),Ea(t,[e])}for(var Vp=0;Vp<nw.length;Vp++){var qp=nw[Vp],uF=qp.toLowerCase(),dF=qp[0].toUpperCase()+qp.slice(1);Ns(uF,"on"+dF)}Ns(TE,"onAnimationEnd");Ns(OE,"onAnimationIteration");Ns(AE,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(IE,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fF=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function rw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uI(r,t,void 0,e),e.currentTarget=null}function DE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;rw(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;rw(i,o,u),s=l}}}if(_f)throw e=Pg,_f=!1,Pg=null,e}function tt(e,t){var n=t[Lg];n===void 0&&(n=t[Lg]=new Set);var r=e+"__bubble";n.has(r)||(LE(t,e,2,!1),n.add(r))}function Qp(e,t,n){var r=0;t&&(r|=4),LE(n,e,r,t)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[xd]){e[xd]=!0,Wj.forEach(function(n){n!=="selectionchange"&&(fF.has(n)||Qp(n,!1,e),Qp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xd]||(t[xd]=!0,Qp("selectionchange",!1,t))}}function LE(e,t,n,r){switch(bE(t)){case 1:var i=kI;break;case 4:i=PI;break;default:i=Dy}n=i.bind(null,t,n,e),i=void 0,!kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ta(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}aE(function(){var u=s,d=Oy(n),f=[];e:{var h=FE.get(e);if(h!==void 0){var p=$y,m=e;switch(e){case"keypress":if(ef(n)===0)break e;case"keydown":case"keyup":p=HI;break;case"focusin":m="focus",p=zp;break;case"focusout":m="blur",p=zp;break;case"beforeblur":case"afterblur":p=zp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=V0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VI;break;case TE:case OE:case AE:p=AI;break;case IE:p=QI;break;case"scroll":p=CI;break;case"wheel":p=GI;break;case"copy":case"cut":case"paste":p=FI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Q0}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=Rc(y,v),S!=null&&g.push(Dc(y,S,x)))),b)break;y=y.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==jg&&(m=n.relatedTarget||n.fromElement)&&(ta(m)||m[ki]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ta(m):null,m!==null&&(b=ka(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=V0,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Q0,S="onPointerLeave",v="onPointerEnter",y="pointer"),b=p==null?h:go(p),x=m==null?h:go(m),h=new g(S,y+"leave",p,n,d),h.target=b,h.relatedTarget=x,S=null,ta(d)===u&&(g=new g(v,y+"enter",m,n,d),g.target=x,g.relatedTarget=b,S=g),b=S,p&&m)t:{for(g=p,v=m,y=0,x=g;x;x=za(x))y++;for(x=0,S=v;S;S=za(S))x++;for(;0<y-x;)g=za(g),y--;for(;0<x-y;)v=za(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=za(g),v=za(v)}g=null}else g=null;p!==null&&iw(f,h,p,g,!1),m!==null&&b!==null&&iw(f,b,m,g,!0)}}e:{if(h=u?go(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=nF;else if(Y0(h))if(kE)j=aF;else{j=iF;var _=rF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=sF);if(j&&(j=j(e,u))){EE(f,j,n,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&xg(h,"number",h.value)}switch(_=u?go(u):window,e){case"focusin":(Y0(_)||_.contentEditable==="true")&&(po=_,Tg=u,hc=null);break;case"focusout":hc=Tg=po=null;break;case"mousedown":Og=!0;break;case"contextmenu":case"mouseup":case"dragend":Og=!1,tw(f,n,d);break;case"selectionchange":if(cF)break;case"keydown":case"keyup":tw(f,n,d)}var C;if(Uy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ho?_E(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(SE&&n.locale!=="ko"&&(ho||N!=="onCompositionStart"?N==="onCompositionEnd"&&ho&&(C=wE()):(cs=d,Ly="value"in cs?cs.value:cs.textContent,ho=!0)),_=Cf(u,N),0<_.length&&(N=new q0(N,e,null,n,d),f.push({event:N,listeners:_}),C?N.data=C:(C=jE(n),C!==null&&(N.data=C)))),(C=JI?XI(e,n):ZI(e,n))&&(u=Cf(u,"onBeforeInput"),0<u.length&&(d=new q0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}DE(f,t)})}function Dc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rc(e,n),s!=null&&r.unshift(Dc(e,s,i)),s=Rc(e,t),s!=null&&r.push(Dc(e,s,i))),e=e.return}return r}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iw(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Rc(n,s),l!=null&&a.unshift(Dc(n,l,o))):i||(l=Rc(n,s),l!=null&&a.push(Dc(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var hF=/\r\n?/g,pF=/\u0000|\uFFFD/g;function sw(e){return(typeof e=="string"?e:""+e).replace(hF,`
`).replace(pF,"")}function bd(e,t,n){if(t=sw(t),sw(e)!==t&&n)throw Error(Q(425))}function Rf(){}var Ag=null,Ig=null;function Fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,mF=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,gF=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(e){return aw.resolve(null).then(e).catch(vF)}:Dg;function vF(e){setTimeout(function(){throw e})}function Gp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oc(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ow(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Yr="__reactFiber$"+ml,Lc="__reactProps$"+ml,ki="__reactContainer$"+ml,Lg="__reactEvents$"+ml,yF="__reactListeners$"+ml,xF="__reactHandles$"+ml;function ta(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ki]||n[Yr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ow(e);e!==null;){if(n=e[Yr])return n;e=ow(e)}return t}e=n,n=e.parentNode}return null}function Du(e){return e=e[Yr]||e[ki],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function go(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function xh(e){return e[Lc]||null}var $g=[],vo=-1;function Ts(e){return{current:e}}function nt(e){0>vo||(e.current=$g[vo],$g[vo]=null,vo--)}function Ze(e,t){vo++,$g[vo]=e.current,e.current=t}var js={},on=Ts(js),Fn=Ts(!1),fa=js;function Go(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(e){return e=e.childContextTypes,e!=null}function Nf(){nt(Fn),nt(on)}function lw(e,t,n){if(on.current!==js)throw Error(Q(168));Ze(on,t),Ze(Fn,n)}function $E(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Q(108,rI(e)||"Unknown",i));return ft({},n,r)}function Tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,fa=on.current,Ze(on,e),Ze(Fn,Fn.current),!0}function cw(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=$E(e,t,fa),r.__reactInternalMemoizedMergedChildContext=e,nt(Fn),nt(on),Ze(on,e)):nt(Fn),Ze(Fn,n)}var xi=null,bh=!1,Yp=!1;function ME(e){xi===null?xi=[e]:xi.push(e)}function bF(e){bh=!0,ME(e)}function Os(){if(!Yp&&xi!==null){Yp=!0;var e=0,t=Ue;try{var n=xi;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xi=null,bh=!1}catch(i){throw xi!==null&&(xi=xi.slice(e+1)),uE(Ay,Os),i}finally{Ue=t,Yp=!1}}return null}var yo=[],xo=0,Of=null,Af=0,ar=[],or=0,ha=null,Si=1,_i="";function qs(e,t){yo[xo++]=Af,yo[xo++]=Of,Of=e,Af=t}function UE(e,t,n){ar[or++]=Si,ar[or++]=_i,ar[or++]=ha,ha=e;var r=Si;e=_i;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Si=1<<32-Pr(t)+i|n<<i|r,_i=s+e}else Si=1<<s|n<<i|r,_i=e}function Hy(e){e.return!==null&&(qs(e,1),UE(e,1,0))}function By(e){for(;e===Of;)Of=yo[--xo],yo[xo]=null,Af=yo[--xo],yo[xo]=null;for(;e===ha;)ha=ar[--or],ar[or]=null,_i=ar[--or],ar[or]=null,Si=ar[--or],ar[or]=null}var Kn=null,qn=null,st=!1,Er=null;function zE(e,t){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,qn=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ha!==null?{id:Si,overflow:_i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kn=e,qn=null,!0):!1;default:return!1}}function Mg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ug(e){if(st){var t=qn;if(t){var n=t;if(!uw(e,t)){if(Mg(e))throw Error(Q(418));t=ms(n.nextSibling);var r=Kn;t&&uw(e,t)?zE(r,n):(e.flags=e.flags&-4097|2,st=!1,Kn=e)}}else{if(Mg(e))throw Error(Q(418));e.flags=e.flags&-4097|2,st=!1,Kn=e}}}function dw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function wd(e){if(e!==Kn)return!1;if(!st)return dw(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fg(e.type,e.memoizedProps)),t&&(t=qn)){if(Mg(e))throw HE(),Error(Q(418));for(;t;)zE(e,t),t=ms(t.nextSibling)}if(dw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qn=ms(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qn=null}}else qn=Kn?ms(e.stateNode.nextSibling):null;return!0}function HE(){for(var e=qn;e;)e=ms(e.nextSibling)}function Yo(){qn=Kn=null,st=!1}function Wy(e){Er===null?Er=[e]:Er.push(e)}var wF=Fi.ReactCurrentBatchConfig;function $l(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Sd(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fw(e){var t=e._init;return t(e._payload)}function BE(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=xs(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,x,S){return y===null||y.tag!==6?(y=rm(x,v.mode,S),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,S){var j=x.type;return j===fo?d(v,y,x.props.children,S,x.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&fw(j)===y.type)?(S=i(y,x.props),S.ref=$l(v,y,x),S.return=v,S):(S=lf(x.type,x.key,x.props,null,v.mode,S),S.ref=$l(v,y,x),S.return=v,S)}function u(v,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=im(x,v.mode,S),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function d(v,y,x,S,j){return y===null||y.tag!==7?(y=ua(x,v.mode,S,j),y.return=v,y):(y=i(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rm(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dd:return x=lf(y.type,y.key,y.props,null,v.mode,x),x.ref=$l(v,null,y),x.return=v,x;case uo:return y=im(y,v.mode,x),y.return=v,y;case Xi:var S=y._init;return f(v,S(y._payload),x)}if(Zl(y)||Al(y))return y=ua(y,v.mode,x,null),y.return=v,y;Sd(v,y)}return null}function h(v,y,x,S){var j=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:o(v,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dd:return x.key===j?l(v,y,x,S):null;case uo:return x.key===j?u(v,y,x,S):null;case Xi:return j=x._init,h(v,y,j(x._payload),S)}if(Zl(x)||Al(x))return j!==null?null:d(v,y,x,S,null);Sd(v,x)}return null}function p(v,y,x,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,o(y,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dd:return v=v.get(S.key===null?x:S.key)||null,l(y,v,S,j);case uo:return v=v.get(S.key===null?x:S.key)||null,u(y,v,S,j);case Xi:var _=S._init;return p(v,y,x,_(S._payload),j)}if(Zl(S)||Al(S))return v=v.get(x)||null,d(y,v,S,j,null);Sd(y,S)}return null}function m(v,y,x,S){for(var j=null,_=null,C=y,N=y=0,I=null;C!==null&&N<x.length;N++){C.index>N?(I=C,C=null):I=C.sibling;var P=h(v,C,x[N],S);if(P===null){C===null&&(C=I);break}e&&C&&P.alternate===null&&t(v,C),y=s(P,y,N),_===null?j=P:_.sibling=P,_=P,C=I}if(N===x.length)return n(v,C),st&&qs(v,N),j;if(C===null){for(;N<x.length;N++)C=f(v,x[N],S),C!==null&&(y=s(C,y,N),_===null?j=C:_.sibling=C,_=C);return st&&qs(v,N),j}for(C=r(v,C);N<x.length;N++)I=p(C,v,N,x[N],S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?N:I.key),y=s(I,y,N),_===null?j=I:_.sibling=I,_=I);return e&&C.forEach(function(L){return t(v,L)}),st&&qs(v,N),j}function g(v,y,x,S){var j=Al(x);if(typeof j!="function")throw Error(Q(150));if(x=j.call(x),x==null)throw Error(Q(151));for(var _=j=null,C=y,N=y=0,I=null,P=x.next();C!==null&&!P.done;N++,P=x.next()){C.index>N?(I=C,C=null):I=C.sibling;var L=h(v,C,P.value,S);if(L===null){C===null&&(C=I);break}e&&C&&L.alternate===null&&t(v,C),y=s(L,y,N),_===null?j=L:_.sibling=L,_=L,C=I}if(P.done)return n(v,C),st&&qs(v,N),j;if(C===null){for(;!P.done;N++,P=x.next())P=f(v,P.value,S),P!==null&&(y=s(P,y,N),_===null?j=P:_.sibling=P,_=P);return st&&qs(v,N),j}for(C=r(v,C);!P.done;N++,P=x.next())P=p(C,v,N,P.value,S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),y=s(P,y,N),_===null?j=P:_.sibling=P,_=P);return e&&C.forEach(function(D){return t(v,D)}),st&&qs(v,N),j}function b(v,y,x,S){if(typeof x=="object"&&x!==null&&x.type===fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dd:e:{for(var j=x.key,_=y;_!==null;){if(_.key===j){if(j=x.type,j===fo){if(_.tag===7){n(v,_.sibling),y=i(_,x.props.children),y.return=v,v=y;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Xi&&fw(j)===_.type){n(v,_.sibling),y=i(_,x.props),y.ref=$l(v,_,x),y.return=v,v=y;break e}n(v,_);break}else t(v,_);_=_.sibling}x.type===fo?(y=ua(x.props.children,v.mode,S,x.key),y.return=v,v=y):(S=lf(x.type,x.key,x.props,null,v.mode,S),S.ref=$l(v,y,x),S.return=v,v=S)}return a(v);case uo:e:{for(_=x.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=im(x,v.mode,S),y.return=v,v=y}return a(v);case Xi:return _=x._init,b(v,y,_(x._payload),S)}if(Zl(x))return m(v,y,x,S);if(Al(x))return g(v,y,x,S);Sd(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=rm(x,v.mode,S),y.return=v,v=y),a(v)):n(v,y)}return b}var Jo=BE(!0),WE=BE(!1),If=Ts(null),Ff=null,bo=null,Vy=null;function qy(){Vy=bo=Ff=null}function Qy(e){var t=If.current;nt(If),e._currentValue=t}function zg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Ff=e,Vy=bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Vy!==e)if(e={context:e,memoizedValue:t,next:null},bo===null){if(Ff===null)throw Error(Q(308));bo=e,Ff.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var na=null;function Ky(e){na===null?na=[e]:na.push(e)}function VE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ky(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zi=!1;function Gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pi(e,n)}return i=r.interleaved,i===null?(t.next=t,Ky(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pi(e,n)}function tf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}function hw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Df(e,t,n,r){var i=e.updateQueue;Zi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ft({},f,h);break e;case 2:Zi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ma|=a,e.lanes=a,e.memoizedState=f}}function pw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Lu={},Zr=Ts(Lu),$c=Ts(Lu),Mc=Ts(Lu);function ra(e){if(e===Lu)throw Error(Q(174));return e}function Yy(e,t){switch(Ze(Mc,t),Ze($c,e),Ze(Zr,Lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wg(t,e)}nt(Zr),Ze(Zr,t)}function Xo(){nt(Zr),nt($c),nt(Mc)}function QE(e){ra(Mc.current);var t=ra(Zr.current),n=wg(t,e.type);t!==n&&(Ze($c,e),Ze(Zr,n))}function Jy(e){$c.current===e&&(nt(Zr),nt($c))}var ct=Ts(0);function Lf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jp=[];function Xy(){for(var e=0;e<Jp.length;e++)Jp[e]._workInProgressVersionPrimary=null;Jp.length=0}var nf=Fi.ReactCurrentDispatcher,Xp=Fi.ReactCurrentBatchConfig,pa=0,dt=null,Nt=null,$t=null,$f=!1,pc=!1,Uc=0,SF=0;function Jt(){throw Error(Q(321))}function Zy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function ex(e,t,n,r,i,s){if(pa=s,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nf.current=e===null||e.memoizedState===null?kF:PF,e=n(r,i),pc){s=0;do{if(pc=!1,Uc=0,25<=s)throw Error(Q(301));s+=1,$t=Nt=null,t.updateQueue=null,nf.current=CF,e=n(r,i)}while(pc)}if(nf.current=Mf,t=Nt!==null&&Nt.next!==null,pa=0,$t=Nt=dt=null,$f=!1,t)throw Error(Q(300));return e}function tx(){var e=Uc!==0;return Uc=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?dt.memoizedState=$t=e:$t=$t.next=e,$t}function pr(){if(Nt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=$t===null?dt.memoizedState:$t.next;if(t!==null)$t=t,Nt=e;else{if(e===null)throw Error(Q(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},$t===null?dt.memoizedState=$t=e:$t=$t.next=e}return $t}function zc(e,t){return typeof t=="function"?t(e):t}function Zp(e){var t=pr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((pa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,dt.lanes|=d,ma|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ar(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,dt.lanes|=s,ma|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function em(e){var t=pr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ar(s,t.memoizedState)||(An=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function KE(){}function GE(e,t){var n=dt,r=pr(),i=t(),s=!Ar(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,nx(XE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Hc(9,JE.bind(null,n,r,i,t),void 0,null),Ut===null)throw Error(Q(349));pa&30||YE(n,t,i)}return i}function YE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JE(e,t,n,r){t.value=n,t.getSnapshot=r,ZE(t)&&ek(e)}function XE(e,t,n){return n(function(){ZE(t)&&ek(e)})}function ZE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ar(e,n)}catch{return!0}}function ek(e){var t=Pi(e,1);t!==null&&Cr(t,e,1,-1)}function mw(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:e},t.queue=e,e=e.dispatch=EF.bind(null,dt,e),[t.memoizedState,e]}function Hc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tk(){return pr().memoizedState}function rf(e,t,n,r){var i=Wr();dt.flags|=e,i.memoizedState=Hc(1|t,n,void 0,r===void 0?null:r)}function wh(e,t,n,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var a=Nt.memoizedState;if(s=a.destroy,r!==null&&Zy(r,a.deps)){i.memoizedState=Hc(t,n,s,r);return}}dt.flags|=e,i.memoizedState=Hc(1|t,n,s,r)}function gw(e,t){return rf(8390656,8,e,t)}function nx(e,t){return wh(2048,8,e,t)}function nk(e,t){return wh(4,2,e,t)}function rk(e,t){return wh(4,4,e,t)}function ik(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sk(e,t,n){return n=n!=null?n.concat([e]):null,wh(4,4,ik.bind(null,t,e),n)}function rx(){}function ak(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ok(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lk(e,t,n){return pa&21?(Ar(n,t)||(n=hE(),dt.lanes|=n,ma|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function _F(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=Xp.transition;Xp.transition={};try{e(!1),t()}finally{Ue=n,Xp.transition=r}}function ck(){return pr().memoizedState}function jF(e,t,n){var r=ys(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uk(e))dk(t,n);else if(n=VE(e,t,n,r),n!==null){var i=bn();Cr(n,e,r,i),fk(n,t,r)}}function EF(e,t,n){var r=ys(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uk(e))dk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ar(o,a)){var l=t.interleaved;l===null?(i.next=i,Ky(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=VE(e,t,i,r),n!==null&&(i=bn(),Cr(n,e,r,i),fk(n,t,r))}}function uk(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function dk(e,t){pc=$f=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}var Mf={readContext:hr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},kF={readContext:hr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:gw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rf(4194308,4,ik.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rf(4194308,4,e,t)},useInsertionEffect:function(e,t){return rf(4,2,e,t)},useMemo:function(e,t){var n=Wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jF.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:mw,useDebugValue:rx,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=mw(!1),t=e[0];return e=_F.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,i=Wr();if(st){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Ut===null)throw Error(Q(349));pa&30||YE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,gw(XE.bind(null,r,s,e),[e]),r.flags|=2048,Hc(9,JE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wr(),t=Ut.identifierPrefix;if(st){var n=_i,r=Si;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=SF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PF={readContext:hr,useCallback:ak,useContext:hr,useEffect:nx,useImperativeHandle:sk,useInsertionEffect:nk,useLayoutEffect:rk,useMemo:ok,useReducer:Zp,useRef:tk,useState:function(){return Zp(zc)},useDebugValue:rx,useDeferredValue:function(e){var t=pr();return lk(t,Nt.memoizedState,e)},useTransition:function(){var e=Zp(zc)[0],t=pr().memoizedState;return[e,t]},useMutableSource:KE,useSyncExternalStore:GE,useId:ck,unstable_isNewReconciler:!1},CF={readContext:hr,useCallback:ak,useContext:hr,useEffect:nx,useImperativeHandle:sk,useInsertionEffect:nk,useLayoutEffect:rk,useMemo:ok,useReducer:em,useRef:tk,useState:function(){return em(zc)},useDebugValue:rx,useDeferredValue:function(e){var t=pr();return Nt===null?t.memoizedState=e:lk(t,Nt.memoizedState,e)},useTransition:function(){var e=em(zc)[0],t=pr().memoizedState;return[e,t]},useMutableSource:KE,useSyncExternalStore:GE,useId:ck,unstable_isNewReconciler:!1};function br(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sh={isMounted:function(e){return(e=e._reactInternals)?ka(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),i=ys(e),s=ji(r,i);s.payload=t,n!=null&&(s.callback=n),t=gs(e,s,i),t!==null&&(Cr(t,e,i,r),tf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),i=ys(e),s=ji(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=gs(e,s,i),t!==null&&(Cr(t,e,i,r),tf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=ys(e),i=ji(n,r);i.tag=2,t!=null&&(i.callback=t),t=gs(e,i,r),t!==null&&(Cr(t,e,r,n),tf(t,e,r))}};function vw(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ic(n,r)||!Ic(i,s):!0}function hk(e,t,n){var r=!1,i=js,s=t.contextType;return typeof s=="object"&&s!==null?s=hr(s):(i=Dn(t)?fa:on.current,r=t.contextTypes,s=(r=r!=null)?Go(e,i):js),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sh.enqueueReplaceState(t,t.state,null)}function Bg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=hr(s):(s=Dn(t)?fa:on.current,i.context=Go(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Hg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sh.enqueueReplaceState(i,i.state,null),Df(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var n="",r=t;do n+=nI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function tm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RF=typeof WeakMap=="function"?WeakMap:Map;function pk(e,t,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zf||(zf=!0,ev=r),Wg(e,t)},n}function mk(e,t,n){n=ji(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wg(e,t),typeof r!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function xw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=BF.bind(null,e,t,n),t.then(e,e))}function bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ww(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ji(-1,1),t.tag=2,gs(n,t,1))),n.lanes|=1),e)}var NF=Fi.ReactCurrentOwner,An=!1;function vn(e,t,n,r){t.child=e===null?WE(t,null,n,r):Jo(t,e.child,n,r)}function Sw(e,t,n,r,i){n=n.render;var s=t.ref;return Ro(t,i),r=ex(e,t,n,r,s,i),n=tx(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ci(e,t,i)):(st&&n&&Hy(t),t.flags|=1,vn(e,t,r,i),t.child)}function _w(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!dx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gk(e,t,s,r,i)):(e=lf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(a,r)&&e.ref===t.ref)return Ci(e,t,i)}return t.flags|=1,e=xs(s,r),e.ref=t.ref,e.return=t,t.child=e}function gk(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ic(s,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,Ci(e,t,i)}return Vg(e,t,n,r,i)}function vk(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(So,Bn),Bn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(So,Bn),Bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(So,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ze(So,Bn),Bn|=r;return vn(e,t,i,n),t.child}function yk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vg(e,t,n,r,i){var s=Dn(n)?fa:on.current;return s=Go(t,s),Ro(t,i),n=ex(e,t,n,r,s,i),r=tx(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ci(e,t,i)):(st&&r&&Hy(t),t.flags|=1,vn(e,t,n,i),t.child)}function jw(e,t,n,r,i){if(Dn(n)){var s=!0;Tf(t)}else s=!1;if(Ro(t,i),t.stateNode===null)sf(e,t),hk(t,n,r),Bg(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Dn(n)?fa:on.current,u=Go(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&yw(t,a,r,u),Zi=!1;var h=t.memoizedState;a.state=h,Df(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Fn.current||Zi?(typeof d=="function"&&(Hg(t,n,d,r),l=t.memoizedState),(o=Zi||vw(t,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qE(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:br(t.type,o),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Dn(n)?fa:on.current,l=Go(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&yw(t,a,r,l),Zi=!1,h=t.memoizedState,a.state=h,Df(t,r,a,i);var m=t.memoizedState;o!==f||h!==m||Fn.current||Zi?(typeof p=="function"&&(Hg(t,n,p,r),m=t.memoizedState),(u=Zi||vw(t,n,u,r,h,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return qg(e,t,n,r,s,i)}function qg(e,t,n,r,i,s){yk(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&cw(t,n,!1),Ci(e,t,s);r=t.stateNode,NF.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Jo(t,e.child,null,s),t.child=Jo(t,null,o,s)):vn(e,t,o,s),t.memoizedState=r.state,i&&cw(t,n,!0),t.child}function xk(e){var t=e.stateNode;t.pendingContext?lw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lw(e,t.context,!1),Yy(e,t.containerInfo)}function Ew(e,t,n,r,i){return Yo(),Wy(i),t.flags|=256,vn(e,t,n,r),t.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Kg(e){return{baseLanes:e,cachePool:null,transitions:null}}function bk(e,t,n){var r=t.pendingProps,i=ct.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ze(ct,i&1),e===null)return Ug(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Eh(a,r,0,null),e=ua(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Kg(n),t.memoizedState=Qg,e):ix(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return TF(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=xs(o,s):(s=ua(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Kg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Qg,r}return s=e.child,e=s.sibling,r=xs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ix(e,t){return t=Eh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _d(e,t,n,r){return r!==null&&Wy(r),Jo(t,e.child,null,n),e=ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TF(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=tm(Error(Q(422))),_d(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Eh({mode:"visible",children:r.children},i,0,null),s=ua(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Jo(t,e.child,null,a),t.child.memoizedState=Kg(a),t.memoizedState=Qg,s);if(!(t.mode&1))return _d(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=tm(s,r,void 0),_d(e,t,a,r)}if(o=(a&e.childLanes)!==0,An||o){if(r=Ut,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pi(e,i),Cr(r,e,i,-1))}return ux(),r=tm(Error(Q(421))),_d(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WF.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,qn=ms(i.nextSibling),Kn=t,st=!0,Er=null,e!==null&&(ar[or++]=Si,ar[or++]=_i,ar[or++]=ha,Si=e.id,_i=e.overflow,ha=t),t=ix(t,r.children),t.flags|=4096,t)}function kw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zg(e.return,t,n)}function nm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vn(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kw(e,n,t);else if(e.tag===19)kw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Lf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Lf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nm(t,!0,n,null,s);break;case"together":nm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ci(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=xs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OF(e,t,n){switch(t.tag){case 3:xk(t),Yo();break;case 5:QE(t);break;case 1:Dn(t.type)&&Tf(t);break;case 4:Yy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ze(If,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?bk(e,t,n):(Ze(ct,ct.current&1),e=Ci(e,t,n),e!==null?e.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,vk(e,t,n)}return Ci(e,t,n)}var Sk,Gg,_k,jk;Sk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};_k=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(Zr.current);var s=null;switch(n){case"input":i=vg(e,i),r=vg(e,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=bg(e,i),r=bg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rf)}Sg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};jk=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ml(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AF(e,t,n){var r=t.pendingProps;switch(By(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Dn(t.type)&&Nf(),Xt(t),null;case 3:return r=t.stateNode,Xo(),nt(Fn),nt(on),Xy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(rv(Er),Er=null))),Gg(e,t),Xt(t),null;case 5:Jy(t);var i=ra(Mc.current);if(n=t.type,e!==null&&t.stateNode!=null)_k(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Xt(t),null}if(e=ra(Zr.current),wd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Lc]=s,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<tc.length;i++)tt(tc[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":F0(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":L0(r,s),tt("invalid",r)}Sg(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&bd(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&bd(r.textContent,o,e),i=["children",""+o]):Pc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&tt("scroll",r)}switch(n){case"input":fd(r),D0(r,s,!0);break;case"textarea":fd(r),$0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Yr]=t,e[Lc]=r,Sk(e,t,!1,!1),t.stateNode=e;e:{switch(a=_g(n,r),n){case"dialog":tt("cancel",e),tt("close",e),i=r;break;case"iframe":case"object":case"embed":tt("load",e),i=r;break;case"video":case"audio":for(i=0;i<tc.length;i++)tt(tc[i],e);i=r;break;case"source":tt("error",e),i=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),i=r;break;case"details":tt("toggle",e),i=r;break;case"input":F0(e,r),i=vg(e,r),tt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),tt("invalid",e);break;case"textarea":L0(e,r),i=bg(e,r),tt("invalid",e);break;default:i=r}Sg(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?tE(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zj(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(e,l):typeof l=="number"&&Cc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",e):l!=null&&Cy(e,s,l,a))}switch(n){case"input":fd(e),D0(e,r,!1);break;case"textarea":fd(e),$0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_s(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Eo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Eo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)jk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=ra(Mc.current),ra(Zr.current),wd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,(s=r.nodeValue!==n)&&(e=Kn,e!==null))switch(e.tag){case 3:bd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=t,t.stateNode=r}return Xt(t),null;case 13:if(nt(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&qn!==null&&t.mode&1&&!(t.flags&128))HE(),Yo(),t.flags|=98560,s=!1;else if(s=wd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Yr]=t}else Yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else Er!==null&&(rv(Er),Er=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Ot===0&&(Ot=3):ux())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Xo(),Gg(e,t),e===null&&Fc(t.stateNode.containerInfo),Xt(t),null;case 10:return Qy(t.type._context),Xt(t),null;case 17:return Dn(t.type)&&Nf(),Xt(t),null;case 19:if(nt(ct),s=t.memoizedState,s===null)return Xt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Ml(s,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Lf(e),a!==null){for(t.flags|=128,Ml(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&St()>el&&(t.flags|=128,r=!0,Ml(s,!1),t.lanes=4194304)}else{if(!r)if(e=Lf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!st)return Xt(t),null}else 2*St()-s.renderingStartTime>el&&n!==1073741824&&(t.flags|=128,r=!0,Ml(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=St(),t.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return cx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bn&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function IF(e,t){switch(By(t),t.tag){case 1:return Dn(t.type)&&Nf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xo(),nt(Fn),nt(on),Xy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jy(t),null;case 13:if(nt(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ct),null;case 4:return Xo(),null;case 10:return Qy(t.type._context),null;case 22:case 23:return cx(),null;case 24:return null;default:return null}}var jd=!1,rn=!1,FF=typeof WeakSet=="function"?WeakSet:Set,ne=null;function wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function Yg(e,t,n){try{n()}catch(r){gt(e,t,r)}}var Pw=!1;function DF(e,t){if(Ag=kf,e=RE(),zy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ig={focusedElem:e,selectionRange:n},kf=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:br(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){gt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return m=Pw,Pw=!1,m}function mc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yg(t,n,s)}i=i.next}while(i!==r)}}function _h(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ek(e){var t=e.alternate;t!==null&&(e.alternate=null,Ek(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yr],delete t[Lc],delete t[Lg],delete t[yF],delete t[xF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kk(e){return e.tag===5||e.tag===3||e.tag===4}function Cw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rf));else if(r!==4&&(e=e.child,e!==null))for(Xg(e,t,n),e=e.sibling;e!==null;)Xg(e,t,n),e=e.sibling}function Zg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zg(e,t,n),e=e.sibling;e!==null;)Zg(e,t,n),e=e.sibling}var Wt=null,_r=!1;function Hi(e,t,n){for(n=n.child;n!==null;)Pk(e,t,n),n=n.sibling}function Pk(e,t,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:rn||wo(n,t);case 6:var r=Wt,i=_r;Wt=null,Hi(e,t,n),Wt=r,_r=i,Wt!==null&&(_r?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(_r?(e=Wt,n=n.stateNode,e.nodeType===8?Gp(e.parentNode,n):e.nodeType===1&&Gp(e,n),Oc(e)):Gp(Wt,n.stateNode));break;case 4:r=Wt,i=_r,Wt=n.stateNode.containerInfo,_r=!0,Hi(e,t,n),Wt=r,_r=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Yg(n,t,a),i=i.next}while(i!==r)}Hi(e,t,n);break;case 1:if(!rn&&(wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){gt(n,t,o)}Hi(e,t,n);break;case 21:Hi(e,t,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,Hi(e,t,n),rn=r):Hi(e,t,n);break;default:Hi(e,t,n)}}function Rw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FF),t.forEach(function(r){var i=VF.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Wt=o.stateNode,_r=!1;break e;case 3:Wt=o.stateNode.containerInfo,_r=!0;break e;case 4:Wt=o.stateNode.containerInfo,_r=!0;break e}o=o.return}if(Wt===null)throw Error(Q(160));Pk(s,a,i),Wt=null,_r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ck(t,e),t=t.sibling}function Ck(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),Ur(e),r&4){try{mc(3,e,e.return),_h(3,e)}catch(g){gt(e,e.return,g)}try{mc(5,e,e.return)}catch(g){gt(e,e.return,g)}}break;case 1:gr(t,e),Ur(e),r&512&&n!==null&&wo(n,n.return);break;case 5:if(gr(t,e),Ur(e),r&512&&n!==null&&wo(n,n.return),e.flags&32){var i=e.stateNode;try{Cc(i,"")}catch(g){gt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Yj(i,s),_g(o,a);var u=_g(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?tE(i,f):d==="dangerouslySetInnerHTML"?Zj(i,f):d==="children"?Cc(i,f):Cy(i,d,f,u)}switch(o){case"input":yg(i,s);break;case"textarea":Jj(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Eo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Eo(i,!!s.multiple,s.defaultValue,!0):Eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lc]=s}catch(g){gt(e,e.return,g)}}break;case 6:if(gr(t,e),Ur(e),r&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){gt(e,e.return,g)}}break;case 3:if(gr(t,e),Ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(t.containerInfo)}catch(g){gt(e,e.return,g)}break;case 4:gr(t,e),Ur(e);break;case 13:gr(t,e),Ur(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ox=St())),r&4&&Rw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(rn=(u=rn)||d,gr(t,e),rn=u):gr(t,e),Ur(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:mc(4,h,h.return);break;case 1:wo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){gt(r,n,g)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){Tw(f);continue}}p!==null?(p.return=h,ne=p):Tw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=eE("display",a))}catch(g){gt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){gt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(t,e),Ur(e),r&4&&Rw(e);break;case 21:break;default:gr(t,e),Ur(e)}}function Ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cc(i,""),r.flags&=-33);var s=Cw(e);Zg(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Cw(e);Xg(e,o,a);break;default:throw Error(Q(161))}}catch(l){gt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LF(e,t,n){ne=e,Rk(e)}function Rk(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||rn;o=jd;var u=rn;if(jd=a,(rn=l)&&!u)for(ne=i;ne!==null;)a=ne,l=a.child,a.tag===22&&a.memoizedState!==null?Ow(i):l!==null?(l.return=a,ne=l):Ow(i);for(;s!==null;)ne=s,Rk(s),s=s.sibling;ne=i,jd=o,rn=u}Nw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Nw(e)}}function Nw(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||_h(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:br(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&pw(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pw(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}rn||t.flags&512&&Jg(t)}catch(h){gt(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Tw(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Ow(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_h(4,t)}catch(l){gt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){gt(t,i,l)}}var s=t.return;try{Jg(t)}catch(l){gt(t,s,l)}break;case 5:var a=t.return;try{Jg(t)}catch(l){gt(t,a,l)}}}catch(l){gt(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var $F=Math.ceil,Uf=Fi.ReactCurrentDispatcher,sx=Fi.ReactCurrentOwner,ur=Fi.ReactCurrentBatchConfig,Ie=0,Ut=null,Et=null,Vt=0,Bn=0,So=Ts(0),Ot=0,Bc=null,ma=0,jh=0,ax=0,gc=null,Tn=null,ox=0,el=1/0,gi=null,zf=!1,ev=null,vs=null,Ed=!1,us=null,Hf=0,vc=0,tv=null,af=-1,of=0;function bn(){return Ie&6?St():af!==-1?af:af=St()}function ys(e){return e.mode&1?Ie&2&&Vt!==0?Vt&-Vt:wF.transition!==null?(of===0&&(of=hE()),of):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:bE(e.type)),e):1}function Cr(e,t,n,r){if(50<vc)throw vc=0,tv=null,Error(Q(185));Iu(e,n,r),(!(Ie&2)||e!==Ut)&&(e===Ut&&(!(Ie&2)&&(jh|=n),Ot===4&&ts(e,Vt)),Ln(e,r),n===1&&Ie===0&&!(t.mode&1)&&(el=St()+500,bh&&Os()))}function Ln(e,t){var n=e.callbackNode;wI(e,t);var r=Ef(e,e===Ut?Vt:0);if(r===0)n!==null&&z0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&z0(n),t===1)e.tag===0?bF(Aw.bind(null,e)):ME(Aw.bind(null,e)),gF(function(){!(Ie&6)&&Os()}),n=null;else{switch(pE(r)){case 1:n=Ay;break;case 4:n=dE;break;case 16:n=jf;break;case 536870912:n=fE;break;default:n=jf}n=Lk(n,Nk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nk(e,t){if(af=-1,of=0,Ie&6)throw Error(Q(327));var n=e.callbackNode;if(No()&&e.callbackNode!==n)return null;var r=Ef(e,e===Ut?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bf(e,r);else{t=r;var i=Ie;Ie|=2;var s=Ok();(Ut!==e||Vt!==t)&&(gi=null,el=St()+500,ca(e,t));do try{zF();break}catch(o){Tk(e,o)}while(!0);qy(),Uf.current=s,Ie=i,Et!==null?t=0:(Ut=null,Vt=0,t=Ot)}if(t!==0){if(t===2&&(i=Cg(e),i!==0&&(r=i,t=nv(e,i))),t===1)throw n=Bc,ca(e,0),ts(e,r),Ln(e,St()),n;if(t===6)ts(e,r);else{if(i=e.current.alternate,!(r&30)&&!MF(i)&&(t=Bf(e,r),t===2&&(s=Cg(e),s!==0&&(r=s,t=nv(e,s))),t===1))throw n=Bc,ca(e,0),ts(e,r),Ln(e,St()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Qs(e,Tn,gi);break;case 3:if(ts(e,r),(r&130023424)===r&&(t=ox+500-St(),10<t)){if(Ef(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dg(Qs.bind(null,e,Tn,gi),t);break}Qs(e,Tn,gi);break;case 4:if(ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$F(r/1960))-r,10<r){e.timeoutHandle=Dg(Qs.bind(null,e,Tn,gi),r);break}Qs(e,Tn,gi);break;case 5:Qs(e,Tn,gi);break;default:throw Error(Q(329))}}}return Ln(e,St()),e.callbackNode===n?Nk.bind(null,e):null}function nv(e,t){var n=gc;return e.current.memoizedState.isDehydrated&&(ca(e,t).flags|=256),e=Bf(e,t),e!==2&&(t=Tn,Tn=n,t!==null&&rv(t)),e}function rv(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function MF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~ax,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pr(t),r=1<<n;e[n]=-1,t&=~r}}function Aw(e){if(Ie&6)throw Error(Q(327));No();var t=Ef(e,0);if(!(t&1))return Ln(e,St()),null;var n=Bf(e,t);if(e.tag!==0&&n===2){var r=Cg(e);r!==0&&(t=r,n=nv(e,r))}if(n===1)throw n=Bc,ca(e,0),ts(e,t),Ln(e,St()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,Tn,gi),Ln(e,St()),null}function lx(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(el=St()+500,bh&&Os())}}function ga(e){us!==null&&us.tag===0&&!(Ie&6)&&No();var t=Ie;Ie|=1;var n=ur.transition,r=Ue;try{if(ur.transition=null,Ue=1,e)return e()}finally{Ue=r,ur.transition=n,Ie=t,!(Ie&6)&&Os()}}function cx(){Bn=So.current,nt(So)}function ca(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mF(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(By(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Xo(),nt(Fn),nt(on),Xy();break;case 5:Jy(r);break;case 4:Xo();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:Qy(r.type._context);break;case 22:case 23:cx()}n=n.return}if(Ut=e,Et=e=xs(e.current,null),Vt=Bn=t,Ot=0,Bc=null,ax=jh=ma=0,Tn=gc=null,na!==null){for(t=0;t<na.length;t++)if(n=na[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}na=null}return e}function Tk(e,t){do{var n=Et;try{if(qy(),nf.current=Mf,$f){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$f=!1}if(pa=0,$t=Nt=dt=null,pc=!1,Uc=0,sx.current=null,n===null||n.return===null){Ot=1,Bc=t,Et=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Vt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=bw(a);if(p!==null){p.flags&=-257,ww(p,a,o,s,t),p.mode&1&&xw(s,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){xw(s,u,t),ux();break e}l=Error(Q(426))}}else if(st&&o.mode&1){var b=bw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ww(b,a,o,s,t),Wy(Zo(l,o));break e}}s=l=Zo(l,o),Ot!==4&&(Ot=2),gc===null?gc=[s]:gc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=pk(s,l,t);hw(s,v);break e;case 1:o=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vs===null||!vs.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=mk(s,o,t);hw(s,S);break e}}s=s.return}while(s!==null)}Ik(n)}catch(j){t=j,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function Ok(){var e=Uf.current;return Uf.current=Mf,e===null?Mf:e}function ux(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||!(ma&268435455)&&!(jh&268435455)||ts(Ut,Vt)}function Bf(e,t){var n=Ie;Ie|=2;var r=Ok();(Ut!==e||Vt!==t)&&(gi=null,ca(e,t));do try{UF();break}catch(i){Tk(e,i)}while(!0);if(qy(),Ie=n,Uf.current=r,Et!==null)throw Error(Q(261));return Ut=null,Vt=0,Ot}function UF(){for(;Et!==null;)Ak(Et)}function zF(){for(;Et!==null&&!fI();)Ak(Et)}function Ak(e){var t=Dk(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Ik(e):Et=t,sx.current=null}function Ik(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IF(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,Et=null;return}}else if(n=AF(n,t,Bn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Ot===0&&(Ot=5)}function Qs(e,t,n){var r=Ue,i=ur.transition;try{ur.transition=null,Ue=1,HF(e,t,n,r)}finally{ur.transition=i,Ue=r}return null}function HF(e,t,n,r){do No();while(us!==null);if(Ie&6)throw Error(Q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(SI(e,s),e===Ut&&(Et=Ut=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ed||(Ed=!0,Lk(jf,function(){return No(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ur.transition,ur.transition=null;var a=Ue;Ue=1;var o=Ie;Ie|=4,sx.current=null,DF(e,n),Ck(n,e),lF(Ig),kf=!!Ag,Ig=Ag=null,e.current=n,LF(n),hI(),Ie=o,Ue=a,ur.transition=s}else e.current=n;if(Ed&&(Ed=!1,us=e,Hf=i),s=e.pendingLanes,s===0&&(vs=null),gI(n.stateNode),Ln(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zf)throw zf=!1,e=ev,ev=null,e;return Hf&1&&e.tag!==0&&No(),s=e.pendingLanes,s&1?e===tv?vc++:(vc=0,tv=e):vc=0,Os(),null}function No(){if(us!==null){var e=pE(Hf),t=ur.transition,n=Ue;try{if(ur.transition=null,Ue=16>e?16:e,us===null)var r=!1;else{if(e=us,us=null,Hf=0,Ie&6)throw Error(Q(331));var i=Ie;for(Ie|=4,ne=e.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:mc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,p=d.return;if(Ek(d),d===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ne=v;break e}ne=s.return}}var y=e.current;for(ne=y;ne!==null;){a=ne;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ne=x;else e:for(a=y;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_h(9,o)}}catch(j){gt(o,o.return,j)}if(o===a){ne=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ne=S;break e}ne=o.return}}if(Ie=i,Os(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(mh,e)}catch{}r=!0}return r}finally{Ue=n,ur.transition=t}}return!1}function Iw(e,t,n){t=Zo(n,t),t=pk(e,t,1),e=gs(e,t,1),t=bn(),e!==null&&(Iu(e,1,t),Ln(e,t))}function gt(e,t,n){if(e.tag===3)Iw(e,e,n);else for(;t!==null;){if(t.tag===3){Iw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vs===null||!vs.has(r))){e=Zo(n,e),e=mk(t,e,1),t=gs(t,e,1),e=bn(),t!==null&&(Iu(t,1,e),Ln(t,e));break}}t=t.return}}function BF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(Vt&n)===n&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>St()-ox?ca(e,0):ax|=n),Ln(e,t)}function Fk(e,t){t===0&&(e.mode&1?(t=md,md<<=1,!(md&130023424)&&(md=4194304)):t=1);var n=bn();e=Pi(e,t),e!==null&&(Iu(e,t,n),Ln(e,n))}function WF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fk(e,n)}function VF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Fk(e,n)}var Dk;Dk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,OF(e,t,n);An=!!(e.flags&131072)}else An=!1,st&&t.flags&1048576&&UE(t,Af,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sf(e,t),e=t.pendingProps;var i=Go(t,on.current);Ro(t,n),i=ex(null,t,r,e,i,n);var s=tx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(r)?(s=!0,Tf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gy(t),i.updater=Sh,t.stateNode=i,i._reactInternals=t,Bg(t,r,e,n),t=qg(null,t,r,!0,s,n)):(t.tag=0,st&&s&&Hy(t),vn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=QF(r),e=br(r,e),i){case 0:t=Vg(null,t,r,e,n);break e;case 1:t=jw(null,t,r,e,n);break e;case 11:t=Sw(null,t,r,e,n);break e;case 14:t=_w(null,t,r,br(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),Vg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),jw(e,t,r,i,n);case 3:e:{if(xk(t),e===null)throw Error(Q(387));r=t.pendingProps,s=t.memoizedState,i=s.element,qE(e,t),Df(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zo(Error(Q(423)),t),t=Ew(e,t,r,n,i);break e}else if(r!==i){i=Zo(Error(Q(424)),t),t=Ew(e,t,r,n,i);break e}else for(qn=ms(t.stateNode.containerInfo.firstChild),Kn=t,st=!0,Er=null,n=WE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),r===i){t=Ci(e,t,n);break e}vn(e,t,r,n)}t=t.child}return t;case 5:return QE(t),e===null&&Ug(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Fg(r,i)?a=null:s!==null&&Fg(r,s)&&(t.flags|=32),yk(e,t),vn(e,t,a,n),t.child;case 6:return e===null&&Ug(t),null;case 13:return bk(e,t,n);case 4:return Yy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jo(t,null,r,n):vn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),Sw(e,t,r,i,n);case 7:return vn(e,t,t.pendingProps,n),t.child;case 8:return vn(e,t,t.pendingProps.children,n),t.child;case 12:return vn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ze(If,r._currentValue),r._currentValue=a,s!==null)if(Ar(s.value,a)){if(s.children===i.children&&!Fn.current){t=Ci(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ji(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zg(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),zg(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}vn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),i=hr(i),r=r(i),t.flags|=1,vn(e,t,r,n),t.child;case 14:return r=t.type,i=br(r,t.pendingProps),i=br(r.type,i),_w(e,t,r,i,n);case 15:return gk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:br(r,i),sf(e,t),t.tag=1,Dn(r)?(e=!0,Tf(t)):e=!1,Ro(t,n),hk(t,r,i),Bg(t,r,i,n),qg(null,t,r,!0,e,n);case 19:return wk(e,t,n);case 22:return vk(e,t,n)}throw Error(Q(156,t.tag))};function Lk(e,t){return uE(e,t)}function qF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,n,r){return new qF(e,t,n,r)}function dx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QF(e){if(typeof e=="function")return dx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ny)return 11;if(e===Ty)return 14}return 2}function xs(e,t){var n=e.alternate;return n===null?(n=cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")dx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fo:return ua(n.children,i,s,t);case Ry:a=8,i|=8;break;case hg:return e=cr(12,n,t,i|2),e.elementType=hg,e.lanes=s,e;case pg:return e=cr(13,n,t,i),e.elementType=pg,e.lanes=s,e;case mg:return e=cr(19,n,t,i),e.elementType=mg,e.lanes=s,e;case Qj:return Eh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vj:a=10;break e;case qj:a=9;break e;case Ny:a=11;break e;case Ty:a=14;break e;case Xi:a=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=cr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ua(e,t,n,r){return e=cr(7,e,r,t),e.lanes=n,e}function Eh(e,t,n,r){return e=cr(22,e,r,t),e.elementType=Qj,e.lanes=n,e.stateNode={isHidden:!1},e}function rm(e,t,n){return e=cr(6,e,null,t),e.lanes=n,e}function im(e,t,n){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KF(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fx(e,t,n,r,i,s,a,o,l){return e=new KF(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=cr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(s),e}function GF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $k(e){if(!e)return js;e=e._reactInternals;e:{if(ka(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Dn(n))return $E(e,n,t)}return t}function Mk(e,t,n,r,i,s,a,o,l){return e=fx(n,r,!0,e,i,s,a,o,l),e.context=$k(null),n=e.current,r=bn(),i=ys(n),s=ji(r,i),s.callback=t??null,gs(n,s,i),e.current.lanes=i,Iu(e,i,r),Ln(e,r),e}function kh(e,t,n,r){var i=t.current,s=bn(),a=ys(i);return n=$k(n),t.context===null?t.context=n:t.pendingContext=n,t=ji(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gs(i,t,a),e!==null&&(Cr(e,i,a,s),tf(e,i,a)),a}function Wf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hx(e,t){Fw(e,t),(e=e.alternate)&&Fw(e,t)}function YF(){return null}var Uk=typeof reportError=="function"?reportError:function(e){console.error(e)};function px(e){this._internalRoot=e}Ph.prototype.render=px.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));kh(e,t,null,null)};Ph.prototype.unmount=px.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){kh(null,e,null,null)}),t[ki]=null}};function Ph(e){this._internalRoot=e}Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=vE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&xE(e)}};function mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function JF(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wf(a);s.call(u)}}var a=Mk(t,r,e,0,null,!1,!1,"",Dw);return e._reactRootContainer=a,e[ki]=a.current,Fc(e.nodeType===8?e.parentNode:e),ga(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Wf(l);o.call(u)}}var l=fx(e,0,!1,null,null,!1,!1,"",Dw);return e._reactRootContainer=l,e[ki]=l.current,Fc(e.nodeType===8?e.parentNode:e),ga(function(){kh(t,l,n,r)}),l}function Rh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Wf(a);o.call(l)}}kh(t,a,e,i)}else a=JF(n,t,e,i,r);return Wf(a)}mE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ec(t.pendingLanes);n!==0&&(Iy(t,n|1),Ln(t,St()),!(Ie&6)&&(el=St()+500,Os()))}break;case 13:ga(function(){var r=Pi(e,1);if(r!==null){var i=bn();Cr(r,e,1,i)}}),hx(e,1)}};Fy=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=bn();Cr(t,e,134217728,n)}hx(e,134217728)}};gE=function(e){if(e.tag===13){var t=ys(e),n=Pi(e,t);if(n!==null){var r=bn();Cr(n,e,t,r)}hx(e,t)}};vE=function(){return Ue};yE=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};Eg=function(e,t,n){switch(t){case"input":if(yg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xh(r);if(!i)throw Error(Q(90));Gj(r),yg(r,i)}}}break;case"textarea":Jj(e,n);break;case"select":t=n.value,t!=null&&Eo(e,!!n.multiple,t,!1)}};iE=lx;sE=ga;var XF={usingClientEntryPoint:!1,Events:[Du,go,xh,nE,rE,lx]},Ul={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZF={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lE(e),e===null?null:e.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||YF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{mh=kd.inject(ZF),Xr=kd}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XF;Zn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mx(t))throw Error(Q(200));return GF(e,t,null,n)};Zn.createRoot=function(e,t){if(!mx(e))throw Error(Q(299));var n=!1,r="",i=Uk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fx(e,1,!1,null,null,n,!1,r,i),e[ki]=t.current,Fc(e.nodeType===8?e.parentNode:e),new px(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=lE(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return ga(e)};Zn.hydrate=function(e,t,n){if(!Ch(t))throw Error(Q(200));return Rh(null,e,t,!0,n)};Zn.hydrateRoot=function(e,t,n){if(!mx(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Uk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mk(t,null,e,1,n??null,i,!1,s,a),e[ki]=t.current,Fc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ph(t)};Zn.render=function(e,t,n){if(!Ch(t))throw Error(Q(200));return Rh(null,e,t,!1,n)};Zn.unmountComponentAtNode=function(e){if(!Ch(e))throw Error(Q(40));return e._reactRootContainer?(ga(function(){Rh(null,null,e,!1,function(){e._reactRootContainer=null,e[ki]=null})}),!0):!1};Zn.unstable_batchedUpdates=lx;Zn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ch(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Rh(e,t,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zk)}catch(e){console.error(e)}}zk(),zj.exports=Zn;var Pa=zj.exports;const Hk=ja(Pa);var Bk,Lw=Pa;Bk=Lw.createRoot,Lw.hydrateRoot;const eD=1,tD=1e6;let sm=0;function nD(){return sm=(sm+1)%Number.MAX_SAFE_INTEGER,sm.toString()}const am=new Map,$w=e=>{if(am.has(e))return;const t=setTimeout(()=>{am.delete(e),yc({type:"REMOVE_TOAST",toastId:e})},tD);am.set(e,t)},rD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?$w(n):e.toasts.forEach(r=>{$w(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},cf=[];let uf={toasts:[]};function yc(e){uf=rD(uf,e),cf.forEach(t=>{t(uf)})}function iD({...e}){const t=nD(),n=i=>yc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>yc({type:"DISMISS_TOAST",toastId:t});return yc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function un(){const[e,t]=w.useState(uf);return w.useEffect(()=>(cf.push(t),()=>{const n=cf.indexOf(t);n>-1&&cf.splice(n,1)}),[e]),{...e,toast:iD,dismiss:n=>yc({type:"DISMISS_TOAST",toastId:n})}}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sD(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Wk(...e){return t=>e.forEach(n=>sD(n,t))}function $e(...e){return w.useCallback(Wk(...e),e)}function aD(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[e][l])||o,b=w.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||o,m=w.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,oD(i,...t)]}function oD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var va=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(lD);if(s){const a=s.props.children,o=i.map(l=>l===s?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:l);return c.jsx(iv,{...r,ref:t,children:w.isValidElement(a)?w.cloneElement(a,void 0,o):null})}return c.jsx(iv,{...r,ref:t,children:n})});va.displayName="Slot";var iv=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const i=uD(n);return w.cloneElement(n,{...cD(r,n.props),ref:t?Wk(t,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});iv.displayName="SlotClone";var gx=({children:e})=>c.jsx(c.Fragment,{children:e});function lD(e){return w.isValidElement(e)&&e.type===gx}function cD(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function uD(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vx(e){const t=e+"CollectionProvider",[n,r]=aD(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:m,children:g}=p,b=W.useRef(null),v=W.useRef(new Map).current;return c.jsx(i,{scope:m,itemMap:v,collectionRef:b,children:g})};a.displayName=t;const o=e+"CollectionSlot",l=W.forwardRef((p,m)=>{const{scope:g,children:b}=p,v=s(o,g),y=$e(m,v.collectionRef);return c.jsx(va,{ref:y,children:b})});l.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=W.forwardRef((p,m)=>{const{scope:g,children:b,...v}=p,y=W.useRef(null),x=$e(m,y),S=s(u,g);return W.useEffect(()=>(S.itemMap.set(y,{ref:y,...v}),()=>void S.itemMap.delete(y))),c.jsx(va,{[d]:"",ref:x,children:b})});f.displayName=u;function h(p){const m=s(e+"CollectionConsumer",p);return W.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((S,j)=>v.indexOf(S.ref.current)-v.indexOf(j.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},h,r]}function dD(e,t){const n=w.createContext(t),r=s=>{const{children:a,...o}=s,l=w.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(s){const a=w.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Di(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];const u=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[l])||o,b=w.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:p})};u.displayName=s+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[l])||o,m=w.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,fD(i,...t)]}function fD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var hD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=hD.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?va:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Vk(e,t){e&&Pa.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function pD(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var mD="DismissableLayer",sv="dismissableLayer.update",gD="dismissableLayer.pointerDownOutside",vD="dismissableLayer.focusOutside",Mw,qk=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$u=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=e,u=w.useContext(qk),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),m=$e(t,C=>f(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,j=xD(C=>{const N=C.target,I=[...u.branches].some(P=>P.contains(N));!S||I||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},h),_=bD(C=>{const N=C.target;[...u.branches].some(P=>P.contains(N))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},h);return pD(C=>{y===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},h),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Uw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Mw)}},[d,h,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Uw())},[d,u]),w.useEffect(()=>{const C=()=>p({});return document.addEventListener(sv,C),()=>document.removeEventListener(sv,C)},[]),c.jsx(me.div,{...l,ref:m,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,j.onPointerDownCapture)})});$u.displayName=mD;var yD="DismissableLayerBranch",Qk=w.forwardRef((e,t)=>{const n=w.useContext(qk),r=w.useRef(null),i=$e(t,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(me.div,{...e,ref:i})});Qk.displayName=yD;function xD(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){Kk(gD,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function bD(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&Kk(vD,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uw(){const e=new CustomEvent(sv);document.dispatchEvent(e)}function Kk(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vk(i,s):i.dispatchEvent(s)}var wD=$u,SD=Qk,Qt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},_D="Portal",Nh=w.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=w.useState(!1);Qt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Hk.createPortal(c.jsx(me.div,{...r,ref:t}),a):null});Nh.displayName=_D;function jD(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Li=e=>{const{present:t,children:n}=e,r=ED(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=$e(r.ref,kD(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Li.displayName="Presence";function ED(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),a=e?"mounted":"unmounted",[o,l]=jD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Pd(r.current);s.current=o==="mounted"?u:"none"},[o]),Qt(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=Pd(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Pd(r.current).includes(p.animationName);if(p.target===t&&g&&(l("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(s.current=Pd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Pd(e){return(e==null?void 0:e.animationName)||"none"}function kD(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ti({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=PD({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=$n(n),l=w.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else i(u)},[s,e,i,o]);return[a,l]}function PD({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),s=$n(t);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var CD="VisuallyHidden",Mu=w.forwardRef((e,t)=>c.jsx(me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Mu.displayName=CD;var RD=Mu,yx="ToastProvider",[xx,ND,TD]=vx("Toast"),[Gk,Nte]=Di("Toast",[TD]),[OD,Th]=Gk(yx),Yk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,l]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yx}\`. Expected non-empty \`string\`.`),c.jsx(xx.Provider,{scope:t,children:c.jsx(OD,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Yk.displayName=yx;var Jk="ToastViewport",AD=["F8"],av="toast.viewportPause",ov="toast.viewportResume",Xk=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=AD,label:i="Notifications ({hotkey})",...s}=e,a=Th(Jk,n),o=ND(n),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=$e(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;w.useEffect(()=>{const b=v=>{var x;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=l.current,v=f.current;if(m&&b&&v){const y=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(av);v.dispatchEvent(_),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(ov);v.dispatchEvent(_),a.isClosePausedRef.current=!1}},S=_=>{!b.contains(_.relatedTarget)&&x()},j=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",y),b.addEventListener("focusout",S),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[m,a.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:b})=>{const y=o().map(x=>{const S=x.ref.current,j=[S,...qD(S)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?y.reverse():y).flat()},[o]);return w.useEffect(()=>{const b=f.current;if(b){const v=y=>{var j,_,C;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const N=document.activeElement,I=y.shiftKey;if(y.target===b&&I){(j=u.current)==null||j.focus();return}const D=g({tabbingDirection:I?"backwards":"forwards"}),$=D.findIndex(O=>O===N);om(D.slice($+1))?y.preventDefault():I?(_=u.current)==null||_.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[o,g]),c.jsxs(SD,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&c.jsx(lv,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});om(b)}}),c.jsx(xx.Slot,{scope:n,children:c.jsx(me.ol,{tabIndex:-1,...s,ref:h})}),m&&c.jsx(lv,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});om(b)}})]})});Xk.displayName=Jk;var Zk="ToastFocusProxy",lv=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Th(Zk,n);return c.jsx(Mu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});lv.displayName=Zk;var Oh="Toast",ID="toast.swipeStart",FD="toast.swipeMove",DD="toast.swipeCancel",LD="toast.swipeEnd",eP=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,l]=ti({prop:r,defaultProp:i,onChange:s});return c.jsx(Li,{present:n||o,children:c.jsx(UD,{open:o,...a,ref:t,onClose:()=>l(!1),onPause:$n(e.onPause),onResume:$n(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});eP.displayName=Oh;var[$D,MD]=Gk(Oh,{onClose(){}}),UD=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=e,g=Th(Oh,n),[b,v]=w.useState(null),y=$e(t,O=>v(O)),x=w.useRef(null),S=w.useRef(null),j=i||g.duration,_=w.useRef(0),C=w.useRef(j),N=w.useRef(0),{onToastAdd:I,onToastRemove:P}=g,L=$n(()=>{var M;(b==null?void 0:b.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),a()}),D=w.useCallback(O=>{!O||O===1/0||(window.clearTimeout(N.current),_.current=new Date().getTime(),N.current=window.setTimeout(L,O))},[L]);w.useEffect(()=>{const O=g.viewport;if(O){const M=()=>{D(C.current),u==null||u()},R=()=>{const z=new Date().getTime()-_.current;C.current=C.current-z,window.clearTimeout(N.current),l==null||l()};return O.addEventListener(av,R),O.addEventListener(ov,M),()=>{O.removeEventListener(av,R),O.removeEventListener(ov,M)}}},[g.viewport,j,l,u,D]),w.useEffect(()=>{s&&!g.isClosePausedRef.current&&D(j)},[s,j,g.isClosePausedRef,D]),w.useEffect(()=>(I(),()=>P()),[I,P]);const $=w.useMemo(()=>b?oP(b):null,[b]);return g.viewport?c.jsxs(c.Fragment,{children:[$&&c.jsx(zD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),c.jsx($D,{scope:n,onClose:L,children:Pa.createPortal(c.jsx(xx.ItemSlot,{scope:n,children:c.jsx(wD,{asChild:!0,onEscapeKeyDown:ce(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,O=>{O.key==="Escape"&&(o==null||o(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ce(e.onPointerDown,O=>{O.button===0&&(x.current={x:O.clientX,y:O.clientY})}),onPointerMove:ce(e.onPointerMove,O=>{if(!x.current)return;const M=O.clientX-x.current.x,R=O.clientY-x.current.y,z=!!S.current,E=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,k=E?A(0,M):0,F=E?0:A(0,R),H=O.pointerType==="touch"?10:2,T={x:k,y:F},te={originalEvent:O,delta:T};z?(S.current=T,Cd(FD,f,te,{discrete:!1})):zw(T,g.swipeDirection,H)?(S.current=T,Cd(ID,d,te,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(M)>H||Math.abs(R)>H)&&(x.current=null)}),onPointerUp:ce(e.onPointerUp,O=>{const M=S.current,R=O.target;if(R.hasPointerCapture(O.pointerId)&&R.releasePointerCapture(O.pointerId),S.current=null,x.current=null,M){const z=O.currentTarget,E={originalEvent:O,delta:M};zw(M,g.swipeDirection,g.swipeThreshold)?Cd(LD,p,E,{discrete:!0}):Cd(DD,h,E,{discrete:!0}),z.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),zD=e=>{const{__scopeToast:t,children:n,...r}=e,i=Th(Oh,t),[s,a]=w.useState(!1),[o,l]=w.useState(!1);return WD(()=>a(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Nh,{asChild:!0,children:c.jsx(Mu,{...r,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},HD="ToastTitle",tP=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(me.div,{...r,ref:t})});tP.displayName=HD;var BD="ToastDescription",nP=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(me.div,{...r,ref:t})});nP.displayName=BD;var rP="ToastAction",iP=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(aP,{altText:n,asChild:!0,children:c.jsx(bx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rP}\`. Expected non-empty \`string\`.`),null)});iP.displayName=rP;var sP="ToastClose",bx=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=MD(sP,n);return c.jsx(aP,{asChild:!0,children:c.jsx(me.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,i.onClose)})})});bx.displayName=sP;var aP=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return c.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function oP(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...oP(r))}}),t}function Cd(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vk(i,s):i.dispatchEvent(s)}var zw=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function WD(e=()=>{}){const t=$n(e);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VD(e){return e.nodeType===e.ELEMENT_NODE}function qD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function om(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var QD=Yk,lP=Xk,cP=eP,uP=tP,dP=nP,fP=iP,hP=bx;function pP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mP(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pP(e))&&(r&&(r+=" "),r+=t);return r}const Hw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Bw=mP,Uu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Bw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Hw(d)||Hw(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...s,...o}[g]):{...s,...o}[g]===b})?[...u,f,h]:u},[]);return Bw(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>w.createElement("svg",{ref:l,...GD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gP("lucide",i),...o},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(YD,{ref:s,iconNode:t,className:gP(`lucide-${KD(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=ye("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Px="-",fL=e=>{const t=pL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Px);return o[0]===""&&o.length!==1&&o.shift(),jP(o,t)||hL(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},jP=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?jP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Px);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Vw=/^\[(.+)\]$/,hL=e=>{if(Vw.test(e)){const t=Vw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pL=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gL(Object.entries(e.classGroups),n).forEach(([s,a])=>{dv(a,r,s,t)}),r},dv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:qw(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(mL(i)){dv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{dv(a,qw(t,s),n,r)})})},qw=(e,t)=>{let n=e;return t.split(Px).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mL=e=>e.isThemeGetter,gL=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,vL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},EP="!",yL=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const l=[];let u=0,d=0,f;for(let b=0;b<o.length;b++){let v=o[b];if(u===0){if(v===i&&(r||o.slice(b,b+s)===t)){l.push(o.slice(d,b)),d=b+s;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?o:o.substring(d),p=h.startsWith(EP),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:a}):a},xL=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},bL=e=>({cache:vL(e.cacheSize),parseClassName:yL(e),...fL(e)}),wL=/\s+/,SL=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(wL);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=u+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=u+(o.length>0?" "+o:o);continue}m=!1}const b=xL(d).join(":"),v=f?b+EP:b,y=v+g;if(s.includes(y))continue;s.push(y);const x=i(g,m);for(let S=0;S<x.length;++S){const j=x[S];s.push(v+j)}o=u+(o.length>0?" "+o:o)}return o};function _L(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=kP(t))&&(r&&(r+=" "),r+=n);return r}const kP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=kP(e[r]))&&(n&&(n+=" "),n+=t);return n};function jL(e,...t){let n,r,i,s=a;function a(l){const u=t.reduce((d,f)=>f(d),e());return n=bL(u),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=SL(l,n);return i(l,d),d}return function(){return s(_L.apply(null,arguments))}}const et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},PP=/^\[(?:([a-z-]+):)?(.+)\]$/i,EL=/^\d+\/\d+$/,kL=new Set(["px","full","screen"]),PL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,di=e=>To(e)||kL.has(e)||EL.test(e),Bi=e=>gl(e,"length",ML),To=e=>!!e&&!Number.isNaN(Number(e)),lm=e=>gl(e,"number",To),zl=e=>!!e&&Number.isInteger(Number(e)),OL=e=>e.endsWith("%")&&To(e.slice(0,-1)),be=e=>PP.test(e),Wi=e=>PL.test(e),AL=new Set(["length","size","percentage"]),IL=e=>gl(e,AL,CP),FL=e=>gl(e,"position",CP),DL=new Set(["image","url"]),LL=e=>gl(e,DL,zL),$L=e=>gl(e,"",UL),Hl=()=>!0,gl=(e,t,n)=>{const r=PP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ML=e=>CL.test(e)&&!RL.test(e),CP=()=>!1,UL=e=>NL.test(e),zL=e=>TL.test(e),HL=()=>{const e=et("colors"),t=et("spacing"),n=et("blur"),r=et("brightness"),i=et("borderColor"),s=et("borderRadius"),a=et("borderSpacing"),o=et("borderWidth"),l=et("contrast"),u=et("grayscale"),d=et("hueRotate"),f=et("invert"),h=et("gap"),p=et("gradientColorStops"),m=et("gradientColorStopPositions"),g=et("inset"),b=et("margin"),v=et("opacity"),y=et("padding"),x=et("saturate"),S=et("scale"),j=et("sepia"),_=et("skew"),C=et("space"),N=et("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",be,t],D=()=>[be,t],$=()=>["",di,Bi],O=()=>["auto",To,be],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",be],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[To,be];return{cacheSize:500,separator:":",theme:{colors:[Hl],spacing:[di,Bi],blur:["none","",Wi,be],brightness:F(),borderColor:[e],borderRadius:["none","","full",Wi,be],borderSpacing:D(),borderWidth:$(),contrast:F(),grayscale:A(),hueRotate:F(),invert:A(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[OL,Bi],inset:L(),margin:L(),opacity:F(),padding:D(),saturate:F(),scale:F(),sepia:A(),skew:F(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Wi]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),be]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zl,be]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",zl,be]}],"grid-cols":[{"grid-cols":[Hl]}],"col-start-end":[{col:["auto",{span:["full",zl,be]},be]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Hl]}],"row-start-end":[{row:["auto",{span:[zl,be]},be]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,t]}],"min-w":[{"min-w":[be,t,"min","max","fit"]}],"max-w":[{"max-w":[be,t,"none","full","min","max","fit","prose",{screen:[Wi]},Wi]}],h:[{h:[be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wi,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lm]}],"font-family":[{font:[Hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",To,lm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",di,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",di,Bi]}],"underline-offset":[{"underline-offset":["auto",di,be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),FL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[di,be]}],"outline-w":[{outline:[di,Bi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[di,Bi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wi,$L]}],"shadow-color":[{shadow:[Hl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wi,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[zl,be]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[di,Bi,lm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BL=jL(HL);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var cm,Qw;function Kw(){if(Qw)return cm;Qw=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:o}=Object,{apply:l,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(re){return re}),a||(a=function(re){return re}),l||(l=function(re,Ne,je){return re.apply(Ne,je)}),u||(u=function(re,Ne){return new re(...Ne)});const d=N(Array.prototype.forEach),f=N(Array.prototype.lastIndexOf),h=N(Array.prototype.pop),p=N(Array.prototype.push),m=N(Array.prototype.splice),g=N(String.prototype.toLowerCase),b=N(String.prototype.toString),v=N(String.prototype.match),y=N(String.prototype.replace),x=N(String.prototype.indexOf),S=N(String.prototype.trim),j=N(Object.prototype.hasOwnProperty),_=N(RegExp.prototype.test),C=I(TypeError);function N(_e){return function(re){re instanceof RegExp&&(re.lastIndex=0);for(var Ne=arguments.length,je=new Array(Ne>1?Ne-1:0),B=1;B<Ne;B++)je[B-1]=arguments[B];return l(_e,re,je)}}function I(_e){return function(){for(var re=arguments.length,Ne=new Array(re),je=0;je<re;je++)Ne[je]=arguments[je];return u(_e,Ne)}}function P(_e,re){let Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g;t&&t(_e,null);let je=re.length;for(;je--;){let B=re[je];if(typeof B=="string"){const q=Ne(B);q!==B&&(n(re)||(re[je]=q),B=q)}_e[B]=!0}return _e}function L(_e){for(let re=0;re<_e.length;re++)j(_e,re)||(_e[re]=null);return _e}function D(_e){const re=o(null);for(const[Ne,je]of e(_e))j(_e,Ne)&&(Array.isArray(je)?re[Ne]=L(je):je&&typeof je=="object"&&je.constructor===Object?re[Ne]=D(je):re[Ne]=je);return re}function $(_e,re){for(;_e!==null;){const je=i(_e,re);if(je){if(je.get)return N(je.get);if(typeof je.value=="function")return N(je.value)}_e=r(_e)}function Ne(){return null}return Ne}const O=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),k=s(["#text"]),F=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),H=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),T=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),te=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ie=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=a(/<%[\w\W]*|[\w\W]*%>/gm),ee=a(/\$\{[\w\W]*/gm),se=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),pe=a(/^aria-[\-\w]+$/),oe=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ve=a(/^(?:\w+script|data):/i),Se=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ht=a(/^html$/i),kt=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pt=Object.freeze({__proto__:null,ARIA_ATTR:pe,ATTR_WHITESPACE:Se,CUSTOM_ELEMENT:kt,DATA_ATTR:se,DOCTYPE_NAME:ht,ERB_EXPR:Y,IS_ALLOWED_URI:oe,IS_SCRIPT_OR_DATA:ve,MUSTACHE_EXPR:ie,TMPLIT_EXPR:ee});const ot={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},tr=function(){return typeof window>"u"?null:window},Ms=function(re,Ne){if(typeof re!="object"||typeof re.createPolicy!="function")return null;let je=null;const B="data-tt-policy-suffix";Ne&&Ne.hasAttribute(B)&&(je=Ne.getAttribute(B));const q="dompurify"+(je?"#"+je:"");try{return re.createPolicy(q,{createHTML(de){return de},createScriptURL(de){return de}})}catch{return console.warn("TrustedTypes policy "+q+" could not be created."),null}},lt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nr(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tr();const re=le=>nr(le);if(re.version="3.2.6",re.removed=[],!_e||!_e.document||_e.document.nodeType!==ot.document||!_e.Element)return re.isSupported=!1,re;let{document:Ne}=_e;const je=Ne,B=je.currentScript,{DocumentFragment:q,HTMLTemplateElement:de,Node:ge,Element:Oe,NodeFilter:Ct,NamedNodeMap:rr=_e.NamedNodeMap||_e.MozNamedAttrMap,HTMLFormElement:_n,DOMParser:oi,trustedTypes:jn}=_e,ze=Oe.prototype,Lr=$(ze,"cloneNode"),fe=$(ze,"remove"),We=$(ze,"nextSibling"),He=$(ze,"childNodes"),fn=$(ze,"parentNode");if(typeof de=="function"){const le=Ne.createElement("template");le.content&&le.content.ownerDocument&&(Ne=le.content.ownerDocument)}let Ke,$r="";const{implementation:Cl,createNodeIterator:c2,createDocumentFragment:u2,getElementsByTagName:d2}=Ne,{importNode:f2}=je;let hn=lt();re.isSupported=typeof e=="function"&&typeof fn=="function"&&Cl&&Cl.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:yp,ERB_EXPR:xp,TMPLIT_EXPR:bp,DATA_ATTR:h2,ARIA_ATTR:p2,IS_SCRIPT_OR_DATA:m2,ATTR_WHITESPACE:r0,CUSTOM_ELEMENT:g2}=Pt;let{IS_ALLOWED_URI:i0}=Pt,At=null;const s0=P({},[...O,...M,...R,...E,...k]);let zt=null;const a0=P({},[...F,...H,...T,...te]);let xt=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Rl=null,wp=null,o0=!0,Sp=!0,l0=!1,c0=!0,Aa=!1,nd=!0,Us=!1,_p=!1,jp=!1,Ia=!1,rd=!1,id=!1,u0=!0,d0=!1;const v2="user-content-";let Ep=!0,Nl=!1,Fa={},Da=null;const f0=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let h0=null;const p0=P({},["audio","video","img","source","image","track"]);let kp=null;const m0=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),sd="http://www.w3.org/1998/Math/MathML",ad="http://www.w3.org/2000/svg",li="http://www.w3.org/1999/xhtml";let La=li,Pp=!1,Cp=null;const y2=P({},[sd,ad,li],b);let od=P({},["mi","mo","mn","ms","mtext"]),ld=P({},["annotation-xml"]);const x2=P({},["title","style","font","a","script"]);let Tl=null;const b2=["application/xhtml+xml","text/html"],w2="text/html";let It=null,$a=null;const S2=Ne.createElement("form"),g0=function(U){return U instanceof RegExp||U instanceof Function},Rp=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($a&&$a===U)){if((!U||typeof U!="object")&&(U={}),U=D(U),Tl=b2.indexOf(U.PARSER_MEDIA_TYPE)===-1?w2:U.PARSER_MEDIA_TYPE,It=Tl==="application/xhtml+xml"?b:g,At=j(U,"ALLOWED_TAGS")?P({},U.ALLOWED_TAGS,It):s0,zt=j(U,"ALLOWED_ATTR")?P({},U.ALLOWED_ATTR,It):a0,Cp=j(U,"ALLOWED_NAMESPACES")?P({},U.ALLOWED_NAMESPACES,b):y2,kp=j(U,"ADD_URI_SAFE_ATTR")?P(D(m0),U.ADD_URI_SAFE_ATTR,It):m0,h0=j(U,"ADD_DATA_URI_TAGS")?P(D(p0),U.ADD_DATA_URI_TAGS,It):p0,Da=j(U,"FORBID_CONTENTS")?P({},U.FORBID_CONTENTS,It):f0,Rl=j(U,"FORBID_TAGS")?P({},U.FORBID_TAGS,It):D({}),wp=j(U,"FORBID_ATTR")?P({},U.FORBID_ATTR,It):D({}),Fa=j(U,"USE_PROFILES")?U.USE_PROFILES:!1,o0=U.ALLOW_ARIA_ATTR!==!1,Sp=U.ALLOW_DATA_ATTR!==!1,l0=U.ALLOW_UNKNOWN_PROTOCOLS||!1,c0=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Aa=U.SAFE_FOR_TEMPLATES||!1,nd=U.SAFE_FOR_XML!==!1,Us=U.WHOLE_DOCUMENT||!1,Ia=U.RETURN_DOM||!1,rd=U.RETURN_DOM_FRAGMENT||!1,id=U.RETURN_TRUSTED_TYPE||!1,jp=U.FORCE_BODY||!1,u0=U.SANITIZE_DOM!==!1,d0=U.SANITIZE_NAMED_PROPS||!1,Ep=U.KEEP_CONTENT!==!1,Nl=U.IN_PLACE||!1,i0=U.ALLOWED_URI_REGEXP||oe,La=U.NAMESPACE||li,od=U.MATHML_TEXT_INTEGRATION_POINTS||od,ld=U.HTML_INTEGRATION_POINTS||ld,xt=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&g0(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xt.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&g0(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xt.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xt.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Aa&&(Sp=!1),rd&&(Ia=!0),Fa&&(At=P({},k),zt=[],Fa.html===!0&&(P(At,O),P(zt,F)),Fa.svg===!0&&(P(At,M),P(zt,H),P(zt,te)),Fa.svgFilters===!0&&(P(At,R),P(zt,H),P(zt,te)),Fa.mathMl===!0&&(P(At,E),P(zt,T),P(zt,te))),U.ADD_TAGS&&(At===s0&&(At=D(At)),P(At,U.ADD_TAGS,It)),U.ADD_ATTR&&(zt===a0&&(zt=D(zt)),P(zt,U.ADD_ATTR,It)),U.ADD_URI_SAFE_ATTR&&P(kp,U.ADD_URI_SAFE_ATTR,It),U.FORBID_CONTENTS&&(Da===f0&&(Da=D(Da)),P(Da,U.FORBID_CONTENTS,It)),Ep&&(At["#text"]=!0),Us&&P(At,["html","head","body"]),At.table&&(P(At,["tbody"]),delete Rl.tbody),U.TRUSTED_TYPES_POLICY){if(typeof U.TRUSTED_TYPES_POLICY.createHTML!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof U.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ke=U.TRUSTED_TYPES_POLICY,$r=Ke.createHTML("")}else Ke===void 0&&(Ke=Ms(jn,B)),Ke!==null&&typeof $r=="string"&&($r=Ke.createHTML(""));s&&s(U),$a=U}},v0=P({},[...M,...R,...z]),y0=P({},[...E,...A]),_2=function(U){let G=fn(U);(!G||!G.tagName)&&(G={namespaceURI:La,tagName:"template"});const ae=g(U.tagName),rt=g(G.tagName);return Cp[U.namespaceURI]?U.namespaceURI===ad?G.namespaceURI===li?ae==="svg":G.namespaceURI===sd?ae==="svg"&&(rt==="annotation-xml"||od[rt]):!!v0[ae]:U.namespaceURI===sd?G.namespaceURI===li?ae==="math":G.namespaceURI===ad?ae==="math"&&ld[rt]:!!y0[ae]:U.namespaceURI===li?G.namespaceURI===ad&&!ld[rt]||G.namespaceURI===sd&&!od[rt]?!1:!y0[ae]&&(x2[ae]||!v0[ae]):!!(Tl==="application/xhtml+xml"&&Cp[U.namespaceURI]):!1},Mr=function(U){p(re.removed,{element:U});try{fn(U).removeChild(U)}catch{fe(U)}},Ma=function(U,G){try{p(re.removed,{attribute:G.getAttributeNode(U),from:G})}catch{p(re.removed,{attribute:null,from:G})}if(G.removeAttribute(U),U==="is")if(Ia||rd)try{Mr(G)}catch{}else try{G.setAttribute(U,"")}catch{}},x0=function(U){let G=null,ae=null;if(jp)U="<remove></remove>"+U;else{const Rt=v(U,/^[\r\n\t ]+/);ae=Rt&&Rt[0]}Tl==="application/xhtml+xml"&&La===li&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");const rt=Ke?Ke.createHTML(U):U;if(La===li)try{G=new oi().parseFromString(rt,Tl)}catch{}if(!G||!G.documentElement){G=Cl.createDocument(La,"template",null);try{G.documentElement.innerHTML=Pp?$r:rt}catch{}}const Kt=G.body||G.documentElement;return U&&ae&&Kt.insertBefore(Ne.createTextNode(ae),Kt.childNodes[0]||null),La===li?d2.call(G,Us?"html":"body")[0]:Us?G.documentElement:Kt},b0=function(U){return c2.call(U.ownerDocument||U,U,Ct.SHOW_ELEMENT|Ct.SHOW_COMMENT|Ct.SHOW_TEXT|Ct.SHOW_PROCESSING_INSTRUCTION|Ct.SHOW_CDATA_SECTION,null)},Np=function(U){return U instanceof _n&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof rr)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},w0=function(U){return typeof ge=="function"&&U instanceof ge};function ci(le,U,G){d(le,ae=>{ae.call(re,U,G,$a)})}const S0=function(U){let G=null;if(ci(hn.beforeSanitizeElements,U,null),Np(U))return Mr(U),!0;const ae=It(U.nodeName);if(ci(hn.uponSanitizeElement,U,{tagName:ae,allowedTags:At}),nd&&U.hasChildNodes()&&!w0(U.firstElementChild)&&_(/<[/\w!]/g,U.innerHTML)&&_(/<[/\w!]/g,U.textContent)||U.nodeType===ot.progressingInstruction||nd&&U.nodeType===ot.comment&&_(/<[/\w]/g,U.data))return Mr(U),!0;if(!At[ae]||Rl[ae]){if(!Rl[ae]&&j0(ae)&&(xt.tagNameCheck instanceof RegExp&&_(xt.tagNameCheck,ae)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(ae)))return!1;if(Ep&&!Da[ae]){const rt=fn(U)||U.parentNode,Kt=He(U)||U.childNodes;if(Kt&&rt){const Rt=Kt.length;for(let En=Rt-1;En>=0;--En){const ui=Lr(Kt[En],!0);ui.__removalCount=(U.__removalCount||0)+1,rt.insertBefore(ui,We(U))}}}return Mr(U),!0}return U instanceof Oe&&!_2(U)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&_(/<\/no(script|embed|frames)/i,U.innerHTML)?(Mr(U),!0):(Aa&&U.nodeType===ot.text&&(G=U.textContent,d([yp,xp,bp],rt=>{G=y(G,rt," ")}),U.textContent!==G&&(p(re.removed,{element:U.cloneNode()}),U.textContent=G)),ci(hn.afterSanitizeElements,U,null),!1)},_0=function(U,G,ae){if(u0&&(G==="id"||G==="name")&&(ae in Ne||ae in S2))return!1;if(!(Sp&&!wp[G]&&_(h2,G))){if(!(o0&&_(p2,G))){if(!zt[G]||wp[G]){if(!(j0(U)&&(xt.tagNameCheck instanceof RegExp&&_(xt.tagNameCheck,U)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(U))&&(xt.attributeNameCheck instanceof RegExp&&_(xt.attributeNameCheck,G)||xt.attributeNameCheck instanceof Function&&xt.attributeNameCheck(G))||G==="is"&&xt.allowCustomizedBuiltInElements&&(xt.tagNameCheck instanceof RegExp&&_(xt.tagNameCheck,ae)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(ae))))return!1}else if(!kp[G]){if(!_(i0,y(ae,r0,""))){if(!((G==="src"||G==="xlink:href"||G==="href")&&U!=="script"&&x(ae,"data:")===0&&h0[U])){if(!(l0&&!_(m2,y(ae,r0,"")))){if(ae)return!1}}}}}}return!0},j0=function(U){return U!=="annotation-xml"&&v(U,g2)},E0=function(U){ci(hn.beforeSanitizeAttributes,U,null);const{attributes:G}=U;if(!G||Np(U))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zt,forceKeepAttr:void 0};let rt=G.length;for(;rt--;){const Kt=G[rt],{name:Rt,namespaceURI:En,value:ui}=Kt,Ol=It(Rt),Tp=ui;let Gt=Rt==="value"?Tp:S(Tp);if(ae.attrName=Ol,ae.attrValue=Gt,ae.keepAttr=!0,ae.forceKeepAttr=void 0,ci(hn.uponSanitizeAttribute,U,ae),Gt=ae.attrValue,d0&&(Ol==="id"||Ol==="name")&&(Ma(Rt,U),Gt=v2+Gt),nd&&_(/((--!?|])>)|<\/(style|title)/i,Gt)){Ma(Rt,U);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){Ma(Rt,U);continue}if(!c0&&_(/\/>/i,Gt)){Ma(Rt,U);continue}Aa&&d([yp,xp,bp],P0=>{Gt=y(Gt,P0," ")});const k0=It(U.nodeName);if(!_0(k0,Ol,Gt)){Ma(Rt,U);continue}if(Ke&&typeof jn=="object"&&typeof jn.getAttributeType=="function"&&!En)switch(jn.getAttributeType(k0,Ol)){case"TrustedHTML":{Gt=Ke.createHTML(Gt);break}case"TrustedScriptURL":{Gt=Ke.createScriptURL(Gt);break}}if(Gt!==Tp)try{En?U.setAttributeNS(En,Rt,Gt):U.setAttribute(Rt,Gt),Np(U)?Mr(U):h(re.removed)}catch{Ma(Rt,U)}}ci(hn.afterSanitizeAttributes,U,null)},j2=function le(U){let G=null;const ae=b0(U);for(ci(hn.beforeSanitizeShadowDOM,U,null);G=ae.nextNode();)ci(hn.uponSanitizeShadowNode,G,null),S0(G),E0(G),G.content instanceof q&&le(G.content);ci(hn.afterSanitizeShadowDOM,U,null)};return re.sanitize=function(le){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=null,ae=null,rt=null,Kt=null;if(Pp=!le,Pp&&(le="<!-->"),typeof le!="string"&&!w0(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw C("dirty is not a string, aborting")}else throw C("toString is not a function");if(!re.isSupported)return le;if(_p||Rp(U),re.removed=[],typeof le=="string"&&(Nl=!1),Nl){if(le.nodeName){const ui=It(le.nodeName);if(!At[ui]||Rl[ui])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof ge)G=x0("<!---->"),ae=G.ownerDocument.importNode(le,!0),ae.nodeType===ot.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?G=ae:G.appendChild(ae);else{if(!Ia&&!Aa&&!Us&&le.indexOf("<")===-1)return Ke&&id?Ke.createHTML(le):le;if(G=x0(le),!G)return Ia?null:id?$r:""}G&&jp&&Mr(G.firstChild);const Rt=b0(Nl?le:G);for(;rt=Rt.nextNode();)S0(rt),E0(rt),rt.content instanceof q&&j2(rt.content);if(Nl)return le;if(Ia){if(rd)for(Kt=u2.call(G.ownerDocument);G.firstChild;)Kt.appendChild(G.firstChild);else Kt=G;return(zt.shadowroot||zt.shadowrootmode)&&(Kt=f2.call(je,Kt,!0)),Kt}let En=Us?G.outerHTML:G.innerHTML;return Us&&At["!doctype"]&&G.ownerDocument&&G.ownerDocument.doctype&&G.ownerDocument.doctype.name&&_(ht,G.ownerDocument.doctype.name)&&(En="<!DOCTYPE "+G.ownerDocument.doctype.name+`>
`+En),Aa&&d([yp,xp,bp],ui=>{En=y(En,ui," ")}),Ke&&id?Ke.createHTML(En):En},re.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Rp(le),_p=!0},re.clearConfig=function(){$a=null,_p=!1},re.isValidAttribute=function(le,U,G){$a||Rp({});const ae=It(le),rt=It(U);return _0(ae,rt,G)},re.addHook=function(le,U){typeof U=="function"&&p(hn[le],U)},re.removeHook=function(le,U){if(U!==void 0){const G=f(hn[le],U);return G===-1?void 0:m(hn[le],G,1)[0]}return h(hn[le])},re.removeHooks=function(le){hn[le]=[]},re.removeAllHooks=function(){hn=lt()},re}var Pl=nr();return cm=Pl,cm}window.DOMPurify||(window.DOMPurify=Kw().default||Kw());function ue(...e){return BL(mP(e))}const WL=QD,RP=w.forwardRef(({className:e,...t},n)=>c.jsx(lP,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RP.displayName=lP.displayName;const VL=Uu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NP=w.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(cP,{ref:r,className:ue(VL({variant:t}),e),...n}));NP.displayName=cP.displayName;const qL=w.forwardRef(({className:e,...t},n)=>c.jsx(fP,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qL.displayName=fP.displayName;const TP=w.forwardRef(({className:e,...t},n)=>c.jsx(hP,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(kx,{className:"h-4 w-4"})}));TP.displayName=hP.displayName;const OP=w.forwardRef(({className:e,...t},n)=>c.jsx(uP,{ref:n,className:ue("text-sm font-semibold",e),...t}));OP.displayName=uP.displayName;const AP=w.forwardRef(({className:e,...t},n)=>c.jsx(dP,{ref:n,className:ue("text-sm opacity-90",e),...t}));AP.displayName=dP.displayName;function QL(){const{toasts:e}=un();return c.jsxs(WL,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return c.jsxs(NP,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(OP,{children:n}),r&&c.jsx(AP,{children:r})]}),i,c.jsx(TP,{})]},t)}),c.jsx(RP,{})]})}var Gw=["light","dark"],KL="(prefers-color-scheme: dark)",GL=w.createContext(void 0),YL={setTheme:e=>{},themes:[]},JL=()=>{var e;return(e=w.useContext(GL))!=null?e:YL};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Gw.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,b=!0)=>{let v=a?a[m]:m,y=g?m+"|| ''":`'${v}'`,x="";return i&&b&&!g&&Gw.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),n==="class"?g||v?x+=`c.add(${y})`:x+="null":v&&(x+=`d[s](n,${y})`),x},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${KL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var XL=e=>{switch(e){case"success":return t$;case"info":return r$;case"warning":return n$;case"error":return i$;default:return null}},ZL=Array(12).fill(0),e$=({visible:e})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},W.createElement("div",{className:"sonner-spinner"},ZL.map((t,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),t$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),n$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),r$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),i$=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),s$=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},fv=1,a$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:fv++,s=this.toasts.find(o=>o.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(l$(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||fv++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Hn=new a$,o$=(e,t)=>{let n=(t==null?void 0:t.id)||fv++;return Hn.addToast({title:e,...t,id:n}),n},l$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",c$=o$,u$=()=>Hn.toasts,gn=Object.assign(c$,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:u$});function d$(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}d$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rd(e){return e.label!==void 0}var f$=3,h$="32px",p$=4e3,m$=356,g$=14,v$=20,y$=200;function x$(...e){return e.filter(Boolean).join(" ")}var b$=e=>{var t,n,r,i,s,a,o,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:b,heights:v,index:y,toasts:x,expanded:S,removeToast:j,defaultRichColors:_,closeButton:C,style:N,cancelButtonStyle:I,actionButtonStyle:P,className:L="",descriptionClassName:D="",duration:$,position:O,gap:M,loadingIcon:R,expandByDefault:z,classNames:E,icons:A,closeButtonAriaLabel:k="Close toast",pauseWhenPageIsHidden:F,cn:H}=e,[T,te]=W.useState(!1),[ie,Y]=W.useState(!1),[ee,se]=W.useState(!1),[pe,oe]=W.useState(!1),[ve,Se]=W.useState(0),[ht,kt]=W.useState(0),Pt=W.useRef(null),ot=W.useRef(null),tr=y===0,Ms=y+1<=b,lt=h.type,nr=h.dismissible!==!1,Pl=h.className||"",_e=h.descriptionClassName||"",re=W.useMemo(()=>v.findIndex(fe=>fe.toastId===h.id)||0,[v,h.id]),Ne=W.useMemo(()=>{var fe;return(fe=h.closeButton)!=null?fe:C},[h.closeButton,C]),je=W.useMemo(()=>h.duration||$||p$,[h.duration,$]),B=W.useRef(0),q=W.useRef(0),de=W.useRef(0),ge=W.useRef(null),[Oe,Ct]=O.split("-"),rr=W.useMemo(()=>v.reduce((fe,We,He)=>He>=re?fe:fe+We.height,0),[v,re]),_n=s$(),oi=h.invert||f,jn=lt==="loading";q.current=W.useMemo(()=>re*M+rr,[re,rr]),W.useEffect(()=>{te(!0)},[]),W.useLayoutEffect(()=>{if(!T)return;let fe=ot.current,We=fe.style.height;fe.style.height="auto";let He=fe.getBoundingClientRect().height;fe.style.height=We,kt(He),g(fn=>fn.find(Ke=>Ke.toastId===h.id)?fn.map(Ke=>Ke.toastId===h.id?{...Ke,height:He}:Ke):[{toastId:h.id,height:He,position:h.position},...fn])},[T,h.title,h.description,g,h.id]);let ze=W.useCallback(()=>{Y(!0),Se(q.current),g(fe=>fe.filter(We=>We.toastId!==h.id)),setTimeout(()=>{j(h)},y$)},[h,j,g,q]);W.useEffect(()=>{if(h.promise&&lt==="loading"||h.duration===1/0||h.type==="loading")return;let fe,We=je;return S||m||F&&_n?(()=>{if(de.current<B.current){let He=new Date().getTime()-B.current;We=We-He}de.current=new Date().getTime()})():We!==1/0&&(B.current=new Date().getTime(),fe=setTimeout(()=>{var He;(He=h.onAutoClose)==null||He.call(h,h),ze()},We)),()=>clearTimeout(fe)},[S,m,z,h,je,ze,h.promise,lt,F,_n]),W.useEffect(()=>{let fe=ot.current;if(fe){let We=fe.getBoundingClientRect().height;return kt(We),g(He=>[{toastId:h.id,height:We,position:h.position},...He]),()=>g(He=>He.filter(fn=>fn.toastId!==h.id))}},[g,h.id]),W.useEffect(()=>{h.delete&&ze()},[ze,h.delete]);function Lr(){return A!=null&&A.loading?W.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},A.loading):R?W.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},R):W.createElement(e$,{visible:lt==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ot,className:H(L,Pl,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[lt],(n=h==null?void 0:h.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":T,"data-promise":!!h.promise,"data-removed":ie,"data-visible":Ms,"data-y-position":Oe,"data-x-position":Ct,"data-index":y,"data-front":tr,"data-swiping":ee,"data-dismissible":nr,"data-type":lt,"data-invert":oi,"data-swipe-out":pe,"data-expanded":!!(S||z&&T),style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${ie?ve:q.current}px`,"--initial-height":z?"auto":`${ht}px`,...N,...h.style},onPointerDown:fe=>{jn||!nr||(Pt.current=new Date,Se(q.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(se(!0),ge.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,We,He,fn;if(pe||!nr)return;ge.current=null;let Ke=Number(((fe=ot.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$r=new Date().getTime()-((We=Pt.current)==null?void 0:We.getTime()),Cl=Math.abs(Ke)/$r;if(Math.abs(Ke)>=v$||Cl>.11){Se(q.current),(He=h.onDismiss)==null||He.call(h,h),ze(),oe(!0);return}(fn=ot.current)==null||fn.style.setProperty("--swipe-amount","0px"),se(!1)},onPointerMove:fe=>{var We;if(!ge.current||!nr)return;let He=fe.clientY-ge.current.y,fn=fe.clientX-ge.current.x,Ke=(Oe==="top"?Math.min:Math.max)(0,He),$r=fe.pointerType==="touch"?10:2;Math.abs(Ke)>$r?(We=ot.current)==null||We.style.setProperty("--swipe-amount",`${He}px`):Math.abs(fn)>$r&&(ge.current=null)}},Ne&&!h.jsx?W.createElement("button",{"aria-label":k,"data-disabled":jn,"data-close-button":!0,onClick:jn||!nr?()=>{}:()=>{var fe;ze(),(fe=h.onDismiss)==null||fe.call(h,h)},className:H(E==null?void 0:E.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,lt||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:H(E==null?void 0:E.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Lr():null,h.type!=="loading"?h.icon||(A==null?void 0:A[lt])||XL(lt):null):null,W.createElement("div",{"data-content":"",className:H(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:H(E==null?void 0:E.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:H(D,_e,E==null?void 0:E.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&Rd(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:fe=>{var We,He;Rd(h.cancel)&&nr&&((He=(We=h.cancel).onClick)==null||He.call(We,fe),ze())},className:H(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&Rd(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:fe=>{var We,He;Rd(h.action)&&(fe.defaultPrevented||((He=(We=h.action).onClick)==null||He.call(We,fe),ze()))},className:H(E==null?void 0:E.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Yw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var w$=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=f$,toastOptions:p,dir:m=Yw(),gap:g=g$,loadingIcon:b,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:x,cn:S=x$}=e,[j,_]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(j.filter(F=>F.position).map(F=>F.position)))),[j,n]),[N,I]=W.useState([]),[P,L]=W.useState(!1),[D,$]=W.useState(!1),[O,M]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=W.useRef(null),z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=W.useRef(null),A=W.useRef(!1),k=W.useCallback(F=>{var H;(H=j.find(T=>T.id===F.id))!=null&&H.delete||Hn.dismiss(F.id),_(T=>T.filter(({id:te})=>te!==F.id))},[j]);return W.useEffect(()=>Hn.subscribe(F=>{if(F.dismiss){_(H=>H.map(T=>T.id===F.id?{...T,delete:!0}:T));return}setTimeout(()=>{Hk.flushSync(()=>{_(H=>{let T=H.findIndex(te=>te.id===F.id);return T!==-1?[...H.slice(0,T),{...H[T],...F},...H.slice(T+1)]:[F,...H]})})})}),[]),W.useEffect(()=>{if(l!=="system"){M(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{M(F?"dark":"light")})},[l]),W.useEffect(()=>{j.length<=1&&L(!1)},[j]),W.useEffect(()=>{let F=H=>{var T,te;r.every(ie=>H[ie]||H.code===ie)&&(L(!0),(T=R.current)==null||T.focus()),H.code==="Escape"&&(document.activeElement===R.current||(te=R.current)!=null&&te.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[r]),W.useEffect(()=>{if(R.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,A.current=!1)}},[R.current]),j.length?W.createElement("section",{"aria-label":`${y} ${z}`,tabIndex:-1},C.map((F,H)=>{var T;let[te,ie]=F.split("-");return W.createElement("ol",{key:F,dir:m==="auto"?Yw():m,tabIndex:-1,ref:R,className:a,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":te,"data-x-position":ie,style:{"--front-toast-height":`${((T=N[0])==null?void 0:T.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||h$,"--width":`${m$}px`,"--gap":`${g}px`,...f},onBlur:Y=>{A.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(A.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||A.current||(A.current=!0,E.current=Y.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{D||L(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},j.filter(Y=>!Y.position&&H===0||Y.position===F).map((Y,ee)=>{var se,pe;return W.createElement(b$,{key:Y.id,icons:v,index:ee,toast:Y,defaultRichColors:u,duration:(se=p==null?void 0:p.duration)!=null?se:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(pe=p==null?void 0:p.closeButton)!=null?pe:s,interacting:D,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:k,toasts:j.filter(oe=>oe.position==Y.position),heights:N.filter(oe=>oe.position==Y.position),setHeights:I,expandByDefault:i,gap:g,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:x,cn:S})}))})):null};const S$=({...e})=>{const{theme:t="system"}=JL();return c.jsx(w$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _$=Ey.useId||(()=>{}),j$=0;function ei(e){const[t,n]=w.useState(_$());return Qt(()=>{e||n(r=>r??String(j$++))},[e]),e||(t?`radix-${t}`:"")}const E$=["top","right","bottom","left"],Es=Math.min,Wn=Math.max,Qf=Math.round,Nd=Math.floor,ks=e=>({x:e,y:e}),k$={left:"right",right:"left",bottom:"top",top:"bottom"},P$={start:"end",end:"start"};function hv(e,t,n){return Wn(e,Es(t,n))}function Ri(e,t){return typeof e=="function"?e(t):e}function Ni(e){return e.split("-")[0]}function vl(e){return e.split("-")[1]}function Cx(e){return e==="x"?"y":"x"}function Rx(e){return e==="y"?"height":"width"}function Ps(e){return["top","bottom"].includes(Ni(e))?"y":"x"}function Nx(e){return Cx(Ps(e))}function C$(e,t,n){n===void 0&&(n=!1);const r=vl(e),i=Nx(e),s=Rx(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Kf(a)),[a,Kf(a)]}function R$(e){const t=Kf(e);return[pv(e),t,pv(t)]}function pv(e){return e.replace(/start|end/g,t=>P$[t])}function N$(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function T$(e,t,n,r){const i=vl(e);let s=N$(Ni(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(pv)))),s}function Kf(e){return e.replace(/left|right|bottom|top/g,t=>k$[t])}function O$(e){return{top:0,right:0,bottom:0,left:0,...e}}function IP(e){return typeof e!="number"?O$(e):{top:e,right:e,bottom:e,left:e}}function Gf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Jw(e,t,n){let{reference:r,floating:i}=e;const s=Ps(t),a=Nx(t),o=Rx(a),l=Ni(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(vl(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const A$=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=Jw(u,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:b,fn:v}=o[g],{x:y,y:x,data:S,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=x??f,p={...p,[b]:{...p[b],...S}},j&&m<=50&&(m++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:f}=Jw(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function qc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ri(t,e),m=IP(p),b=o[h?f==="floating"?"reference":"floating":f],v=Gf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},j=Gf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:l}):y);return{top:(v.top-j.top+m.top)/S.y,bottom:(j.bottom-v.bottom+m.bottom)/S.y,left:(v.left-j.left+m.left)/S.x,right:(j.right-v.right+m.right)/S.x}}const I$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Ri(e,t)||{};if(u==null)return{};const f=IP(d),h={x:n,y:r},p=Nx(i),m=Rx(p),g=await a.getDimensions(u),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[p]-h[p]-s.floating[m],j=h[p]-s.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=_?_[x]:0;(!C||!await(a.isElement==null?void 0:a.isElement(_)))&&(C=o.floating[x]||s.floating[m]);const N=S/2-j/2,I=C/2-g[m]/2-1,P=Es(f[v],I),L=Es(f[y],I),D=P,$=C-g[m]-L,O=C/2-g[m]/2+N,M=hv(D,O,$),R=!l.arrow&&vl(i)!=null&&O!==M&&s.reference[m]/2-(O<D?P:L)-g[m]/2<0,z=R?O<D?O-D:O-$:0;return{[p]:h[p]+z,data:{[p]:M,centerOffset:O-M-z,...R&&{alignmentOffset:z}},reset:R}}}),F$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=Ri(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ni(i),y=Ps(o),x=Ni(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=h||(x||!g?[Kf(o)]:R$(o)),_=m!=="none";!h&&_&&j.push(...T$(o,g,m,S));const C=[o,...j],N=await qc(t,b),I=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[v]),f){const O=C$(i,a,S);I.push(N[O[0]],N[O[1]])}if(P=[...P,{placement:i,overflows:I}],!I.every(O=>O<=0)){var L,D;const O=(((L=s.flip)==null?void 0:L.index)||0)+1,M=C[O];if(M)return{data:{index:O,overflows:P},reset:{placement:M}};let R=(D=P.filter(z=>z.overflows[0]<=0).sort((z,E)=>z.overflows[1]-E.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(p){case"bestFit":{var $;const z=($=P.filter(E=>{if(_){const A=Ps(E.placement);return A===y||A==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,k)=>A+k,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:$[0];z&&(R=z);break}case"initialPlacement":R=o;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function Xw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zw(e){return E$.some(t=>e[t]>=0)}const D$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ri(e,t);switch(r){case"referenceHidden":{const s=await qc(t,{...i,elementContext:"reference"}),a=Xw(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Zw(a)}}}case"escaped":{const s=await qc(t,{...i,altBoundary:!0}),a=Xw(s,n.floating);return{data:{escapedOffsets:a,escaped:Zw(a)}}}default:return{}}}}};async function L$(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Ni(n),o=vl(n),l=Ps(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,f=Ri(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const $$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await L$(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},M$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...l}=Ri(e,t),u={x:n,y:r},d=await qc(t,l),f=Ps(Ni(i)),h=Cx(f);let p=u[h],m=u[f];if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+d[b],x=p-d[v];p=hv(y,p,x)}if(a){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=m+d[b],x=m-d[v];m=hv(y,m,x)}const g=o.fn({...t,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:a}}}}}},U$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Ri(e,t),d={x:n,y:r},f=Ps(i),h=Cx(f);let p=d[h],m=d[f];const g=Ri(o,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",S=s.reference[h]-s.floating[x]+b.mainAxis,j=s.reference[h]+s.reference[x]-b.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var v,y;const x=h==="y"?"width":"height",S=["top","left"].includes(Ni(i)),j=s.reference[f]-s.floating[x]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:b.crossAxis),_=s.reference[f]+s.reference[x]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);m<j?m=j:m>_&&(m=_)}return{[h]:p,[f]:m}}}},z$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...u}=Ri(e,t),d=await qc(t,u),f=Ni(i),h=vl(i),p=Ps(i)==="y",{width:m,height:g}=s.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,b=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=m-d.left-d.right,S=Es(g-d[b],y),j=Es(m-d[v],x),_=!t.middlewareData.shift;let C=S,N=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),_&&!h){const P=Wn(d.left,0),L=Wn(d.right,0),D=Wn(d.top,0),$=Wn(d.bottom,0);p?N=m-2*(P!==0||L!==0?P+L:Wn(d.left,d.right)):C=g-2*(D!==0||$!==0?D+$:Wn(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:C});const I=await a.getDimensions(o.floating);return m!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function yl(e){return FP(e)?(e.nodeName||"").toLowerCase():"#document"}function Gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ii(e){var t;return(t=(FP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FP(e){return Ih()?e instanceof Node||e instanceof Gn(e).Node:!1}function Ir(e){return Ih()?e instanceof Element||e instanceof Gn(e).Element:!1}function ni(e){return Ih()?e instanceof HTMLElement||e instanceof Gn(e).HTMLElement:!1}function eS(e){return!Ih()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gn(e).ShadowRoot}function Hu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function H$(e){return["table","td","th"].includes(yl(e))}function Fh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Tx(e){const t=Ox(),n=Ir(e)?Fr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B$(e){let t=Cs(e);for(;ni(t)&&!nl(t);){if(Tx(t))return t;if(Fh(t))return null;t=Cs(t)}return null}function Ox(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nl(e){return["html","body","#document"].includes(yl(e))}function Fr(e){return Gn(e).getComputedStyle(e)}function Dh(e){return Ir(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cs(e){if(yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eS(e)&&e.host||ii(e);return eS(t)?t.host:t}function DP(e){const t=Cs(e);return nl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&Hu(t)?t:DP(t)}function Qc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=DP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Gn(i);if(s){const o=mv(a);return t.concat(a,a.visualViewport||[],Hu(i)?i:[],o&&n?Qc(o):[])}return t.concat(i,Qc(i,[],n))}function mv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function LP(e){const t=Fr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ni(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Qf(n)!==s||Qf(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Ax(e){return Ir(e)?e:e.contextElement}function Oo(e){const t=Ax(e);if(!ni(t))return ks(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=LP(t);let a=(s?Qf(n.width):n.width)/r,o=(s?Qf(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const W$=ks(0);function $P(e){const t=Gn(e);return!Ox()||!t.visualViewport?W$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gn(e)?!1:t}function xa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Ax(e);let a=ks(1);t&&(r?Ir(r)&&(a=Oo(r)):a=Oo(e));const o=V$(s,n,r)?$P(s):ks(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Gn(s),p=r&&Ir(r)?Gn(r):r;let m=h,g=mv(m);for(;g&&r&&p!==m;){const b=Oo(g),v=g.getBoundingClientRect(),y=Fr(g),x=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,S=v.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=x,u+=S,m=Gn(g),g=mv(m)}}return Gf({width:d,height:f,x:l,y:u})}function q$(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=ii(r),o=t?Fh(t.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ks(1);const d=ks(0),f=ni(r);if((f||!f&&!s)&&((yl(r)!=="body"||Hu(a))&&(l=Dh(r)),ni(r))){const h=xa(r);u=Oo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Q$(e){return Array.from(e.getClientRects())}function gv(e,t){const n=Dh(e).scrollLeft;return t?t.left+n:xa(ii(e)).left+n}function K$(e){const t=ii(e),n=Dh(e),r=e.ownerDocument.body,i=Wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+gv(e);const o=-n.scrollTop;return Fr(r).direction==="rtl"&&(a+=Wn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function G$(e,t){const n=Gn(e),r=ii(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=Ox();(!u||u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Y$(e,t){const n=xa(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ni(e)?Oo(e):ks(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function tS(e,t,n){let r;if(t==="viewport")r=G$(e,n);else if(t==="document")r=K$(ii(e));else if(Ir(t))r=Y$(t,n);else{const i=$P(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Gf(r)}function MP(e,t){const n=Cs(e);return n===t||!Ir(n)||nl(n)?!1:Fr(n).position==="fixed"||MP(n,t)}function J$(e,t){const n=t.get(e);if(n)return n;let r=Qc(e,[],!1).filter(o=>Ir(o)&&yl(o)!=="body"),i=null;const s=Fr(e).position==="fixed";let a=s?Cs(e):e;for(;Ir(a)&&!nl(a);){const o=Fr(a),l=Tx(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hu(a)&&!l&&MP(e,a))?r=r.filter(d=>d!==a):i=o,a=Cs(a)}return t.set(e,r),r}function X$(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Fh(t)?[]:J$(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const f=tS(t,d,i);return u.top=Wn(f.top,u.top),u.right=Es(f.right,u.right),u.bottom=Es(f.bottom,u.bottom),u.left=Wn(f.left,u.left),u},tS(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Z$(e){const{width:t,height:n}=LP(e);return{width:t,height:n}}function e4(e,t,n){const r=ni(t),i=ii(t),s=n==="fixed",a=xa(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=ks(0);if(r||!r&&!s)if((yl(t)!=="body"||Hu(i))&&(o=Dh(t)),r){const p=xa(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=gv(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-gv(i,p)}const f=a.left+o.scrollLeft-l.x-u,h=a.top+o.scrollTop-l.y-d;return{x:f,y:h,width:a.width,height:a.height}}function um(e){return Fr(e).position==="static"}function nS(e,t){if(!ni(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ii(e)===n&&(n=n.ownerDocument.body),n}function UP(e,t){const n=Gn(e);if(Fh(e))return n;if(!ni(e)){let i=Cs(e);for(;i&&!nl(i);){if(Ir(i)&&!um(i))return i;i=Cs(i)}return n}let r=nS(e,t);for(;r&&H$(r)&&um(r);)r=nS(r,t);return r&&nl(r)&&um(r)&&!Tx(r)?n:r||B$(e)||n}const t4=async function(e){const t=this.getOffsetParent||UP,n=this.getDimensions,r=await n(e.floating);return{reference:e4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n4(e){return Fr(e).direction==="rtl"}const r4={convertOffsetParentRelativeRectToViewportRelativeRect:q$,getDocumentElement:ii,getClippingRect:X$,getOffsetParent:UP,getElementRects:t4,getClientRects:Q$,getDimensions:Z$,getScale:Oo,isElement:Ir,isRTL:n4};function i4(e,t){let n=null,r;const i=ii(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const p=Nd(d),m=Nd(i.clientWidth-(u+f)),g=Nd(i.clientHeight-(d+h)),b=Nd(u),y={rootMargin:-p+"px "+-m+"px "+-g+"px "+-b+"px",threshold:Wn(0,Es(1,l))||1};let x=!0;function S(j){const _=j[0].intersectionRatio;if(_!==l){if(!x)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return a(!0),s}function s4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ax(e),d=i||s?[...u?Qc(u):[],...Qc(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&o?i4(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?xa(e):null;l&&b();function b(){const v=xa(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,m=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const a4=$$,o4=M$,l4=F$,c4=z$,u4=D$,rS=I$,d4=U$,f4=(e,t,n)=>{const r=new Map,i={platform:r4,...n},s={...i.platform,_c:r};return A$(e,t,{...i,platform:s})};var hf=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Yf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Yf(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function zP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iS(e,t){const n=zP(e);return Math.round(t*n)/n}function dm(e){const t=w.useRef(e);return hf(()=>{t.current=e}),t}function h4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(r);Yf(h,r)||p(r);const[m,g]=w.useState(null),[b,v]=w.useState(null),y=w.useCallback(E=>{E!==_.current&&(_.current=E,g(E))},[]),x=w.useCallback(E=>{E!==C.current&&(C.current=E,v(E))},[]),S=s||m,j=a||b,_=w.useRef(null),C=w.useRef(null),N=w.useRef(d),I=l!=null,P=dm(l),L=dm(i),D=dm(u),$=w.useCallback(()=>{if(!_.current||!C.current)return;const E={placement:t,strategy:n,middleware:h};L.current&&(E.platform=L.current),f4(_.current,C.current,E).then(A=>{const k={...A,isPositioned:D.current!==!1};O.current&&!Yf(N.current,k)&&(N.current=k,Pa.flushSync(()=>{f(k)}))})},[h,t,n,L,D]);hf(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const O=w.useRef(!1);hf(()=>(O.current=!0,()=>{O.current=!1}),[]),hf(()=>{if(S&&(_.current=S),j&&(C.current=j),S&&j){if(P.current)return P.current(S,j,$);$()}},[S,j,$,P,I]);const M=w.useMemo(()=>({reference:_,floating:C,setReference:y,setFloating:x}),[y,x]),R=w.useMemo(()=>({reference:S,floating:j}),[S,j]),z=w.useMemo(()=>{const E={position:n,left:0,top:0};if(!R.floating)return E;const A=iS(R.floating,d.x),k=iS(R.floating,d.y);return o?{...E,transform:"translate("+A+"px, "+k+"px)",...zP(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:k}},[n,o,R.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:$,refs:M,elements:R,floatingStyles:z}),[d,$,M,R,z])}const p4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rS({element:r.current,padding:i}).fn(n):{}:r?rS({element:r,padding:i}).fn(n):{}}}},m4=(e,t)=>({...a4(e),options:[e,t]}),g4=(e,t)=>({...o4(e),options:[e,t]}),v4=(e,t)=>({...d4(e),options:[e,t]}),y4=(e,t)=>({...l4(e),options:[e,t]}),x4=(e,t)=>({...c4(e),options:[e,t]}),b4=(e,t)=>({...u4(e),options:[e,t]}),w4=(e,t)=>({...p4(e),options:[e,t]});var S4="Arrow",HP=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return c.jsx(me.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});HP.displayName=S4;var _4=HP;function j4(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[e][l])||o,b=w.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||o,m=w.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,E4(i,...t)]}function E4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ix(e){const[t,n]=w.useState(void 0);return Qt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Fx="Popper",[BP,Lh]=j4(Fx),[k4,WP]=BP(Fx),VP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return c.jsx(k4,{scope:t,anchor:r,onAnchorChange:i,children:n})};VP.displayName=Fx;var qP="PopperAnchor",QP=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=WP(qP,n),a=w.useRef(null),o=$e(t,a);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(me.div,{...i,ref:o})});QP.displayName=qP;var Dx="PopperContent",[P4,C4]=BP(Dx),KP=w.forwardRef((e,t)=>{var ee,se,pe,oe,ve,Se;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,b=WP(Dx,n),[v,y]=w.useState(null),x=$e(t,ht=>y(ht)),[S,j]=w.useState(null),_=Ix(S),C=(_==null?void 0:_.width)??0,N=(_==null?void 0:_.height)??0,I=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],D=L.length>0,$={padding:P,boundary:L.filter(N4),altBoundary:D},{refs:O,floatingStyles:M,placement:R,isPositioned:z,middlewareData:E}=h4({strategy:"fixed",placement:I,whileElementsMounted:(...ht)=>s4(...ht,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[m4({mainAxis:i+N,alignmentAxis:a}),l&&g4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v4():void 0,...$}),l&&y4({...$}),x4({...$,apply:({elements:ht,rects:kt,availableWidth:Pt,availableHeight:ot})=>{const{width:tr,height:Ms}=kt.reference,lt=ht.floating.style;lt.setProperty("--radix-popper-available-width",`${Pt}px`),lt.setProperty("--radix-popper-available-height",`${ot}px`),lt.setProperty("--radix-popper-anchor-width",`${tr}px`),lt.setProperty("--radix-popper-anchor-height",`${Ms}px`)}}),S&&w4({element:S,padding:o}),T4({arrowWidth:C,arrowHeight:N}),h&&b4({strategy:"referenceHidden",...$})]}),[A,k]=JP(R),F=$n(m);Qt(()=>{z&&(F==null||F())},[z,F]);const H=(ee=E.arrow)==null?void 0:ee.x,T=(se=E.arrow)==null?void 0:se.y,te=((pe=E.arrow)==null?void 0:pe.centerOffset)!==0,[ie,Y]=w.useState();return Qt(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:z?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(oe=E.transformOrigin)==null?void 0:oe.x,(ve=E.transformOrigin)==null?void 0:ve.y].join(" "),...((Se=E.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(P4,{scope:n,placedSide:A,onArrowChange:j,arrowX:H,arrowY:T,shouldHideArrow:te,children:c.jsx(me.div,{"data-side":A,"data-align":k,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});KP.displayName=Dx;var GP="PopperArrow",R4={top:"bottom",right:"left",bottom:"top",left:"right"},YP=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=C4(GP,r),a=R4[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(_4,{...i,ref:n,style:{...i.style,display:"block"}})})});YP.displayName=GP;function N4(e){return e!==null}var T4=e=>({name:"transformOrigin",options:e,fn(t){var b,v,y;const{placement:n,rects:r,middlewareData:i}=t,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,d]=JP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",g="";return u==="bottom"?(m=a?f:`${h}px`,g=`${-l}px`):u==="top"?(m=a?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=a?f:`${p}px`):u==="left"&&(m=`${r.floating.width+l}px`,g=a?f:`${p}px`),{data:{x:m,y:g}}}});function JP(e){const[t,n="center"]=e.split("-");return[t,n]}var XP=VP,ZP=QP,eC=KP,tC=YP,[$h,Tte]=Di("Tooltip",[Lh]),Mh=Lh(),nC="TooltipProvider",O4=700,vv="tooltip.open",[A4,Lx]=$h(nC),rC=e=>{const{__scopeTooltip:t,delayDuration:n=O4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,o]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(A4,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};rC.displayName=nC;var Uh="Tooltip",[I4,zh]=$h(Uh),iC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,l=Lx(Uh,e.__scopeTooltip),u=Mh(t),[d,f]=w.useState(null),h=ei(),p=w.useRef(0),m=a??l.disableHoverableContent,g=o??l.delayDuration,b=w.useRef(!1),[v=!1,y]=ti({prop:r,defaultProp:i,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(vv))):l.onClose(),s==null||s(C)}}),x=w.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,y(!0)},[y]),j=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,y(!0),p.current=0},g)},[g,y]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(XP,{...u,children:c.jsx(I4,{scope:t,contentId:h,open:v,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?_():S()},[l.isOpenDelayed,_,S]),onTriggerLeave:w.useCallback(()=>{m?j():(window.clearTimeout(p.current),p.current=0)},[j,m]),onOpen:S,onClose:j,disableHoverableContent:m,children:n})})};iC.displayName=Uh;var yv="TooltipTrigger",sC=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zh(yv,n),s=Lx(yv,n),a=Mh(n),o=w.useRef(null),l=$e(t,o,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ZP,{asChild:!0,...a,children:c.jsx(me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ce(e.onBlur,i.onClose),onClick:ce(e.onClick,i.onClose)})})});sC.displayName=yv;var F4="TooltipPortal",[Ote,D4]=$h(F4,{forceMount:void 0}),rl="TooltipContent",aC=w.forwardRef((e,t)=>{const n=D4(rl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=zh(rl,e.__scopeTooltip);return c.jsx(Li,{present:r||a.open,children:a.disableHoverableContent?c.jsx(oC,{side:i,...s,ref:t}):c.jsx(L4,{side:i,...s,ref:t})})}),L4=w.forwardRef((e,t)=>{const n=zh(rl,e.__scopeTooltip),r=Lx(rl,e.__scopeTooltip),i=w.useRef(null),s=$e(t,i),[a,o]=w.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=w.useCallback(()=>{o(null),f(!1)},[f]),p=w.useCallback((m,g)=>{const b=m.currentTarget,v={x:m.clientX,y:m.clientY},y=z4(v,b.getBoundingClientRect()),x=H4(v,y),S=B4(g.getBoundingClientRect()),j=V4([...x,...S]);o(j),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&d){const m=b=>p(b,d),g=b=>p(b,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),w.useEffect(()=>{if(a){const m=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!W4(v,a);y?h():x&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,a,u,h]),c.jsx(oC,{...e,ref:s})}),[$4,M4]=$h(Uh,{isInside:!1}),oC=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,l=zh(rl,n),u=Mh(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(vv,d),()=>document.removeEventListener(vv,d)),[d]),w.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx($u,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(eC,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(gx,{children:r}),c.jsx($4,{scope:n,isInside:!0,children:c.jsx(RD,{id:l.contentId,role:"tooltip",children:i||r})})]})})});aC.displayName=rl;var lC="TooltipArrow",U4=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Mh(n);return M4(lC,n).isInside?null:c.jsx(tC,{...i,...r,ref:t})});U4.displayName=lC;function z4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function H4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function B4(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function W4(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,l=t[s].y,u=t[a].x,d=t[a].y;l>r!=d>r&&n<(u-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function V4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),q4(t)}function q4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Q4=rC,K4=iC,G4=sC,cC=aC;const Ks=Q4,Ha=K4,Ba=G4,Gs=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(cC,{ref:r,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Gs.displayName=cC.displayName;var Hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bh=typeof window>"u"||"Deno"in globalThis;function wr(){}function Y4(e,t){return typeof e=="function"?e(t):e}function J4(e){return typeof e=="number"&&e>=0&&e!==1/0}function X4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sS(e,t){return typeof e=="function"?e(t):e}function Z4(e,t){return typeof e=="function"?e(t):e}function aS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==$x(a,t.options))return!1}else if(!Gc(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function oS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Kc(t.options.mutationKey)!==Kc(s))return!1}else if(!Gc(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function $x(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kc)(e)}function Kc(e){return JSON.stringify(e,(t,n)=>xv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Gc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Gc(e[n],t[n])):!1}function uC(e,t){if(e===t)return e;const n=lS(e)&&lS(t);if(n||xv(e)&&xv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let l=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,l++):(o[d]=uC(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&l++)}return i===a&&l===i?e:o}return t}function lS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xv(e){if(!cS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!cS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cS(e){return Object.prototype.toString.call(e)==="[object Object]"}function eM(e){return new Promise(t=>{setTimeout(t,e)})}function tM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?uC(e,t):t}function nM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function rM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Mx=Symbol();function dC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var sa,is,Mo,Sj,iM=(Sj=class extends Hh{constructor(){super();Me(this,sa);Me(this,is);Me(this,Mo);Ee(this,Mo,t=>{if(!Bh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,is)||this.setEventListener(V(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,is))==null||t.call(this),Ee(this,is,void 0))}setEventListener(t){var n;Ee(this,Mo,t),(n=V(this,is))==null||n.call(this),Ee(this,is,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,sa)!==t&&(Ee(this,sa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,sa)=="boolean"?V(this,sa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},sa=new WeakMap,is=new WeakMap,Mo=new WeakMap,Sj),fC=new iM,Uo,ss,zo,_j,sM=(_j=class extends Hh{constructor(){super();Me(this,Uo,!0);Me(this,ss);Me(this,zo);Ee(this,zo,t=>{if(!Bh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,ss)||this.setEventListener(V(this,zo))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,ss))==null||t.call(this),Ee(this,ss,void 0))}setEventListener(t){var n;Ee(this,zo,t),(n=V(this,ss))==null||n.call(this),Ee(this,ss,t(this.setOnline.bind(this)))}setOnline(t){V(this,Uo)!==t&&(Ee(this,Uo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,Uo)}},Uo=new WeakMap,ss=new WeakMap,zo=new WeakMap,_j),Jf=new sM;function aM(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function oM(e){return Math.min(1e3*2**e,3e4)}function hC(e){return(e??"online")==="online"?Jf.isOnline():!0}var pC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fm(e){return e instanceof pC}function mC(e){let t=!1,n=0,r=!1,i;const s=aM(),a=g=>{var b;r||(h(new pC(g)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>fC.isFocused()&&(e.networkMode==="always"||Jf.isOnline())&&e.canRun(),d=()=>hC(e.networkMode)&&e.canRun(),f=g=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,g),i==null||i(),s.resolve(g))},h=g=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,g),i==null||i(),s.reject(g))},p=()=>new Promise(g=>{var b;i=v=>{(r||u())&&g(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(r)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var _;if(r)return;const y=e.retry??(Bh?0:3),x=e.retryDelay??oM,S=typeof x=="function"?x(n,v):x,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!j){h(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),eM(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):m()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),s)}}function lM(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var yn=lM(),aa,jj,gC=(jj=class{constructor(){Me(this,aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),J4(this.gcTime)&&Ee(this,aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bh?1/0:5*60*1e3))}clearGcTimeout(){V(this,aa)&&(clearTimeout(V(this,aa)),Ee(this,aa,void 0))}},aa=new WeakMap,jj),Ho,Bo,sr,tn,Tu,oa,Sr,hi,Ej,cM=(Ej=class extends gC{constructor(t){super();Me(this,Sr);Me(this,Ho);Me(this,Bo);Me(this,sr);Me(this,tn);Me(this,Tu);Me(this,oa);Ee(this,oa,!1),Ee(this,Tu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,sr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Ho,dM(this.options)),this.state=t.state??V(this,Ho),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,tn))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Tu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,sr).remove(this)}setData(t,n){const r=tM(this.state.data,t,this.options);return Yt(this,Sr,hi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Yt(this,Sr,hi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=V(this,tn))==null?void 0:r.promise;return(i=V(this,tn))==null||i.cancel(t),n?n.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ho))}isActive(){return this.observers.some(t=>Z4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!X4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=V(this,tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(V(this,tn)&&(V(this,oa)?V(this,tn).cancel({revert:!0}):V(this,tn).cancelRetry()),this.scheduleGc()),V(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,Sr,hi).call(this,{type:"invalidate"})}fetch(t,n){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,tn))return V(this,tn).continueRetry(),V(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ee(this,oa,!0),r.signal)})},s=()=>{const f=dC(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),Ee(this,oa,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Ee(this,Bo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Yt(this,Sr,hi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;fm(f)&&f.silent||Yt(this,Sr,hi).call(this,{type:"error",error:f}),fm(f)||((p=(h=V(this,sr).config).onError)==null||p.call(h,f,this),(g=(m=V(this,sr).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return Ee(this,tn,mC({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){o(b);return}(p=(h=V(this,sr).config).onSuccess)==null||p.call(h,f,this),(g=(m=V(this,sr).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Yt(this,Sr,hi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Yt(this,Sr,hi).call(this,{type:"pause"})},onContinue:()=>{Yt(this,Sr,hi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),V(this,tn).start()}},Ho=new WeakMap,Bo=new WeakMap,sr=new WeakMap,tn=new WeakMap,Tu=new WeakMap,oa=new WeakMap,Sr=new WeakSet,hi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return fm(i)&&i.revert&&V(this,Bo)?{...V(this,Bo),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,sr).notify({query:this,type:"updated",action:t})})},Ej);function uM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qr,kj,fM=(kj=class extends Hh{constructor(t={}){super();Me(this,qr);this.config=t,Ee(this,qr,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??$x(i,n);let a=this.get(s);return a||(a=new cM({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){V(this,qr).has(t.queryHash)||(V(this,qr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,qr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,qr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,qr).get(t)}getAll(){return[...V(this,qr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>aS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>aS(t,r)):n}notify(t){yn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qr=new WeakMap,kj),Qr,mn,la,Kr,Gi,Pj,hM=(Pj=class extends gC{constructor(t){super();Me(this,Kr);Me(this,Qr);Me(this,mn);Me(this,la);this.mutationId=t.mutationId,Ee(this,mn,t.mutationCache),Ee(this,Qr,[]),this.state=t.state||pM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Qr).includes(t)||(V(this,Qr).push(t),this.clearGcTimeout(),V(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Qr,V(this,Qr).filter(n=>n!==t)),this.scheduleGc(),V(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():V(this,mn).remove(this))}continue(){var t;return((t=V(this,la))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,l,u,d,f,h,p,m,g,b,v,y,x,S,j,_,C;Ee(this,la,mC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,I)=>{Yt(this,Kr,Gi).call(this,{type:"failed",failureCount:N,error:I})},onPause:()=>{Yt(this,Kr,Gi).call(this,{type:"pause"})},onContinue:()=>{Yt(this,Kr,Gi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,mn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,la).canStart();try{if(!n){Yt(this,Kr,Gi).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=V(this,mn).config).onMutate)==null?void 0:s.call(i,t,this));const I=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));I!==this.state.context&&Yt(this,Kr,Gi).call(this,{type:"pending",context:I,variables:t,isPaused:r})}const N=await V(this,la).start();return await((u=(l=V(this,mn).config).onSuccess)==null?void 0:u.call(l,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((p=(h=V(this,mn).config).onSettled)==null?void 0:p.call(h,N,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,N,null,t,this.state.context)),Yt(this,Kr,Gi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(b=V(this,mn).config).onError)==null?void 0:v.call(b,N,t,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,N,t,this.state.context)),await((j=(S=V(this,mn).config).onSettled)==null?void 0:j.call(S,void 0,N,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,N,t,this.state.context)),N}finally{Yt(this,Kr,Gi).call(this,{type:"error",error:N})}}finally{V(this,mn).runNext(this)}}},Qr=new WeakMap,mn=new WeakMap,la=new WeakMap,Kr=new WeakSet,Gi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yn.batch(()=>{V(this,Qr).forEach(r=>{r.onMutationUpdate(t)}),V(this,mn).notify({mutation:this,type:"updated",action:t})})},Pj);function pM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zn,Ou,Cj,mM=(Cj=class extends Hh{constructor(t={}){super();Me(this,zn);Me(this,Ou);this.config=t,Ee(this,zn,new Map),Ee(this,Ou,Date.now())}build(t,n,r){const i=new hM({mutationCache:this,mutationId:++cd(this,Ou)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Td(t),r=V(this,zn).get(n)??[];r.push(t),V(this,zn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Td(t);if(V(this,zn).has(n)){const i=(r=V(this,zn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?V(this,zn).delete(n):V(this,zn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=V(this,zn).get(Td(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=V(this,zn).get(Td(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){yn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,zn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oS(n,r))}findAll(t={}){return this.getAll().filter(n=>oS(t,n))}notify(t){yn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yn.batch(()=>Promise.all(t.map(n=>n.continue().catch(wr))))}},zn=new WeakMap,Ou=new WeakMap,Cj);function Td(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function uS(e){return{onFetch:(t,n)=>{var d,f,h,p,m;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=dC(t.options,t.fetchOptions),y=async(x,S,j)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const _={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};b(_);const C=await v(_),{maxPages:N}=t.options,I=j?rM:nM;return{pages:I(x.pages,C,N),pageParams:I(x.pageParams,S,N)}};if(i&&s.length){const x=i==="backward",S=x?gM:dS,j={pages:s,pageParams:a},_=S(r,j);o=await y(j,_,x)}else{const x=e??s.length;do{const S=l===0?a[0]??r.initialPageParam:dS(r,o);if(l>0&&S==null)break;o=await y(o,S),l++}while(l<x)}return o};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function dS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,as,os,Wo,Vo,ls,qo,Qo,Rj,vM=(Rj=class{constructor(e={}){Me(this,mt);Me(this,as);Me(this,os);Me(this,Wo);Me(this,Vo);Me(this,ls);Me(this,qo);Me(this,Qo);Ee(this,mt,e.queryCache||new fM),Ee(this,as,e.mutationCache||new mM),Ee(this,os,e.defaultOptions||{}),Ee(this,Wo,new Map),Ee(this,Vo,new Map),Ee(this,ls,0)}mount(){cd(this,ls)._++,V(this,ls)===1&&(Ee(this,qo,fC.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onFocus())})),Ee(this,Qo,Jf.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,mt).onOnline())})))}unmount(){var e,t;cd(this,ls)._--,V(this,ls)===0&&((e=V(this,qo))==null||e.call(this),Ee(this,qo,void 0),(t=V(this,Qo))==null||t.call(this),Ee(this,Qo,void 0))}isFetching(e){return V(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,as).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(sS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=V(this,mt).get(r.queryHash),s=i==null?void 0:i.state.data,a=Y4(t,s);if(a!==void 0)return V(this,mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return yn.batch(()=>V(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,mt);yn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,mt),r={type:"active",...e};return yn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=yn.batch(()=>V(this,mt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(e={},t={}){return yn.batch(()=>{if(V(this,mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=yn.batch(()=>V(this,mt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,mt).build(this,t);return n.isStaleByTime(sS(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=uS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=uS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jf.isOnline()?V(this,as).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,mt)}getMutationCache(){return V(this,as)}getDefaultOptions(){return V(this,os)}setDefaultOptions(e){Ee(this,os,e)}setQueryDefaults(e,t){V(this,Wo).set(Kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Wo).values()];let n={};return t.forEach(r=>{Gc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){V(this,Vo).set(Kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Vo).values()];let n={};return t.forEach(r=>{Gc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$x(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,mt).clear(),V(this,as).clear()}},mt=new WeakMap,as=new WeakMap,os=new WeakMap,Wo=new WeakMap,Vo=new WeakMap,ls=new WeakMap,qo=new WeakMap,Qo=new WeakMap,Rj),yM=w.createContext(void 0),xM=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(yM.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}var ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ds||(ds={}));const fS="popstate";function bM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return bv("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xf(i)}return SM(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wM(){return Math.random().toString(36).substr(2,8)}function hS(e,t){return{usr:e.state,key:e.key,idx:t}}function bv(e,t,n,r){return n===void 0&&(n=null),Yc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xl(t):t,{state:n,key:t&&t.key||r||wM()})}function Xf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function SM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ds.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Yc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=ds.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:o,location:g.location,delta:v})}function h(b,v){o=ds.Push;let y=bv(g.location,b,v);u=d()+1;let x=hS(y,u),S=g.createHref(y);try{a.pushState(x,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&l&&l({action:o,location:g.location,delta:1})}function p(b,v){o=ds.Replace;let y=bv(g.location,b,v);u=d();let x=hS(y,u),S=g.createHref(y);a.replaceState(x,"",S),s&&l&&l({action:o,location:g.location,delta:0})}function m(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Xf(b);return y=y.replace(/ $/,"%20"),_t(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return o},get location(){return e(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fS,f),l=b,()=>{i.removeEventListener(fS,f),l=null}},createHref(b){return t(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return a.go(b)}};return g}var pS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pS||(pS={}));function _M(e,t,n){return n===void 0&&(n="/"),jM(e,t,n,!1)}function jM(e,t,n,r){let i=typeof t=="string"?xl(t):t,s=Ux(i.pathname||"/",n);if(s==null)return null;let a=yC(e);EM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=DM(s);o=IM(a[l],u,r)}return o}function yC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yC(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:OM(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of xC(s.path))i(s,a,l)}),t}function xC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=xC(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function EM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kM=/^:[\w-]+$/,PM=3,CM=2,RM=1,NM=10,TM=-2,mS=e=>e==="*";function OM(e,t){let n=e.split("/"),r=n.length;return n.some(mS)&&(r+=TM),t&&(r+=CM),n.filter(i=>!mS(i)).reduce((i,s)=>i+(kM.test(s)?PM:s===""?RM:NM),r)}function AM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function IM(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=gS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=gS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:bs([s,f.pathname]),pathnameBase:UM(bs([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=bs([s,f.pathnameBase]))}return a}function gS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=FM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function FM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function DM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ux(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xl(e):e;return{pathname:n?n.startsWith("/")?n:$M(n,t):t,search:zM(r),hash:HM(i)}}function $M(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zx(e,t){let n=MM(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xl(e):(i=Yc({},e),_t(!i.pathname||!i.pathname.includes("?"),hm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),hm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),hm("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=LM(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const bs=e=>e.join("/").replace(/\/\/+/g,"/"),UM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bC=["post","put","patch","delete"];new Set(bC);const WM=["get",...bC];new Set(WM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(this,arguments)}const Bx=w.createContext(null),VM=w.createContext(null),As=w.createContext(null),Wh=w.createContext(null),Is=w.createContext({outlet:null,matches:[],isDataRoute:!1}),wC=w.createContext(null);function qM(e,t){let{relative:n}=t===void 0?{}:t;bl()||_t(!1);let{basename:r,navigator:i}=w.useContext(As),{hash:s,pathname:a,search:o}=_C(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:bs([r,a])),i.createHref({pathname:l,search:o,hash:s})}function bl(){return w.useContext(Wh)!=null}function Ca(){return bl()||_t(!1),w.useContext(Wh).location}function SC(e){w.useContext(As).static||w.useLayoutEffect(e)}function Vh(){let{isDataRoute:e}=w.useContext(Is);return e?s3():QM()}function QM(){bl()||_t(!1);let e=w.useContext(Bx),{basename:t,future:n,navigator:r}=w.useContext(As),{matches:i}=w.useContext(Is),{pathname:s}=Ca(),a=JSON.stringify(zx(i,n.v7_relativeSplatPath)),o=w.useRef(!1);return SC(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Hx(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function _C(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(As),{matches:i}=w.useContext(Is),{pathname:s}=Ca(),a=JSON.stringify(zx(i,r.v7_relativeSplatPath));return w.useMemo(()=>Hx(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function KM(e,t){return GM(e,t)}function GM(e,t,n,r){bl()||_t(!1);let{navigator:i}=w.useContext(As),{matches:s}=w.useContext(Is),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ca(),d;if(t){var f;let b=typeof t=="string"?xl(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||_t(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=_M(e,{pathname:p}),g=e3(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:bs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:bs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&g?w.createElement(Wh.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ds.Pop}},g):g}function YM(){let e=i3(),t=BM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const JM=w.createElement(YM,null);class XM extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Is.Provider,{value:this.props.routeContext},w.createElement(wC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZM(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Bx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Is.Provider,{value:t},r)}function e3(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,m=!1,g=null,b=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||JM,l&&(u<0&&h===0?(m=!0,b=null):u===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),y=()=>{let x;return p?x=g:m?x=b:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,w.createElement(ZM,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(XM,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var jC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jC||{}),Zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zf||{});function t3(e){let t=w.useContext(Bx);return t||_t(!1),t}function n3(e){let t=w.useContext(VM);return t||_t(!1),t}function r3(e){let t=w.useContext(Is);return t||_t(!1),t}function EC(e){let t=r3(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function i3(){var e;let t=w.useContext(wC),n=n3(Zf.UseRouteError),r=EC(Zf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s3(){let{router:e}=t3(jC.UseNavigateStable),t=EC(Zf.UseNavigateStable),n=w.useRef(!1);return SC(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Jc({fromRouteId:t},s)))},[e,t])}function kC(e){let{to:t,replace:n,state:r,relative:i}=e;bl()||_t(!1);let{future:s,static:a}=w.useContext(As),{matches:o}=w.useContext(Is),{pathname:l}=Ca(),u=Vh(),d=Hx(t,zx(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ir(e){_t(!1)}function a3(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ds.Pop,navigator:s,static:a=!1,future:o}=e;bl()&&_t(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:a,future:Jc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=xl(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=w.useMemo(()=>{let b=Ux(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:w.createElement(As.Provider,{value:u},w.createElement(Wh.Provider,{children:n,value:g}))}function o3(e){let{children:t,location:n}=e;return KM(wv(t),n)}new Promise(()=>{});function wv(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,wv(r.props.children,s));return}r.type!==ir&&_t(!1),!r.props.index||!r.props.children||_t(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wv(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(this,arguments)}function l3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u3(e,t){return e.button===0&&(!t||t==="_self")&&!c3(e)}const d3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f3="6";try{window.__reactRouterVersion=f3}catch{}const h3="startTransition",vS=Ey[h3];function p3(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=bM({window:i,v5Compat:!0}));let a=s.current,[o,l]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&vS?vS(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(a3,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const m3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=l3(t,d3),{basename:p}=w.useContext(As),m,g=!1;if(typeof u=="string"&&g3.test(u)&&(m=u,m3))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=Ux(S.pathname,p);S.origin===x.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let b=qM(u,{relative:i}),v=v3(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(x){r&&r(x),x.defaultPrevented||v(x)}return w.createElement("a",Sv({},h,{href:m||b,onClick:g||s?r:y,ref:n,target:l}))});var yS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yS||(yS={}));var xS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xS||(xS={}));function v3(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=Vh(),u=Ca(),d=_C(e,{relative:a});return w.useCallback(f=>{if(u3(f,n)){f.preventDefault();let h=r!==void 0?r:Xf(u)===Xf(d);l(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,e,s,a,o])}const y3="modulepreload",x3=function(e){return"/"+e},bS={},Bu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=x3(l),l in bS)return;bS[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":y3,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},b3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class w3 extends Wx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wS extends Wx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class SS extends Wx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _v;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_v||(_v={}));var S3=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class _3{constructor(t,{headers:n={},customFetch:r,region:i=_v.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=b3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return S3(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new w3(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new wS(f);if(!f.ok)throw new SS(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof SS||i instanceof wS?i.context:void 0}}})}}var On={},Vx={},qh={},Wu={},Qh={},Kh={},j3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},il=j3();const E3=il.fetch,PC=il.fetch.bind(il),CC=il.Headers,k3=il.Request,P3=il.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:CC,Request:k3,Response:P3,default:PC,fetch:E3},Symbol.toStringTag,{value:"Module"})),C3=C2(wl);var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});let R3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gh.default=R3;var RC=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kh,"__esModule",{value:!0});const N3=RC(C3),T3=RC(Gh);let O3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=N3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let u=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await s.text();try{u=JSON.parse(g),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,p="OK")}catch{s.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new T3.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Kh.default=O3;var A3=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qh,"__esModule",{value:!0});const I3=A3(Kh);let F3=class extends I3.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qh.default=F3;var D3=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wu,"__esModule",{value:!0});const L3=D3(Qh);let $3=class extends L3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wu.default=$3;var M3=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qh,"__esModule",{value:!0});const Bl=M3(Wu);let U3=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Bl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Bl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Bl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Bl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qh.default=U3;var Yh={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.version=void 0;Jh.version="0.0.0-automated";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.DEFAULT_HEADERS=void 0;const z3=Jh;Yh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z3.version}`};var NC=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vx,"__esModule",{value:!0});const H3=NC(qh),B3=NC(Wu),W3=Yh;let V3=class TC{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},W3.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new H3.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new TC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new B3.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Vx.default=V3;var Sl=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(On,"__esModule",{value:!0});On.PostgrestError=On.PostgrestBuilder=On.PostgrestTransformBuilder=On.PostgrestFilterBuilder=On.PostgrestQueryBuilder=On.PostgrestClient=void 0;const OC=Sl(Vx);On.PostgrestClient=OC.default;const AC=Sl(qh);On.PostgrestQueryBuilder=AC.default;const IC=Sl(Wu);On.PostgrestFilterBuilder=IC.default;const FC=Sl(Qh);On.PostgrestTransformBuilder=FC.default;const DC=Sl(Kh);On.PostgrestBuilder=DC.default;const LC=Sl(Gh);On.PostgrestError=LC.default;var q3=On.default={PostgrestClient:OC.default,PostgrestQueryBuilder:AC.default,PostgrestFilterBuilder:IC.default,PostgrestTransformBuilder:FC.default,PostgrestBuilder:DC.default,PostgrestError:LC.default};const{PostgrestClient:Q3,PostgrestQueryBuilder:$te,PostgrestFilterBuilder:Mte,PostgrestTransformBuilder:Ute,PostgrestBuilder:zte,PostgrestError:Hte}=q3;function K3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const G3=K3(),Y3="2.11.15",J3=`realtime-js/${Y3}`,X3="1.0.0",$C=1e4,Z3=1e3;var xc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xc||(xc={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var jv;(function(e){e.websocket="websocket"})(jv||(jv={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class eU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const l=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class MC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const _S=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=tU(a,e,t,i),s),{})},tU=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?UC(s,a):Ev(a)},UC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sU(t,n)}switch(e){case Je.bool:return nU(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return rU(t);case Je.json:case Je.jsonb:return iU(t);case Je.timestamp:return aU(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Ev(t);default:return Ev(t)}},Ev=e=>e,nU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>UC(t,o))}return e},aU=e=>typeof e=="string"?e.replace(" ","T"):e,zC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pm{constructor(t,n,r={},i=$C){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jS||(jS={}));class bc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=bc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ES;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ES||(ES={}));var kS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kS||(kS={}));var vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class qx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pm(this,jr.join,this.params,this.timeout),this.rejoinTimer=new MC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new bc(this),this.broadcastEndpointURL=zC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(vi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vi.CLOSED));const l={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(vi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const b=h[g],{filter:{event:v,schema:y,table:x,filter:S}}=b,j=d&&d[g];if(j&&j.event===v&&j.schema===y&&j.table===x&&j.filter===S)m.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=en.errored,t==null||t(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(vi.SUBSCRIBED);return}}).receive("error",d=>{this.state=en.errored,t==null||t(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new pm(this,jr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pm(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=jr;if(r&&[o,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var m,g,b,v,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:b,commit_timestamp:v,type:y,errors:x}=m;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&qx.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_S(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_S(t.columns,t.old_record)),n}}const PS=()=>{},oU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lU{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$C,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=PS,this.ref=0,this.logger=PS,this.conn=null,this.sendBuffer=[],this.serializer=new eU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Bu(async()=>{const{default:l}=await Promise.resolve().then(()=>wl);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${jv.websocket}`,this.httpEndpoint=zC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new MC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=G3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X3}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xc.connecting:return Xs.Connecting;case xc.open:return Xs.Open;case xc.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new qx(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:J3};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(jr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Z3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([oU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Qx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cU extends Qx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kv extends Qx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var uU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const HC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},dU=()=>uU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),Pv=e=>{if(Array.isArray(e))return e.map(n=>Pv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Pv(r)}),t},fU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ra=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hU=(e,t,n)=>Ra(void 0,void 0,void 0,function*(){const r=yield dU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new cU(mm(i),s,a))}).catch(i=>{t(new kv(mm(i),i))}):t(new kv(mm(e),e))}),pU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(fU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Vu(e,t,n,r,i,s){return Ra(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,pU(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>hU(l,o,r))})})}function eh(e,t,n,r){return Ra(this,void 0,void 0,function*(){return Vu(e,"GET",t,n,r)})}function yi(e,t,n,r,i){return Ra(this,void 0,void 0,function*(){return Vu(e,"POST",t,r,i,n)})}function Cv(e,t,n,r,i){return Ra(this,void 0,void 0,function*(){return Vu(e,"PUT",t,r,i,n)})}function mU(e,t,n,r){return Ra(this,void 0,void 0,function*(){return Vu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function BC(e,t,n,r,i){return Ra(this,void 0,void 0,function*(){return Vu(e,"DELETE",t,r,i,n)})}var kn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const gU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vU{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=HC(i)}uploadOrUpdate(t,n,r,i){return kn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},CS),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Cv:yi)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return kn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:CS.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Cv(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return kn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield yi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Qx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return kn(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return kn(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return kn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield yi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return kn(this,void 0,void 0,function*(){try{const i=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){return kn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield eh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}info(t){return kn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield eh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pv(r),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return kn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield mU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Lt(r)&&r instanceof kv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return kn(this,void 0,void 0,function*(){try{return{data:yield BC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return kn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gU),n),{prefix:t||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const yU="2.10.4",xU={"X-Client-Info":`storage-js/${yU}`};var Wa=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class bU{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},xU),n),this.fetch=HC(r)}listBuckets(){return Wa(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Wa(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Wa(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Wa(this,void 0,void 0,function*(){try{return{data:yield BC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}}class wU extends bU{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new vU(this.url,this.headers,t,this.fetch)}}const SU="2.53.0";let nc="";typeof Deno<"u"?nc="deno":typeof document<"u"?nc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nc="react-native":nc="node";const _U={"X-Client-Info":`supabase-js-${nc}/${SU}`},jU={headers:_U},EU={schema:"public"},kU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PU={};var CU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const RU=e=>{let t;return e?t=e:typeof fetch>"u"?t=PC:t=fetch,(...n)=>t(...n)},NU=()=>typeof Headers>"u"?CC:Headers,TU=(e,t,n)=>{const r=RU(n),i=NU();return(s,a)=>CU(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var OU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};function AU(e){return e.endsWith("/")?e:e+"/"}function IU(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>OU(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const WC="2.71.1",oo=30*1e3,Rv=3,gm=Rv*oo,FU="http://localhost:9999",DU="supabase.auth.token",LU={"X-Client-Info":`gotrue-js/${WC}`},Nv="X-Supabase-Api-Version",VC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$U=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MU=10*60*1e3;class Kx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UU extends Kx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zU(e){return xe(e)&&e.name==="AuthApiError"}class qC extends Kx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fs extends Kx{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Yi extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HU(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Od extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ad extends Fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Id extends Fs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BU(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class RS extends Fs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tv extends Fs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function vm(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class NS extends Fs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ov extends Fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TS=` 	
\r=`.split(""),WU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TS.length;t+=1)e[TS[t].charCodeAt(0)]=-2;for(let t=0;t<th.length;t+=1)e[th[t].charCodeAt(0)]=t;return e})();function OS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(th[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(th[r]),t.queuedBits-=6}}function QC(e,t,n){const r=WU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function AS(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{QU(a,r,n)};for(let a=0;a<e.length;a+=1)QC(e.charCodeAt(a),i,s);return t.join("")}function VU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}VU(r,t)}}function QU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function KU(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)QC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function GU(e){const t=[];return qU(e,n=>t.push(n)),new Uint8Array(t)}function YU(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>OS(i,n,r)),OS(null,n,r),t.join("")}function JU(e){return Math.round(Date.now()/1e3)+e}function XU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yr=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},KC=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function ZU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const GC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},e5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vi=async(e,t)=>{await e.removeItem(t)};class Xh{constructor(){this.promise=new Xh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xh.promiseConstructor=Promise;function ym(e){const t=e.split(".");if(t.length!==3)throw new Ov("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$U.test(t[r]))throw new Ov("JWT not in base64url format");return{header:JSON.parse(AS(t[0])),payload:JSON.parse(AS(t[1])),signature:KU(t[2]),raw:{header:t[0],payload:t[1]}}}async function t5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n5(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function r5(e){return("0"+e.toString(16)).substr(-2)}function i5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,r5).join("")}async function s5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function a5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await s5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(e,t,n=!1){const r=i5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await lo(e,`${t}-code-verifier`,i);const s=await a5(r);return[s,r===s?"plain":"s256"]}const o5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l5(e){const t=e.headers.get(Nv);if(!t||!t.match(o5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function c5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function u5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qa(e){if(!d5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IS(e){return JSON.parse(JSON.stringify(e))}var f5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h5=[502,503,504];async function FS(e){var t;if(!e5(e))throw new Tv(Ys(e),0);if(h5.includes(e.status))throw new Tv(Ys(e),e.status);let n;try{n=await e.json()}catch(s){throw new qC(Ys(s),s)}let r;const i=l5(e);if(i&&i.getTime()>=VC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new NS(Ys(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new NS(Ys(n),e.status,n.weak_password.reasons);throw new UU(Ys(n),e.status||500,r)}const p5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Nv]||(s[Nv]=VC["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await m5(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function m5(e,t,n,r,i,s){const a=p5(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Tv(Ys(l),0)}if(o.ok||await FS(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await FS(l)}}function pi(e){var t;let n=null;x5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function DS(e){const t=pi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g5(e){return{data:e,error:null}}function v5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=f5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function y5(e){return e}function x5(e){return e.access_token&&e.refresh_token&&e.expires_in}const bm=["global","local","others"];var b5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class w5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=GC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=bm[0]){if(bm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bm.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=b5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ns})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:y5});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){qa(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ns})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qa(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){qa(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qa(t.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qa(t.userId),qa(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function LS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function S5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qa={debug:!!(globalThis&&KC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _5 extends YC{}async function j5(e,t,n){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}S5();const E5={url:FU,storageKey:DU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $S(e,t,n){return await n()}const Ka={};class Xc{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xc.nextInstanceID,Xc.nextInstanceID+=1,this.instanceID>0&&yr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},E5),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new w5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=GC(i.fetch),this.lock=i.lock||$S,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:yr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=j5:this.lock=$S,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:KC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=LS(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ZU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),yr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),BU(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new qC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:pi}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Va(this.storage,this.storageKey)),s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:pi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pi})}else throw new Ad("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:DS})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:DS})}else throw new Ad("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Od}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,l,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:y,options:x}=t;let S;if(yr())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:b,error:v}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:YU(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pi});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Od}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(xe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:pi});if(await Vi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Od}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(xe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pi}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Od}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Va(this.storage,this.storageKey));const{error:f}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ad("You must provide either an email or phone number.")}catch(o){if(xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Va(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:g5})}catch(s){if(xe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Yi;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ad("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Hs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=xm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ns}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yi}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ns})})}catch(n){if(xe(n))return HU(n)&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Yi;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Va(this.storage,this.storageKey));const{data:u,error:d}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ns});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yi;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=ym(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!yr())throw new Id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new RS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Id("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new RS("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!a||!u)throw new Id("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:b}=await this._getUser(s);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(zU(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Vi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=XU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Va(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(xe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return yr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await n5(async i=>(i>0&&await t5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&vm(s)&&Date.now()+a-r<oo})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Hs(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await lo(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:xm()}else if(i&&!i.user&&!i.user){const a=await Hs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Vi(this.storage,this.storageKey+"-user"),await lo(this.storage,this.storageKey,i)):i.user=xm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${gm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),vm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Yi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xh;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Yi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),xe(s)){const a={session:null,error:s};return vm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await lo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=IS(i);await lo(this.storage,this.storageKey,s)}else{const i=IS(n);await lo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vi(this.storage,this.storageKey),await Vi(this.storage,this.storageKey+"-code-verifier"),await Vi(this.storage,this.storageKey+"-user"),this.userStorage&&await Vi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${oo}ms, refresh threshold is ${Rv} ticks`),i<=Rv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Va(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ym(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+MU>i)return r;const{data:s,error:a}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=ym(r);n!=null&&n.allowExpired||c5(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=u5(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,GU(`${o}.${l}`)))throw new Ov("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}Xc.nextInstanceID=0;const k5=Xc;class P5 extends k5{constructor(t){super(t)}}var C5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class R5{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=AU(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:EU,realtime:PU,auth:Object.assign(Object.assign({},kU),{storageKey:u}),global:jU},f=IU(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=TU(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Q3(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new wU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return C5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P5({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new lU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N5=(e,t,n)=>new R5(e,t,n);function T5(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}T5()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O5="https://wrodvaatdujbpfpvrzge.supabase.co",A5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",I5=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},X=N5(O5,A5,{auth:{storage:I5(),persistSession:!0,autoRefreshToken:!0}}),JC=w.createContext(void 0),yt=()=>{const e=w.useContext(JC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},F5=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(null),[s,a]=w.useState(!0);w.useEffect(()=>{const{data:{subscription:f}}=X.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:m,error:g}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(g||!m)return;const{data:b,error:v}=await X.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(v||!b)return;if(b.plan_type==="freemium"){const{data:y,error:x}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();!x&&y&&new Date(y.expires_at)<=new Date&&await X.auth.signOut()}}catch(m){console.error("Error checking trial status:",m)}},0),a(!1)});return X.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const o=async()=>{const{error:f}=await X.auth.signOut();if(f)throw console.error("Error signing out:",f),f},l=async(f,h)=>{const{data:p,error:m}=await X.auth.signInWithPassword({email:f,password:h});if(p!=null&&p.user&&!m)try{const{data:g,error:b}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!b&&g){const{data:v,error:y}=await X.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(!y&&v&&v.plan_type==="freemium"){const{data:x,error:S}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();if(!S&&x&&new Date(x.expires_at)<=new Date)return await X.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(g){console.error("Error checking trial status during login:",g)}return{data:p,error:m}},u=async(f,h,p)=>{const{data:m,error:g}=await X.auth.signUp({email:f,password:h,options:{data:p}});return{data:m,error:g}},d=async()=>{const{data:f,error:h}=await X.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:h}};return c.jsx(JC.Provider,{value:{user:t,session:r,loading:s,signOut:o,signIn:l,signUp:u,signInWithGoogle:d},children:e})},XC=w.createContext(void 0),Gx=()=>{const e=w.useContext(XC);if(!e)throw new Error("useUser must be used within a UserProvider");return e},D5=({children:e})=>{const{user:t}=yt(),[n,r]=w.useState(null),[i,s]=w.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:l,error:u}=await X.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u&&u.code!=="PGRST116"){console.error("Error fetching user profile:",u),r(null),s(!1);return}const{data:d}=await X.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single(),f={user_id:t.id,workspace_id:(l==null?void 0:l.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:l==null?void 0:l.first_name,last_name:l==null?void 0:l.last_name,company:l==null?void 0:l.company,position:l==null?void 0:l.position,phone:l==null?void 0:l.phone,email:(l==null?void 0:l.email)||t.email||"",plan_type:l==null?void 0:l.plan_type,subscribed:l==null?void 0:l.subscribed,role:d==null?void 0:d.role};r(f)}catch(l){console.error("Error in fetchProfile:",l),r(null)}s(!1)};w.useEffect(()=>{a()},[t]);const o=async()=>{s(!0),await a()};return c.jsx(XC.Provider,{value:{userProfile:n,loading:i,refreshProfile:o},children:e})},ZC=w.createContext(void 0),$i=()=>{const e=w.useContext(ZC);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},L5=({children:e})=>{const{user:t}=yt(),{userProfile:n}=Gx(),[r,i]=w.useState(null),[s,a]=w.useState(!0),o=async()=>{if(!t||!(n!=null&&n.workspace_id)){i(null),a(!1);return}try{const{data:u,error:d}=await X.from("workspaces").select("*").eq("id",n.workspace_id).single();d?(console.error("Error fetching workspace:",d),i(null)):i(u)}catch(u){console.error("Error in fetchWorkspace:",u),i(null)}a(!1)};w.useEffect(()=>{o()},[t,n]);const l=async()=>{a(!0),await o()};return c.jsx(ZC.Provider,{value:{currentWorkspace:r,loading:s,refreshWorkspace:l},children:e})},_l=()=>{const{user:e}=yt(),{currentWorkspace:t}=$i(),[n,r]=w.useState([]),[i,s]=w.useState([]);w.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await X.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(p=>p.source_name));const{data:h}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=w.useCallback(d=>!!e,[e]),o=w.useCallback(d=>!n.includes(d),[n]),l=w.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=w.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:o,getSourceLabel:u,canUseFavorites:l,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},eR=w.createContext(void 0),Zh=()=>{const e=w.useContext(eR);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},$5=({children:e})=>{const{user:t}=yt(),{canUseFavorites:n}=_l(),[r,i]=w.useState([]),[s,a]=w.useState(!1),[o,l]=w.useState(0),u=3e4,d=w.useRef(0),f=w.useCallback((v,y)=>({id:y,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=w.useCallback(async(v=!1)=>{if(!t||!n()){i([]),l(0),d.current=0;return}const y=Date.now();if(!(!v&&d.current&&y-d.current<u))try{a(!0);const{data:x,error:S}=await X.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!x||x.length===0){i([]),l(y),d.current=y;return}const j=x.map(_=>_.item_data?f(_.item_data,_.item_id):null).filter(Boolean);i(j),l(y),d.current=y}catch(x){console.error("Error fetching favorites:",x)}finally{a(!1)}},[t,n,f]),p=w.useCallback(async v=>{if(!(!t||!n()))try{const{error:y}=await X.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(y)throw y;i(x=>[...x,{...v,isFavorite:!0}]),l(0)}catch(y){throw console.error("Error adding to favorites:",y),y}},[t,n]),m=w.useCallback(async v=>{if(!(!t||!n()))try{i(x=>x.filter(S=>S.id!==v));const{error:y}=await X.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(y)throw await h(!0),y;l(0)}catch(y){throw console.error("Error removing from favorites:",y),y}},[t,n,h]),g=w.useMemo(()=>new Set(r.map(v=>v.id)),[r]),b=w.useCallback(v=>g.has(v),[g]);return w.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),l(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),w.useEffect(()=>{if(!t||!n())return;const v=X.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},y=>{var x,S,j;try{if(y.eventType==="INSERT"&&((x=y.new)==null?void 0:x.item_type)==="emission_factor"){const _=f(y.new.item_data,y.new.item_id);i(C=>C.some(N=>N.id===_.id)?C:[...C,_])}if(y.eventType==="DELETE"){const _=(S=y.old)==null?void 0:S.item_id;_&&i(C=>C.filter(N=>N.id!==_))}if(y.eventType==="UPDATE"&&((j=y.new)==null?void 0:j.item_type)==="emission_factor"){const _=f(y.new.item_data,y.new.item_id);i(C=>C.map(N=>N.id===_.id?_:N))}}catch(_){console.error("favorites realtime handler error",_)}}).subscribe();return()=>{X.removeChannel(v)}},[t,n,f]),c.jsx(eR.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:m,isFavorite:b,refreshFavorites:h},children:e})},M5=Uu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ti=w.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:ue(M5({variant:t}),e),...n}));Ti.displayName="Alert";const U5=w.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));U5.displayName="AlertTitle";const Oi=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",e),...t}));Oi.displayName="AlertDescription";const Yx=Uu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?va:"button";return c.jsx(a,{className:ue(Yx({variant:t,size:n,className:e})),ref:s,...i})});Z.displayName="Button";const tR=()=>{const{user:e}=yt(),[t,n]=w.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return w.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,o,l)=>{if(!e)return!1;try{const{data:u,error:d}=await X.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:o,workspace_name:l},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await X.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await X.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await X.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},z5=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=tR(),{toast:r}=un();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return c.jsxs(Ti,{className:"bg-orange-50 border-orange-200 mb-4",children:[c.jsx(ya,{className:"h-4 w-4 text-orange-600"}),c.jsxs(Oi,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-orange-800",children:[c.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",c.jsx("strong",{children:t.email})," dans le workspace"," ",c.jsx("strong",{children:t.workspace_name})]}),c.jsxs(Z,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[c.jsx(SP,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},De=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));De.displayName="Card";const Ve=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const qe=w.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const Qn=w.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));Qn.displayName="CardDescription";const Le=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ue("p-6 pt-0",e),...t}));Le.displayName="CardContent";const H5=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",e),...t}));H5.displayName="CardFooter";function B5(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[e][l])||o,b=w.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||o,m=w.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,W5(i,...t)]}function W5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var V5=w.createContext(void 0);function Jx(e){const t=w.useContext(V5);return e||t||"ltr"}var wm="rovingFocusGroup.onEntryFocus",q5={bubbles:!1,cancelable:!0},ep="RovingFocusGroup",[Av,nR,Q5]=vx(ep),[K5,rR]=B5(ep,[Q5]),[G5,Y5]=K5(ep),iR=w.forwardRef((e,t)=>c.jsx(Av.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Av.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(J5,{...e,ref:t})})}));iR.displayName=ep;var J5=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),p=$e(t,h),m=Jx(s),[g=null,b]=ti({prop:a,defaultProp:o,onChange:l}),[v,y]=w.useState(!1),x=$n(u),S=nR(n),j=w.useRef(!1),[_,C]=w.useState(0);return w.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(wm,x),()=>N.removeEventListener(wm,x)},[x]),c.jsx(G5,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(N=>b(N),[b]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:w.useCallback(()=>C(N=>N-1),[]),children:c.jsx(me.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{j.current=!0}),onFocus:ce(e.onFocus,N=>{const I=!j.current;if(N.target===N.currentTarget&&I&&!v){const P=new CustomEvent(wm,q5);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const L=S().filter(R=>R.focusable),D=L.find(R=>R.active),$=L.find(R=>R.id===g),M=[D,$,...L].filter(Boolean).map(R=>R.ref.current);oR(M,d)}}j.current=!1}),onBlur:ce(e.onBlur,()=>y(!1))})})}),sR="RovingFocusGroupItem",aR=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=ei(),l=s||o,u=Y5(sR,n),d=u.currentTabStopId===l,f=nR(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return w.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),c.jsx(Av.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:c.jsx(me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:ce(e.onMouseDown,m=>{r?u.onItemFocus(l):m.preventDefault()}),onFocus:ce(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:ce(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=ez(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const y=v.indexOf(m.currentTarget);v=u.loop?tz(v,y+1):v.slice(y+1)}setTimeout(()=>oR(v))}})})})});aR.displayName=sR;var X5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Z5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ez(e,t,n){const r=Z5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return X5[r]}function oR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nz=iR,rz=aR,Xx="Tabs",[iz,Bte]=Di(Xx,[rR]),lR=rR(),[sz,Zx]=iz(Xx),cR=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=e,d=Jx(o),[f,h]=ti({prop:r,onChange:i,defaultProp:s});return c.jsx(sz,{scope:n,baseId:ei(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:c.jsx(me.div,{dir:d,"data-orientation":a,...u,ref:t})})});cR.displayName=Xx;var uR="TabsList",dR=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Zx(uR,n),a=lR(n);return c.jsx(nz,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:c.jsx(me.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});dR.displayName=uR;var fR="TabsTrigger",hR=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=Zx(fR,n),o=lR(n),l=gR(a.baseId,r),u=vR(a.baseId,r),d=r===a.value;return c.jsx(rz,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:ce(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ce(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});hR.displayName=fR;var pR="TabsContent",mR=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=Zx(pR,n),l=gR(o.baseId,r),u=vR(o.baseId,r),d=r===o.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Li,{present:i||d,children:({present:h})=>c.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});mR.displayName=pR;function gR(e,t){return`${e}-trigger-${t}`}function vR(e,t){return`${e}-content-${t}`}var az=cR,yR=dR,xR=hR,bR=mR;const Iv=az,nh=w.forwardRef(({className:e,...t},n)=>c.jsx(yR,{ref:n,className:ue("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));nh.displayName=yR.displayName;const bi=w.forwardRef(({className:e,...t},n)=>c.jsx(xR,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));bi.displayName=xR.displayName;const wi=w.forwardRef(({className:e,...t},n)=>c.jsx(bR,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wi.displayName=bR.displayName;const ke=({src:e,alt:t,className:n})=>c.jsx("span",{role:"img","aria-label":t,className:ue("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),oz=()=>c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(bt,{to:"/signup",children:c.jsx(Z,{variant:"outline",children:"S'inscrire"})}),c.jsx(bt,{to:"/login",children:c.jsx(Z,{children:"Se connecter"})})]})]})})}),c.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[c.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",c.jsx("br",{}),"de FE le plus puissant",c.jsx("br",{}),"du marché"]}),c.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",c.jsx("br",{}),"agrégés et enrichis par nos experts."]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(bt,{to:"/signup",children:c.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),c.jsx(bt,{to:"/login",children:c.jsx(Z,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),c.jsx("div",{className:"order-1 lg:order-2",children:c.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),c.jsx("section",{className:"py-16 bg-background",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),c.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),c.jsx("div",{className:"flex flex-col items-center",children:c.jsx(ke,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"container mx-auto text-center",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",c.jsx("br",{}),"du moteur de recherche"]}),c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:c.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),c.jsx("section",{className:"py-20 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",c.jsx("br",{}),"puissant et personnalisable"]}),c.jsxs(Iv,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[c.jsxs(nh,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[c.jsx(bi,{value:"donnees",className:"rounded-full",children:"Données"}),c.jsx(bi,{value:"recherche",className:"rounded-full",children:"Recherche"}),c.jsx(bi,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),c.jsx(bi,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),c.jsxs(wi,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",c.jsx("br",{}),"données carbone"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",c.jsx("br",{}),"données de références internationales."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",c.jsx("br",{}),"qualité des FE."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",c.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg p-6",children:c.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),c.jsxs(wi,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",c.jsx("br",{}),"d'utilisation"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",c.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",c.jsx("br",{}),"automatiques et tri personnalisable."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",c.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg p-6",children:c.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),c.jsxs(wi,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",c.jsx("br",{}),"selon vos besoins"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",c.jsx("br",{}),"thématiques pour un accès rapide."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",c.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",c.jsx("br",{}),"base de données personnalisée."]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg p-6",children:c.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),c.jsxs(wi,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",c.jsx("br",{}),"la recherche de FE"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",c.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",c.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),c.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",c.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg p-6",children:c.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",c.jsx("br",{}),"sur une seule plateforme"]}),c.jsxs(Iv,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[c.jsxs(nh,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[c.jsx(bi,{value:"standards",className:"rounded-full",children:"Datasets standards"}),c.jsx(bi,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),c.jsx(wi,{value:"standards",children:c.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((e,t)=>c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="AIB"?c.jsx(ke,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):e==="Agribalyse"?c.jsx(ke,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):e==="BEIS"?c.jsx(ke,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):e==="Base Carbone"?c.jsx(ke,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):e==="Base Impacts"?c.jsx(ke,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):e==="CCF"?c.jsx(ke,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):e==="Climate Trace"?c.jsx(ke,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):e==="EEA"?c.jsx(ke,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):e==="EPA"?c.jsx(ke,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):e==="Exiobase"?c.jsx(ke,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):e==="EcoInvent"?c.jsx(ke,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):e==="Ecobalyse"?c.jsx(ke,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):e==="Electricity Maps"?c.jsx(ke,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):e==="Ember"?c.jsx(ke,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):e==="GESPoint5"?c.jsx(ke,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):e==="GLEC"?c.jsx(ke,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):e==="Kering"?c.jsx(ke,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):e==="OMEGA TP"?c.jsx(ke,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):e==="Open CEDA"?c.jsx(ke,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):e==="PCAF"?c.jsx(ke,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),c.jsx("span",{className:"text-sm text-center",children:e})]},t))})}),c.jsx(wi,{value:"premium",children:c.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((e,t)=>c.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[c.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="Inies"?c.jsx(ke,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):e==="Eco-platform"?c.jsx(ke,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):e==="EcoInvent"?c.jsx(ke,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),c.jsx("span",{className:"text-sm text-center",children:e})]},t))})})]})]})}),c.jsx("section",{className:"py-20 px-4 bg-background",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),c.jsxs("div",{className:"space-y-8 py-4",children:[c.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",c.jsx("br",{}),"structurée et enrichie par nos",c.jsx("br",{}),"experts"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),c.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),c.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),c.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),c.jsx("section",{className:"py-20 px-4",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",c.jsx("br",{}),"à vos besoins"]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[c.jsxs(De,{className:"p-8 border border-border",children:[c.jsxs(Ve,{className:"pb-4",children:[c.jsx(qe,{className:"text-xl font-semibold",children:"STANDARD"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),c.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",c.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),c.jsxs(Le,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),c.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]}),c.jsxs(De,{className:"p-8 relative border border-border",children:[c.jsxs(Ve,{className:"pb-4",children:[c.jsx(qe,{className:"text-xl font-semibold",children:"PREMIUM"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),c.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",c.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),c.jsxs(Le,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Export des données"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),c.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),c.jsx("section",{className:"py-20 px-4 bg-primary",children:c.jsx("div",{className:"container mx-auto text-center",children:c.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[c.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),c.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(bt,{to:"/signup",children:c.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),c.jsx(bt,{to:"/login",children:c.jsx(Z,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),c.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[c.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),c.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:c.jsx(rL,{className:"h-4 w-4"})}),c.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:c.jsx(_P,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[c.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),c.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[c.jsx(bt,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),c.jsx(bt,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),c.jsx(bt,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]}),Mt=w.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Mt.displayName="Input";var lz="Label",wR=w.forwardRef((e,t)=>c.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wR.displayName=lz;var SR=wR;const cz=Uu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tt=w.forwardRef(({className:e,...t},n)=>c.jsx(SR,{ref:n,className:ue(cz(),e),...t}));Tt.displayName=SR.displayName;const _R=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const o={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return c.jsxs(Z,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${o[e]} ${a}`,children:[n?c.jsx(tl,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx("span",{className:"mr-2",children:s}),i]})},jR=w.createContext(void 0),ER=()=>{const e=w.useContext(jR);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},kR=({children:e})=>{const[t,n]=w.useState({loading:{google:!1},lastError:null}),r=(a,o)=>{n(l=>({...l,loading:{...l.loading,[a]:o}}))},i=a=>{n(o=>({...o,lastError:a}))},s=()=>{i(null)};return c.jsx(jR.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},uz=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),{toast:l}=un(),{signIn:u,signInWithGoogle:d}=yt(),{ssoState:f,setProviderLoading:h,setLastError:p}=ER(),m=Ca();w.useEffect(()=>{(async()=>{if(new URLSearchParams(m.search).get("trial_expired")==="true"){o(!0);return}try{const{data:{session:x}}=await X.auth.getSession();if(x!=null&&x.user){const{data:S}=await X.from("users").select("workspace_id").eq("user_id",x.user.id).single();if(S){const{data:j}=await X.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((j==null?void 0:j.plan_type)==="freemium"){const{data:_}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();_&&new Date(_.expires_at)<=new Date&&(o(!0),await X.auth.signOut())}}}}catch(x){console.error("Error checking trial status:",x)}})()},[m]);const g=async v=>{v.preventDefault(),s(!0),p(null);try{const y=await u(e,n);y.error&&(l({variant:"destructive",title:"Erreur lors de la connexion",description:y.error.message}),p(y.error.message))}catch{l({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},b=async v=>{h(v,!0),p(null);try{const y=await d();y.error&&(l({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:y.error.message}),p(y.error.message))}catch{l({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return c.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(bt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[c.jsx(wx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),c.jsxs(De,{children:[c.jsxs(Ve,{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:c.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),c.jsx(qe,{className:"text-2xl",children:"Se connecter"}),c.jsx(Qn,{children:"Connectez-vous à votre compte DataCarb"})]}),c.jsxs(Le,{children:[a&&c.jsxs(Ti,{variant:"destructive",className:"mb-6",children:[c.jsx(kr,{className:"h-4 w-4"}),c.jsx(Oi,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),c.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"email",children:"Email"}),c.jsx(Mt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"password",children:"Mot de passe"}),c.jsx(Mt,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),c.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),c.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:c.jsx("span",{children:"ou"})}),c.jsx(_R,{provider:"google",onClick:()=>b("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:c.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&c.jsxs(Ti,{variant:"destructive",className:"mt-4",children:[c.jsx(kr,{className:"h-4 w-4"}),c.jsx(Oi,{children:f.lastError})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",c.jsx(bt,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},dz=()=>c.jsx(kR,{children:c.jsx(uz,{})}),fz=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[a,o]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(!1),{toast:m}=un(),{signUp:g,signInWithGoogle:b}=yt(),{ssoState:v,setProviderLoading:y,setLastError:x}=ER(),S=async _=>{if(_.preventDefault(),n!==i){m({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){m({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),x(null);try{const C=await g(e,n,{firstName:a,lastName:l,company:d||"Mon Entreprise"});C.error?(m({variant:"destructive",title:"Erreur lors de l'inscription",description:C.error.message}),x(C.error.message)):(m({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{m({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),x("Une erreur inattendue s'est produite")}finally{p(!1)}},j=async _=>{y(_,!0),x(null);try{const C=await b();C.error&&(m({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:C.error.message}),x(C.error.message))}catch{m({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),x("Une erreur inattendue s'est produite")}finally{y(_,!1)}};return c.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(bt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[c.jsx(wx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),c.jsxs(De,{children:[c.jsxs(Ve,{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:c.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),c.jsx(qe,{className:"text-2xl",children:"Créer un compte"}),c.jsx(Qn,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),c.jsxs(Le,{children:[c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"firstName",children:"Prénom"}),c.jsx(Mt,{id:"firstName",type:"text",value:a,onChange:_=>o(_.target.value),required:!0,placeholder:"Votre prénom"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"lastName",children:"Nom"}),c.jsx(Mt,{id:"lastName",type:"text",value:l,onChange:_=>u(_.target.value),required:!0,placeholder:"Votre nom"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"company",children:"Nom de l'entreprise"}),c.jsx(Mt,{id:"company",type:"text",value:d,onChange:_=>f(_.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"email",children:"Email"}),c.jsx(Mt,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0,placeholder:"votre@email.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"password",children:"Mot de passe"}),c.jsx(Mt,{id:"password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),c.jsx(Mt,{id:"confirmPassword",type:"password",value:i,onChange:_=>s(_.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),c.jsx(Z,{type:"submit",className:"w-full",disabled:h,children:h?c.jsxs(c.Fragment,{children:[c.jsx(tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),c.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:c.jsx("span",{children:"ou"})}),c.jsx(_R,{provider:"google",onClick:()=>j("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:c.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&c.jsxs(Ti,{variant:"destructive",className:"mt-4",children:[c.jsx(kr,{className:"h-4 w-4"}),c.jsx(Oi,{children:v.lastError})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",c.jsx(bt,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},hz=()=>c.jsx(kR,{children:c.jsx(fz,{})}),Fv="7.16.2";function ln(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var eb=ln;ln.prototype._events=void 0;ln.prototype._maxListeners=void 0;ln.defaultMaxListeners=10;ln.prototype.setMaxListeners=function(e){if(!pz(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};ln.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Zc(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(n=this._events[e],PR(n))return!1;if(Ai(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Zc(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};ln.prototype.addListener=function(e,t){var n;if(!Ai(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ai(t.listener)?t.listener:t),this._events[e]?Zc(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Zc(this._events[e])&&!this._events[e].warned&&(PR(this._maxListeners)?n=ln.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};ln.prototype.on=ln.prototype.addListener;ln.prototype.once=function(e,t){if(!Ai(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};ln.prototype.removeListener=function(e,t){var n,r,i,s;if(!Ai(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Ai(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Zc(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};ln.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Ai(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};ln.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Ai(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};ln.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ai(t))return 1;if(t)return t.length}return 0};ln.listenerCount=function(e,t){return e.listenerCount(t)};function Ai(e){return typeof e=="function"}function pz(e){return typeof e=="number"}function Zc(e){return typeof e=="object"&&e!==null}function PR(e){return e===void 0}const mz=ja(eb);function gz(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var CR=gz,vz=eb,yz=CR;function qu(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}yz(qu,vz);qu.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};qu.prototype.getModifiedState=function(e){return this.fn(e)};qu.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var xz=qu;function bz(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function wz(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var tb={escapeFacetValue:bz,unescapeFacetValue:wz};function Sz(e){return typeof e=="object"&&e!==null?nb(Array.isArray(e)?[]:{},e):e}function rh(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function nb(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(rh(i)&&rh(r)?e[n]=nb(i,r):e[n]=Sz(r))}return e}function _z(e){rh(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];rh(r)&&nb(e,r)}return e}var rb=_z;function jz(e){return e&&Object.keys(e).length>0}var ib=jz;function Ez(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sb=Ez;function rc(e){e=e||{},this.params=e.params||[]}rc.prototype={constructor:rc,addParams:function(e){var t=this.params.slice();return t.push(e),new rc({params:t})},removeParams:function(e){return new rc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var RR=rc;function Dv(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}Dv.prototype={constructor:Dv};var NR=Dv,Fd=rb;function Dd(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Ft={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Ft._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Ft._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),o=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(o).length>1){var l=a[0].split(o).slice(0,-1).reduce(function(d,f,h){return d.concat({attribute:s.attributes[h],value:h===0?f:[d[d.length-1].value,f].join(o)})},[]);l.forEach(function(u,d){var f=Ft._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function h(g){return s.attributes.some(function(b){return b===g.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(g,b){if(Array.isArray(b)){var v=b.filter(function(y){return!h(y)});v.length>0&&g.push(v)}return typeof b=="string"&&!h(b)&&g.push(b),g},[]),m=l[d-1];d>0?f.facetFilters=p.concat(m.attribute+":"+m.value):p.length>0?f.facetFilters=p:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Ft._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Ft._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ft._getFacetFilters(e),r=Ft._getNumericFilters(e),i=Ft._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Dd(Fd({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(o){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[o]&&e.disjunctiveFacetsRefinements[o].length>0?"disjunctive("+o+")":o})).concat(Ft._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ft._getFacetFilters(e),r=Ft._getNumericFilters(e),i=Ft._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,Dd(Fd({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Ft._getFacetFilters(e,t,n),i=Ft._getNumericFilters(e,t),s=Ft._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return o?a.facets=Ft._getDisjunctiveHierarchicalFacetAttribute(e,o,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),Dd(Fd({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(o){if(Array.isArray(o)){var l=o.map(function(u){return r+s+u});n.push(l)}else n.push(r+s+o)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(l){var u=i[l]||[];u.slice().sort().forEach(function(d){r.push(l+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(l){var u=s[l]||[];u.sort().forEach(function(d){r.push(l+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(l){var u=a[l]||[];if(!(l===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(l+":"+f)}),r.push(d)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(l){var u=o[l]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(l),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),m,g;if(t===l){if(d.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===d.split(h).length)return;p?(g=p.split(h).length-1,d=p):(g=d.split(h).length-2,d=d.slice(0,d.lastIndexOf(h))),m=f.attributes[g]}else g=d.split(h).length-1,m=f.attributes[g];m&&r.push([m+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),o=s.split(a).length,l=i.attributes.slice(0,o+1);return r.concat(l)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",o=a.split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),Dd(Fd({},Ft._getHitsSearchParams(i),s))}},kz=Ft,ab=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},Qu=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function Pz(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var Cz=Pz;function TR(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(TR);throw new Error("The value should be a number, a parsable string or an array of those.")}var Rz=TR,Nz=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},Tz=ab,Oz=ib,Az=sb,Js={addRefinement:function(t,n,r){if(Js.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,Tz(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return Js.clearRefinement(t,function(s,a){return n===a});var i=""+r;return Js.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return Js.isRefined(t,n,r)?Js.removeRefinement(t,n,r):Js.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return Oz(t)?{}:t;if(typeof n=="string")return Az(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,o){var l=t[o]||[],u=l.filter(function(d){return!n(d,o,r)});return u.length!==l.length&&(i=!0),a[o]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},Iz=Js,Sm=ab,OR=Qu,MS=Cz,Lv=rb,$v=ib,US=sb,_m=Rz,Fz=Nz,pt=Iz;function ob(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return ob(t[r],n)}):e===t}function Dz(e,t){return OR(e,function(n){return ob(n,t)})}function In(e){var t=e?In._parseNumbers(e):{};t.userToken!==void 0&&!Fz(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=In.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}In.PARAMETERS=Object.keys(new In);In._parseNumbers=function(e){if(e instanceof In)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var o=s[a],l=o.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=l})}),t.numericRefinements=r}return Lv(e,t)};In.make=function(t){var n=new In(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};In.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&$v(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):$v(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};In.prototype={constructor:In,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:pt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:pt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:pt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:pt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=_m(n);if(this.isNumericRefined(e,t,r))return this;var i=Lv({},this.numericRefinements);return i[e]=Lv({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&ob(i.val,_m(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return $v(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return US(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var o=r[a],l={};return o=o||{},Object.keys(o).forEach(function(u){var d=o[u]||[],f=[];d.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||f.push(h)}),f.length!==d.length&&(n=!0),l[u]=f}),s[a]=l,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:pt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:pt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return pt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:pt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:pt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return pt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:pt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return pt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:pt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:pt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:pt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:pt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Sm(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Sm(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Sm(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?pt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?pt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?pt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=_m(r),a=Dz(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=MS(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return MS(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=In.validate(this,t);if(n)throw n;var r=this,i=In._parseNumbers(t),s=Object.keys(this).reduce(function(o,l){return o[l]=r[l],o},{}),a=Object.keys(i).reduce(function(o,l){var u=o[l]!==void 0,d=i[l]!==void 0;return u&&!d?US(o,[l]):(d&&(o[l]=i[l]),o)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return OR(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var AR=In,Lz=function(t){return Array.isArray(t)?t.filter(Boolean):[]},$z=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},Mz=Qu,IR=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var o=a.split(":"),l=Mz(r,function(u){return u[0]===o[0]});return o.length>1||!l?(s[0].push(o[0]),s[1].push(o[1]),s):(s[0].push(l[0]),s[1].push(l[1]),s)},[[],[]])};function Uz(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var zz=Uz;function Hz(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function Bz(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var o=-1;++o<s.criteria.length;){var l=Hz(s.criteria[o],a.criteria[o]);if(l)return o>=n.length?l:n[o]==="desc"?-l:l}return s.index-a.index}),r.map(function(i){return i.value})}var FR=Bz,Wz=Yz,DR=tb,Vz=Qu,qz=IR,Qz=FR,Kz=DR.escapeFacetValue,Gz=DR.unescapeFacetValue;function Yz(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),l=e._getHierarchicalShowParentLevel(i),u=qz(e._getHierarchicalFacetSortBy(i)),d=n.every(function(p){return p.exhaustive}),f=Jz(u,a,o,l,s),h=n;return o&&(h=n.slice(o.split(a).length)),h.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function Jz(e,t,n,r,i){return function(a,o,l){var u=a;if(l>0){var d=0;for(u=a;d<l;){var f=u&&Array.isArray(u.data)?u.data:[];u=Vz(f,function(p){return p.isRefined}),d++}}if(u){var h=Object.keys(o.data).map(function(p){return[p,o.data[p]]}).filter(function(p){var m=p[0];return Xz(m,u.path||n,i,t,n,r)});u.data=Qz(h.map(function(p){var m=p[0],g=p[1];return Zz(g,m,t,Gz(i),o.exhaustive)}),e[0],e[1])}return a}}function Xz(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function Zz(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:Kz(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var jm=Lz,wc=ab,LR=tb,Rr=Qu,Wl=$z,e6=IR,zS=zz,$R=FR,HS=LR.escapeFacetValue,MR=LR.unescapeFacetValue,t6=Wz;function BS(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function Em(e,t,n){t&&t[n]&&(e.stats=t[n])}function n6(e,t){return Rr(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function ws(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=wc(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=BS(e.facets),l=BS(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var h=d[f],p=n6(e.hierarchicalFacets,f);if(p){var m=p.attributes.indexOf(f),g=Wl(e.hierarchicalFacets,function(x){return x.name===p.name});i.hierarchicalFacets[g][m]={attribute:f,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var b=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,y;b&&(y=l[f],i.disjunctiveFacets[y]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Em(i.disjunctiveFacets[y],r.facets_stats,f)),v&&(y=o[f],i.facets[y]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Em(i.facets[y],r.facets_stats,f))}}),this.hierarchicalFacets=jm(this.hierarchicalFacets),a.forEach(function(f){var h=t[u],p=h&&h.facets?h.facets:{},m=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(g){var b=p[g],v;if(m){v=Wl(e.hierarchicalFacets,function(S){return S.name===m.name});var y=Wl(i.hierarchicalFacets[v],function(S){return S.attribute===g});if(y===-1)return;i.hierarchicalFacets[v][y].data=i.persistHierarchicalRootCount?zS(i.hierarchicalFacets[v][y].data,b):wc(b,i.hierarchicalFacets[v][y].data)}else{v=l[g];var x=r.facets&&r.facets[g]||{};i.disjunctiveFacets[v]={name:g,data:zS(x,b),exhaustive:h.exhaustiveFacetsCount},Em(i.disjunctiveFacets[v],h.facets_stats,g),e.disjunctiveFacetsRefinements[g]&&e.disjunctiveFacetsRefinements[g].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[g].indexOf(MR(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),m=e.getHierarchicalRefinement(f);m.length===0||m[0].split(p).length<2||t.slice(u).forEach(function(g){var b=g&&g.facets?g.facets:{};Object.keys(b).forEach(function(v){var y=b[v],x=Wl(e.hierarchicalFacets,function(C){return C.name===h.name}),S=Wl(i.hierarchicalFacets[x],function(C){return C.attribute===v});if(S!==-1){var j={};if(m.length>0&&!i.persistHierarchicalRootCount){var _=m[0].split(p)[0];j[_]=i.hierarchicalFacets[x][S].data[_]}i.hierarchicalFacets[x][S].data=wc(j,y,i.hierarchicalFacets[x][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=o[f];i.facets[p]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(m){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(t6(e)),this.facets=jm(this.facets),this.disjunctiveFacets=jm(this.disjunctiveFacets),this._state=e}ws.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Rr(this.facets,t)||Rr(this.disjunctiveFacets,t)||Rr(this.hierarchicalFacets,t)};function r6(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=Rr(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=HS(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Rr(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=HS(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Rr(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),l=MR(e._state.getHierarchicalRefinement(t)[0]||"");l.indexOf(a.rootPath)===0&&(l=l.replace(a.rootPath+o,""));var u=l.split(o);return u.unshift(t),UR(s,u,0),s}}function UR(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){UR(r,t,n+1)})}function zR(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return zR(e,o,n,r+1)}),s=e(i,n[r]),a=wc({data:s},t);return a}ws.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function i6(e,t){return t.sort(e)}function s6(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var o=t.sortRemainingBy,l;return o==="hidden"?n:(o==="alpha"?l=[["path","name"],["asc","asc"]]:l=[["count"],["desc"]],n.concat($R(r,l[0],l[1])))}function a6(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}ws.prototype.getFacetValues=function(e,t){var n=r6(this,e);if(n){var r=wc(t,{sortBy:ws.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return zR(function(o,l){if(r.facetOrdering){var u=a6(i,l);if(u)return s6(o,u)}if(Array.isArray(r.sortBy)){var d=e6(r.sortBy,ws.DEFAULT_SORT);return $R(o,d[0],d[1])}else if(typeof r.sortBy=="function")return i6(r.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};ws.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return WS(this.facets,e);if(this._state.isDisjunctiveFacet(e))return WS(this.disjunctiveFacets,e)};function WS(e,t){var n=Rr(e,function(r){return r.name===t});return n&&n.stats}ws.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(km(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(km(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(km(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(o6(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function km(e,t,n,r,i){var s=Rr(i,function(l){return l.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}function o6(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=Rr(r,function(h){return h.name===t}),l=a.reduce(function(h,p){var m=h&&Rr(h.data,function(g){return g.name===p});return m!==void 0?m:h},o),u=l&&l.count||0,d=l&&l.exhaustive||!1,f=l&&l.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var HR=ws,l6=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},c6=Qu,u6=l6;function d6(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function f6(e,t){var n={};t.forEach(function(s){s.forEach(function(a,o){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+o,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:o,count:1})})});var r=d6(n,t.length),i=r.reduce(function(s,a){var o=c6(u6(t),function(l){return l.objectID===a.objectID});return o?s.concat(o):s},[]);return i}var h6=f6,BR="3.26.0",p6=eb,m6=xz,WR=tb.escapeFacetValue,g6=CR,v6=rb,y6=ib,x6=sb,VR=RR,b6=NR,Rs=kz,lb=AR,Mv=HR,w6=h6,qR=BR;function J(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+qR+")"),this.setClient(e);var i=n||{};i.index=t,this.state=lb.make(i),this.recommendState=new VR({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}g6(J,p6);J.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};J.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};J.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};J.prototype.recommend=function(){return this._recommend(),this};J.prototype.getQuery=function(){var e=this.state;return Rs._getHitsSearchParams(e)};J.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Rs._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new Mv(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Mv(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};J.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=v6({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:x6(Rs._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};J.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),l=Rs.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:l}]):s?d=this.client.initIndex(a.index).searchForFacetValues(l):(delete l.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:l}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(m,g){if(f.indexOf(m.value)>-1){p.facetHits.splice(g,1);return}m.escapedValue=WR(m.value),m.isRefined=o?a.isDisjunctiveFacetRefined(e,m.escapedValue):a.isFacetRefined(e,m.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};J.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,o;return o=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Rs._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),o.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=WR(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(l){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),l})};J.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};J.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};J.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};J.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};J.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};J.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};J.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};J.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};J.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};J.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};J.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};J.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};J.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};J.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};J.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};J.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};J.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};J.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};J.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};J.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};J.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};J.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};J.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};J.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};J.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};J.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};J.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};J.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};J.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};J.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};J.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};J.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};J.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function QR(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}J.prototype.setCurrentPage=QR;J.prototype.setPage=QR;J.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};J.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};J.prototype.setState=function(e){return this._change({state:lb.make(e),isPageReset:!1}),this};J.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new lb(e),this};J.prototype.hasRefinements=function(e){return y6(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};J.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};J.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};J.prototype.hasTag=function(e){return this.state.isTagRefined(e)};J.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};J.prototype.getIndex=function(){return this.state.index};function KR(){return this.state.page}J.prototype.getCurrentPage=KR;J.prototype.getPage=KR;J.prototype.getTags=function(){return this.state.tagRefinements};J.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var o=s[a];t.push({value:o,operator:a,type:"numeric"})}),t};J.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};J.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};J.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Rs._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var l=o.getModifiedState(t),u=l.index?Rs._getQueries(l.index,l):[];return n.push({state:l,queriesCount:u.length,helper:o}),o.emit("search",{state:l,results:o.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}};J.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(o){var l=o.getModifiedState(e),u=Rs._getCompositionQueries(l);return t.push({state:l,queriesCount:u.length,helper:o}),o.emit("search",{state:l,results:o.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};J.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new VR);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var l=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,l,r,i)).catch(this._dispatchRecommendError.bind(this,l))}catch(u){this.emit("error",{error:u})}}};J.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,o){return o!=="results"&&(a[o]=n[o]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var o=a.state,l=a.queriesCount,u=a.helper,d=i.splice(0,l);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new Mv(o,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:o})})}};J.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(o){return i[o]===void 0}).forEach(function(o,l){s[o]||(s[o]=[]),s[o].push(l)}),Object.keys(s).forEach(function(o){var l=s[o],u=r.results[l[0]];if(l.length===1){i[o]=u;return}i[o]=Object.assign({},u,{hits:w6(n,l.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(o){a[o]=i[o]}),t.forEach(function(o){var l=o.state,u=o.helper;if(!o.index){u.emit("recommend:result",{results:null,state:l});return}u.lastRecommendResults=new b6(l,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:l}})})}};J.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};J.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};J.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};J.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};J.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};J.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};J.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};J.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+qR+")"),this.client=e,this)};J.prototype.getClient=function(){return this.client};J.prototype.derive=function(e,t){var n=new m6(this,e,t);return this.derivedHelpers.push(n),n};J.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};J.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var S6=J,GR=S6,_6=RR,j6=NR,E6=AR,k6=HR;function Na(e,t,n,r){return new GR(e,t,n,r)}Na.version=BR;Na.AlgoliaSearchHelper=GR;Na.SearchParameters=E6;Na.RecommendParameters=_6;Na.SearchResults=k6;Na.RecommendResults=j6;var P6=Na;const nn=ja(P6);var C6=0;function R6(e){e.dependsOn==="recommend"&&(e.$$id=C6++)}function wt(){}function N6(e){return Object.prototype.toString.call(e).slice(8,-1)}function Mi(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(N6(e),`).

`).concat(t))}function VS(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var T6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YR=/[&<>"']/g,O6=RegExp(YR.source);function A6(e){return e&&O6.test(e)?e.replace(YR,function(t){return T6[t]}):e}var I6={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},JR=/&(amp|quot|lt|gt|#39);/g,F6=RegExp(JR.source);function D6(e){return e&&F6.test(e)?e.replace(JR,function(t){return I6[t]}):e}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function L6(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function $6(e){return Uv(e)==="object"&&e!==null}function XR(e){if(!$6(e)||L6(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function M6(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(n),!0).forEach(function(r){ZR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZR(e,t,n){return t=U6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U6(e){var t=z6(e,"string");return eu(t)=="symbol"?t:String(t)}function z6(e,t){if(eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sl={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},cn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function eN(e){return A6(e).replace(new RegExp(sl.highlightPreTag,"g"),cn.highlightPreTag).replace(new RegExp(sl.highlightPostTag,"g"),cn.highlightPostTag)}function ih(e){return XR(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return _o(_o({},t),{},ZR({},n,ih(e[n])))},{}):Array.isArray(e)?e.map(ih):_o(_o({},e),{},{value:eN(e.value)})}function H6(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=zv({},(M6(t),t));return n._highlightResult&&(n._highlightResult=ih(n._highlightResult)),n._snippetResult&&(n._snippetResult=ih(n._snippetResult)),n}),e.__escaped=!0),e}function B6(e){return e.map(function(t){return _o(_o({},t),{},{highlighted:eN(t.highlighted)})})}function tN(e){var t=cn.highlightPreTag,n=cn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function W6(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(n),!0).forEach(function(r){q6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q6(e,t,n){return t=Q6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q6(e){var t=K6(e,"string");return al(t)=="symbol"?t:String(t)}function K6(e,t){if(al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function G6(e,t){return Z6(e)||X6(e,t)||J6(e,t)||Y6()}function Y6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6(e,t){if(e){if(typeof e=="string")return KS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(e,t)}}function KS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Z6(e){if(Array.isArray(e))return e}function eH(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=l[1],f=l[2],h=f===void 0?"Filter Applied":f,p=l[3],m=p===void 0?{}:p,g=l[0].split(":"),b=G6(g,2),v=b[0],y=b[1],x=typeof r=="string"?r:r(d);if(l.length===1&&al(l[0])==="object")t.sendEventToInsights(l[0]);else if(v==="click"&&l.length>=2&&l.length<=4&&!W6(n,x,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:y,payload:V6({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(x,":").concat(d)]},m),attribute:x})}};return s}function nN(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){tH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tH(e,t,n){return t=nH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=rH(e,"string");return ol(t)=="symbol"?t:String(t)}function rH(e,t){if(ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){return lH(e)||oH(e,t)||aH(e,t)||sH()}function sH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(e,t){if(e){if(typeof e=="string")return YS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(e,t)}}function YS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function lH(e){if(Array.isArray(e))return e}function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function cH(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function rN(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&ol(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=iH(s,2),o=a[0],l=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((o==="click"||o==="conversion")&&!d)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,m=cH(h),g=m.map(function(v){return v.map(function(y){return y.objectID})}),b=m.map(function(v){return v.map(function(y){return y.__position})});return o==="view"?i.status!=="idle"?[]:m.map(function(v,y){var x;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:o,payload:Pm({eventName:d||"Hits Viewed",index:((x=t.lastResults)===null||x===void 0?void 0:x.index)||t.state.index,objectIDs:g[y]},f),hits:v,eventModifier:l}}):o==="click"?m.map(function(v,y){var x;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:Pm({eventName:d||"Hit Clicked",index:((x=t.lastResults)===null||x===void 0?void 0:x.index)||t.state.index,queryID:p,objectIDs:g[y],positions:b[y]},f),hits:v,eventModifier:l}}):o==="conversion"?m.map(function(v,y){var x;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:Pm({eventName:d||"Hit Converted",index:((x=t.lastResults)===null||x===void 0?void 0:x.index)||t.state.index,queryID:p,objectIDs:g[y]},f),hits:v,eventModifier:l}}):[]}function uH(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=rN({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function dH(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=rN({widgetType:n,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:r});return u.length?"data-insights-event=".concat(nN(u)):""};return i}function Vn(e){return e.$$type==="ais.index"}function Hv(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Vn).forEach(function(r){return Hv(e,r)})}var fH=Promise.resolve();function Vl(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t===null&&(t=fH.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function hH(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return hH(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function pH(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function ic(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function ba(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function mH(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function JS(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],o=n[s]||r[s];return[a,o]}else return[e.applicationID,e.apiKey]}function iN(e){var t=cn.highlightPostTag,n=cn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(t);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var gH=new RegExp(/\w/i);function vH(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!gH.test(D6(i.value))&&a===s?a:i.isHighlighted}function tp(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function Cm(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:ic(r)},a=ba(i,function(p){return p.name===n}),o;if(t==="hierarchical"){for(var l=e.getHierarchicalFacetByName(n),u=r.split(l.separator),d=function(m){return function(g){return m[g]}},f=function(m){a=a&&a.data&&ba(Object.keys(a.data).map(d(a.data)),function(g){return g.name===u[m]})},h=0;a!==void 0&&h<u.length;++h)f(h);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function yH(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,o=t.facetsExcludes,l=o===void 0?{}:o,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,h=f===void 0?{}:f,p=t.numericRefinements,m=p===void 0?{}:p,g=t.tagRefinements,b=g===void 0?[]:g;return Object.keys(a).forEach(function(v){var y=a[v];y.forEach(function(x){i.push(Cm(t,"facet",v,x,r.facets))})}),Object.keys(l).forEach(function(v){var y=l[v];y.forEach(function(x){i.push({type:"exclude",attribute:v,name:x,exclude:!0})})}),Object.keys(d).forEach(function(v){var y=d[v];y.forEach(function(x){i.push(Cm(t,"disjunctive",v,pH(x),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var y=h[v];y.forEach(function(x){i.push(Cm(t,"hierarchical",v,x,r.hierarchicalFacets))})}),Object.keys(m).forEach(function(v){var y=m[v];Object.keys(y).forEach(function(x){var S=x,j=y[S],_=Array.isArray(j)?j:[j];_.forEach(function(C){i.push({type:"numeric",attribute:v,name:"".concat(C),numericValue:C,operator:S})})})}),b.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function XS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return t=bH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=wH(e,"string");return tu(t)=="symbol"?t:String(t)}function wH(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e,t,n){return e.map(function(r,i){return ZS(ZS({},r),{},{__position:n*t+i+1})})}function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return t=jH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=EH(e,"string");return nu(t)=="symbol"?t:String(t)}function EH(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kH(e,t){return t?e.map(function(n){return t1(t1({},n),{},{__queryID:t})}):e}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){PH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PH(e,t,n){return t=CH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=RH(e,"string");return ru(t)=="symbol"?t:String(t)}function RH(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?r1(r1({},r),s.recommendResults.results):r},{});e._recommendCache=n}function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function TH(e,t){return FH(e)||IH(e,t)||AH(e,t)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(e,t){if(e){if(typeof e=="string")return i1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(e,t)}}function i1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function FH(e){if(Array.isArray(e))return e}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){sN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sN(e,t,n){return t=DH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=LH(e,"string");return iu(t)=="symbol"?t:String(t)}function LH(e,t){if(iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $H(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,o){var l=t[o],u=l.state,d=l.requestParams,f=l.results,h=f&&u?f.map(function(p,m){return ql({indexName:u.index||p.index},d!=null&&d[m]||p.params?{params:Rm((d==null?void 0:d[m])||MH(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,o){var l=t[o].results;return l?a.concat(l):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return ql(ql({},f),{},{params:Rm(f.params)})}):Rm(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(l)},function(){return i.apply(void 0,[a].concat(l))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=ql(ql({},e.cache),{},sN({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function MH(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=TH(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function Rm(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var l=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[l++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function a1(e){return e!==Object(e)}function aN(e,t){if(e===t)return!0;if(a1(e)||a1(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!aN(e[i],t[i]))return!1}return!0}function Ge(e){return typeof e=="number"&&isFinite(e)}function oN(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var UH=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){zH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zH(e,t,n){return t=HH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=BH(e,"string");return su(t)=="symbol"?t:String(t)}function BH(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WH(e,t){if(e==null)return{};var n=VH(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var qH=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=WH(n,UH);return t.setQueryParameters(r)},QH=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},KH=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},GH=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=mH(r,function(o){return o.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},YH=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},JH=function(t,n){return t.setQueryParameters({facetsRefinements:ri(ri({},t.facetsRefinements),n.facetsRefinements)})},XH=function(t,n){return t.setQueryParameters({facetsExcludes:ri(ri({},t.facetsExcludes),n.facetsExcludes)})},ZH=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:ri(ri({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},eB=function(t,n){return t.setQueryParameters({numericRefinements:ri(ri({},t.numericRefinements),n.numericRefinements)})},tB=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:ri(ri({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},nB=function(t,n){var r=oN([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Sc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=tB(i,s),o=GH(a,s),l=YH(o,s),u=eB(l,s),d=ZH(u,s),f=XH(d,s),h=JH(f,s),p=KH(h,s),m=nB(p,s),g=QH(m,s);return qH(g,s)})};function rB(e){return oB(e)||aB(e)||sB(e)||iB()}function iB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(e,t){if(e){if(typeof e=="string")return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}}function aB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oB(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l1(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,o=Math.round((r-n)/a);return rB(Array(o)).map(function(l,u){return n+u*a})}function sc(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function c1(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function lB(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function u1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(n),!0).forEach(function(r){cB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cB(e,t,n){return t=uB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e){var t=dB(e,"string");return au(t)=="symbol"?t:String(t)}function dB(e,t){if(au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Ld(Ld({},t),{},{isHighlighted:!vH(e,n)})}):e.map(function(t){return Ld(Ld({},t),{},{isHighlighted:!1})})}function rs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function Nm(e){return Array.isArray(e)?e:[e]}function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(r){cN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cN(e,t,n){return t=fB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e){var t=hB(e,"string");return ou(t)=="symbol"?t:String(t)}function hB(e,t){if(ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pB=mr({name:"configure",connector:!0});function f1(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return Dt(Dt({},n),{},cN({},r,void 0))},{}))}var mB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wt,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return function(r){if(!r||!XR(r.searchParameters))throw new Error(pB("The `searchParameters` option expects an object."));var i={};function s(a){return function(o){var l=f1(a.state,r),u=Sc(l,new nn.SearchParameters(o));r.searchParameters=o,a.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var l=o.instantSearchInstance;t(Dt(Dt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:l}),!0)},render:function(o){var l=o.instantSearchInstance;t(Dt(Dt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:l}),!1)},dispose:function(o){var l=o.state;return n(),f1(l,r)},getRenderState:function(o,l){var u,d=this.getWidgetRenderState(l);return Dt(Dt({},o),{},{configure:Dt(Dt({},d),{},{widgetParams:Dt(Dt({},d.widgetParams),{},{searchParameters:Sc(new nn.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new nn.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var l=o.helper;return i.refine||(i.refine=s(l)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(o,l){var u=l.uiState;return Sc(o,new nn.SearchParameters(Dt(Dt({},u.configure),r.searchParameters)))},getWidgetUiState:function(o){return Dt(Dt({},o),{},{configure:Dt(Dt({},o.configure),r.searchParameters)})}}}};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}var h1=Object.prototype.hasOwnProperty;function ll(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&ll(e[i],t[i],n););return i===-1}if(!r||Wv(e)==="object"){i=0;for(r in e)if(h1.call(e,r)&&++i&&!h1.call(t,r)||!(r in t)||!ll(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function p1(e){var t,n,r;return new nn.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){gB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gB(e,t,n){return t=vB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vB(e){var t=yB(e,"string");return lu(t)=="symbol"?t:String(t)}function yB(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vv(e){var t=e.getHelper(),n=e.getResults()||p1(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:p1(i.helper.state);return g1(g1({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var uN=w.createContext(null);function dN(e,t){if(!e)throw new Error("Invariant failed")}function cb(){var e=w.useContext(uN);return dN(e!==null),e}var fN=w.createContext(null);function Ku(){var e=w.useContext(fN);return dN(e!==null),e}var xB=w.createContext(null);function hN(){return w.useContext(xB)}var bB=w.createContext(null);function pN(){return w.useContext(bB)}function wB(e,t){return EB(e)||jB(e,t)||_B(e,t)||SB()}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _B(e,t){if(e){if(typeof e=="string")return v1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v1(e,t)}}function v1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function EB(e){if(Array.isArray(e))return e}function y1(e){var t=w.useState(function(){return e}),n=wB(t,2),r=n[0],i=n[1];return ll(r,e)||i(e),r}var kB="use",x1=Ey[kB],mN=typeof window<"u"?w.useLayoutEffect:w.useEffect,PB=w.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function gN(){return w.useContext(PB)}function CB(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,o=e.skipSuspense,l=gN(),u=l.waitForResultsRef,d=l.countRef;l.ignoreMultipleHooksWarning;var f=w.useRef(s);w.useEffect(function(){f.current=s},[s]);var h=w.useRef(r);w.useEffect(function(){h.current=r},[r]);var p=w.useRef(null),m=a&&!i.getWidgets().includes(r),g=Ku();if(mN(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var y=ll(s,f.current);y||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){g._schedule(function(){g._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,g,s]),(m||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!o){var b;x1(u.current),r.$$type!=="ais.dynamicWidgets"&&(b=g.helper)!==null&&b!==void 0&&b.lastResults&&x1(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var RB=["skipSuspense"],NB=["instantSearchInstance","widgetParams"],TB=["widgetParams"];function OB(e,t){return DB(e)||FB(e,t)||IB(e,t)||AB()}function AB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(e,t){if(e){if(typeof e=="string")return b1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(e,t)}}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function DB(e){if(Array.isArray(e))return e}function w1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(n),!0).forEach(function(r){LB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LB(e,t,n){return t=$B(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $B(e){var t=MB(e,"string");return cu(t)=="symbol"?t:String(t)}function MB(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(e,t){if(e==null)return{};var n=UB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function si(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=Tm(n,RB),a=hN(),o=pN(),l=Ku(),u=cb(),d=y1(t),f=y1(s),h=w.useRef(!0),p=w.useRef(null),m=w.useRef(l.status),g=w.useMemo(function(){var S=e(function(j,_){if(_){h.current=!0;return}if(h.current){var C=j.instantSearchInstance;j.widgetParams;var N=Tm(j,NB);(!ll(N,p.current,function(I,P){return(I==null?void 0:I.constructor)===Function&&(P==null?void 0:P.constructor)===Function})||C.status!==m.current)&&(x(N),p.current=N,m.current=C.status)}},function(){h.current=!1});return S1(S1({},S(d)),f)},[e,d,f]),b=w.useState(function(){if(g.getWidgetRenderState){var S,j=u.getHelper(),_=u.getWidgetUiState({})[u.getIndexId()];j.state=((S=g.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(g,j.state,{uiState:_}))||j.state;var C=Vv(u),N=C.results,I=C.scopedResults,P=C.recommendResults,L=g.getWidgetRenderState({helper:j,parent:u,instantSearchInstance:l,results:g.dependsOn==="recommend"&&P&&o?P[o.recommendIdx.current++]:N,scopedResults:I,state:j.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:l.status==="stalled"},status:l.status,error:l.error});L.widgetParams;var D=Tm(L,TB);return D}return{}}),v=OB(b,2),y=v[0],x=v[1];return CB({widget:g,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),y}function zB(e,t){return si(mB,{searchParameters:e},t)}function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(r){BB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BB(e,t,n){return t=WB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(e){var t=VB(e,"string");return uu(t)=="symbol"?t:String(t)}function VB(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ub(e){return zB(HB({},e),{$$widgetType:"ais.configure"}),null}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}var qB=["initialSearchParameters"],QB=["initialRecommendParameters"];function j1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(n),!0).forEach(function(r){jo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jo(e,t,n){return t=KB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KB(e){var t=GB(e,"string");return du(t)=="symbol"?t:String(t)}function GB(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e){return ZB(e)||XB(e)||JB(e)||YB()}function YB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function XB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZB(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yN(e,t){if(e==null)return{};var n=e8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ql=mr({name:"index-widget"});function xN(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function Kl(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Vn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function Gl(e,t){var n=t.initialSearchParameters,r=yN(t,qB);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||Vn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function E1(e,t){var n=t.initialRecommendParameters,r=yN(t,QB);return e.reduce(function(i,s){return!Vn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function bN(e){var t=e.filter(Vn);t.length!==0&&t.forEach(function(n){var r=n.getHelper();xN(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),bN(n.getWidgets())})}function wN(e){var t=e.filter(Vn);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(vN(wN(r.getWidgets()))))},[])}var t8=function(t){if(t===void 0||t.indexName===void 0)throw new Error(Ql("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},o=null,l=null,u=null,d=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var g;return(g=d)!==null&&g!==void 0&&g.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(g){var b;return g.dependsOn!=="recommend"||Vn(g)||g.$$id===void 0?this.getResults():(b=u)!==null&&b!==void 0&&b.lastRecommendResults?u.lastRecommendResults[g.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var g=this.getParent(),b;return g?b=g.getWidgets():n.length===0?b=this.getWidgets():b=[this],wN(b)},getParent:function(){return l},createURL:function(g){return typeof g=="function"?o._createURL(jo({},i,g(a))):o._createURL(jo({},i,Kl(s,{searchParameters:g,helper:u})))},getWidgets:function(){return s},addWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(Ql("The `addWidgets` method expects an array of widgets."));if(g.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(Ql("The widget definition expects a `render` and/or an `init` method."));return g.forEach(function(v){Vn(v)||(o&&v.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,R6(v))}),s=s.concat(g),o&&g.length&&(xN(u,{state:Gl(s,{uiState:a,initialSearchParameters:u.state}),recommendState:E1(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),g.forEach(function(v){if(v.getRenderState){var y=v.getRenderState(o.renderState[b.getIndexId()]||{},sc(o,b,o._initialUiState));Om({renderState:y,instantSearchInstance:o,parent:b})}}),g.forEach(function(v){v.init&&v.init(sc(o,b,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(Ql("The `removeWidgets` method expects an array of widgets."));if(g.some(function(j){return typeof j.dispose!="function"}))throw new Error(Ql("The widget definition expects a `dispose` method."));if(s=s.filter(function(j){return g.indexOf(j)===-1}),s.forEach(function(j){Vn(j)||(o&&j.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:j.dependsOn==="recommend"?h=!0:p=!0)}),o&&g.length){var v=g.reduce(function(j,_){var C=_.dispose({helper:u,state:j.cleanedSearchState,recommendState:j.cleanedRecommendState,parent:b});return C instanceof nn.RecommendParameters?j.cleanedRecommendState=C:C&&(j.cleanedSearchState=C),j},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),y=v.cleanedSearchState,x=v.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?Gl(s,{uiState:a,initialSearchParameters:new nn.SearchParameters({index:this.getIndexName()})}):Gl(s,{uiState:Kl(s,{searchParameters:y,helper:u}),initialSearchParameters:y});a=Kl(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=x,s.length&&o.scheduleSearch()}return this},init:function(g){var b=this,v,y=g.instantSearchInstance,x=g.parent,S=g.uiState;if(u===null){o=y,l=x,a=S[i]||{};var j=y.mainHelper,_=Gl(s,{uiState:a,initialSearchParameters:new nn.SearchParameters({index:n})}),C=E1(s,{uiState:a,initialRecommendParameters:new nn.RecommendParameters});u=nn({},_.index,_),u.recommendState=C,u.search=function(){return y.onStateChange?(y.onStateChange({uiState:y.mainIndex.getWidgetUiState({}),setUiState:function(D){return y.setUiState(D,!1)}}),j):j.search()},u.searchWithoutTriggeringOnStateChange=function(){return j.search()},u.searchForFacetValues=function(L,D,$,O){var M=u.state.setQueryParameters(O);return j.searchForFacetValues(L,D,$,M)},d=j.derive(function(){return Sc.apply(void 0,[j.state].concat(vN(lB(b))))},function(){return b.getHelper().recommendState});var N=(v=y._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(N!=null&&N.results){var I=new nn.SearchResults(new nn.SearchParameters(N.state),N.results);d.lastResults=I,u.lastResults=I}if(N!=null&&N.recommendResults){var P=new nn.RecommendResults(new nn.RecommendParameters({params:N.recommendResults.params}),N.recommendResults.results);d.lastRecommendResults=P,u.lastRecommendResults=P}u.on("change",function(L){var D=L.isPageReset;D&&bN(s)}),d.on("search",function(){y.scheduleStalledRender()}),d.on("result",function(L){var D=L.results;y.scheduleRender(),u.lastResults=D,f=D==null?void 0:D._state}),d.on("recommend:result",function(L){var D=L.recommend;y.scheduleRender(),u.lastRecommendResults=D.results}),s.forEach(function(L){if(L.getRenderState){var D=L.getRenderState(y.renderState[b.getIndexId()]||{},sc(y,b,S));Om({renderState:D,instantSearchInstance:y,parent:b})}}),s.forEach(function(L){L.init&&L.init(sc(y,b,S))}),u.on("change",function(L){var D=L.state,$=L._uiState;a=Kl(s,{searchParameters:D,helper:u},$||{}),y.onStateChange||y.onInternalStateChange()}),N&&y.scheduleRender(),h&&(y._hasRecommendWidget=!0),p&&(y._hasSearchWidget=!0)}},render:function(g){var b,v=this,y=g.instantSearchInstance;y.status==="error"&&!y.mainHelper.hasPendingRequests()&&f&&u.setState(f);var x=this.getResults()||(b=d)!==null&&b!==void 0&&b.lastRecommendResults?s:s.filter(Vn);x=x.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:y}):!0}),x.forEach(function(S){if(S.getRenderState){var j=S.getRenderState(y.renderState[v.getIndexId()]||{},c1(y,v,S));Om({renderState:j,instantSearchInstance:y,parent:v})}}),x.forEach(function(S){S.render&&S.render(c1(y,v,S))})},dispose:function(){var g=this,b,v;s.forEach(function(y){y.dispose&&u&&y.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:g})}),o=null,l=null,(b=u)===null||b===void 0||b.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(g){return s.filter(Vn).reduce(function(b,v){return v.getWidgetUiState(b)},Gr(Gr({},g),{},jo({},i,Gr(Gr({},g[i]),a))))},getWidgetState:function(g){return this.getWidgetUiState(g)},getWidgetSearchParameters:function(g,b){var v=b.uiState;return Gl(s,{uiState:v,initialSearchParameters:g})},refreshUiState:function(){a=Kl(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(g){var b=typeof g=="function"?g(a):g;o.setUiState(function(v){return Gr(Gr({},v),{},jo({},i,b))})}}};function Om(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Gr(Gr({},n.renderState),{},jo({},i,Gr(Gr({},n.renderState[i]),t)))}function n8(e,t){return a8(e)||s8(e,t)||i8(e,t)||r8()}function r8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(e,t){if(e){if(typeof e=="string")return k1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function a8(e){if(Array.isArray(e))return e}function o8(){var e=w.useReducer(function(r){return r+1},0),t=n8(e,2),n=t[1];return n}var l8="ais",np=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(l8,"-").concat(t).concat(s).concat(a)}},c8=np("Highlight");function u8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=tp(i._highlightResult,t),l=o||{},u=l.value,d=u===void 0?"":u,f=c8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(cn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(cn.highlightPostTag,"g"),"</".concat(r,">"))}var d8=np("ReverseHighlight");function f8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=tp(i._highlightResult,t),l=o||{},u=l.value,d=u===void 0?"":u,f=d8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=tN(lN(iN(d)));return h.replace(new RegExp(cn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(cn.highlightPostTag,"g"),"</".concat(r,">"))}var h8=np("Snippet");function p8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=tp(i._snippetResult,t),l=o||{},u=l.value,d=u===void 0?"":u,f=h8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(cn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(cn.highlightPostTag,"g"),"</".concat(r,">"))}var m8=np("ReverseSnippet");function g8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=tp(i._snippetResult,t),l=o||{},u=l.value,d=u===void 0?"":u,f=m8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=tN(lN(iN(d)));return h.replace(new RegExp(cn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(cn.highlightPostTag,"g"),"</".concat(r,">"))}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function v8(e){var t=e.method,n=e.payload;if(Qv(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=nN(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function y8(e,t){return v8({method:e,payload:t})}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}var x8="_ALGOLIA";function b8(e){if(!((typeof document>"u"?"undefined":Kv(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function w8(){return b8(x8)}function S8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function P1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(n),!0).forEach(function(r){_8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _8(e,t,n){return t=j8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j8(e){var t=E8(e,"string");return fu(t)=="symbol"?t:String(t)}function E8(e,t){if(fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(e,t){return C8(e)||P8(e,t)||SN(e,t)||k8()}function k8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function C8(e){if(Array.isArray(e))return e}function R8(e){return O8(e)||T8(e)||SN(e)||N8()}function N8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SN(e,t){if(e){if(typeof e=="string")return Gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gv(e,t)}}function T8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O8(e){if(Array.isArray(e))return Gv(e)}function Gv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _N="2.17.2",A8="https://cdn.jsdelivr.net/npm/search-insights@".concat(_N,"/dist/search-insights.min.js");function C1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,o=a===void 0?!1:a,l=t;!t&&t!==null&&rs(function(d){var f=d.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(l=f[h]),l||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];f[h].queue.push(m)},f[h].version=_N,f[h].shouldAddScript=!0),l=f[h])});var u=l||wt;return function(d){var f=d.instantSearchInstance,h=f.middleware.filter(function(I){return I.instance.$$type==="ais.insights"&&I.instance.$$internal}).map(function(I){return I.creator});f.unuse.apply(f,R8(h));var p=JS(f.client),m=mi(p,2),g=m[0],b=m[1],v=void 0,y=void 0,x=void 0,S=u.queue;if(Array.isArray(S)){var j=["setUserToken","init"].map(function(I){var P=ba(S.slice().reverse(),function($){var O=mi($,1),M=O[0];return M===I})||[],L=mi(P,2),D=L[1];return D}),_=mi(j,2);y=_[0],v=_[1]}u("getUserToken",null,function(I,P){x=N1(P)}),(n||!R1(u))&&u("init",Bs({appId:g,apiKey:b,partial:!0},n));var C,N;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var P="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var L=document.createElement("script");L.async=!0,L.src=A8,L.onerror=function(){f.emit("error",new Error(P))},document.body.appendChild(L),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(P))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),N=f.mainHelper;var P=u.queue;if(Array.isArray(P)){var L=["setUserToken","init"].map(function(ie){var Y=ba(P.slice().reverse(),function(pe){var oe=mi(pe,1),ve=oe[0];return ve===ie})||[],ee=mi(Y,2),se=ee[1];return se}),D=mi(L,2);y=D[0],v=D[1]}C=I8(f),o||N.overrideStateWithoutTriggeringChangeEvent(Bs(Bs({},N.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var $=function(Y){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se=N1(Y);if(!se)return;var pe=N.state.userToken;function oe(){N.overrideStateWithoutTriggeringChangeEvent(Bs(Bs({},N.state),{},{userToken:se})),pe&&pe!==Y&&f.scheduleSearch()}ee?oe():setTimeout(oe,0)};function O(ie){$(ie,!0),u("setUserToken",ie)}var M=void 0,R=w8();if(R)M=R;else{var z="anonymous-".concat(S8());M=z}var E,A=C.userToken;if(n!=null&&n.userToken&&(E=n.userToken),E)O(E);else if(A)O(A);else if(x)O(x);else if(y)O(y);else if(M){var k;if(O(M),n!=null&&n.useCookie||(k=v)!==null&&k!==void 0&&k.useCookie){var F;F8(M,(n==null?void 0:n.cookieDuration)||((F=v)===null||F===void 0?void 0:F.cookieDuration))}}u("onUserTokenChange",function(ie){return $(ie,!0)},{immediate:!0});var H=u;R1(u)&&(H=function(Y,ee){var se=JS(f.client),pe=mi(se,2),oe=pe[0],ve=pe[1],Se={headers:{"X-Algolia-Application-Id":oe,"X-Algolia-API-Key":ve}};return u(Y,ee,Se)});var T=new Set,te;f.mainHelper.derivedHelpers[0].on("result",function(ie){var Y=ie.results;Y&&(!Y.queryID||Y.queryID!==te)&&(te=Y.queryID,T.clear())}),f.sendEventToInsights=function(ie){if(r)r(ie,H);else if(ie.insightsMethod){if(ie.insightsMethod==="viewedObjectIDs"){var Y=ie.payload,ee=Y.objectIDs.filter(function(se){return!T.has(se)});if(ee.length===0)return;ee.forEach(function(se){return T.add(se)}),Y.objectIDs=ee}ie.payload.algoliaSource=["instantsearch"],o&&ie.payload.algoliaSource.push("instantsearch-automatic"),ie.eventModifier==="internal"&&ie.payload.algoliaSource.push("instantsearch-internal"),H(ie.insightsMethod,ie.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=wt,N&&C&&(N.overrideStateWithoutTriggeringChangeEvent(Bs(Bs({},N.state),C)),f.scheduleSearch())}}}}function I8(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function F8(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function R1(e){var t=(e.version||"").split(".").map(Number),n=mi(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,o=r===1&&i>=10;return s||a||o}function N1(e){if(e)return typeof e=="number"?e.toString():e}function jN(e,t,n){var r=sc(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(l){return s[l]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&jN(i.getWidgets(),t,n)})}function D8(){return rs(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function L8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,jN(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var $8=String.prototype.replace,M8=/%20/g,Am={RFC1738:"RFC1738",RFC3986:"RFC3986"},db={default:Am.RFC3986,formatters:{RFC1738:function(e){return $8.call(e,M8,"+")},RFC3986:function(e){return String(e)}},RFC1738:Am.RFC1738,RFC3986:Am.RFC3986},U8=db,Im=Object.prototype.hasOwnProperty,Zs=Array.isArray,zr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),z8=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Zs(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},EN=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},H8=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Zs(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Im.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Zs(t)&&!Zs(n)&&(i=EN(t,r)),Zs(t)&&Zs(n)?(n.forEach(function(s,a){if(Im.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var o=n[a];return Im.call(s,a)?s[a]=e(s[a],o,r):s[a]=o,s},i)},B8=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},W8=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},V8=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",l=0;l<a.length;++l){var u=a.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===U8.RFC1738&&(u===40||u===41)){o+=a.charAt(l);continue}if(u<128){o=o+zr[u];continue}if(u<2048){o=o+(zr[192|u>>6]+zr[128|u&63]);continue}if(u<55296||u>=57344){o=o+(zr[224|u>>12]+zr[128|u>>6&63]+zr[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|a.charCodeAt(l)&1023),o+=zr[240|u>>18]+zr[128|u>>12&63]+zr[128|u>>6&63]+zr[128|u&63]}return o},q8=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),l=0;l<o.length;++l){var u=o[l],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return z8(n),t},Q8=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},K8=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},G8=function(t,n){return[].concat(t,n)},Y8=function(t,n){if(Zs(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},kN={arrayToObject:EN,assign:B8,combine:G8,compact:q8,decode:W8,encode:V8,isBuffer:K8,isRegExp:Q8,maybeMap:Y8,merge:H8},Yv=kN,_c=db,J8=Object.prototype.hasOwnProperty,T1={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},ia=Array.isArray,X8=String.prototype.split,Z8=Array.prototype.push,PN=function(e,t){Z8.apply(e,ia(t)?t:[t])},e9=Date.prototype.toISOString,O1=_c.default,Bt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yv.encode,encodeValuesOnly:!1,format:O1,formatter:_c.formatters[O1],indices:!1,serializeDate:function(t){return e9.call(t)},skipNulls:!1,strictNullHandling:!1},t9=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},n9=function e(t,n,r,i,s,a,o,l,u,d,f,h,p,m){var g=t;if(typeof o=="function"?g=o(n,g):g instanceof Date?g=d(g):r==="comma"&&ia(g)&&(g=Yv.maybeMap(g,function(L){return L instanceof Date?d(L):L})),g===null){if(i)return a&&!p?a(n,Bt.encoder,m,"key",f):n;g=""}if(t9(g)||Yv.isBuffer(g)){if(a){var b=p?n:a(n,Bt.encoder,m,"key",f);if(r==="comma"&&p){for(var v=X8.call(String(g),","),y="",x=0;x<v.length;++x)y+=(x===0?"":",")+h(a(v[x],Bt.encoder,m,"value",f));return[h(b)+"="+y]}return[h(b)+"="+h(a(g,Bt.encoder,m,"value",f))]}return[h(n)+"="+h(String(g))]}var S=[];if(typeof g>"u")return S;var j;if(r==="comma"&&ia(g))j=[{value:g.length>0?g.join(",")||null:void 0}];else if(ia(o))j=o;else{var _=Object.keys(g);j=l?_.sort(l):_}for(var C=0;C<j.length;++C){var N=j[C],I=typeof N=="object"&&typeof N.value<"u"?N.value:g[N];if(!(s&&I===null)){var P=ia(g)?typeof r=="function"?r(n,N):n:n+(u?"."+N:"["+N+"]");PN(S,e(I,P,r,i,s,a,o,l,u,d,f,h,p,m))}}return S},r9=function(t){if(!t)return Bt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Bt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=_c.default;if(typeof t.format<"u"){if(!J8.call(_c.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=_c.formatters[r],s=Bt.filter;return(typeof t.filter=="function"||ia(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Bt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Bt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Bt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Bt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Bt.encode,encoder:typeof t.encoder=="function"?t.encoder:Bt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Bt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Bt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Bt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Bt.strictNullHandling}},i9=function(e,t){var n=e,r=r9(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ia(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o;t&&t.arrayFormat in T1?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var l=T1[o];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||PN(a,n9(n[d],d,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},cl=kN,Jv=Object.prototype.hasOwnProperty,s9=Array.isArray,Ht={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:cl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a9=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},CN=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},o9="utf8=%26%2310003%3B",l9="utf8=%E2%9C%93",c9=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),o=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<a.length;++l)a[l].indexOf("utf8=")===0&&(a[l]===l9?u="utf-8":a[l]===o9&&(u="iso-8859-1"),o=l,l=a.length);for(l=0;l<a.length;++l)if(l!==o){var d=a[l],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,m;h===-1?(p=n.decoder(d,Ht.decoder,u,"key"),m=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),Ht.decoder,u,"key"),m=cl.maybeMap(CN(d.slice(h+1),n),function(g){return n.decoder(g,Ht.decoder,u,"value")})),m&&n.interpretNumericEntities&&u==="iso-8859-1"&&(m=a9(m)),d.indexOf("[]=")>-1&&(m=s9(m)?[m]:m),Jv.call(r,p)?r[p]=cl.combine(r[p],m):r[p]=m}return r},u9=function(e,t,n,r){for(var i=r?t:CN(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(l,10);!n.parseArrays&&l===""?a={0:i}:!isNaN(u)&&o!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):l!=="__proto__"&&(a[l]=i)}i=a}return i},d9=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=r.depth>0&&a.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!r.plainObjects&&Jv.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(l=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Jv.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),u9(d,n,r,i)}},f9=function(t){if(!t)return Ht;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Ht.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Ht.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Ht.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Ht.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ht.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Ht.comma,decoder:typeof t.decoder=="function"?t.decoder:Ht.decoder,delimiter:typeof t.delimiter=="string"||cl.isRegExp(t.delimiter)?t.delimiter:Ht.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Ht.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Ht.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Ht.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Ht.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ht.strictNullHandling}},h9=function(e,t){var n=f9(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?c9(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],l=d9(o,r[o],n,typeof e=="string");i=cl.merge(i,l,n)}return cl.compact(i)},p9=i9,m9=h9,g9=db,v9={formats:g9,parse:m9,stringify:p9};const A1=ja(v9);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function y9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RN(r.key),r)}}function b9(e,t,n){return t&&x9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pn(e,t,n){return t=RN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RN(e){var t=w9(e,"string");return hu(t)=="symbol"?t:String(t)}function w9(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1=function(t){t&&(window.document.title=t)},S9=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,o=t.parseURL,l=t.getLocation,u=t.start,d=t.dispose,f=t.push,h=t.cleanUrlOnDispose;y9(this,e),pn(this,"$$type","ais.browser"),pn(this,"windowTitle",void 0),pn(this,"writeDelay",void 0),pn(this,"_createURL",void 0),pn(this,"parseURL",void 0),pn(this,"getLocation",void 0),pn(this,"writeTimer",void 0),pn(this,"_onPopState",void 0),pn(this,"inPopState",!1),pn(this,"isDisposed",!1),pn(this,"latestAcknowledgedHistory",0),pn(this,"_start",void 0),pn(this,"_dispose",void 0),pn(this,"_push",void 0),pn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=l,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,rs(function(p){var m=p.window,g=n.windowTitle&&n.windowTitle(n.read());I1(g),n.latestAcknowledgedHistory=m.history.length})}return b9(e,[{key:"read",value:function(){return this.parseURL({qsModule:A1,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;rs(function(i){var s=i.window,a=r.createURL(n),o=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){I1(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},rs(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:A1,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,rs(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return rs(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function _9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(m){var g=m.qsModule,b=m.routeState,v=m.location,y=v.protocol,x=v.hostname,S=v.port,j=S===void 0?"":S,_=v.pathname,C=v.hash,N=g.stringify(b),I=j===""?"":":".concat(j);return N?"".concat(y,"//").concat(x).concat(I).concat(_,"?").concat(N).concat(C):"".concat(y,"//").concat(x).concat(I).concat(_).concat(C)}:t,r=e.parseURL,i=r===void 0?function(m){var g=m.qsModule,b=m.location;return g.parse(b.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,o=e.windowTitle,l=e.getLocation,u=l===void 0?function(){return rs(function(m){var g=m.window;return g.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:l,d=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new S9({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:u,start:d,dispose:f,push:h,cleanUrlOnDispose:p})}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var j9=["configure"];function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(n),!0).forEach(function(r){Xv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xv(e,t,n){return t=E9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=k9(e,"string");return pu(t)=="symbol"?t:String(t)}function k9(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9(e,t){if(e==null)return{};var n=C9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function D1(e){e.configure;var t=P9(e,j9);return t}function R9(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return $d($d({},n),{},Xv({},r,D1(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return $d($d({},n),{},Xv({},r,D1(t[r])))},{})}}}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){NN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NN(e,t,n){return t=N9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N9(e){var t=T9(e,"string");return mu(t)=="symbol"?t:String(t)}function T9(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?_9():n,i=t.stateMapping,s=i===void 0?R9():i,a=t.$$internal,o=a===void 0?!1:a;return function(l){var u=l.instantSearchInstance;function d(p){var m=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),g=Object.keys(p).reduce(function(v,y){return Md(Md({},v),{},NN({},y,p[y]))},m),b=s.stateToRoute(g);return r.createURL(b)}u._createURL=d;var f=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(m){var g=m.uiState,b=s.stateToRoute(g);(f===void 0||!aN(f,b))&&(r.write(b),f=b)},subscribe:function(){u._initialUiState=Md(Md({},h),s.routeToState(r.read())),r.onUpdate(function(m){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(m))})},started:function(){var m;(m=r.start)===null||m===void 0||m.call(r)},unsubscribe:function(){r.dispose()}}}};function A9(e,t){return e.toLocaleString(t)}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return t=F9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=D9(e,"string");return gu(t)=="symbol"?t:String(t)}function D9(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9(e){var t=e.numberLocale;return{formatNumber:function(r,i){return A9(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(u8(fi(fi({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(f8(fi(fi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(p8(fi(fi({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(g8(fi(fi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,o=s.payload;return i(y8(a,fi({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const $9="4.79.2";function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function M1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(n),!0).forEach(function(r){Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TN(r.key),r)}}function z9(e,t,n){return t&&U9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zv(e,t)}function B9(e){var t=V9();return function(){var r=sh(e),i;if(t){var s=sh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return W9(this,i)}}function W9(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ae(e)}function Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(e)}function Fe(e,t,n){return t=TN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TN(e){var t=q9(e,"string");return ul(t)=="symbol"?t:String(t)}function q9(e,t){if(ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=mr({name:"instantsearch"});function Q9(){return"#"}var ON={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},K9=function(e){H9(n,e);var t=B9(n);function n(r){var i;M9(this,n),i=t.call(this),Fe(Ae(i),"client",void 0),Fe(Ae(i),"indexName",void 0),Fe(Ae(i),"compositionID",void 0),Fe(Ae(i),"insightsClient",void 0),Fe(Ae(i),"onStateChange",null),Fe(Ae(i),"future",void 0),Fe(Ae(i),"helper",void 0),Fe(Ae(i),"mainHelper",void 0),Fe(Ae(i),"mainIndex",void 0),Fe(Ae(i),"started",void 0),Fe(Ae(i),"templatesConfig",void 0),Fe(Ae(i),"renderState",{}),Fe(Ae(i),"_stalledSearchDelay",void 0),Fe(Ae(i),"_searchStalledTimer",void 0),Fe(Ae(i),"_initialUiState",void 0),Fe(Ae(i),"_initialResults",void 0),Fe(Ae(i),"_manuallyResetScheduleSearch",!1),Fe(Ae(i),"_resetScheduleSearch",void 0),Fe(Ae(i),"_createURL",void 0),Fe(Ae(i),"_searchFunction",void 0),Fe(Ae(i),"_mainHelperSearch",void 0),Fe(Ae(i),"_hasSearchWidget",!1),Fe(Ae(i),"_hasRecommendWidget",!1),Fe(Ae(i),"_insights",void 0),Fe(Ae(i),"middleware",[]),Fe(Ae(i),"sendEventToInsights",void 0),Fe(Ae(i),"status","idle"),Fe(Ae(i),"error",void 0),Fe(Ae(i),"scheduleSearch",Vl(function(){i.started&&i.mainHelper.search()})),Fe(Ae(i),"scheduleRender",Vl(function(){var D,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(D=i.mainHelper)!==null&&D!==void 0&&D.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,$&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Ae(i)}),i.emit("render")})),Fe(Ae(i),"onInternalStateChange",Vl(function(){var D=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function($){var O=$.instance;O.onStateChange({uiState:D})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,l=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,h=f===void 0?null:f,p=r.insights,m=p===void 0?void 0:p,g=r.searchFunction,b=r.stalledSearchDelay,v=b===void 0?200:b,y=r.searchClient,x=y===void 0?null:y,S=r.insightsClient,j=S===void 0?null:S,_=r.onStateChange,C=_===void 0?null:_,N=r.future,I=N===void 0?Fm(Fm({},ON),r.future||{}):N;if(x===null)throw new Error(vr("The `searchClient` option is required."));if(typeof x.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof x.addAlgoliaAgent=="function"&&x.addAlgoliaAgent("instantsearch.js (".concat($9,")")),j&&typeof j!="function")throw new Error(vr("The `insightsClient` option should be a function."));if(i.client=x,i.future=I,i.insightsClient=j,i.indexName=a,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=t8({indexName:i.compositionID||i.indexName}),i.onStateChange=C,i.started=!1,i.templatesConfig={helpers:L9({numberLocale:l}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=Q9,i._initialUiState=d,i._initialResults=null,i._insights=m,g&&(i._searchFunction=g),i.sendEventToInsights=wt,h){var P=typeof h=="boolean"?{}:h;P.$$internal=!0,i.use(O9(P))}if(m){var L=typeof m=="boolean"?{}:m;L.$$internal=!0,i.use(C1(L))}return D8()&&i.use(L8({$$internal:!0})),i}return z9(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var l=a.map(function(u){var d=Fm({$$type:"__unknown__",$$internal:!1,subscribe:wt,started:wt,unsubscribe:wt,onStateChange:wt},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&l.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(vr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(vr("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(Vn))throw new Error(vr("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(vr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(vr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(vr("The `start` method has already been called once."));var s=this.mainHelper||nn(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(wt)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var l=i.mainIndex.getHelper(),u=nn(a,l.state.index,l.state);return u.once("search",function(d){var f=d.state;l.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;l.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(l){var u=l.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,h){return f[h]=d[h],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(l){var u=l.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){$H(this.client,this._initialResults),NH(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Vl(wt),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:Vl(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(l){var u=l.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var l=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});l&&i.use(C1({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(vr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(u){Hv(typeof u=="function"?u(o):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(Hv(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(vr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(vr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(mz),AN={exports:{}},IN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=w;function G9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y9=typeof Object.is=="function"?Object.is:G9,J9=dl.useState,X9=dl.useEffect,Z9=dl.useLayoutEffect,eW=dl.useDebugValue;function tW(e,t){var n=t(),r=J9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Z9(function(){i.value=n,i.getSnapshot=t,Dm(i)&&s({inst:i})},[e,n,t]),X9(function(){return Dm(i)&&s({inst:i}),e(function(){Dm(i)&&s({inst:i})})},[e]),eW(n),n}function Dm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Y9(e,n)}catch{return!0}}function nW(e,t){return t()}var rW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nW:tW;IN.useSyncExternalStore=dl.useSyncExternalStore!==void 0?dl.useSyncExternalStore:rW;AN.exports=IN;var iW=AN.exports,sW={};function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function U1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=lW(e,"string");return vu(t)=="symbol"?t:String(t)}function lW(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H1=["react (".concat(w.version,")"),"react-instantsearch (".concat(Fv,")"),"react-instantsearch-core (".concat(Fv,")")],B1="react-instantsearch-server (".concat(Fv,")"),cW=function(t){return t?"next.js (".concat(t,")"):null};function uW(e){var t=o8(),n=hN(),r=pN(),i=gN(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,o=w.useRef(e),l=n||a||s,u=w.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new K9(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(y){y()}),d._schedule.queue=[]},0)},d._schedule.queue=[],l&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),W1(e.searchClient,[].concat(H1,[n&&B1,cW(dW())])),l&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,h=o.current;if(h.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),o.current=e),h.searchClient!==e.searchClient&&(W1(e.searchClient,[].concat(H1,[n&&B1])),f.mainHelper.setClient(e.searchClient).search(),o.current=e),h.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,o.current=e),h.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,o.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;f._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,o.current=e}ll(h.future,e.future)||(f.future=z1(z1({},ON),e.future),o.current=e)}var m=w.useRef(null),g=iW.useSyncExternalStore(w.useCallback(function(){var b=u.current;return m.current===null?b.started||(b.start(),t()):(clearTimeout(m.current),b._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){b.dispose()}clearTimeout(b._schedule.timer),m.current=setTimeout(v),b._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return g}function W1(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function dW(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=sW)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var fW=["children"];function hW(e,t){if(e==null)return{};var n=pW(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FN(e){var t=e.children,n=hW(e,fW),r=uW(n);return r.started?W.createElement(fN.Provider,{value:r},W.createElement(uN.Provider,{value:r.mainIndex},t,W.createElement(mW,{search:r}))):null}function mW(e){var t=e.search;return w.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function gW(e){return bW(e)||xW(e)||yW(e)||vW()}function vW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yW(e,t){if(e){if(typeof e=="string")return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}function xW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bW(e){if(Array.isArray(e))return ey(e)}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){wW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wW(e,t,n){return t=SW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=_W(e,"string");return yu(t)=="symbol"?t:String(t)}function _W(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q1=mr({name:"clear-refinements",connector:!0}),jW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,q1()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,o=i.excludedAttributes,l=o===void 0?["query"]:o,u=i.transformItems,d=u===void 0?function(m){return m}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(q1("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:wt,createURL:function(){return""},attributesToClear:[]},h=function(){return f.refine()},p=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(g){var b=g.instantSearchInstance;t(Ga(Ga({},this.getWidgetRenderState(g)),{},{instantSearchInstance:b}),!0)},render:function(g){var b=g.instantSearchInstance;t(Ga(Ga({},this.getWidgetRenderState(g)),{},{instantSearchInstance:b}),!1)},dispose:function(){n()},getRenderState:function(g,b){return Ga(Ga({},g),{},{clearRefinements:this.getWidgetRenderState(b)})},getWidgetRenderState:function(g){var b=g.createURL,v=g.scopedResults,y=g.results;f.attributesToClear=v.reduce(function(S,j){return S.concat(EW({scopedResult:j,includedAttributes:a,excludedAttributes:l,transformItems:d,results:y}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var j=S.helper,_=S.items;j.setState(VS({helper:j,attributesToClear:_})).search()})},f.createURL=function(){return b(Sc.apply(void 0,gW(f.attributesToClear.map(function(S){var j=S.helper,_=S.items;return VS({helper:j,attributesToClear:_})}))))};var x=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:x,hasRefinements:x,refine:h,createURL:p,widgetParams:r}}}}};function EW(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(oN(yH(t.results,t.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return n.length===0||n.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function kW(e,t){return si(jW,e,t)}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){DN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DN(e,t,n){return t=PW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=CW(e,"string");return xu(t)=="symbol"?t:String(t)}function CW(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RW=mr({name:"hits",connector:!0});const NW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,RW()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,o=i.transformItems,l=o===void 0?function(f){return f}:o,u,d;return{$$type:"ais.hits",init:function(h){t(qi(qi({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(qi(qi({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return qi(qi({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,m,g,b=h.results,v=h.helper,y=h.instantSearchInstance;if(u||(u=uH({instantSearchInstance:y,helper:v,widgetType:this.$$type})),d||(d=dH({helper:v,widgetType:this.$$type,instantSearchInstance:y})),!b)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&b.hits.length>0&&(b.hits=H6(b.hits));var x=SH(b.hits,b.page,b.hitsPerPage),S=kH(x,b.queryID),j=l(S,{results:b}),_=(p=b.renderingContent)===null||p===void 0||(m=p.widgets)===null||m===void 0||(g=m.banners)===null||g===void 0?void 0:g[0];return{hits:j,items:j,results:b,banner:_,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(sl).reduce(function(m,g){return qi(qi({},m),{},DN({},g,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(sl):h}}}};function rp(e,t){return si(NW,e,t)}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function TW(e){return FW(e)||IW(e)||AW(e)||OW()}function OW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(e,t)}}function IW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FW(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=$W(e,"string");return bu(t)=="symbol"?t:String(t)}function $W(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=mr({name:"hits-per-page",connector:!0}),MW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,Ud()),function(r){var i=r||{},s=i.items,a=i.transformItems,o=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error(Ud("The `items` option expects an array of objects."));var l=s,u=l.filter(function(p){return p.default===!0});if(u.length===0)throw new Error(Ud("A default value must be specified in `items`."));if(u.length>1)throw new Error(Ud("More than one default value is specified in `items`."));var d=u[0],f=function(m){var g=m.hitsPerPage;return l.map(function(b){return Hr(Hr({},b),{},{isRefined:Number(b.value)===Number(g)})})},h={getRefine:function(m){return function(g){return!g&&g!==0?m.setQueryParameter("hitsPerPage",void 0).search():m.setQueryParameter("hitsPerPage",g).search()}},createURLFactory:function(m){var g=m.state,b=m.createURL,v=m.getWidgetUiState,y=m.helper;return function(x){return b(function(S){return v(S,{searchParameters:g.resetPage().setQueryParameter("hitsPerPage",!x&&x!==0?void 0:x),helper:y})})}}};return{$$type:"ais.hitsPerPage",init:function(m){var g=m.state,b=m.instantSearchInstance,v=l.some(function(y){return Number(g.hitsPerPage)===Number(y.value)});v||(l=[{value:"",label:""}].concat(TW(l))),t(Hr(Hr({},this.getWidgetRenderState(m)),{},{instantSearchInstance:b}),!0)},render:function(m){var g=m.instantSearchInstance;t(Hr(Hr({},this.getWidgetRenderState(m)),{},{instantSearchInstance:g}),!1)},dispose:function(m){var g=m.state;return n(),g.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(m,g){return Hr(Hr({},m),{},{hitsPerPage:this.getWidgetRenderState(g)})},getWidgetRenderState:function(m){var g=m.state,b=m.results,v=m.createURL,y=m.helper,x=b?b.nbHits>0:!1;return{items:o(f(g),{results:b}),refine:h.getRefine(y),createURL:h.createURLFactory({state:g,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:y}),hasNoResults:!x,canRefine:x,widgetParams:r}},getWidgetUiState:function(m,g){var b=g.searchParameters,v=b.hitsPerPage;return v===void 0||v===d.value?m:Hr(Hr({},m),{},{hitsPerPage:v})},getWidgetSearchParameters:function(m,g){var b=g.uiState;return m.setQueryParameters({hitsPerPage:b.hitsPerPage||d.value})}}}};function UW(e,t){return si(MW,e,t)}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function zW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LN(r.key),r)}}function BW(e,t,n){return t&&HW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lm(e,t,n){return t=LN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LN(e){var t=WW(e,"string");return wu(t)=="symbol"?t:String(t)}function WW(e,t){if(wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VW=function(){function e(t){zW(this,e),Lm(this,"currentPage",void 0),Lm(this,"total",void 0),Lm(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return BW(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return l1({end:n});var a=this.calculatePaddingLeft(r,i,n,s),o=s-a,l=r-a,u=r+o;return l1({start:l,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return t=QW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=KW(e,"string");return Su(t)=="symbol"?t:String(t)}function KW(e,t){if(Su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=mr({name:"pagination",connector:!0}),YW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,GW()),function(r){var i=r||{},s=i.totalPages,a=i.padding,o=a===void 0?3:a,l=new VW({currentPage:0,total:0,padding:o}),u={};function d(f){var h=f.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(Br(Br({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(Br(Br({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var m=p.searchParameters,g=m.page||0;return g?Br(Br({},h),{},{page:g+1}):h},getWidgetSearchParameters:function(h,p){var m=p.uiState,g=m.page?m.page-1:0;return h.setQueryParameter("page",g)},getWidgetRenderState:function(h){var p=h.results,m=h.helper,g=h.state,b=h.createURL;u.refine||(u.refine=function(x){m.setPage(x),m.search()}),u.createURL||(u.createURL=function(x){return b(function(S){return Br(Br({},S),{},{page:x+1})})});var v=g.page||0,y=d(p||{nbPages:0});return l.currentPage=v,l.total=y,{createURL:u.createURL,refine:u.refine,canRefine:y>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:y,pages:p?l.pages():[],isFirstPage:l.isFirstPage(),isLastPage:l.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return Br(Br({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function fb(e,t){return si(YW,e,t)}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){pf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pf(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=XW(e,"string");return _u(t)=="symbol"?t:String(t)}function XW(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ya(e,t){return n7(e)||t7(e,t)||e7(e,t)||ZW()}function ZW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7(e,t){if(e){if(typeof e=="string")return J1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function n7(e){if(Array.isArray(e))return e}var $m=mr({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),r7="ais.range";function X1(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var i7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,$m()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,o=i.min,l=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error($m("The `attribute` option is required."));if(Ge(o)&&Ge(l)&&o>l)throw new Error($m("The `max` option can't be lower than `min`."));var f=function(x){return Number(Number(x).toFixed(d))},h={from:function(x){return x.toLocaleString()},to:function(x){return f(x).toLocaleString()}},p=function(x,S,j,_){var C=x.state,N=S.min,I=S.max,P=C.getNumericRefinement(a,">=")||[],L=Ya(P,1),D=L[0],$=C.getNumericRefinement(a,"<=")||[],O=Ya($,1),M=O[0],R=j===void 0||j==="",z=_===void 0||_==="",E=X1({min:R?void 0:parseFloat(j),max:z?void 0:parseFloat(_),precision:d}),A=E.min,k=E.max,F;!Ge(o)&&N===A?F=void 0:Ge(o)&&R?F=o:F=A;var H;!Ge(l)&&I===k?H=void 0:Ge(l)&&z?H=l:H=k;var T=F===void 0,te=Ge(N)&&N<=F,ie=T||Ge(F)&&(!Ge(N)||te),Y=H===void 0,ee=Ge(H)&&I>=H,se=Y||Ge(H)&&(!Ge(I)||ee),pe=D!==F,oe=M!==H;return(pe||oe)&&ie&&se?(C=C.removeNumericRefinement(a),Ge(F)&&(C=C.addNumericRefinement(a,">=",F)),Ge(H)&&(C=C.addNumericRefinement(a,"<=",H)),C.resetPage()):null},m=function(x){return function(){if(arguments.length===1){x.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function g(y){var x;Ge(o)?x=o:Ge(y.min)?x=y.min:x=0;var S;return Ge(l)?S=l:Ge(y.max)?S=y.max:S=0,X1({min:x,max:S,precision:d})}function b(y){var x=y.getNumericRefinement(a,">=")||[],S=Ya(x,1),j=S[0],_=y.getNumericRefinement(a,"<=")||[],C=Ya(_,1),N=C[0],I=Ge(j)?j:-1/0,P=Ge(N)?N:1/0;return[I,P]}function v(y,x){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],j=Ya(S,2),_=j[0],C=j[1],N=p(y,x,_,C);N&&y.setState(N).search()}}return{$$type:r7,init:function(x){t(Zt(Zt({},this.getWidgetRenderState(x)),{},{instantSearchInstance:x.instantSearchInstance}),!0)},render:function(x){t(Zt(Zt({},this.getWidgetRenderState(x)),{},{instantSearchInstance:x.instantSearchInstance}),!1)},getRenderState:function(x,S){return Zt(Zt({},x),{},{range:Zt(Zt({},x.range),{},pf({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(x){var S=x.results,j=x.helper,_=x.instantSearchInstance,C=S&&S.disjunctiveFacets||[],N=ba(C,function($){return $.name===a}),I=N&&N.stats||{min:void 0,max:void 0},P=g(I),L=b(j),D;return S?D=v(j,P):D=v(j,{min:void 0,max:void 0}),{refine:D,canRefine:P.min!==P.max,format:h,range:P,sendEvent:m(_),widgetParams:Zt(Zt({},r),{},{precision:d}),start:L}},dispose:function(x){var S=x.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(x,S){var j=S.searchParameters,_=j.getNumericRefinements(a),C=_[">="],N=C===void 0?[]:C,I=_["<="],P=I===void 0?[]:I;return N.length===0&&P.length===0?x:Zt(Zt({},x),{},{range:Zt(Zt({},x.range),{},pf({},a,"".concat(N,":").concat(P)))})},getWidgetSearchParameters:function(x,S){var j=S.uiState,_=x.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:Zt(Zt({},x.numericRefinements),{},pf({},a,{}))});Ge(o)&&(_=_.addNumericRefinement(a,">=",o)),Ge(l)&&(_=_.addNumericRefinement(a,"<=",l));var C=j.range&&j.range[a];if(!C||C.indexOf(":")===-1)return _;var N=C.split(":").map(parseFloat),I=Ya(N,2),P=I[0],L=I[1];return Ge(P)&&(!Ge(o)||o<P)&&(_=_.removeNumericRefinement(a,">="),_=_.addNumericRefinement(a,">=",P)),Ge(L)&&(!Ge(l)||L<l)&&(_=_.removeNumericRefinement(a,"<="),_=_.addNumericRefinement(a,"<=",L)),_}}}};function s7(e,t){return si(i7,e,t)}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}var a7=["name","escapedValue"],o7=["escapedValue","value"];function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){ac(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ac(e,t,n){return t=l7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return ju(t)=="symbol"?t:String(t)}function c7(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e_(e,t){if(e==null)return{};var n=u7(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var zd=mr({name:"refinement-list",connector:!0}),t_=["isRefined","count:desc","name:asc"],d7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,zd()),function(r){var i=r||{},s=i.attribute,a=i.operator,o=a===void 0?"or":a,l=i.limit,u=l===void 0?10:l,d=i.showMore,f=d===void 0?!1:d,h=i.showMoreLimit,p=h===void 0?20:h,m=i.sortBy,g=m===void 0?t_:m,b=i.escapeFacetValues,v=b===void 0?!0:b,y=i.transformItems,x=y===void 0?function(z){return z}:y;if(!s)throw new Error(zd("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(zd('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&p<=u)throw new Error(zd("`showMoreLimit` should be greater than `limit`."));var S=function(E){var A=E.name,k=E.escapedValue,F=e_(E,a7);return Ye(Ye({},F),{},{value:k,label:A,highlighted:A})},j,_=[],C=!0,N,I,P=!1,L=function(){};function D(){L()}function $(z,E){return function(){P=!P,E.render(z)}}function O(){return P?p:u}var M=function(){return function(){}},R=function(E,A){return function(k){return function(F){var H=k.instantSearchInstance,T=k.results;if(F===""&&_)t(Ye(Ye({},A.getWidgetRenderState(Ye(Ye({},k),{},{results:j}))),{},{instantSearchInstance:H}),!1);else{var te={highlightPreTag:v?sl.highlightPreTag:cn.highlightPreTag,highlightPostTag:v?sl.highlightPostTag:cn.highlightPostTag};E.searchForFacetValues(s,F,Math.min(O(),100),te).then(function(ie){var Y=v?B6(ie.facetHits):ie.facetHits,ee=x(Y.map(function(se){var pe=se.escapedValue,oe=se.value,ve=e_(se,o7);return Ye(Ye({},ve),{},{value:pe,label:oe})}),{results:T});t(Ye(Ye({},A.getWidgetRenderState(Ye(Ye({},k),{},{results:j}))),{},{items:ee,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:H}),!1)})}}}};return{$$type:"ais.refinementList",init:function(E){t(Ye(Ye({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!0)},render:function(E){t(Ye(Ye({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!1)},getRenderState:function(E,A){return Ye(Ye({},E),{},{refinementList:Ye(Ye({},E.refinementList),{},ac({},s,this.getWidgetRenderState(A)))})},getWidgetRenderState:function(E){var A=this,k=E.results,F=E.state,H=E.createURL,T=E.instantSearchInstance,te=E.helper,ie=[],Y=[];if((!I||!N||!M)&&(I=eH({instantSearchInstance:T,helper:te,attribute:s,widgetType:this.$$type}),N=function(Pt){I("click:internal",Pt),te.toggleFacetRefinement(s,Pt).search()},M=R(te,this)),k){var ee=k.getFacetValues(s,{sortBy:g,facetOrdering:g===t_});Y=ee&&Array.isArray(ee)?ee:[],ie=x(Y.slice(0,O()).map(S),{results:k});var se=F.maxValuesPerFacet,pe=O();C=se>pe?Y.length<=pe:Y.length<pe,j=k,_=ie,E.results&&(L=$(E,this))}var oe=M&&M(E),ve=P&&_.length>u,Se=f&&!C,ht=ve||Se;return{createURL:function(Pt){return H(function(ot){return A.getWidgetUiState(ot,{searchParameters:F.resetPage().toggleFacetRefinement(s,Pt),helper:te})})},items:ie,refine:N,searchForItems:oe,isFromSearch:!1,canRefine:ie.length>0,widgetParams:r,isShowingMore:P,canToggleShowMore:ht,toggleShowMore:D,sendEvent:I,hasExhaustiveItems:C}},dispose:function(E){var A=E.state;n();var k=A.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?k.removeFacet(s):k.removeDisjunctiveFacet(s)},getWidgetUiState:function(E,A){var k=A.searchParameters,F=o==="or"?k.getDisjunctiveRefinements(s):k.getConjunctiveRefinements(s);return f7(Ye(Ye({},E),{},{refinementList:Ye(Ye({},E.refinementList),{},ac({},s,F))}),s)},getWidgetSearchParameters:function(E,A){var k=A.uiState,F=o==="or";if(E.isHierarchicalFacet(s)||F&&E.isConjunctiveFacet(s)||!F&&E.isDisjunctiveFacet(s))return E;var H=k.refinementList&&k.refinementList[s],T=F?E.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):E.addFacet(s).removeFacetRefinement(s),te=T.maxValuesPerFacet||0,ie=Math.max(te,f?p:u),Y=T.setQueryParameter("maxValuesPerFacet",ie);if(!H){var ee=F?"disjunctiveFacetsRefinements":"facetsRefinements";return Y.setQueryParameters(ac({},ee,Ye(Ye({},Y[ee]),{},ac({},s,[]))))}return H.reduce(function(se,pe){return F?se.addDisjunctiveFacetRefinement(s,pe):se.addFacetRefinement(s,pe)},Y)}}}};function f7(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function h7(e,t){return si(d7,e,t)}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return t=m7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=g7(e,"string");return Eu(t)=="symbol"?t:String(t)}function g7(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=mr({name:"search-box",connector:!0}),y7=function(t,n){return n(t)},x7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,v7()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?y7:s,o,l;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(Qi(Qi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(Qi(Qi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return Qi(Qi({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,h=d.instantSearchInstance,p=d.state;return o||(o=function(g){a(g,function(b){return f.setQuery(b).search()})},l=function(){f.setQuery("").search()}),{query:p.query||"",refine:o,clear:l,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(d,f){var h=f.searchParameters,p=h.query||"";return p===""||d&&d.query===p?d:Qi(Qi({},d),{},{query:p})},getWidgetSearchParameters:function(d,f){var h=f.uiState;return d.setQueryParameter("query",h.query||"")}}}};function hb(e,t){return si(x7,e,t)}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return t=w7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=S7(e,"string");return ku(t)=="symbol"?t:String(t)}function S7(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=mr({name:"stats",connector:!0}),j7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,_7()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(Ja(Ja({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(Ja(Ja({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return Ja(Ja({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function ip(e,t){return si(j7,e,t)}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){mf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mf(e,t,n){return t=E7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E7(e){var t=k7(e,"string");return Pu(t)=="symbol"?t:String(t)}function k7(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e,t){return T7(e)||N7(e,t)||R7(e,t)||C7()}function C7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,t){if(e){if(typeof e=="string")return s_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(e,t)}}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function T7(e){if(Array.isArray(e))return e}var a_=mr({name:"toggle-refinement",connector:!0}),$N="ais.toggleRefinement",O7=function(t){var n=t.instantSearchInstance,r=t.helper,i=t.attribute,s=t.on,a=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];if(u.length===1){n.sendEventToInsights(u[0]);return}var f=u[1],h=u[2],p=h===void 0?"Filter Applied":h,m=u[0].split(":"),g=P7(m,2),b=g[0],v=g[1];if(!(b!=="click"||s===void 0)&&!f){var y;n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:$N,eventType:b,eventModifier:v,payload:{eventName:p,index:((y=r.lastResults)===null||y===void 0?void 0:y.index)||r.state.index,filters:s.map(function(x){return"".concat(i,":").concat(x)})},attribute:i})}};return a},A7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt;return Mi(t,a_()),function(r){var i=r||{},s=i.attribute,a=i.on,o=a===void 0?!0:a,l=i.off;if(!s)throw new Error(a_("The `attribute` option is required."));var u=l!==void 0,d=Nm(o).map(ic),f=u?Nm(l).map(ic):void 0,h,p=function(b){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},y=v.isRefined;y?(d.forEach(function(x){return b.removeDisjunctiveFacetRefinement(s,x)}),u&&f.forEach(function(x){return b.addDisjunctiveFacetRefinement(s,x)})):(h("click:internal",y),u&&f.forEach(function(x){return b.removeDisjunctiveFacetRefinement(s,x)}),d.forEach(function(x){return b.addDisjunctiveFacetRefinement(s,x)})),b.search()}},m={createURLFactory:function(b,v){var y=v.state,x=v.createURL,S=v.getWidgetUiState,j=v.helper;return function(){y=y.resetPage();var _=b?d:f;_&&_.forEach(function(N){y=y.removeDisjunctiveFacetRefinement(s,N)});var C=b?f:d;return C&&C.forEach(function(N){y=y.addDisjunctiveFacetRefinement(s,N)}),x(function(N){return S(N,{searchParameters:y,helper:j})})}}};return{$$type:$N,init:function(b){var v=b.instantSearchInstance;t(Pn(Pn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:v}),!0)},render:function(b){var v=b.instantSearchInstance;t(Pn(Pn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:v}),!1)},dispose:function(b){var v=b.state;return n(),v.removeDisjunctiveFacet(s)},getRenderState:function(b,v){return Pn(Pn({},b),{},{toggleRefinement:Pn(Pn({},b.toggleRefinement),{},mf({},s,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(b){var v=b.state,y=b.helper,x=b.results,S=b.createURL,j=b.instantSearchInstance,_=x?d.every(function(O){return v.isDisjunctiveFacetRefined(s,O)}):d.every(function(O){return v.isDisjunctiveFacetRefined(s,O)}),C={isRefined:_,count:0},N={isRefined:u&&!_,count:0};if(x){var I=Nm(f||!1),P=x.getFacetValues(s,{})||[],L=d.map(function(O){return ba(P,function(M){var R=M.escapedValue;return R===ic(String(O))})}).filter(function(O){return O!==void 0}),D=u?I.map(function(O){return ba(P,function(M){var R=M.escapedValue;return R===ic(String(O))})}).filter(function(O){return O!==void 0}):[];C={isRefined:L.length?L.every(function(O){return O.isRefined}):!1,count:L.reduce(function(O,M){return O+M.count},0)||null},N={isRefined:D.length?D.every(function(O){return O.isRefined}):!1,count:D.reduce(function(O,M){return O+M.count},0)||P.reduce(function(O,M){var R=M.count;return O+R},0)}}h||(h=O7({instantSearchInstance:j,attribute:s,on:d,helper:y}));var $=_?N:C;return{value:{name:s,isRefined:_,count:x?$.count:null,onFacetValue:C,offFacetValue:N},createURL:m.createURLFactory(_,{state:v,createURL:S,helper:y,getWidgetUiState:this.getWidgetUiState}),sendEvent:h,canRefine:!!(x&&$.count),refine:p(y),widgetParams:r}},getWidgetUiState:function(b,v){var y=v.searchParameters,x=d&&d.every(function(j){return y.isDisjunctiveFacetRefined(s,j)});if(!x){var S;return(S=b.toggle)===null||S===void 0||delete S[s],b}return Pn(Pn({},b),{},{toggle:Pn(Pn({},b.toggle),{},mf({},s,x))})},getWidgetSearchParameters:function(b,v){var y=v.uiState;if(b.isHierarchicalFacet(s)||b.isConjunctiveFacet(s))return b;var x=b.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s),S=!!(y.toggle&&y.toggle[s]);return S?(d&&d.forEach(function(j){x=x.addDisjunctiveFacetRefinement(s,j)}),x):u?(f&&f.forEach(function(j){x=x.addDisjunctiveFacetRefinement(s,j)}),x):x.setQueryParameters({disjunctiveFacetsRefinements:Pn(Pn({},b.disjunctiveFacetsRefinements),{},mf({},s,[]))})}}}};function I7(e,t){return si(A7,e,t)}function F7(e,t){return M7(e)||$7(e,t)||L7(e,t)||D7()}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7(e,t){if(e){if(typeof e=="string")return o_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(e,t)}}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function M7(e){if(Array.isArray(e))return e}function U7(){var e=Ku(),t=cb(),n=w.useState(function(){var a=Vv(t);return{results:a.results,scopedResults:a.scopedResults}}),r=F7(n,2),i=r[0],s=r[1];return w.useEffect(function(){function a(){var o=t.getResults();if(o!==null)s({results:o,scopedResults:t.getScopedResults()});else if(e.mainIndex.getIndexName().length===0){var l=e.mainIndex.getWidgets().find(Vn);l&&s({results:Vv(t).results,scopedResults:l.getScopedResults()})}}return e.addListener("render",a),a(),function(){e.removeListener("render",a)}},[e,t]),i}function l_(e,t){return W7(e)||B7(e,t)||H7(e,t)||z7()}function z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function W7(e){if(Array.isArray(e))return e}function V7(){var e=Ku(),t=cb(),n=t.getIndexId(),r=w.useState(function(){return e.getUiState()}),i=l_(r,2),s=i[0],a=i[1],o=s[n],l=w.useState(function(){return e.renderState}),u=l_(l,2),d=u[0],f=u[1],h=d[n]||{},p=w.useCallback(function(g){e.setUiState(g)},[e]),m=w.useCallback(function(g){t.setIndexUiState(g)},[t]);return w.useEffect(function(){function g(){a(e.getUiState()),f(e.renderState)}return e.addListener("render",g),g(),function(){e.removeListener("render",g)}},[e]),{uiState:s,setUiState:p,indexUiState:o,setIndexUiState:m,renderState:d,indexRenderState:h}}function q7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.catchError,n=Ku(),r=V7(),i=r.uiState,s=r.setUiState,a=r.indexUiState,o=r.setIndexUiState,l=r.renderState,u=r.indexRenderState,d=U7(),f=d.results,h=d.scopedResults,p=w.useCallback(function(){for(var g=arguments.length,b=new Array(g),v=0;v<g;v++)b[v]=arguments[v];return n.use.apply(n,b),function(){n.unuse.apply(n,b)}},[n]),m=w.useCallback(function(){n.refresh()},[n]);return mN(function(){if(t){var g=function(){};return n.addListener("error",g),function(){return n.removeListener("error",g)}}return function(){}},[n,t]),{results:f,scopedResults:h,uiState:i,setUiState:s,indexUiState:a,setIndexUiState:o,renderState:l,indexRenderState:u,addMiddlewares:p,refresh:m,status:n.status,error:n.error}}function Q7(){function e(t){return new Promise(n=>{let r=new XMLHttpRequest;r.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>r.setRequestHeader(o,t.headers[o]));let i=(o,l)=>setTimeout(()=>{r.abort(),n({status:0,content:l,isTimedOut:!0})},o),s=i(t.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(t.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(t.data)})}return{send:e}}function K7(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(o){r().setItem(n,JSON.stringify(o))}function a(){const o=e.timeToLive?e.timeToLive*1e3:null,l=i(),u=Object.fromEntries(Object.entries(l).filter(([,f])=>f.timestamp!==void 0));if(s(u),!o)return;const d=Object.fromEntries(Object.entries(u).filter(([,f])=>{const h=new Date().getTime();return!(f.timestamp+o<h)}));s(d)}return{get(o,l,u={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(o)])).then(d=>Promise.all([d?d.value:l(),d!==void 0])).then(([d,f])=>Promise.all([d,f||u.miss(d)])).then(([d])=>d)},set(o,l){return Promise.resolve().then(()=>{const u=i();return u[JSON.stringify(o)]={timestamp:new Date().getTime(),value:l},r().setItem(n,JSON.stringify(u)),l})},delete(o){return Promise.resolve().then(()=>{const l=i();delete l[JSON.stringify(o)],r().setItem(n,JSON.stringify(l))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function G7(){return{get(e,t,n={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function oc(e){const t=[...e.caches],n=t.shift();return n===void 0?G7():{get(r,i,s={miss:()=>Promise.resolve()}){return n.get(r,i,s).catch(()=>oc({caches:t}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>oc({caches:t}).set(r,i))},delete(r){return n.delete(r).catch(()=>oc({caches:t}).delete(r))},clear(){return n.clear().catch(()=>oc({caches:t}).clear())}}}function Mm(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then(o=>i.miss(o)).then(()=>a)},set(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function Y7(e){const t={value:`Algolia for JavaScript (${e})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return t.value.indexOf(r)===-1&&(t.value=`${t.value}${r}`),t}};return t}function J7(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function X7({algoliaAgents:e,client:t,version:n}){const r=Y7(n).add({segment:t,version:n});return e.forEach(i=>r.add(i)),r}function Z7(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var u_=2*60*1e3;function d_(e,t="up"){const n=Date.now();function r(){return t==="up"||Date.now()-n>u_}function i(){return t==="timed out"&&Date.now()-n<=u_}return{...e,status:t,lastUpdate:n,isUp:r,isTimedOut:i}}var MN=class extends Error{constructor(t,n){super(t);Ua(this,"name","AlgoliaError");n&&(this.name=n)}},UN=class extends MN{constructor(t,n,r){super(t,r);Ua(this,"stackTrace");this.stackTrace=n}},eV=class extends UN{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},ny=class extends UN{constructor(t,n,r,i="ApiError"){super(t,r,i);Ua(this,"status");this.status=n}},tV=class extends MN{constructor(t,n){super(t,"DeserializationError");Ua(this,"response");this.response=n}},nV=class extends ny{constructor(t,n,r,i){super(t,n,i,"DetailedApiError");Ua(this,"error");this.error=r}};function rV(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}function iV(e,t,n){const r=sV(n);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return r.length&&(i+=`?${r}`),i}function sV(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function aV(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}function oV(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}function lV(e){try{return JSON.parse(e.content)}catch(t){throw new tV(t.message,e)}}function cV({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new nV(r.message,t,r.error,n):new ny(r.message,t,n)}catch{}return new ny(e,t,n)}function uV({isTimedOut:e,status:t}){return!e&&~~t===0}function dV({isTimedOut:e,status:t}){return e||uV({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function fV({status:e}){return~~(e/100)===2}function hV(e){return e.map(t=>zN(t))}function zN(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function pV({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:l,responsesCache:u}){async function d(p){const m=await Promise.all(p.map(x=>t.get(x,()=>Promise.resolve(d_(x))))),g=m.filter(x=>x.isUp()),b=m.filter(x=>x.isTimedOut()),v=[...g,...b];return{hosts:v.length>0?v:p,getTimeout(x,S){return(b.length===0&&x===0?1:b.length+3+x)*S}}}async function f(p,m,g=!0){const b=[],v=aV(p,m),y=oV(n,p.headers,m.headers),x=p.method==="GET"?{...p.data,...m.data}:{},S={...i,...p.queryParameters,...x};if(s.value&&(S["x-algolia-agent"]=s.value),m&&m.queryParameters)for(const I of Object.keys(m.queryParameters))!m.queryParameters[I]||Object.prototype.toString.call(m.queryParameters[I])==="[object Object]"?S[I]=m.queryParameters[I]:S[I]=m.queryParameters[I].toString();let j=0;const _=async(I,P)=>{const L=I.pop();if(L===void 0)throw new eV(hV(b));const D={...a,...m.timeouts},$={data:v,headers:y,method:p.method,url:iV(L,p.path,S),connectTimeout:P(j,D.connect),responseTimeout:P(j,g?D.read:D.write)},O=R=>{const z={request:$,response:R,host:L,triesLeft:I.length};return b.push(z),z},M=await o.send($);if(dV(M)){const R=O(M);return M.isTimedOut&&j++,r.info("Retryable failure",zN(R)),await t.set(L,d_(L,M.isTimedOut?"timed out":"down")),_(I,P)}if(fV(M))return lV(M);throw O(M),cV(M,b)},C=e.filter(I=>I.accept==="readWrite"||(g?I.accept==="read":I.accept==="write")),N=await d(C);return _([...N.hosts].reverse(),N.getTimeout)}function h(p,m={}){const g=p.useReadTransporter||p.method==="GET";if(!g)return f(p,m,g);const b=()=>f(p,m);if((m.cacheable||p.cacheable)!==!0)return b();const y={request:p,requestOptions:m,transporter:{queryParameters:i,headers:n}};return u.get(y,()=>l.get(y,()=>l.set(y,b()).then(x=>Promise.all([l.delete(y),x]),x=>Promise.all([l.delete(y),Promise.reject(x)])).then(([x,S])=>S)),{miss:x=>u.set(y,x)})}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:h,requestsCache:l,responsesCache:u}}var HN="5.35.0";function mV(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(rV([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function gV({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=J7(e,t,n),a=pV({hosts:mV(e),...i,algoliaAgent:X7({algoliaAgents:r,client:"Lite",version:HN}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(o,l){a.algoliaAgent.add({segment:o,version:l})},setClientApiKey({apiKey:o}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=o:a.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,l){return this.search(o,l)},searchForFacets(o,l){return this.search(o,l)},customPost({path:o,parameters:l,body:u},d){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const m={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:l||{},headers:{},data:u||{}};return a.request(m,d)},getRecommendations(o,l){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,l)},search(o,l){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:m,...g})=>g.type==="facet"?{...g,...m,type:"facet"}:{...g,...m,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,l)}}}function vt(e,t,n){if(!e||typeof e!="string")throw new Error("`appId` is missing.");if(!t||typeof t!="string")throw new Error("`apiKey` is missing.");return gV({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:Z7(),requester:Q7(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Mm(),requestsCache:Mm({serializable:!1}),hostsCache:oc({caches:[K7({key:`${HN}-${e}`}),Mm()]}),...n})}const sp=()=>{const{user:e}=yt(),[t,n]=w.useState(!1),[r,i]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:o}=await X.rpc("is_supra_admin",{user_uuid:e.id});o?(console.error("Error checking supra admin status:",o),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},Ta=()=>{yt();const{userProfile:e}=Gx(),{isSupraAdmin:t}=sp(),n=t||(e==null?void 0:e.role)==="admin",r=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin",o=t||(e==null?void 0:e.role)==="admin",l=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:n,canExport:r,canCopyToClipboard:i,canAddToFavorites:s,canManageUsers:a,canManageWorkspace:o,canDeleteData:l,canAddUsers:a,role:e==null?void 0:e.role,planType:e==null?void 0:e.plan_type}},vV={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},yV=()=>{const{user:e}=yt(),{planType:t,isSupraAdmin:n}=Ta(),r=w.useCallback(async()=>{if(!e)return;const i=n?"premium":t||"freemium",s=vV[i];try{const{data:a,error:o}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(o&&o.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",o);return}const{error:l}=await X.from("search_quotas").upsert({user_id:e.id,plan_type:i,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});l&&console.error("Erreur lors de la synchronisation des quotas:",l)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return w.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},ap=()=>{const{user:e}=yt(),[t,n]=w.useState(null),[r,i]=w.useState(!0),[s,a]=w.useState(null),{syncUserQuotas:o}=yV(),l=w.useCallback(async()=>{if(!e){i(!1);return}i(!0),a(null),await o();try{const{data:v,error:y}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(y&&y.code!=="PGRST116"){a(y.message);return}if(v)n(v);else{const{data:x,error:S}=await X.from("search_quotas").insert({user_id:e.id,plan_type:"freemium",exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(S){a(S.message);return}n(x)}}catch(v){a(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}},[e,o]),u=w.useRef(null);w.useEffect(()=>{l()},[l]),w.useEffect(()=>{if(!e)return;const v=X.channel("quota-updates").on("postgres_changes",{event:"*",schema:"public",table:"search_quotas",filter:`user_id=eq.${e.id}`},y=>{y.eventType==="UPDATE"&&y.new&&n(y.new)}).subscribe(y=>{});return u.current=v,()=>{u.current&&(X.removeChannel(u.current),u.current=null)}},[e]);const d=t?t.exports_limit===null||t.exports_used<t.exports_limit:!1,f=t?t.clipboard_copies_limit===null||t.clipboard_copies_used<t.clipboard_copies_limit:!1,h=t?t.favorites_limit===null||t.favorites_used<t.favorites_limit:!1,p=t?!d||!f||!h:!1,m=w.useCallback(async(v=1)=>{if(!e||!t||t.exports_limit===null)return;const{error:y}=await X.from("search_quotas").update({exports_used:t.exports_used+v}).eq("user_id",e.id);if(y)throw y;n(x=>x?{...x,exports_used:x.exports_used+v}:null)},[e,t]),g=w.useCallback(async(v=1)=>{if(!e||!t||t.clipboard_copies_limit===null)return;const{error:y}=await X.from("search_quotas").update({clipboard_copies_used:t.clipboard_copies_used+v}).eq("user_id",e.id);if(y)throw y;n(x=>x?{...x,clipboard_copies_used:x.clipboard_copies_used+v}:null)},[e,t]),b=w.useCallback(async()=>{if(!e||!t||t.favorites_limit===null)return;const{error:v}=await X.from("search_quotas").update({favorites_used:t.favorites_used+1}).eq("user_id",e.id);if(v)throw v;n(y=>y?{...y,favorites_used:y.favorites_used+1}:null)},[e,t]);return{quotaData:t,isLoading:r,error:s,canExport:d,canCopyToClipboard:f,canAddToFavorites:h,isAtLimit:p,incrementExport:m,incrementClipboardCopy:g,incrementFavorite:b,reloadQuota:l}},Nn="ef_all",BN=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function WN(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function xV(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},o=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},o.forEach(l=>{n[i][l]=(s[l]||0)+(a[l]||0)})}),n}function Ao(e,t,n){const r={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""},i=e||r,s=t||r,o={...i||s||r},l=new Set,u=[],d=m=>{for(const g of m||[]){const b=String((g==null?void 0:g.objectID)??"");l.has(b)||(l.add(b),u.push(g))}};d(i==null?void 0:i.hits),d(s==null?void 0:s.hits),o.hits=u;const f=m=>typeof(m==null?void 0:m.nbHits)=="number"?m.nbHits:(Array.isArray(m==null?void 0:m.hits)?m.hits:[]).length,h=n!=null&&n.sumNbHits?f(i)+f(s):f(i);o.nbHits=typeof h=="number"&&isFinite(h)?h:0;const p=m=>{if(!m||typeof m!="string")return;const g=m.match(/(?:^|&)hitsPerPage=(\d+)(?:&|$)/);if(!g)return;const b=Number(g[1]);return Number.isFinite(b)?b:void 0};if(n!=null&&n.sumNbHits){const m=p(i==null?void 0:i.params)||p(s==null?void 0:s.params)||20;o.nbPages=Math.ceil((o.nbHits||0)/m),o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0;const g=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:0,b=typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;o.processingTimeMS=Math.max(g,b)}else o.nbPages=typeof(i==null?void 0:i.nbPages)=="number"?i.nbPages:typeof(s==null?void 0:s.nbPages)=="number"?s.nbPages:0,o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0,o.processingTimeMS=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;return o.facets=xV(i==null?void 0:i.facets,s==null?void 0:s.facets),o.facets_stats=(i==null?void 0:i.facets_stats)||(s==null?void 0:s.facets_stats)||null,o}function bV(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}function wV(e,t){return(e?`workspace_id:${e}`:"workspace_id:_none_")+""}const Xa="6BGAS85TYS",Za="e06b7614aaff866708fbd2872de90d37";function SV(e){const[t,n]=w.useState(null);return w.useEffect(()=>{let r=!1;async function i(){var a,o,l,u,d,f;if(typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)){r||n({fullPublic:vt(Xa,Za),fullPrivate:vt(Xa,Za),teaser:vt(Xa,Za)});return}try{const h=e?{workspaceId:e}:{},{data:p,error:m}=await X.functions.invoke("algolia-secure-key",{body:h});if(m)throw m;const g=p||{};if(!r&&(g!=null&&g.appId)){n({fullPublic:vt(g.appId,((a=g.fullPublic)==null?void 0:a.searchApiKey)||((o=g.full)==null?void 0:o.searchApiKey)),fullPrivate:vt(g.appId,((l=g.fullPrivate)==null?void 0:l.searchApiKey)||((u=g.full)==null?void 0:u.searchApiKey)),teaser:vt(g.appId,((d=g.teaserPublic)==null?void 0:d.searchApiKey)||((f=g.teaser)==null?void 0:f.searchApiKey))});return}}catch{if(!r){n({fullPublic:vt(Xa,Za),fullPrivate:vt(Xa,Za),teaser:vt(Xa,Za)});return}}}return i(),()=>{r=!0}},[e]),t}const Um=e=>({...e,search:t=>{const n=(t||[]).map(r=>{const i=Object.fromEntries(Object.entries(r.params||{}).filter(([s])=>BN.includes(s)));return{...r,params:i}});return e.search(n)}}),VN=w.createContext(null),_V=()=>{const e=w.useContext(VN);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},op=w.createContext(null),qN=()=>{const e=w.useContext(op);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},QN=()=>w.useContext(op),jV=({children:e})=>{const[t,n]=w.useState("all");return c.jsx(op.Provider,{value:{origin:t,setOrigin:n},children:e})},EV=({children:e})=>{const t=ap(),{currentWorkspace:n}=$i();_l();const r=SV(n==null?void 0:n.id),[i,s]=w.useState("all"),a=w.useRef("all");w.useEffect(()=>{a.current=i},[i]);const o=w.useRef(n==null?void 0:n.id);w.useEffect(()=>{o.current=n==null?void 0:n.id},[n==null?void 0:n.id]);const l=r,u=w.useRef(null),d=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{l?(u.current=Um(l.fullPublic),d.current=Um(l.fullPrivate),f.current=Um(l.teaser)):(u.current=null,d.current=null,f.current=null)},[l]);const h=w.useRef(null);l&&!h.current&&(h.current={search:async m=>{var $,O,M;const g=u.current,b=d.current,v=f.current;if(!g||!b)return{results:[]};const y=o.current,x=[],S=[],j=[],_=(...R)=>{const z=R.filter(F=>typeof F=="string"&&F.trim().length>0).map(F=>F.trim());if(z.length===0)return;if(z.length===1)return z[0];const E=z.filter(F=>/\sOR\s/.test(F)),A=z.filter(F=>!/\sOR\s/.test(F));return[...E,...A].map(F=>`(${F})`).join(" AND ")},C=a.current;for(const R of m||[]){const z={...R.params||{}},E=WN(z.facetFilters),A=C,k=wV(y);A==="public"?(x.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:public"],...E||[]],filters:_(z.filters)}}),j.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:public"],...E||[]],filters:_(z.filters)}})):A==="private"?S.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:private"],...E||[]],filters:_(z.filters,k)}}):(x.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:public"],...E||[]],filters:_(z.filters)}}),j.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:public"],...E||[]],filters:_(z.filters)}}),S.push({...R,indexName:Nn,params:{...z,facetFilters:[["scope:private"],...E||[]],filters:_(z.filters,k)}}))}const[N,I,P]=await Promise.all([g.search(x),b.search(S),(v==null?void 0:v.search(j))??Promise.resolve({results:[]})]),L=[],D={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};for(let R=0,z=0,E=0,A=0;R<(m||[]).length;R++){($=(m||[])[R])!=null&&$.params;const k=C;if(k==="public"){const F=N.results[z]||D;z++;const H=((O=P.results)==null?void 0:O[A])||D;A++,L.push(Ao(F,H))}else if(k==="private"){const F=I.results[E]||D;E+=1,L.push(F)}else{const F=N.results[z]||D;z++;const H=((M=P.results)==null?void 0:M[A])||D;A++;const T=Ao(F,H),te=I.results[E]||D;E++,L.push(Ao(T,te,{sumNbHits:!0}))}}return{results:L}}});const p=l?h.current:null;return c.jsx(VN.Provider,{value:t,children:c.jsx(op.Provider,{value:{origin:i,setOrigin:s},children:p?c.jsx(FN,{searchClient:p,indexName:Nn,future:{preserveSharedStateOnUnmount:!0},children:e}):c.jsx("div",{})})})},f_="6BGAS85TYS",h_="e06b7614aaff866708fbd2872de90d37",kV=e=>{const[t,n]=w.useState([]),[r,i]=w.useState([]),[s,a]=w.useState(!1),{user:o}=yt(),{currentWorkspace:l}=$i(),{origin:u}=qN(),d=(...m)=>{},f=w.useRef(null);w.useEffect(()=>{let m=!1;async function g(){var v,y,x,S;if(typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)){m||(f.current={public:vt(f_,h_),private:vt(f_,h_)});return}try{const j=l==null?void 0:l.id,_=j?`?workspaceId=${encodeURIComponent(j)}`:"",{data:{session:C}}=await X.auth.getSession(),N=(C==null?void 0:C.access_token)||"",I=await fetch(`/functions/v1/algolia-secure-key${_}`,{headers:{Authorization:`Bearer ${N}`}});if(I.ok){const P=await I.json();m||(f.current={public:vt(P.appId,((v=P.fullPublic)==null?void 0:v.searchApiKey)||((y=P.full)==null?void 0:y.searchApiKey)),private:vt(P.appId,((x=P.fullPrivate)==null?void 0:x.searchApiKey)||((S=P.full)==null?void 0:S.searchApiKey))});return}}catch{}}return g(),()=>{m=!0}},[l==null?void 0:l.id]);const h=async m=>{var y,x,S,j;if(!m.trim())return[];const g=l==null?void 0:l.id,b=(()=>{const _="(access_level:standard)",C=g?` OR (assigned_workspace_ids:${g})`:"";return _+C})(),v=g?`workspace_id:${g}`:"workspace_id:_none_";try{const _=[];(u==="all"||u==="public")&&_.push({indexName:"ef_all",query:m,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],filters:b}}),(u==="all"||u==="private")&&_.push({indexName:"ef_all",query:m,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],filters:v}}),d("query",{origin:u,query:m,wsId:g,publicFilters:b,privateFilters:v,requests:_});const C=f.current;if(!C)return[];const N=u==="private"?{results:[]}:await C.public.search([_[0]].filter(Boolean)),I=u==="public"?{results:[]}:await C.private.search([_[u==="all"?1:0]].filter(Boolean)),P=u==="private"?[]:((x=(y=N==null?void 0:N.results)==null?void 0:y[0])==null?void 0:x.hits)||[],L=u==="public"?[]:((j=(S=I==null?void 0:I.results)==null?void 0:S[0])==null?void 0:j.hits)||[],D=new Map,$=M=>M.Nom_fr||M.Nom_en||"";for(const M of P){const R=$(M);R&&D.set(R,!1)}for(const M of L){const R=$(M);R&&D.set(R,!0)}const O=Array.from(D.entries()).slice(0,5).map(([M,R])=>({label:M,isPrivate:R}));return d("results",{hitsPublic:P.length,hitsPrivate:L.length,items:O}),O}catch(_){return console.error("Error fetching suggestions from Algolia:",_),[]}},p=async()=>{if(!o)return[];try{const{data:m,error:g}=await X.from("search_history").select("search_query").eq("user_id",o.id).order("created_at",{ascending:!1}).limit(10);if(g)throw g;return[...new Set((m==null?void 0:m.map(v=>v.search_query))||[])].slice(0,3)}catch(m){return console.error("Error fetching recent searches:",m),[]}};return w.useEffect(()=>{if(!e.trim()){n([]);return}a(!0);const m=setTimeout(async()=>{const g=await h(e);n(g),a(!1)},300);return()=>clearTimeout(m)},[e,l==null?void 0:l.id,u]),w.useEffect(()=>{o&&(async()=>{const g=await p();i(g)})()},[o]),{suggestions:t,recentSearches:r,loading:s}},PV=()=>{const{user:e}=yt(),{currentWorkspace:t}=$i(),n=w.useCallback(async(i,s,a)=>{if(e)try{const{error:o}=await X.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:i,search_filters:s,results_count:a});o&&console.error("Error recording search history:",o)}catch(o){console.error("Error recording search history:",o)}},[e,t]),r=w.useCallback(async()=>{if(!e)return[];try{const{data:i,error:s}=await X.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(s)throw s;return[...new Set((i==null?void 0:i.map(o=>o.search_query))||[])].slice(0,3)}catch(i){return console.error("Error fetching recent searches:",i),[]}},[e]);return{recordSearch:n,getRecentSearches:r}},CV=Uu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function at({className:e,variant:t,...n}){return c.jsx("div",{className:ue(CV({variant:t}),e),...n})}const RV=()=>{const{query:e,refine:t}=hb(),{nbHits:n}=ip();rp();const{suggestions:r,recentSearches:i}=kV(e),{origin:s}=qN(),{recordSearch:a}=PV(),[o,l]=w.useState(!1),u=w.useRef(null);W.useEffect(()=>{console.log("[SearchBox] render",{origin:s,query:e,suggestions:r.length,recent:i.length})},[s,e,r,i]),w.useEffect(()=>{const p=m=>{u.current&&!u.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const d=()=>{t(""),l(!1)},f=p=>{t(p),l(!1),a(p,{},0)},h=()=>{e.trim()&&a(e,{},n||0),l(!1)};return c.jsx("div",{className:"space-y-4",ref:u,children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Vf,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),c.jsx(Mt,{type:"text",value:e,onChange:p=>{t(p.target.value),l(p.target.value.length>0)},onKeyDown:p=>{p.key==="Enter"&&h()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&c.jsx("button",{onClick:d,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:c.jsx(kx,{className:"h-6 w-6"})})]}),c.jsx(Z,{variant:"hero",onClick:h,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),o&&(r.length>0||i.length>0)&&c.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[r.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat",children:"Suggestions"}),c.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:r.map((p,m)=>c.jsxs("button",{onClick:()=>f(p.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[c.jsx("span",{className:"truncate flex-1",children:p.label}),p.isPrivate&&c.jsx(at,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]},`suggestion-${m}`))})]}),i.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[c.jsx(cv,{className:"h-3 w-3"}),"Recherches récentes"]}),c.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:i.map((p,m)=>c.jsxs("button",{onClick:()=>f(p),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[c.jsx(cv,{className:"h-3 w-3 text-indigo-950/60"}),p]},`recent-${m}`))})]})]})]})})};function p_(e,[t,n]){return Math.min(n,Math.max(t,e))}var zm=0;function KN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m_()),document.body.insertAdjacentElement("beforeend",e[1]??m_()),zm++,()=>{zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zm--}},[])}function m_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hm="focusScope.autoFocusOnMount",Bm="focusScope.autoFocusOnUnmount",g_={bubbles:!1,cancelable:!0},NV="FocusScope",pb=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,l]=w.useState(null),u=$n(i),d=$n(s),f=w.useRef(null),h=$e(t,g=>l(g)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(x){if(p.paused||!o)return;const S=x.target;o.contains(S)?f.current=S:Ji(f.current,{select:!0})},b=function(x){if(p.paused||!o)return;const S=x.relatedTarget;S!==null&&(o.contains(S)||Ji(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&Ji(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(v);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[r,o,p.paused]),w.useEffect(()=>{if(o){y_.add(p);const g=document.activeElement;if(!o.contains(g)){const v=new CustomEvent(Hm,g_);o.addEventListener(Hm,u),o.dispatchEvent(v),v.defaultPrevented||(TV(DV(GN(o)),{select:!0}),document.activeElement===g&&Ji(o))}return()=>{o.removeEventListener(Hm,u),setTimeout(()=>{const v=new CustomEvent(Bm,g_);o.addEventListener(Bm,d),o.dispatchEvent(v),v.defaultPrevented||Ji(g??document.body,{select:!0}),o.removeEventListener(Bm,d),y_.remove(p)},0)}}},[o,u,d,p]);const m=w.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const y=g.currentTarget,[x,S]=OV(y);x&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&Ji(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&Ji(S,{select:!0})):v===y&&g.preventDefault()}},[n,r,p.paused]);return c.jsx(me.div,{tabIndex:-1,...a,ref:h,onKeyDown:m})});pb.displayName=NV;function TV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ji(r,{select:t}),document.activeElement!==n)return}function OV(e){const t=GN(e),n=v_(t,e),r=v_(t.reverse(),e);return[n,r]}function GN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v_(e,t){for(const n of e)if(!AV(n,{upTo:t}))return n}function AV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IV(e){return e instanceof HTMLInputElement&&"select"in e}function Ji(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IV(e)&&t&&e.select()}}var y_=FV();function FV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=x_(e,t),e.unshift(t)},remove(t){var n;e=x_(e,t),(n=e[0])==null||n.resume()}}}function x_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function DV(e){return e.filter(t=>t.tagName!=="A")}function mb(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var LV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eo=new WeakMap,Hd=new WeakMap,Bd={},Wm=0,YN=function(e){return e&&(e.host||YN(e.parentNode))},$V=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=YN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MV=function(e,t,n,r){var i=$V(t,Array.isArray(e)?e:[e]);Bd[n]||(Bd[n]=new WeakMap);var s=Bd[n],a=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(eo.get(h)||0)+1,b=(s.get(h)||0)+1;eo.set(h,g),s.set(h,b),a.push(h),g===1&&m&&Hd.set(h,!0),b===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),Wm++,function(){a.forEach(function(f){var h=eo.get(f)-1,p=s.get(f)-1;eo.set(f,h),s.set(f,p),h||(Hd.has(f)||f.removeAttribute(r),Hd.delete(f)),p||f.removeAttribute(n)}),Wm--,Wm||(eo=new WeakMap,eo=new WeakMap,Hd=new WeakMap,Bd={})}},JN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=LV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),MV(r,i,n,"aria-hidden")):function(){return null}},Jr=function(){return Jr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jr.apply(this,arguments)};function XN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function UV(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gf="right-scroll-bar-position",vf="width-before-scroll-bar",zV="with-scroll-bars-hidden",HV="--removed-body-scroll-bar-size";function Vm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BV(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var WV=typeof window<"u"?w.useLayoutEffect:w.useEffect,b_=new WeakMap;function VV(e,t){var n=BV(null,function(r){return e.forEach(function(i){return Vm(i,r)})});return WV(function(){var r=b_.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||Vm(o,null)}),s.forEach(function(o){i.has(o)||Vm(o,a)})}b_.set(n,e)},[e]),n}function qV(e){return e}function QV(e,t){t===void 0&&(t=qV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function KV(e){e===void 0&&(e={});var t=QV(null);return t.options=Jr({async:!0,ssr:!1},e),t}var ZN=function(e){var t=e.sideCar,n=XN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Jr({},n))};ZN.isSideCarExport=!0;function GV(e,t){return e.useMedium(t),ZN}var eT=KV(),qm=function(){},lp=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:qm,onWheelCapture:qm,onTouchMoveCapture:qm}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,x=XN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=VV([n,t]),_=Jr(Jr({},x),i);return w.createElement(w.Fragment,null,d&&w.createElement(S,{sideCar:eT,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:y}),a?w.cloneElement(w.Children.only(o),Jr(Jr({},_),{ref:j})):w.createElement(v,Jr({},_,{className:l,ref:j}),o))});lp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lp.classNames={fullWidth:vf,zeroRight:gf};var YV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YV();return t&&e.setAttribute("nonce",t),e}function XV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eq=function(){var e=0,t=null;return{add:function(n){e==0&&(t=JV())&&(XV(t,n),ZV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tq=function(){var e=eq();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tT=function(){var e=tq(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},nq={left:0,top:0,right:0,gap:0},Qm=function(e){return parseInt(e||"",10)||0},rq=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Qm(n),Qm(r),Qm(i)]},iq=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nq;var t=rq(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sq=tT(),Io="data-scroll-locked",aq=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Io,`] {
    `).concat(HV,": ").concat(o,`px;
  }
`)},w_=function(){var e=parseInt(document.body.getAttribute(Io)||"0",10);return isFinite(e)?e:0},oq=function(){w.useEffect(function(){return document.body.setAttribute(Io,(w_()+1).toString()),function(){var e=w_()-1;e<=0?document.body.removeAttribute(Io):document.body.setAttribute(Io,e.toString())}},[])},lq=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;oq();var s=w.useMemo(function(){return iq(i)},[i]);return w.createElement(sq,{styles:aq(s,!t,i,n?"":"!important")})},ry=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return ry=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{ry=!1}var to=ry?{passive:!1}:!1,cq=function(e){return e.tagName==="TEXTAREA"},nT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!cq(e)&&n[t]==="visible")},uq=function(e){return nT(e,"overflowY")},dq=function(e){return nT(e,"overflowX")},S_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rT(e,r);if(i){var s=iT(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fq=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},hq=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rT=function(e,t){return e==="v"?uq(t):dq(t)},iT=function(e,t){return e==="v"?fq(t):hq(t)},pq=function(e,t){return e==="h"&&t==="rtl"?-1:1},mq=function(e,t,n,r,i){var s=pq(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=iT(e,o),m=p[0],g=p[1],b=p[2],v=g-b-s*m;(m||v)&&rT(e,o)&&(f+=v,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Vd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},__=function(e){return[e.deltaX,e.deltaY]},j_=function(e){return e&&"current"in e?e.current:e},gq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yq=0,no=[];function xq(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(yq++)[0],s=w.useState(tT)[0],a=w.useRef(e);w.useEffect(function(){a.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=UV([e.lockRef.current],(e.shards||[]).map(j_),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var v=Vd(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-v[0],S="deltaY"in g?g.deltaY:y[1]-v[1],j,_=g.target,C=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&_.type==="range")return!1;var N=S_(C,_);if(!N)return!0;if(N?j=C:(j=C==="v"?"h":"v",N=S_(C,_)),!N)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=j),!j)return!0;var I=r.current||j;return mq(I,b,g,I==="h"?x:S,!0)},[]),l=w.useCallback(function(g){var b=g;if(!(!no.length||no[no.length-1]!==s)){var v="deltaY"in b?__(b):Vd(b),y=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&gq(j.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(a.current.shards||[]).map(j_).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=x.length>0?o(b,x[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=w.useCallback(function(g,b,v,y){var x={name:g,delta:b,target:v,should:y,shadowParent:bq(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=w.useCallback(function(g){n.current=Vd(g),r.current=void 0},[]),f=w.useCallback(function(g){u(g.type,__(g),g.target,o(g,e.lockRef.current))},[]),h=w.useCallback(function(g){u(g.type,Vd(g),g.target,o(g,e.lockRef.current))},[]);w.useEffect(function(){return no.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,to),document.addEventListener("touchmove",l,to),document.addEventListener("touchstart",d,to),function(){no=no.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,to),document.removeEventListener("touchmove",l,to),document.removeEventListener("touchstart",d,to)}},[]);var p=e.removeScrollBar,m=e.inert;return w.createElement(w.Fragment,null,m?w.createElement(s,{styles:vq(i)}):null,p?w.createElement(lq,{gapMode:e.gapMode}):null)}function bq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wq=GV(eT,xq);var gb=w.forwardRef(function(e,t){return w.createElement(lp,Jr({},e,{ref:t,sideCar:wq}))});gb.classNames=lp.classNames;var Sq=[" ","Enter","ArrowUp","ArrowDown"],_q=[" ","Enter"],Gu="Select",[cp,up,jq]=vx(Gu),[jl,Wte]=Di(Gu,[jq,Lh]),dp=Lh(),[Eq,Ds]=jl(Gu),[kq,Pq]=jl(Gu),sT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=e,g=dp(t),[b,v]=w.useState(null),[y,x]=w.useState(null),[S,j]=w.useState(!1),_=Jx(u),[C=!1,N]=ti({prop:r,defaultProp:i,onChange:s}),[I,P]=ti({prop:a,defaultProp:o,onChange:l}),L=w.useRef(null),D=b?m||!!b.closest("form"):!0,[$,O]=w.useState(new Set),M=Array.from($).map(R=>R.props.value).join(";");return c.jsx(XP,{...g,children:c.jsxs(Eq,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:ei(),value:I,onValueChange:P,open:C,onOpenChange:N,dir:_,triggerPointerDownPosRef:L,disabled:h,children:[c.jsx(cp.Provider,{scope:t,children:c.jsx(kq,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(R=>{O(z=>new Set(z).add(R))},[]),onNativeOptionRemove:w.useCallback(R=>{O(z=>{const E=new Set(z);return E.delete(R),E})},[]),children:n})}),D?c.jsxs(NT,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:R=>P(R.target.value),disabled:h,form:m,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from($)]},M):null]})})};sT.displayName=Gu;var aT="SelectTrigger",oT=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=dp(n),a=Ds(aT,n),o=a.disabled||r,l=$e(t,a.onTriggerChange),u=up(n),d=w.useRef("touch"),[f,h,p]=TT(g=>{const b=u().filter(x=>!x.disabled),v=b.find(x=>x.value===a.value),y=OT(b,g,v);y!==void 0&&a.onValueChange(y.value)}),m=g=>{o||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(ZP,{asChild:!0,...s,children:c.jsx(me.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":RT(a.value)?"":void 0,...i,ref:l,onClick:ce(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:ce(i.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:ce(i.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&Sq.includes(g.key)&&(m(),g.preventDefault())})})})});oT.displayName=aT;var lT="SelectValue",cT=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,l=Ds(lT,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=$e(t,l.onValueNodeChange);return Qt(()=>{u(d)},[u,d]),c.jsx(me.span,{...o,ref:f,style:{pointerEvents:"none"},children:RT(l.value)?c.jsx(c.Fragment,{children:a}):s})});cT.displayName=lT;var Cq="SelectIcon",uT=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return c.jsx(me.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});uT.displayName=Cq;var Rq="SelectPortal",dT=e=>c.jsx(Nh,{asChild:!0,...e});dT.displayName=Rq;var wa="SelectContent",fT=w.forwardRef((e,t)=>{const n=Ds(wa,e.__scopeSelect),[r,i]=w.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Pa.createPortal(c.jsx(hT,{scope:e.__scopeSelect,children:c.jsx(cp.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(pT,{...e,ref:t})});fT.displayName=wa;var xr=10,[hT,Ls]=jl(wa),Nq="SelectContentImpl",pT=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:b,...v}=e,y=Ds(wa,n),[x,S]=w.useState(null),[j,_]=w.useState(null),C=$e(t,ee=>S(ee)),[N,I]=w.useState(null),[P,L]=w.useState(null),D=up(n),[$,O]=w.useState(!1),M=w.useRef(!1);w.useEffect(()=>{if(x)return JN(x)},[x]),KN();const R=w.useCallback(ee=>{const[se,...pe]=D().map(Se=>Se.ref.current),[oe]=pe.slice(-1),ve=document.activeElement;for(const Se of ee)if(Se===ve||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===se&&j&&(j.scrollTop=0),Se===oe&&j&&(j.scrollTop=j.scrollHeight),Se==null||Se.focus(),document.activeElement!==ve))return},[D,j]),z=w.useCallback(()=>R([N,x]),[R,N,x]);w.useEffect(()=>{$&&z()},[$,z]);const{onOpenChange:E,triggerPointerDownPosRef:A}=y;w.useEffect(()=>{if(x){let ee={x:0,y:0};const se=oe=>{var ve,Se;ee={x:Math.abs(Math.round(oe.pageX)-(((ve=A.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((Se=A.current)==null?void 0:Se.y)??0))}},pe=oe=>{ee.x<=10&&ee.y<=10?oe.preventDefault():x.contains(oe.target)||E(!1),document.removeEventListener("pointermove",se),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",pe,{capture:!0})}}},[x,E,A]),w.useEffect(()=>{const ee=()=>E(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[E]);const[k,F]=TT(ee=>{const se=D().filter(ve=>!ve.disabled),pe=se.find(ve=>ve.ref.current===document.activeElement),oe=OT(se,ee,pe);oe&&setTimeout(()=>oe.ref.current.focus())}),H=w.useCallback((ee,se,pe)=>{const oe=!M.current&&!pe;(y.value!==void 0&&y.value===se||oe)&&(I(ee),oe&&(M.current=!0))},[y.value]),T=w.useCallback(()=>x==null?void 0:x.focus(),[x]),te=w.useCallback((ee,se,pe)=>{const oe=!M.current&&!pe;(y.value!==void 0&&y.value===se||oe)&&L(ee)},[y.value]),ie=r==="popper"?iy:mT,Y=ie===iy?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:b}:{};return c.jsx(hT,{scope:n,content:x,viewport:j,onViewportChange:_,itemRefCallback:H,selectedItem:N,onItemLeave:T,itemTextRefCallback:te,focusSelectedItem:z,selectedItemText:P,position:r,isPositioned:$,searchRef:k,children:c.jsx(gb,{as:va,allowPinchZoom:!0,children:c.jsx(pb,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ce(i,ee=>{var se;(se=y.trigger)==null||se.focus({preventScroll:!0}),ee.preventDefault()}),children:c.jsx($u,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(ie,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...v,...Y,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ce(v.onKeyDown,ee=>{const se=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!se&&ee.key.length===1&&F(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let oe=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ve=ee.target,Se=oe.indexOf(ve);oe=oe.slice(Se+1)}setTimeout(()=>R(oe)),ee.preventDefault()}})})})})})})});pT.displayName=Nq;var Tq="SelectItemAlignedPosition",mT=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Ds(wa,n),a=Ls(wa,n),[o,l]=w.useState(null),[u,d]=w.useState(null),f=$e(t,C=>d(C)),h=up(n),p=w.useRef(!1),m=w.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:y}=a,x=w.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&b&&v){const C=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(s.dir!=="rtl"){const ve=P.left-N.left,Se=I.left-ve,ht=C.left-Se,kt=C.width+ht,Pt=Math.max(kt,N.width),ot=window.innerWidth-xr,tr=p_(Se,[xr,Math.max(xr,ot-Pt)]);o.style.minWidth=kt+"px",o.style.left=tr+"px"}else{const ve=N.right-P.right,Se=window.innerWidth-I.right-ve,ht=window.innerWidth-C.right-Se,kt=C.width+ht,Pt=Math.max(kt,N.width),ot=window.innerWidth-xr,tr=p_(Se,[xr,Math.max(xr,ot-Pt)]);o.style.minWidth=kt+"px",o.style.right=tr+"px"}const L=h(),D=window.innerHeight-xr*2,$=g.scrollHeight,O=window.getComputedStyle(u),M=parseInt(O.borderTopWidth,10),R=parseInt(O.paddingTop,10),z=parseInt(O.borderBottomWidth,10),E=parseInt(O.paddingBottom,10),A=M+R+$+E+z,k=Math.min(b.offsetHeight*5,A),F=window.getComputedStyle(g),H=parseInt(F.paddingTop,10),T=parseInt(F.paddingBottom,10),te=C.top+C.height/2-xr,ie=D-te,Y=b.offsetHeight/2,ee=b.offsetTop+Y,se=M+R+ee,pe=A-se;if(se<=te){const ve=L.length>0&&b===L[L.length-1].ref.current;o.style.bottom="0px";const Se=u.clientHeight-g.offsetTop-g.offsetHeight,ht=Math.max(ie,Y+(ve?T:0)+Se+z),kt=se+ht;o.style.height=kt+"px"}else{const ve=L.length>0&&b===L[0].ref.current;o.style.top="0px";const ht=Math.max(te,M+g.offsetTop+(ve?H:0)+Y)+pe;o.style.height=ht+"px",g.scrollTop=se-te+g.offsetTop}o.style.margin=`${xr}px 0`,o.style.minHeight=k+"px",o.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,g,b,v,s.dir,r]);Qt(()=>x(),[x]);const[S,j]=w.useState();Qt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=w.useCallback(C=>{C&&m.current===!0&&(x(),y==null||y(),m.current=!1)},[x,y]);return c.jsx(Aq,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(me.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mT.displayName=Tq;var Oq="SelectPopperPosition",iy=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xr,...s}=e,a=dp(n);return c.jsx(eC,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iy.displayName=Oq;var[Aq,vb]=jl(wa,{}),sy="SelectViewport",gT=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Ls(sy,n),a=vb(sy,n),o=$e(t,s.onViewportChange),l=w.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(cp.Slot,{scope:n,children:c.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ce(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-xr*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(g,b);if(v<m){const y=v+p,x=Math.min(m,y),S=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});gT.displayName=sy;var vT="SelectGroup",[Iq,Fq]=jl(vT),Dq=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ei();return c.jsx(Iq,{scope:n,id:i,children:c.jsx(me.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Dq.displayName=vT;var yT="SelectLabel",xT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Fq(yT,n);return c.jsx(me.div,{id:i.id,...r,ref:t})});xT.displayName=yT;var ah="SelectItem",[Lq,bT]=jl(ah),wT=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=Ds(ah,n),l=Ls(ah,n),u=o.value===r,[d,f]=w.useState(s??""),[h,p]=w.useState(!1),m=$e(t,y=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,y,r,i)}),g=ei(),b=w.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Lq,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:w.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(cp.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:ce(a.onFocus,()=>p(!0)),onBlur:ce(a.onBlur,()=>p(!1)),onClick:ce(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ce(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ce(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:ce(a.onPointerMove,y=>{var x;b.current=y.pointerType,i?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(a.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ce(a.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(_q.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});wT.displayName=ah;var lc="SelectItemText",ST=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Ds(lc,n),o=Ls(lc,n),l=bT(lc,n),u=Pq(lc,n),[d,f]=w.useState(null),h=$e(t,v=>f(v),l.onItemTextChange,v=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=w.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Qt(()=>(g(m),()=>b(m)),[g,b,m]),c.jsxs(c.Fragment,{children:[c.jsx(me.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Pa.createPortal(s.children,a.valueNode):null]})});ST.displayName=lc;var _T="SelectItemIndicator",jT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bT(_T,n).isSelected?c.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});jT.displayName=_T;var ay="SelectScrollUpButton",ET=w.forwardRef((e,t)=>{const n=Ls(ay,e.__scopeSelect),r=vb(ay,e.__scopeSelect),[i,s]=w.useState(!1),a=$e(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(PT,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});ET.displayName=ay;var oy="SelectScrollDownButton",kT=w.forwardRef((e,t)=>{const n=Ls(oy,e.__scopeSelect),r=vb(oy,e.__scopeSelect),[i,s]=w.useState(!1),a=$e(t,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(PT,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});kT.displayName=oy;var PT=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Ls("SelectScrollButton",n),a=w.useRef(null),o=up(n),l=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),Qt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(me.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ce(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ce(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ce(i.onPointerLeave,()=>{l()})})}),$q="SelectSeparator",CT=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});CT.displayName=$q;var ly="SelectArrow",Mq=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=dp(n),s=Ds(ly,n),a=Ls(ly,n);return s.open&&a.position==="popper"?c.jsx(tC,{...i,...r,ref:t}):null});Mq.displayName=ly;function RT(e){return e===""||e===void 0}var NT=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=w.useRef(null),s=$e(t,i),a=mb(n);return w.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),c.jsx(Mu,{asChild:!0,children:c.jsx("select",{...r,ref:s,defaultValue:n})})});NT.displayName="BubbleSelect";function TT(e){const t=$n(e),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(a=>{const o=n.current+a;t(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function OT(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Uq(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Uq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zq=sT,AT=oT,Hq=cT,Bq=uT,Wq=dT,IT=fT,Vq=gT,FT=xT,DT=wT,qq=ST,Qq=jT,LT=ET,$T=kT,MT=CT;const Nr=zq,Tr=Hq,dr=w.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(AT,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(Bq,{asChild:!0,children:c.jsx(zu,{className:"h-4 w-4 opacity-50"})})]}));dr.displayName=AT.displayName;const UT=w.forwardRef(({className:e,...t},n)=>c.jsx(LT,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(_x,{className:"h-4 w-4"})}));UT.displayName=LT.displayName;const zT=w.forwardRef(({className:e,...t},n)=>c.jsx($T,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(zu,{className:"h-4 w-4"})}));zT.displayName=$T.displayName;const fr=w.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>c.jsx(Wq,{children:c.jsxs(IT,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(UT,{}),c.jsx(Vq,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(zT,{})]})}));fr.displayName=IT.displayName;const Kq=w.forwardRef(({className:e,...t},n)=>c.jsx(FT,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Kq.displayName=FT.displayName;const ut=w.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(DT,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Qq,{children:c.jsx(Sx,{className:"h-4 w-4"})})}),c.jsx(qq,{children:t})]}));ut.displayName=DT.displayName;const Gq=w.forwardRef(({className:e,...t},n)=>c.jsx(MT,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));Gq.displayName=MT.displayName;var yb="Checkbox",[Yq,Vte]=Di(yb),[Jq,Xq]=Yq(yb),HT=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),m=$e(t,S=>p(S)),g=w.useRef(!1),b=h?d||!!h.closest("form"):!0,[v=!1,y]=ti({prop:i,defaultProp:s,onChange:u}),x=w.useRef(v);return w.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>y(x.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,y]),c.jsxs(Jq,{scope:n,state:v,disabled:o,children:[c.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Ss(v)?"mixed":v,"aria-required":a,"data-state":VT(v),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onKeyDown:ce(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ce(e.onClick,S=>{y(j=>Ss(j)?!0:!j),b&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),b&&c.jsx(Zq,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ss(s)?!1:s})]})});HT.displayName=yb;var BT="CheckboxIndicator",WT=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=Xq(BT,n);return c.jsx(Li,{present:r||Ss(s.state)||s.state===!0,children:c.jsx(me.span,{"data-state":VT(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});WT.displayName=BT;var Zq=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=w.useRef(null),o=mb(n),l=Ix(t);w.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});d.indeterminate=Ss(n),p.call(d,Ss(n)?!1:n),d.dispatchEvent(m)}},[o,n,r]);const u=w.useRef(Ss(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ss(e){return e==="indeterminate"}function VT(e){return Ss(e)?"indeterminate":e?"checked":"unchecked"}var qT=HT,eQ=WT;const Ii=w.forwardRef(({className:e,...t},n)=>c.jsx(qT,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(eQ,{className:ue("flex items-center justify-center text-current"),children:c.jsx(Sx,{className:"h-4 w-4"})})}));Ii.displayName=qT.displayName;const oh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>($i(),e?c.jsxs("div",{className:ue("relative",n),children:[c.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:c.jsxs("div",{className:"text-center space-y-2",children:[i&&c.jsxs(at,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[c.jsx(Vc,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&c.jsxs(Z,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[c.jsx(iL,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):c.jsx(c.Fragment,{children:t})),QT=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=ap(),{canExport:s}=Ta(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unité donnée d'activité"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Périmètre_fr||u.Périmètre_en||u.Périmètre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),o=w.useCallback(async(u,d="emission_factors")=>{if(!s)return gn.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return gn.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return gn.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return gn.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const m=[["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],...f.map(v=>{var y,x;return[v.nom||"","",v.description||"","",((y=v.fe)==null?void 0:y.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((x=v.date)==null?void 0:x.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(y=>`"${String(y).replace(/"/g,'""')}"`).join(",")).join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");return b.href=URL.createObjectURL(g),b.download=`${d}.csv`,b.click(),URL.revokeObjectURL(b.href),gn.success(`${f.length} facteur(s) d'émission exporté(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),gn.error("Erreur lors de l'export"),!1}},[s,e,n,r]),l=w.useCallback(async u=>{if(u.length===0)return gn.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return gn.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return gn.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],h=d.map(g=>{var b,v;return[g.nom||"","",g.description||"","",((b=g.fe)==null?void 0:b.toString())||"",g.uniteActivite||"","",g.source||"",g.secteur||"","",g.sousSecteur||"","",g.localisation||"","",((v=g.date)==null?void 0:v.toString())||"",g.incertitude||"",g.perimetre||"","",g.contributeur||"",g.commentaires||"",""]}),m=[f,...h].map(g=>g.join("	")).join(`
`);return await navigator.clipboard.writeText(m),gn.success(`${d.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),gn.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:o,handleCopyToClipboard:l,canExport:s&&e,canCopyToClipboard:t}};function tQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iQ={};function E_(e,t){return(iQ.jsx?rQ:nQ).test(e)}const sQ=/[ \t\n\f\r]/g;function aQ(e){return typeof e=="object"?e.type==="text"?k_(e.value):!1:k_(e)}function k_(e){return e.replace(sQ,"")===""}class Yu{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Yu.prototype.normal={};Yu.prototype.property={};Yu.prototype.space=void 0;function KT(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Yu(n,r,t)}function cy(e){return e.toLowerCase()}class Mn{constructor(t,n){this.attribute=n,this.property=t}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let oQ=0;const we=Oa(),jt=Oa(),uy=Oa(),K=Oa(),Xe=Oa(),Fo=Oa(),Un=Oa();function Oa(){return 2**++oQ}const dy=Object.freeze(Object.defineProperty({__proto__:null,boolean:we,booleanish:jt,commaOrSpaceSeparated:Un,commaSeparated:Fo,number:K,overloadedBoolean:uy,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),Km=Object.keys(dy);class xb extends Mn{constructor(t,n,r,i){let s=-1;if(super(t,n),P_(this,"space",i),typeof r=="number")for(;++s<Km.length;){const a=Km[s];P_(this,Km[s],(r&dy[a])===dy[a])}}}xb.prototype.defined=!0;function P_(e,t,n){n&&(e[t]=n)}function El(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new xb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[cy(r)]=r,n[cy(s.attribute)]=r}return new Yu(t,n,e.space)}const GT=El({properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:Xe,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:K,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:Xe,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:jt,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function YT(e,t){return t in e?e[t]:t}function JT(e,t){return YT(e,t.toLowerCase())}const lQ=El({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fo,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:we,allowPaymentRequest:we,allowUserMedia:we,alt:null,as:null,async:we,autoCapitalize:null,autoComplete:Xe,autoFocus:we,autoPlay:we,blocking:Xe,capture:null,charSet:null,checked:we,cite:null,className:Xe,cols:K,colSpan:null,content:null,contentEditable:jt,controls:we,controlsList:Xe,coords:K|Fo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:we,defer:we,dir:null,dirName:null,disabled:we,download:uy,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:we,formTarget:null,headers:Xe,height:K,hidden:uy,high:K,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:we,inputMode:null,integrity:null,is:null,isMap:we,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:we,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:we,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:we,muted:we,name:null,nonce:null,noModule:we,noValidate:we,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:we,optimum:K,pattern:null,ping:Xe,placeholder:null,playsInline:we,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:we,referrerPolicy:null,rel:Xe,required:we,reversed:we,rows:K,rowSpan:K,sandbox:Xe,scope:null,scoped:we,seamless:we,selected:we,shadowRootClonable:we,shadowRootDelegatesFocus:we,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:we,useMap:null,value:jt,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:we,declare:we,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:we,noHref:we,noShade:we,noWrap:we,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:we,disableRemotePlayback:we,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:JT}),cQ=El({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Un,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:we,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fo,g2:Fo,glyphName:Fo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Un,rev:Un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Un,requiredFeatures:Un,requiredFonts:Un,requiredFormats:Un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Un,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YT}),XT=El({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ZT=El({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JT}),eO=El({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dQ=/[A-Z]/g,C_=/-[a-z]/g,fQ=/^data[-\w.:]+$/i;function hQ(e,t){const n=cy(t);let r=t,i=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fQ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(C_,mQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!C_.test(s)){let a=s.replace(dQ,pQ);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=xb}return new i(r,t)}function pQ(e){return"-"+e.toLowerCase()}function mQ(e){return e.charAt(1).toUpperCase()}const gQ=KT([GT,lQ,XT,ZT,eO],"html"),bb=KT([GT,cQ,XT,ZT,eO],"svg");function vQ(e){return e.join(" ").trim()}var wb={},R_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yQ=/\n/g,xQ=/^\s*/,bQ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,wQ=/^:\s*/,SQ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,_Q=/^[;\s]*/,jQ=/^\s+|\s+$/g,EQ=`
`,N_="/",T_="*",ea="",kQ="comment",PQ="declaration",CQ=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(yQ);g&&(n+=g.length);var b=m.lastIndexOf(EQ);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(g){return g.position=new a(m),u(),g}}function a(m){this.start=m,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function u(){l(xQ)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=s();if(!(N_!=e.charAt(0)||T_!=e.charAt(1))){for(var g=2;ea!=e.charAt(g)&&(T_!=e.charAt(g)||N_!=e.charAt(g+1));)++g;if(g+=2,ea===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return r+=2,i(b),e=e.slice(g),r+=2,m({type:kQ,comment:b})}}function h(){var m=s(),g=l(bQ);if(g){if(f(),!l(wQ))return o("property missing ':'");var b=l(SQ),v=m({type:PQ,property:O_(g[0].replace(R_,ea)),value:b?O_(b[0].replace(R_,ea)):ea});return l(_Q),v}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return u(),p()};function O_(e){return e?e.replace(jQ,ea):ea}var RQ=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wb,"__esModule",{value:!0});wb.default=TQ;var NQ=RQ(CQ);function TQ(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,NQ.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.camelCase=void 0;var OQ=/^--[a-zA-Z0-9_-]+$/,AQ=/-([a-z])/g,IQ=/^[^-]+$/,FQ=/^-(webkit|moz|ms|o|khtml)-/,DQ=/^-(ms)-/,LQ=function(e){return!e||IQ.test(e)||OQ.test(e)},$Q=function(e,t){return t.toUpperCase()},A_=function(e,t){return"".concat(t,"-")},MQ=function(e,t){return t===void 0&&(t={}),LQ(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(DQ,A_):e=e.replace(FQ,A_),e.replace(AQ,$Q))};fp.camelCase=MQ;var UQ=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},zQ=UQ(wb),HQ=fp;function fy(e,t){var n={};return!e||typeof e!="string"||(0,zQ.default)(e,function(r,i){r&&i&&(n[(0,HQ.camelCase)(r,t)]=i)}),n}fy.default=fy;var BQ=fy;const WQ=ja(BQ),tO=nO("end"),Sb=nO("start");function nO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function VQ(e){const t=Sb(e),n=tO(e);if(t&&n)return{start:t,end:n}}function jc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?I_(e.position):"start"in e||"end"in e?I_(e):"line"in e||"column"in e?hy(e):""}function hy(e){return F_(e&&e.line)+":"+F_(e&&e.column)}function I_(e){return hy(e&&e.start)+"-"+hy(e&&e.end)}function F_(e){return e&&typeof e=="number"?e:1}class dn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=jc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}dn.prototype.file="";dn.prototype.name="";dn.prototype.reason="";dn.prototype.message="";dn.prototype.stack="";dn.prototype.column=void 0;dn.prototype.line=void 0;dn.prototype.ancestors=void 0;dn.prototype.cause=void 0;dn.prototype.fatal=void 0;dn.prototype.place=void 0;dn.prototype.ruleId=void 0;dn.prototype.source=void 0;const _b={}.hasOwnProperty,qQ=new Map,QQ=/[A-Z]/g,KQ=new Set(["table","tbody","thead","tfoot","tr"]),GQ=new Set(["td","th"]),rO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function YQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=iK(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=rK(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bb:gQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=iO(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function iO(e,t,n){if(t.type==="element")return JQ(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return XQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return eK(e,t,n);if(t.type==="mdxjsEsm")return ZQ(e,t);if(t.type==="root")return tK(e,t,n);if(t.type==="text")return nK(e,t)}function JQ(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=bb,e.schema=i),e.ancestors.push(t);const s=aO(e,t.tagName,!1),a=sK(e,t);let o=Eb(e,t);return KQ.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!aQ(l):!0})),sO(e,a,s,t),jb(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function XQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Cu(e,t.position)}function ZQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Cu(e,t.position)}function eK(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=bb,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:aO(e,t.name,!0),a=aK(e,t),o=Eb(e,t);return sO(e,a,s,t),jb(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function tK(e,t,n){const r={};return jb(r,Eb(e,t)),e.create(t,e.Fragment,r,n)}function nK(e,t){return t.value}function sO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function jb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function rK(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function iK(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=Sb(r);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function sK(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&_b.call(t.properties,i)){const s=oK(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&GQ.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function aK(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Cu(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Cu(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Eb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:qQ;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=iO(e,s,a);o!==void 0&&n.push(o)}return n}function oK(e,t,n){const r=hQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?tQ(n):vQ(n)),r.property==="style"){let i=typeof n=="object"?n:lK(e,String(n));return e.stylePropertyNameCase==="css"&&(i=cK(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?uQ[r.property]||r.property:r.attribute,n]}}function lK(e,t){try{return WQ(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new dn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=rO+"#cannot-parse-style-attribute",i}}function aO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=E_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=E_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return _b.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Cu(e)}function Cu(e,t){const n=new dn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=rO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cK(e){const t={};let n;for(n in e)_b.call(e,n)&&(t[uK(n)]=e[n]);return t}function uK(e){let t=e.replace(QQ,dK);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dK(e){return"-"+e.toLowerCase()}const Gm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fK={};function kb(e,t){const n=fK,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return oO(e,r,i)}function oO(e,t,n){if(hK(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return D_(e.children,t,n)}return Array.isArray(e)?D_(e,t,n):""}function D_(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=oO(e[i],t,n);return r.join("")}function hK(e){return!!(e&&typeof e=="object")}const L_=document.createElement("i");function Pb(e){const t="&"+e+";";L_.innerHTML=t;const n=L_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Yn(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function lr(e,t){return e.length>0?(Yn(e,e.length,0,t),e):t}const $_={}.hasOwnProperty;function lO(e){const t={};let n=-1;for(;++n<e.length;)pK(t,e[n]);return t}function pK(e,t){let n;for(n in t){const i=($_.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){$_.call(i,a)||(i[a]=[]);const o=s[a];mK(i[a],Array.isArray(o)?o:o?[o]:[])}}}function mK(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Yn(e,0,0,r)}function cO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xn=$s(/[A-Za-z]/),sn=$s(/[\dA-Za-z]/),gK=$s(/[#-'*+\--9=?A-Z^-~]/);function lh(e){return e!==null&&(e<32||e===127)}const py=$s(/\d/),vK=$s(/[\dA-Fa-f]/),yK=$s(/[!-/:-@[-`{-~]/);function he(e){return e!==null&&e<-2}function Qe(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const hp=$s(new RegExp("\\p{P}|\\p{S}","u")),Sa=$s(/\s/);function $s(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function kl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&sn(e.charCodeAt(n+1))&&sn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Te(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Ce(l)?(e.enter(n),o(l)):t(l)}function o(l){return Ce(l)&&s++<i?(e.consume(l),o):(e.exit(n),t(l))}}const xK={tokenize:bK};function bK(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Te(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return he(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const wK={tokenize:SK},M_={tokenize:_K};function SK(e){const t=this,n=[];let r=0,i,s,a;return o;function o(x){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const S=t.events.length;let j=S,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){_=t.events[j][1].end;break}v(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={..._},C++;return Yn(t.events,j+1,0,t.events.slice(S)),t.events.length=C,u(x)}return o(x)}function u(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(M_,d,f)(x)}function d(x){return i&&y(),v(r),h(x)}function f(x){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,m(x)}function h(x){return t.containerState={},e.attempt(M_,p,m)(x)}function p(x){return r++,n.push([t.currentConstruct,t.containerState]),h(x)}function m(x){if(x===null){i&&y(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(x)}function g(x){if(x===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return he(x)?(e.consume(x),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(x),g)}function b(x,S){const j=t.sliceStream(x);if(S&&j.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(j),t.parser.lazy[x.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const C=t.events.length;let N=C,I,P;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(I){P=t.events[N][1].end;break}I=!0}for(v(r),_=C;_<t.events.length;)t.events[_][1].end={...P},_++;Yn(t.events,N+1,0,t.events.slice(C)),t.events.length=_}}function v(x){let S=n.length;for(;S-- >x;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=x}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function _K(e,t,n){return Te(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fl(e){if(e===null||Qe(e)||Sa(e))return 1;if(hp(e))return 2}function pp(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const my={name:"attention",resolveAll:jK,tokenize:EK};function jK(e,t){let n=-1,r,i,s,a,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};U_(f,-l),U_(h,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=lr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=lr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=lr(u,pp(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=lr(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=lr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Yn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function EK(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=fl(r);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),d=fl(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(l)}}function U_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const kK={name:"autolink",tokenize:PK};function PK(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return xn(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||sn(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||sn(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||lh(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),d):gK(p)?(e.consume(p),u):n(p)}function d(p){return sn(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||sn(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const Ju={partial:!0,tokenize:CK};function CK(e,t,n){return r;function r(s){return Ce(s)?Te(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||he(s)?t(s):n(s)}}const uO={continuation:{tokenize:NK},exit:TK,name:"blockQuote",tokenize:RK};function RK(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Ce(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function NK(e,t,n){const r=this;return i;function i(a){return Ce(a)?Te(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(uO,t,n)(a)}}function TK(e){e.exit("blockQuote")}const dO={name:"characterEscape",tokenize:OK};function OK(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return yK(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const fO={name:"characterReference",tokenize:AK};function AK(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=sn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=vK,d):(e.enter("characterReferenceValue"),s=7,a=py,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===sn&&!Pb(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const z_={partial:!0,tokenize:FK},H_={concrete:!0,name:"codeFenced",tokenize:IK};function IK(e,t,n){const r=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return l;function l(_){return u(_)}function u(_){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===o?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),Ce(_)?Te(e,f,"whitespace")(_):f(_))}function f(_){return _===null||he(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(z_,g,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Te(e,p,"whitespace")(_)):_===96&&_===o?n(_):(e.consume(_),h)}function p(_){return _===null||he(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||he(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===o?n(_):(e.consume(_),m)}function g(_){return e.attempt(i,S,b)(_)}function b(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Ce(_)?Te(e,y,"linePrefix",s+1)(_):y(_)}function y(_){return _===null||he(_)?e.check(z_,g,S)(_):(e.enter("codeFlowValue"),x(_))}function x(_){return _===null||he(_)?(e.exit("codeFlowValue"),y(_)):(e.consume(_),x)}function S(_){return e.exit("codeFenced"),t(_)}function j(_,C,N){let I=0;return P;function P(M){return _.enter("lineEnding"),_.consume(M),_.exit("lineEnding"),L}function L(M){return _.enter("codeFencedFence"),Ce(M)?Te(_,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):D(M)}function D(M){return M===o?(_.enter("codeFencedFenceSequence"),$(M)):N(M)}function $(M){return M===o?(I++,_.consume(M),$):I>=a?(_.exit("codeFencedFenceSequence"),Ce(M)?Te(_,O,"whitespace")(M):O(M)):N(M)}function O(M){return M===null||he(M)?(_.exit("codeFencedFence"),C(M)):N(M)}}}function FK(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ym={name:"codeIndented",tokenize:LK},DK={partial:!0,tokenize:$K};function LK(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Te(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):he(u)?e.attempt(DK,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||he(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function $K(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Te(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):he(a)?i(a):n(a)}}const MK={name:"codeText",previous:zK,resolve:UK,tokenize:HK};function UK(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function zK(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HK(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):he(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||he(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class BK{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Yl(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Yl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Yl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Yl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Yl(this.left,n.reverse())}}}function Yl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function hO(e){const t={};let n=-1,r,i,s,a,o,l,u;const d=new BK(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,WK(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Yn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function WK(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let d,f,h=-1,p=n,m=0,g=0;const b=[g];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,b.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const v=o.slice(b[h],b[h+1]),y=s.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const VK={resolve:QK,tokenize:KK},qK={partial:!0,tokenize:GK};function QK(e){return hO(e),e}function KK(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):he(o)?e.check(qK,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function GK(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Te(e,s,"linePrefix")}function s(a){if(a===null||he(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function pO(e,t,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||lh(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||he(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!d&&(v===null||v===41||Qe(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||lh(v)?n(v):(e.consume(v),v===92?b:g)}function b(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function mO(e,t,n,r,i,s){const a=this;let o=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):he(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||he(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!Ce(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function gO(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,l):n(h)}function l(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),l(a)):h===null?n(h):he(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Te(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||he(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function Ec(e,t){let n;return r;function r(i){return he(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ce(i)?Te(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const YK={name:"definition",tokenize:XK},JK={partial:!0,tokenize:ZK};function XK(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return mO.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Qe(p)?Ec(e,u)(p):u(p)}function u(p){return pO(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(JK,f,f)(p)}function f(p){return Ce(p)?Te(e,h,"whitespace")(p):h(p)}function h(p){return p===null||he(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function ZK(e,t,n){return r;function r(o){return Qe(o)?Ec(e,i)(o):n(o)}function i(o){return gO(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ce(o)?Te(e,a,"whitespace")(o):a(o)}function a(o){return o===null||he(o)?t(o):n(o)}}const eG={name:"hardBreakEscape",tokenize:tG};function tG(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return he(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const nG={name:"headingAtx",resolve:rG,tokenize:iG};function rG(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Yn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function iG(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Qe(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||he(d)?(e.exit("atxHeading"),t(d)):Ce(d)?Te(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Qe(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const sG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],B_=["pre","script","style","textarea"],aG={concrete:!0,name:"htmlFlow",resolveTo:cG,tokenize:uG},oG={partial:!0,tokenize:fG},lG={partial:!0,tokenize:dG};function cG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function uG(e,t,n){const r=this;let i,s,a,o,l;return u;function u(T){return d(T)}function d(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),f}function f(T){return T===33?(e.consume(T),h):T===47?(e.consume(T),s=!0,g):T===63?(e.consume(T),i=3,r.interrupt?t:k):xn(T)?(e.consume(T),a=String.fromCharCode(T),b):n(T)}function h(T){return T===45?(e.consume(T),i=2,p):T===91?(e.consume(T),i=5,o=0,m):xn(T)?(e.consume(T),i=4,r.interrupt?t:k):n(T)}function p(T){return T===45?(e.consume(T),r.interrupt?t:k):n(T)}function m(T){const te="CDATA[";return T===te.charCodeAt(o++)?(e.consume(T),o===te.length?r.interrupt?t:D:m):n(T)}function g(T){return xn(T)?(e.consume(T),a=String.fromCharCode(T),b):n(T)}function b(T){if(T===null||T===47||T===62||Qe(T)){const te=T===47,ie=a.toLowerCase();return!te&&!s&&B_.includes(ie)?(i=1,r.interrupt?t(T):D(T)):sG.includes(a.toLowerCase())?(i=6,te?(e.consume(T),v):r.interrupt?t(T):D(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):s?y(T):x(T))}return T===45||sn(T)?(e.consume(T),a+=String.fromCharCode(T),b):n(T)}function v(T){return T===62?(e.consume(T),r.interrupt?t:D):n(T)}function y(T){return Ce(T)?(e.consume(T),y):P(T)}function x(T){return T===47?(e.consume(T),P):T===58||T===95||xn(T)?(e.consume(T),S):Ce(T)?(e.consume(T),x):P(T)}function S(T){return T===45||T===46||T===58||T===95||sn(T)?(e.consume(T),S):j(T)}function j(T){return T===61?(e.consume(T),_):Ce(T)?(e.consume(T),j):x(T)}function _(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),l=T,C):Ce(T)?(e.consume(T),_):N(T)}function C(T){return T===l?(e.consume(T),l=null,I):T===null||he(T)?n(T):(e.consume(T),C)}function N(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Qe(T)?j(T):(e.consume(T),N)}function I(T){return T===47||T===62||Ce(T)?x(T):n(T)}function P(T){return T===62?(e.consume(T),L):n(T)}function L(T){return T===null||he(T)?D(T):Ce(T)?(e.consume(T),L):n(T)}function D(T){return T===45&&i===2?(e.consume(T),R):T===60&&i===1?(e.consume(T),z):T===62&&i===4?(e.consume(T),F):T===63&&i===3?(e.consume(T),k):T===93&&i===5?(e.consume(T),A):he(T)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(oG,H,$)(T)):T===null||he(T)?(e.exit("htmlFlowData"),$(T)):(e.consume(T),D)}function $(T){return e.check(lG,O,H)(T)}function O(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),M}function M(T){return T===null||he(T)?$(T):(e.enter("htmlFlowData"),D(T))}function R(T){return T===45?(e.consume(T),k):D(T)}function z(T){return T===47?(e.consume(T),a="",E):D(T)}function E(T){if(T===62){const te=a.toLowerCase();return B_.includes(te)?(e.consume(T),F):D(T)}return xn(T)&&a.length<8?(e.consume(T),a+=String.fromCharCode(T),E):D(T)}function A(T){return T===93?(e.consume(T),k):D(T)}function k(T){return T===62?(e.consume(T),F):T===45&&i===2?(e.consume(T),k):D(T)}function F(T){return T===null||he(T)?(e.exit("htmlFlowData"),H(T)):(e.consume(T),F)}function H(T){return e.exit("htmlFlow"),t(T)}}function dG(e,t,n){const r=this;return i;function i(a){return he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function fG(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ju,t,n)}}const hG={name:"htmlText",tokenize:pG};function pG(e,t,n){const r=this;let i,s,a;return o;function o(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),j):k===63?(e.consume(k),x):xn(k)?(e.consume(k),N):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),s=0,m):xn(k)?(e.consume(k),y):n(k)}function d(k){return k===45?(e.consume(k),p):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),h):he(k)?(a=f,z(k)):(e.consume(k),f)}function h(k){return k===45?(e.consume(k),p):f(k)}function p(k){return k===62?R(k):k===45?h(k):f(k)}function m(k){const F="CDATA[";return k===F.charCodeAt(s++)?(e.consume(k),s===F.length?g:m):n(k)}function g(k){return k===null?n(k):k===93?(e.consume(k),b):he(k)?(a=g,z(k)):(e.consume(k),g)}function b(k){return k===93?(e.consume(k),v):g(k)}function v(k){return k===62?R(k):k===93?(e.consume(k),v):g(k)}function y(k){return k===null||k===62?R(k):he(k)?(a=y,z(k)):(e.consume(k),y)}function x(k){return k===null?n(k):k===63?(e.consume(k),S):he(k)?(a=x,z(k)):(e.consume(k),x)}function S(k){return k===62?R(k):x(k)}function j(k){return xn(k)?(e.consume(k),_):n(k)}function _(k){return k===45||sn(k)?(e.consume(k),_):C(k)}function C(k){return he(k)?(a=C,z(k)):Ce(k)?(e.consume(k),C):R(k)}function N(k){return k===45||sn(k)?(e.consume(k),N):k===47||k===62||Qe(k)?I(k):n(k)}function I(k){return k===47?(e.consume(k),R):k===58||k===95||xn(k)?(e.consume(k),P):he(k)?(a=I,z(k)):Ce(k)?(e.consume(k),I):R(k)}function P(k){return k===45||k===46||k===58||k===95||sn(k)?(e.consume(k),P):L(k)}function L(k){return k===61?(e.consume(k),D):he(k)?(a=L,z(k)):Ce(k)?(e.consume(k),L):I(k)}function D(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,$):he(k)?(a=D,z(k)):Ce(k)?(e.consume(k),D):(e.consume(k),O)}function $(k){return k===i?(e.consume(k),i=void 0,M):k===null?n(k):he(k)?(a=$,z(k)):(e.consume(k),$)}function O(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Qe(k)?I(k):(e.consume(k),O)}function M(k){return k===47||k===62||Qe(k)?I(k):n(k)}function R(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),E}function E(k){return Ce(k)?Te(e,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):A(k)}function A(k){return e.enter("htmlTextData"),a(k)}}const Cb={name:"labelEnd",resolveAll:yG,resolveTo:xG,tokenize:bG},mG={tokenize:wG},gG={tokenize:SG},vG={tokenize:_G};function yG(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Yn(e,0,e.length,n),e}function xG(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=lr(o,e.slice(s+1,s+r+3)),o=lr(o,[["enter",d,t]]),o=lr(o,pp(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=lr(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=lr(o,e.slice(a+1)),o=lr(o,[["exit",l,t]]),Yn(e,s,e.length,o),e}function bG(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Or(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(mG,d,a?d:f)(h):h===91?e.attempt(gG,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(vG,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function wG(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Qe(f)?Ec(e,s)(f):s(f)}function s(f){return f===41?d(f):pO(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Qe(f)?Ec(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?gO(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Qe(f)?Ec(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function SG(e,t,n){const r=this;return i;function i(o){return mO.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function _G(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const jG={name:"labelStartImage",resolveAll:Cb.resolveAll,tokenize:EG};function EG(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const kG={name:"labelStartLink",resolveAll:Cb.resolveAll,tokenize:PG};function PG(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Jm={name:"lineEnding",tokenize:CG};function CG(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Te(e,t,"linePrefix")}}const yf={name:"thematicBreak",tokenize:RG};function RG(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||he(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ce(u)?Te(e,o,"whitespace")(u):o(u))}}const Cn={continuation:{tokenize:AG},exit:FG,name:"list",tokenize:OG},NG={partial:!0,tokenize:DG},TG={partial:!0,tokenize:IG};function OG(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:py(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(yf,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return py(p)&&++a<10?(e.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Ju,r.interrupt?n:d,e.attempt(NG,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Ce(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function AG(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ju,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Te(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Ce(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(TG,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Te(e,e.attempt(Cn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function IG(e,t,n){const r=this;return Te(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function FG(e){e.exit(this.containerState.type)}function DG(e,t,n){const r=this;return Te(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Ce(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const W_={name:"setextUnderline",resolveTo:LG,tokenize:$G};function LG(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function $G(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Ce(u)?Te(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||he(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const MG={tokenize:UG};function UG(e){const t=this,n=e.attempt(Ju,r,e.attempt(this.parser.constructs.flowInitial,i,Te(e,e.attempt(this.parser.constructs.flow,i,e.attempt(VK,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zG={resolveAll:yO()},HG=vO("string"),BG=vO("text");function vO(e){return{resolveAll:yO(e==="text"?WG:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function yO(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function WG(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const VG={42:Cn,43:Cn,45:Cn,48:Cn,49:Cn,50:Cn,51:Cn,52:Cn,53:Cn,54:Cn,55:Cn,56:Cn,57:Cn,62:uO},qG={91:YK},QG={[-2]:Ym,[-1]:Ym,32:Ym},KG={35:nG,42:yf,45:[W_,yf],60:aG,61:W_,95:yf,96:H_,126:H_},GG={38:fO,92:dO},YG={[-5]:Jm,[-4]:Jm,[-3]:Jm,33:jG,38:fO,42:my,60:[kK,hG],91:kG,92:[eG,dO],93:Cb,95:my,96:MK},JG={null:[my,zG]},XG={null:[42,95]},ZG={null:[]},eY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:XG,contentInitial:qG,disable:ZG,document:VG,flow:KG,flowInitial:QG,insideSpan:JG,string:GG,text:YG},Symbol.toStringTag,{value:"Module"}));function tY(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:C(j),check:C(_),consume:y,enter:x,exit:S,interrupt:C(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function f(L){return a=lr(a,L),b(),a[a.length-1]!==null?[]:(N(t,0),u.events=pp(s,u.events,u),u.events)}function h(L,D){return rY(p(L),D)}function p(L){return nY(a,L)}function m(){const{_bufferIndex:L,_index:D,line:$,column:O,offset:M}=r;return{_bufferIndex:L,_index:D,line:$,column:O,offset:M}}function g(L){i[L.line]=L.column,P()}function b(){let L;for(;r._index<a.length;){const D=a[r._index];if(typeof D=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<D.length;)v(D.charCodeAt(r._bufferIndex));else v(D)}}function v(L){d=d(L)}function y(L){he(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,P()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,D){const $=D||{};return $.type=L,$.start=m(),u.events.push(["enter",$,u]),o.push($),$}function S(L){const D=o.pop();return D.end=m(),u.events.push(["exit",D,u]),D}function j(L,D){N(L,D.from)}function _(L,D){D.restore()}function C(L,D){return $;function $(O,M,R){let z,E,A,k;return Array.isArray(O)?H(O):"tokenize"in O?H([O]):F(O);function F(Y){return ee;function ee(se){const pe=se!==null&&Y[se],oe=se!==null&&Y.null,ve=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return H(ve)(se)}}function H(Y){return z=Y,E=0,Y.length===0?R:T(Y[E])}function T(Y){return ee;function ee(se){return k=I(),A=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?ie():Y.tokenize.call(D?Object.assign(Object.create(u),D):u,l,te,ie)(se)}}function te(Y){return L(A,k),M}function ie(Y){return k.restore(),++E<z.length?T(z[E]):R}}}function N(L,D){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Yn(u.events,D,u.events.length-D,L.resolve(u.events.slice(D),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function I(){const L=m(),D=u.previous,$=u.currentConstruct,O=u.events.length,M=Array.from(o);return{from:O,restore:R};function R(){r=L,u.previous=D,u.currentConstruct=$,u.events.length=O,o=M,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function nY(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function rY(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function iY(e){const r={constructs:lO([eY,...(e||{}).extensions||[]]),content:i(xK),defined:[],document:i(wK),flow:i(MG),lazy:{},string:i(HG),text:i(BG)};return r;function i(s){return a;function a(o){return tY(r,s,o)}}}function sY(e){for(;!hO(e););return e}const V_=/[\0\t\n\r]/g;function aY(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const l=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(V_.lastIndex=f,u=V_.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(s.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const oY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lY(e){return e.replace(oY,cY)}function cY(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cO(n.slice(s?2:1),s?16:10)}return Pb(n)||e}const xO={}.hasOwnProperty;function uY(e,t,n){return typeof t!="string"&&(n=t,t=void 0),dY(n)(sY(iY(n).document().write(aY()(e,t,!0))))}function dY(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lt),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Pt),blockQuote:s(oe),characterEscape:I,characterReference:I,codeFenced:s(ve),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ve,a),codeText:s(Se,a),codeTextData:I,data:I,codeFlowValue:I,definition:s(ht),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(kt),hardBreakEscape:s(ot),hardBreakTrailing:s(ot),htmlFlow:s(tr,a),htmlFlowData:I,htmlText:s(tr,a),htmlTextData:I,image:s(Ms),label:a,link:s(lt),listItem:s(Pl),listItemValue:h,listOrdered:s(nr,f),listUnordered:s(nr),paragraph:s(_e),reference:T,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Pt),strong:s(re),thematicBreak:s(je)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:pe,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:Y,characterReference:ee,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:P,codeIndented:l(v),codeText:l(M),codeTextData:P,data:P,definition:l(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l($),htmlFlowData:P,htmlText:l(O),htmlTextData:P,image:l(z),label:A,labelText:E,lineEnding:L,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:te,resourceDestinationString:k,resourceTitleString:F,resource:H,setextHeading:l(N),setextHeadingLineSequence:C,setextHeadingText:_,strong:l(),thematicBreak:l()}};bO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let q={type:"root",children:[]};const de={stack:[q],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},ge=[];let Oe=-1;for(;++Oe<B.length;)if(B[Oe][1].type==="listOrdered"||B[Oe][1].type==="listUnordered")if(B[Oe][0]==="enter")ge.push(Oe);else{const Ct=ge.pop();Oe=i(B,Ct,Oe)}for(Oe=-1;++Oe<B.length;){const Ct=t[B[Oe][0]];xO.call(Ct,B[Oe][1].type)&&Ct[B[Oe][1].type].call(Object.assign({sliceSerialize:B[Oe][2].sliceSerialize},de),B[Oe][1])}if(de.tokenStack.length>0){const Ct=de.tokenStack[de.tokenStack.length-1];(Ct[1]||q_).call(de,void 0,Ct[0])}for(q.position={start:Ki(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Ki(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)q=t.transforms[Oe](q)||q;return q}function i(B,q,de){let ge=q-1,Oe=-1,Ct=!1,rr,_n,oi,jn;for(;++ge<=de;){const ze=B[ge];switch(ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ze[0]==="enter"?Oe++:Oe--,jn=void 0;break}case"lineEndingBlank":{ze[0]==="enter"&&(rr&&!jn&&!Oe&&!oi&&(oi=ge),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!Oe&&ze[0]==="enter"&&ze[1].type==="listItemPrefix"||Oe===-1&&ze[0]==="exit"&&(ze[1].type==="listUnordered"||ze[1].type==="listOrdered")){if(rr){let Lr=ge;for(_n=void 0;Lr--;){const fe=B[Lr];if(fe[1].type==="lineEnding"||fe[1].type==="lineEndingBlank"){if(fe[0]==="exit")continue;_n&&(B[_n][1].type="lineEndingBlank",Ct=!0),fe[1].type="lineEnding",_n=Lr}else if(!(fe[1].type==="linePrefix"||fe[1].type==="blockQuotePrefix"||fe[1].type==="blockQuotePrefixWhitespace"||fe[1].type==="blockQuoteMarker"||fe[1].type==="listItemIndent"))break}oi&&(!_n||oi<_n)&&(rr._spread=!0),rr.end=Object.assign({},_n?B[_n][1].start:ze[1].end),B.splice(_n||ge,0,["exit",rr,ze[2]]),ge++,de++}if(ze[1].type==="listItemPrefix"){const Lr={type:"listItem",_spread:!1,start:Object.assign({},ze[1].start),end:void 0};rr=Lr,B.splice(ge,0,["enter",Lr,ze[2]]),ge++,de++,oi=void 0,jn=!0}}}return B[q][1]._spread=Ct,de}function s(B,q){return de;function de(ge){o.call(this,B(ge),ge),q&&q.call(this,ge)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,q,de){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([q,de||void 0]),B.position={start:Ki(q.start),end:void 0}}function l(B){return q;function q(de){B&&B.call(this,de),u.call(this,de)}}function u(B,q){const de=this.stack.pop(),ge=this.tokenStack.pop();if(ge)ge[0].type!==B.type&&(q?q.call(this,B,ge[0]):(ge[1]||q_).call(this,B,ge[0]));else throw new Error("Cannot close `"+B.type+"` ("+jc({start:B.start,end:B.end})+"): it’s not open");de.position.end=Ki(B.end)}function d(){return kb(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),q=this.stack[this.stack.length-1];q.lang=B}function m(){const B=this.resume(),q=this.stack[this.stack.length-1];q.meta=B}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const B=this.resume(),q=this.stack[this.stack.length-1];q.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),q=this.stack[this.stack.length-1];q.value=B.replace(/(\r?\n|\r)$/g,"")}function y(B){const q=this.resume(),de=this.stack[this.stack.length-1];de.label=q,de.identifier=Or(this.sliceSerialize(B)).toLowerCase()}function x(){const B=this.resume(),q=this.stack[this.stack.length-1];q.title=B}function S(){const B=this.resume(),q=this.stack[this.stack.length-1];q.url=B}function j(B){const q=this.stack[this.stack.length-1];if(!q.depth){const de=this.sliceSerialize(B).length;q.depth=de}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function C(B){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function I(B){const de=this.stack[this.stack.length-1].children;let ge=de[de.length-1];(!ge||ge.type!=="text")&&(ge=Ne(),ge.position={start:Ki(B.start),end:void 0},de.push(ge)),this.stack.push(ge)}function P(B){const q=this.stack.pop();q.value+=this.sliceSerialize(B),q.position.end=Ki(B.end)}function L(B){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=q.children[q.children.length-1];de.position.end=Ki(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(q.type)&&(I.call(this,B),P.call(this,B))}function D(){this.data.atHardBreak=!0}function $(){const B=this.resume(),q=this.stack[this.stack.length-1];q.value=B}function O(){const B=this.resume(),q=this.stack[this.stack.length-1];q.value=B}function M(){const B=this.resume(),q=this.stack[this.stack.length-1];q.value=B}function R(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=q,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function z(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=q,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function E(B){const q=this.sliceSerialize(B),de=this.stack[this.stack.length-2];de.label=lY(q),de.identifier=Or(q).toLowerCase()}function A(){const B=this.stack[this.stack.length-1],q=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const ge=B.children;de.children=ge}else de.alt=q}function k(){const B=this.resume(),q=this.stack[this.stack.length-1];q.url=B}function F(){const B=this.resume(),q=this.stack[this.stack.length-1];q.title=B}function H(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function te(B){const q=this.resume(),de=this.stack[this.stack.length-1];de.label=q,de.identifier=Or(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function ie(B){this.data.characterReferenceType=B.type}function Y(B){const q=this.sliceSerialize(B),de=this.data.characterReferenceType;let ge;de?(ge=cO(q,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ge=Pb(q);const Oe=this.stack[this.stack.length-1];Oe.value+=ge}function ee(B){const q=this.stack.pop();q.position.end=Ki(B.end)}function se(B){P.call(this,B);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(B)}function pe(B){P.call(this,B);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(B)}function oe(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function ht(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kt(){return{type:"emphasis",children:[]}}function Pt(){return{type:"heading",depth:0,children:[]}}function ot(){return{type:"break"}}function tr(){return{type:"html",value:""}}function Ms(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function nr(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Pl(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function je(){return{type:"thematicBreak"}}}function Ki(e){return{line:e.line,column:e.column,offset:e.offset}}function bO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?bO(e,r):fY(e,r)}}function fY(e,t){let n;for(n in t)if(xO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function q_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+jc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+jc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+jc({start:t.start,end:t.end})+") is still open")}function hY(e){const t=this;t.parser=n;function n(r){return uY(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function pY(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function mY(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function gY(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function vY(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yY(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xY(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=kl(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function bY(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wY(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function wO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function SY(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return wO(e,t);const i={src:kl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function _Y(e,t){const n={src:kl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function jY(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function EY(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return wO(e,t);const i={href:kl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function kY(e,t){const n={href:kl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function PY(e,t,n){const r=e.all(t),i=n?CY(n):SO(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function CY(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=SO(n[r])}return t}function SO(e){const t=e.spread;return t??e.children.length>1}function RY(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function NY(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TY(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function OY(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AY(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Sb(t.children[1]),l=tO(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function IY(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},p=a?a[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:s,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function FY(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Q_=9,K_=32;function DY(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(G_(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(G_(t.slice(i),i>0,!1)),s.join("")}function G_(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Q_||s===K_;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Q_||s===K_;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function LY(e,t){const n={type:"text",value:DY(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function $Y(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const MY={blockquote:pY,break:mY,code:gY,delete:vY,emphasis:yY,footnoteReference:xY,heading:bY,html:wY,imageReference:SY,image:_Y,inlineCode:jY,linkReference:EY,link:kY,listItem:PY,list:RY,paragraph:NY,root:TY,strong:OY,table:AY,tableCell:FY,tableRow:IY,text:LY,thematicBreak:$Y,toml:qd,yaml:qd,definition:qd,footnoteDefinition:qd};function qd(){}const _O=-1,mp=0,kc=1,ch=2,Rb=3,Nb=4,Tb=5,Ob=6,jO=7,EO=8,Y_=typeof self=="object"?self:globalThis,UY=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case mp:case _O:return n(a,i);case kc:{const o=n([],i);for(const l of a)o.push(r(l));return o}case ch:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case Rb:return n(new Date(a),i);case Nb:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case Tb:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case Ob:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case jO:{const{name:o,message:l}=a;return n(new Y_[o](l),i)}case EO:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new Y_[s](a),i)};return r},J_=e=>UY(new Map,e)(0),ro="",{toString:zY}={},{keys:HY}=Object,Jl=e=>{const t=typeof e;if(t!=="object"||!e)return[mp,t];const n=zY.call(e).slice(8,-1);switch(n){case"Array":return[kc,ro];case"Object":return[ch,ro];case"Date":return[Rb,ro];case"RegExp":return[Nb,ro];case"Map":return[Tb,ro];case"Set":return[Ob,ro];case"DataView":return[kc,n]}return n.includes("Array")?[kc,n]:n.includes("Error")?[jO,n]:[ch,n]},Qd=([e,t])=>e===mp&&(t==="function"||t==="symbol"),BY=(e,t,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=Jl(a);switch(o){case mp:{let d=a;switch(l){case"bigint":o=EO,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([_O],a)}return i([o,d],a)}case kc:{if(l){let h=a;return l==="DataView"?h=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(a)),i([l,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case ch:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of HY(a))(e||!Qd(Jl(a[h])))&&d.push([s(h),s(a[h])]);return f}case Rb:return i([o,a.toISOString()],a);case Nb:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case Tb:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(Qd(Jl(h))||Qd(Jl(p))))&&d.push([s(h),s(p)]);return f}case Ob:{const d=[],f=i([o,d],a);for(const h of a)(e||!Qd(Jl(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},X_=(e,{json:t,lossy:n}={})=>{const r=[];return BY(!(t||n),!!t,new Map,r)(e),r},uh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?J_(X_(e,t)):structuredClone(e):(e,t)=>J_(X_(e,t));function WY(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function VY(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function qY(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||WY,r=e.options.footnoteBackLabel||VY,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=kl(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let y=typeof n=="string"?n:n(l,p);typeof y=="string"&&(y={type:"text",value:y}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const y=b.children[b.children.length-1];y&&y.type==="text"?y.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...uh(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const gp=function(e){if(e==null)return YY;if(typeof e=="function")return vp(e);if(typeof e=="object")return Array.isArray(e)?QY(e):KY(e);if(typeof e=="string")return GY(e);throw new Error("Expected function, string, or object as test")};function QY(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gp(e[n]);return vp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function KY(e){const t=e;return vp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function GY(e){return vp(t);function t(n){return n&&n.type===e}}function vp(e){return t;function t(n,r,i){return!!(JY(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function YY(){return!0}function JY(e){return e!==null&&typeof e=="object"&&"type"in e}const kO=[],XY=!0,gy=!1,ZY="skip";function PO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=gp(i),a=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=kO,m,g,b;if((!t||s(l,u,d[d.length-1]||void 0))&&(p=eJ(n(l,d)),p[0]===gy))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==ZY)for(g=(r?v.children.length:-1)+a,b=d.concat(v);g>-1&&g<v.children.length;){const y=v.children[g];if(m=o(y,g,b)(),m[0]===gy)return m;g=typeof m[1]=="number"?m[1]:g+a}}return p}}}function eJ(e){return Array.isArray(e)?e:typeof e=="number"?[XY,e]:e==null?kO:[e]}function Ab(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),PO(e,s,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const vy={}.hasOwnProperty,tJ={};function nJ(e,t){const n=t||tJ,r=new Map,i=new Map,s=new Map,a={...MY,...n.handlers},o={all:u,applyData:iJ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:rJ,wrap:aJ};return Ab(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(vy.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...b}=d,v=uh(b);return v.children=o.all(d),v}return uh(d)}return(o.options.unknownHandler||sJ)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Z_(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=Z_(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function rJ(e,t){e.position&&(t.position=VQ(e))}function iJ(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,uh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sJ(e,t){const n=t.data||{},r="value"in t&&!(vy.call(n,"hProperties")||vy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aJ(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Z_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ej(e,t){const n=nJ(e,t),r=n.one(e,void 0),i=qY(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function oJ(e,t){return e&&"run"in e?async function(n,r){const i=ej(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ej(n,{file:r,...e||t})}}function tj(e){if(e)throw e}var xf=Object.prototype.hasOwnProperty,CO=Object.prototype.toString,nj=Object.defineProperty,rj=Object.getOwnPropertyDescriptor,ij=function(t){return typeof Array.isArray=="function"?Array.isArray(t):CO.call(t)==="[object Array]"},sj=function(t){if(!t||CO.call(t)!=="[object Object]")return!1;var n=xf.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&xf.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||xf.call(t,i)},aj=function(t,n){nj&&n.name==="__proto__"?nj(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},oj=function(t,n){if(n==="__proto__")if(xf.call(t,n)){if(rj)return rj(t,n).value}else return;return t[n]},lJ=function e(){var t,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=oj(o,n),i=oj(t,n),o!==i&&(d&&i&&(sj(i)||(s=ij(i)))?(s?(s=!1,a=r&&ij(r)?r:[]):a=r&&sj(r)?r:{},aj(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&aj(o,{name:n,newValue:i}));return o};const Xm=ja(lJ);function yy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cJ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const d=e[++s];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?uJ(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function uJ(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Vr={basename:dJ,dirname:fJ,extname:hJ,join:pJ,sep:"/"};function dJ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xu(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function fJ(e){if(Xu(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hJ(e){Xu(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function pJ(...e){let t=-1,n;for(;++t<e.length;)Xu(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mJ(n)}function mJ(e){Xu(e);const t=e.codePointAt(0)===47;let n=gJ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function gJ(e,t){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Xu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vJ={cwd:yJ};function yJ(){return"/"}function xy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function xJ(e){if(typeof e=="string")e=new URL(e);else if(!xy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bJ(e)}function bJ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Zm=["history","path","basename","stem","extname","dirname"];class RO{constructor(t){let n;t?xy(t)?n={path:t}:typeof t=="string"||wJ(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":vJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Zm.length;){const s=Zm[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Zm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Vr.basename(this.path):void 0}set basename(t){tg(t,"basename"),eg(t,"basename"),this.path=Vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Vr.dirname(this.path):void 0}set dirname(t){lj(this.basename,"dirname"),this.path=Vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Vr.extname(this.path):void 0}set extname(t){if(eg(t,"extname"),lj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xy(t)&&(t=xJ(t)),tg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Vr.basename(this.path,this.extname):void 0}set stem(t){tg(t,"stem"),eg(t,"stem"),this.path=Vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new dn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function eg(e,t){if(e&&e.includes(Vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Vr.sep+"`")}function tg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const SJ=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},_J={}.hasOwnProperty;class Ib extends SJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cJ()}copy(){const t=new Ib;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Xm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ig("data",this.frozen),this.namespace[t]=n,this):_J.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ig("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Kd(t),r=this.parser||this.Parser;return ng("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ng("process",this.parser||this.Parser),rg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Kd(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,m=r.stringify(p,h);kJ(m)?h.value=m:h.result=m,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),ng("processSync",this.parser||this.Parser),rg("processSync",this.compiler||this.Compiler),this.process(t,i),uj("processSync","process",n),r;function i(s,a){n=!0,tj(s),r=a}}run(t,n,r){cj(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=Kd(n);i.run(t,l,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),uj("runSync","run",r),i;function s(a,o){tj(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Kd(n),i=this.compiler||this.Compiler;return rg("stringify",i),cj(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ig("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Xm(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];yy(g)&&yy(p)&&(p=Xm(!0,g,p)),r[h]=[u,p,...m]}}}}const jJ=new Ib().freeze();function ng(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ig(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cj(e){if(!yy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Kd(e){return EJ(e)?e:new RO(e)}function EJ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kJ(e){return typeof e=="string"||PJ(e)}function PJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CJ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dj=[],fj={allowDangerousHtml:!0},RJ=/^(https?|ircs?|mailto|xmpp)$/i,NJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Do(e){const t=TJ(e),n=OJ(e);return AJ(t.runSync(t.parse(n),n),e)}function TJ(e){const t=e.rehypePlugins||dj,n=e.remarkPlugins||dj,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fj}:fj;return jJ().use(hY).use(n).use(oJ,r).use(t)}function OJ(e){const t=e.children||"",n=new RO;return typeof t=="string"&&(n.value=t),n}function AJ(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||IJ;for(const d of NJ)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+CJ+d.id,void 0);return Ab(e,u),YQ(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in Gm)if(Object.hasOwn(Gm,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=Gm[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function IJ(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||RJ.test(e.slice(0,t))?e:""}function hj(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function FJ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function DJ(e,t,n){const i=gp((n||{}).ignore||[]),s=LJ(t);let a=-1;for(;++a<s.length;)PO(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=s[a][0],p=s[a][1];let m=0;const b=f.children.indexOf(u);let v=!1,y=[];h.lastIndex=0;let x=h.exec(u.value);for(;x;){const S=x.index,j={index:x.index,input:x.input,stack:[...d,u]};let _=p(...x,j);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=S+1:(m!==S&&y.push({type:"text",value:u.value.slice(m,S)}),Array.isArray(_)?y.push(..._):_&&y.push(_),m=S+x[0].length,v=!0),!h.global)break;x=h.exec(u.value)}return v?(m<u.value.length&&y.push({type:"text",value:u.value.slice(m)}),f.children.splice(b,1,...y)):y=[u],b+y.length}}function LJ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([$J(i[0]),MJ(i[1])])}return t}function $J(e){return typeof e=="string"?new RegExp(FJ(e),"g"):e}function MJ(e){return typeof e=="function"?e:function(){return e}}const sg="phrasing",ag=["autolink","link","image","label"];function UJ(){return{transforms:[QJ],enter:{literalAutolink:HJ,literalAutolinkEmail:og,literalAutolinkHttp:og,literalAutolinkWww:og},exit:{literalAutolink:qJ,literalAutolinkEmail:VJ,literalAutolinkHttp:BJ,literalAutolinkWww:WJ}}}function zJ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:sg,notInConstruct:ag},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:sg,notInConstruct:ag},{character:":",before:"[ps]",after:"\\/",inConstruct:sg,notInConstruct:ag}]}}function HJ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function og(e){this.config.enter.autolinkProtocol.call(this,e)}function BJ(e){this.config.exit.autolinkProtocol.call(this,e)}function WJ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function VJ(e){this.config.exit.autolinkEmail.call(this,e)}function qJ(e){this.exit(e)}function QJ(e){DJ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KJ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),GJ]],{ignore:["link","linkReference"]})}function KJ(e,t,n,r,i){let s="";if(!NO(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!YJ(n)))return!1;const a=JJ(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function GJ(e,t,n,r){return!NO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function YJ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function JJ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=hj(e,"(");let s=hj(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function NO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Sa(n)||hp(n))&&(!t||n!==47)}TO.peek=aX;function XJ(){this.buffer()}function ZJ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function eX(){this.buffer()}function tX(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rX(e){this.exit(e)}function iX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function sX(e){this.exit(e)}function aX(){return"["}function TO(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function oX(){return{enter:{gfmFootnoteCallString:XJ,gfmFootnoteCall:ZJ,gfmFootnoteDefinitionLabelString:eX,gfmFootnoteDefinition:tX},exit:{gfmFootnoteCallString:nX,gfmFootnoteCall:rX,gfmFootnoteDefinitionLabelString:iX,gfmFootnoteDefinition:sX}}}function lX(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:TO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?OO:cX))),u(),l}}function cX(e,t,n){return t===0?e:OO(e,t,n)}function OO(e,t,n){return(n?"":"    ")+e}const uX=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];AO.peek=mX;function dX(){return{canContainEols:["delete"],enter:{strikethrough:hX},exit:{strikethrough:pX}}}function fX(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:uX}],handlers:{delete:AO}}}function hX(e){this.enter({type:"delete",children:[]},e)}function pX(e){this.exit(e)}function AO(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function mX(){return"~"}function gX(e){return e.length}function vX(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||gX,s=[],a=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const g=[],b=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const y=yX(e[d][v]);if(n.alignDelimiters!==!1){const x=i(y);b[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}g.push(y)}a[d]=g,o[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=pj(r[f]);else{const g=pj(r);for(;++f<u;)s[f]=g}f=-1;const h=[],p=[];for(;++f<u;){const g=s[f];let b="",v="";g===99?(b=":",v=":"):g===108?b=":":g===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-v.length);const x=b+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=b.length+y+v.length,y>l[f]&&(l[f]=y),p[f]=y),h[f]=x}a.splice(1,0,h),o.splice(1,0,p),d=-1;const m=[];for(;++d<a.length;){const g=a[d],b=o[d];f=-1;const v=[];for(;++f<u;){const y=g[f]||"";let x="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(b[f]||0),_=s[f];_===114?x=" ".repeat(j):_===99?j%2?(x=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(x=" ".repeat(j/2),S=x):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(x),v.push(y),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function yX(e){return e==null?"":String(e)}function pj(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function xX(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),bX);return i(),a}function bX(e,t,n){return">"+(n?"":" ")+e}function wX(e,t){return mj(e,t.inConstruct,!0)&&!mj(e,t.notInConstruct,!1)}function mj(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gj(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&wX(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function SX(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function _X(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function jX(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function EX(e,t,n,r){const i=jX(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(_X(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(s,kX);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(SX(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(l),u(),d}function kX(e,t,n){return(n?"":"    ")+e}function Fb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function PX(e,t,n,r){const i=Fb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function CX(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ru(e){return"&#x"+e.toString(16).toUpperCase()+";"}function dh(e,t,n){const r=fl(e),i=fl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}IO.peek=RX;function IO(e,t,n,r){const i=CX(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),d=dh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ru(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=dh(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Ru(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+p}function RX(e,t,n){return n.options.emphasis||"*"}function NX(e,t){let n=!1;return Ab(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,gy}),!!((!e.depth||e.depth<3)&&kb(e)&&(t.options.setext||n))}function TX(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(NX(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Ru(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}FO.peek=OX;function FO(e){return e.value||""}function OX(){return"<"}DO.peek=AX;function DO(e,t,n,r){const i=Fb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function AX(){return"!"}LO.peek=IX;function LO(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function IX(){return"!"}$O.peek=FX;function $O(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function FX(){return"`"}function MO(e,t){const n=kb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}UO.peek=DX;function UO(e,t,n,r){const i=Fb(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(MO(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function DX(e,t,n){return MO(e,n)?"<":"["}zO.peek=LX;function zO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function LX(){return"["}function Db(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $X(e){const t=Db(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function MX(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function HO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function UX(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?MX(n):Db(n);const o=e.ordered?a==="."?")":".":$X(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),HO(n)===a&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function zX(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function HX(e,t,n,r){const i=zX(n);let s=n.bulletCurrent||Db(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,p){return h?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function BX(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const WX=gp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function VX(e,t,n,r){return(e.children.some(function(a){return WX(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function qX(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}BO.peek=QX;function BO(e,t,n,r){const i=qX(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),d=dh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Ru(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=dh(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Ru(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+p}function QX(e,t,n){return n.options.strong||"*"}function KX(e,t,n,r){return n.safe(e.value,r)}function GX(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function YX(e,t,n){const r=(HO(n)+(n.options.ruleSpaces?" ":"")).repeat(GX(n));return n.options.ruleSpaces?r.slice(0,-1):r}const WO={blockquote:xX,break:gj,code:EX,definition:PX,emphasis:IO,hardBreak:gj,heading:TX,html:FO,image:DO,imageReference:LO,inlineCode:$O,link:UO,linkReference:zO,list:UX,listItem:HX,paragraph:BX,root:VX,strong:BO,text:KX,thematicBreak:YX};function JX(){return{enter:{table:XX,tableData:vj,tableHeader:vj,tableRow:eZ},exit:{codeText:tZ,table:ZX,tableData:lg,tableHeader:lg,tableRow:lg}}}function XX(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function ZX(e){this.exit(e),this.data.inTable=void 0}function eZ(e){this.enter({type:"tableRow",children:[]},e)}function lg(e){this.exit(e)}function vj(e){this.enter({type:"tableCell",children:[]},e)}function tZ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nZ));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function nZ(e,t){return t==="|"?t:e}function rZ(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:l,tableRow:o}};function a(p,m,g,b){return u(d(p,g,b),p.align)}function o(p,m,g,b){const v=f(p,g,b),y=u([v]);return y.slice(0,y.indexOf(`
`))}function l(p,m,g,b){const v=g.enter("tableCell"),y=g.enter("phrasing"),x=g.containerPhrasing(p,{...b,before:s,after:s});return y(),v(),x}function u(p,m){return vX(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(p,m,g){const b=p.children;let v=-1;const y=[],x=m.enter("table");for(;++v<b.length;)y[v]=f(b[v],m,g);return x(),y}function f(p,m,g){const b=p.children;let v=-1;const y=[],x=m.enter("tableRow");for(;++v<b.length;)y[v]=l(b[v],p,m,g);return x(),y}function h(p,m,g){let b=WO.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function iZ(){return{exit:{taskListCheckValueChecked:yj,taskListCheckValueUnchecked:yj,paragraph:aZ}}}function sZ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:oZ}}}function yj(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function aZ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function oZ(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=WO.listItem(e,t,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+a}}function lZ(){return[UJ(),oX(),dX(),JX(),iZ()]}function cZ(e){return{extensions:[zJ(),lX(e),fX(),rZ(e),sZ()]}}const uZ={tokenize:gZ,partial:!0},VO={tokenize:vZ,partial:!0},qO={tokenize:yZ,partial:!0},QO={tokenize:xZ,partial:!0},dZ={tokenize:bZ,partial:!0},KO={name:"wwwAutolink",tokenize:pZ,previous:YO},GO={name:"protocolAutolink",tokenize:mZ,previous:JO},Ui={name:"emailAutolink",tokenize:hZ,previous:XO},ai={};function fZ(){return{text:ai}}let Ws=48;for(;Ws<123;)ai[Ws]=Ui,Ws++,Ws===58?Ws=65:Ws===91&&(Ws=97);ai[43]=Ui;ai[45]=Ui;ai[46]=Ui;ai[95]=Ui;ai[72]=[Ui,GO];ai[104]=[Ui,GO];ai[87]=[Ui,KO];ai[119]=[Ui,KO];function hZ(e,t,n){const r=this;let i,s;return a;function a(f){return!by(f)||!XO.call(r,r.previous)||Lb(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return by(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(dZ,d,u)(f):f===45||f===95||sn(f)?(s=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return s&&i&&xn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function pZ(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!YO.call(r,r.previous)||Lb(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(uZ,e.attempt(VO,e.attempt(qO,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function mZ(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&JO.call(r,r.previous)&&!Lb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(xn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),s?u:(s=!0,l)):n(f)}function u(f){return f===null||lh(f)||Qe(f)||Sa(f)||hp(f)?n(f):e.attempt(VO,e.attempt(qO,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function gZ(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function vZ(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(QO,l,o)(u):u===null||Qe(u)||Sa(u)||u!==45&&hp(u)?l(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function l(u){return i||r||!s?n(u):t(u)}}function yZ(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(QO,t,s)(a):a===null||Qe(a)||Sa(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function xZ(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Qe(o)||Sa(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Qe(o)||Sa(o)?t(o):r(o)}function s(o){return xn(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):xn(o)?(e.consume(o),a):n(o)}}function bZ(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return sn(s)?n(s):t(s)}}function YO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qe(e)}function JO(e){return!xn(e)}function XO(e){return!(e===47||by(e))}function by(e){return e===43||e===45||e===46||e===95||sn(e)}function Lb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const wZ={tokenize:RZ,partial:!0};function SZ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:kZ,continuation:{tokenize:PZ},exit:CZ}},text:{91:{name:"gfmFootnoteCall",tokenize:EZ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:_Z,resolveTo:jZ}}}}function _Z(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Or(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function jZ(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function EZ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||Qe(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Or(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Qe(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function kZ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(a>999||m===93&&!o||m===null||m===91||Qe(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=Or(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Qe(m)||(o=!0),a++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),Te(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function PZ(e,t,n){return e.check(Ju,t,e.attempt(wZ,t,n))}function CZ(e){e.exit("gfmFootnoteDefinition")}function RZ(e,t,n){const r=this;return Te(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function NZ(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},h=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&Yn(h,h.length,0,pp(p,a.slice(u+1,l),o)),Yn(h,h.length,0,[["exit",f,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),Yn(a,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=fl(u);if(m===126)return f>1?l(m):(a.consume(m),f++,p);if(f<2&&!n)return l(m);const b=a.exit("strikethroughSequenceTemporary"),v=fl(m);return b._open=!v||v===2&&!!g,b._close=!g||g===2&&!!v,o(m)}}}class TZ{constructor(){this.map=[]}add(t,n,r){OZ(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function OZ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function AZ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function IZ(){return{flow:{null:{name:"table",tokenize:FZ,resolveAll:DZ}}}}function FZ(e,t,n){const r=this;let i=0,s=0,a;return o;function o(P){let L=r.events.length-1;for(;L>-1;){const O=r.events[L][1].type;if(O==="lineEnding"||O==="linePrefix")L--;else break}const D=L>-1?r.events[L][1].type:null,$=D==="tableHead"||D==="tableRow"?_:l;return $===_&&r.parser.lazy[r.now().line]?n(P):$(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),u(P)}function u(P){return P===124||(a=!0,s+=1),d(P)}function d(P){return P===null?n(P):he(P)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),p):n(P):Ce(P)?Te(e,d,"whitespace")(P):(s+=1,a&&(a=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||Qe(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?h:f)}function h(P){return P===92||P===124?(e.consume(P),f):f(P)}function p(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),a=!1,Ce(P)?Te(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):m(P))}function m(P){return P===45||P===58?b(P):P===124?(a=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),g):j(P)}function g(P){return Ce(P)?Te(e,b,"whitespace")(P):b(P)}function b(P){return P===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),v):P===45?(s+=1,v(P)):P===null||he(P)?S(P):j(P)}function v(P){return P===45?(e.enter("tableDelimiterFiller"),y(P)):j(P)}function y(P){return P===45?(e.consume(P),y):P===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(P))}function x(P){return Ce(P)?Te(e,S,"whitespace")(P):S(P)}function S(P){return P===124?m(P):P===null||he(P)?!a||i!==s?j(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):j(P)}function j(P){return n(P)}function _(P){return e.enter("tableRow"),C(P)}function C(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),C):P===null||he(P)?(e.exit("tableRow"),t(P)):Ce(P)?Te(e,C,"whitespace")(P):(e.enter("data"),N(P))}function N(P){return P===null||P===124||Qe(P)?(e.exit("data"),C(P)):(e.consume(P),P===92?I:N)}function I(P){return P===92||P===124?(e.consume(P),N):N(P)}}function DZ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,d,f;const h=new TZ;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(o=!1,l!==0&&(xj(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=Gd(h,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=Gd(h,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):m.type==="tableHead"?(o=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],f=Gd(h,t,s,i,n,f)):a[1]!==0&&(f=Gd(h,t,a,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&xj(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=AZ(t.events,n))}return e}function Gd(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},co(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=co(t.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=co(t.events,n[2]),d=co(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},co(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function xj(e,t,n,r,i){const s=[],a=co(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function co(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const LZ={name:"tasklistCheck",tokenize:MZ};function $Z(){return{text:{91:LZ}}}function MZ(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Qe(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return he(l)?t(l):Ce(l)?e.check({tokenize:UZ},t,n)(l):n(l)}}function UZ(e,t,n){return Te(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function zZ(e){return lO([fZ(),SZ(),NZ(e),IZ(),$Z()])}const HZ={};function Lo(e){const t=this,n=e||HZ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(zZ(n)),s.push(lZ()),a.push(cZ(n))}const cg={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},ZO=()=>{const[e,t]=w.useState({}),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const{data:a,error:o}=await X.storage.from("source-logos").list();if(o){console.error("❌ Error fetching source logos:",o),t(cg);return}const l={...cg};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=X.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");l[f]=d.publicUrl}}t(l)}catch(a){console.error("❌ Error in fetchLogos:",a),t(cg)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),o=Object.keys(e).find(l=>l.toLowerCase()===a);return o?e[o]:null},loading:n,logos:e}},BZ=()=>{var n;const{items:e,refine:t}=UW({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),c.jsxs(Nr,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[c.jsx(dr,{className:"w-auto",children:c.jsx(Tr,{})}),c.jsx(fr,{children:e.map(r=>c.jsx(ut,{value:String(r.value),children:r.label},r.value))})]})]})},WZ=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),c.jsxs(Nr,{value:t,onValueChange:e,children:[c.jsx(dr,{className:"w-auto min-w-[140px]",children:c.jsx(Tr,{})}),c.jsx(fr,{children:n.map(r=>c.jsx(ut,{value:r.value,children:r.label},r.value))})]})]})},VZ=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=fb();if(t<=1)return null;const s=[],a=5;let o=Math.max(0,e-Math.floor(a/2)),l=Math.min(t-1,o+a-1);l-o<a-1&&(o=Math.max(0,l-a+1));for(let u=o;u<=l;u++)s.push(u);return c.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[c.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[c.jsx(vP,{className:"h-4 w-4"}),"Précédent"]}),o>0&&c.jsxs(c.Fragment,{children:[c.jsx(Z,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),o>1&&c.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>c.jsx(Z,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),l<t-1&&c.jsxs(c.Fragment,{children:[l<t-2&&c.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),c.jsx(Z,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),c.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",c.jsx(yP,{className:"h-4 w-4"})]})]})},qZ=()=>{const{query:e}=hb(),{hits:t}=rp();return t.length===0&&e?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Vf,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jsx("p",{children:"Suggestions :"}),c.jsxs("ul",{className:"mt-2 space-y-1",children:[c.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),c.jsx("li",{children:"• Essayez des termes plus généraux"}),c.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Vf,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),c.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},QZ=()=>{const{hits:e}=rp(),[t,n]=W.useState(new Set),[r,i]=W.useState(new Set),[s,a]=W.useState("relevance"),{addToFavorites:o,removeFromFavorites:l,isFavorite:u}=Zh(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:h}=_l();Ta();const{toast:p}=un();yt(),_V();const{getSourceLogo:m}=ZO(),{handleExport:g,handleCopyToClipboard:b}=QT(),v="fr",y=W.useCallback((R,z)=>z==="relevance"?R:[...R].sort((E,A)=>{switch(z){case"fe_asc":return(E.FE||0)-(A.FE||0);case"fe_desc":return(A.FE||0)-(E.FE||0);case"date_desc":return(A.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(A.Date||0);case"nom_asc":{const k=E.Nom_fr||"",F=A.Nom_fr||"";return k.localeCompare(F,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const k=E.Nom_fr||"";return(A.Nom_fr||"").localeCompare(k,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(E.Source||"").localeCompare(A.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:x}=s7({attribute:"FE",precision:2}),S=W.useMemo(()=>{const R=A=>{if(typeof A=="object"&&(A==null?void 0:A._type)==="Number"){const k=String(A.value);if(k==="-Infinity"||k==="Infinity"||k==="NaN")return;const F=parseFloat(A.value);return Number.isFinite(F)?F:void 0}if(typeof A=="number")return Number.isFinite(A)?A:void 0};let z,E;if(x&&Array.isArray(x)){const A=R(x[0]),k=R(x[1]);typeof A=="number"&&(z=A),typeof k=="number"&&(E=k)}return z===void 0&&E===void 0?e:e.filter(A=>{const k=typeof A.FE=="number"?A.FE:Number(A.FE);return!(!Number.isFinite(k)||z!==void 0&&k<z||E!==void 0&&k>E)})},[e,x]),j=W.useMemo(()=>y(S,s),[S,s,y]),_=R=>{a(R)},C=R=>{const z=new Set(t);z.has(R)?z.delete(R):z.add(R),n(z)},N=(R,z)=>{const E=(()=>{switch(z){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[z]}})(),A=R._highlightResult||{};for(const k of E){const F=A[k];if(F!=null&&F.value)return{__html:F.value};const H=R[k];if(H)return{__html:H}}return{__html:""}},I=R=>{const z=new Set(r);z.has(R)?z.delete(R):z.add(R),i(z)},P=()=>{r.size===j.length?i(new Set):i(new Set(j.map(R=>R.objectID)))},L=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const R=j.filter(E=>r.has(E.objectID));await b(R)&&i(new Set)},D=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const R=j.filter(E=>r.has(E.objectID));await g(R,"facteurs_emissions_recherche")&&i(new Set)},$=R=>({id:R.objectID,nom:R.Nom_fr||"",description:R.Description_fr||"",fe:R.FE,uniteActivite:R.Unite_fr||"",source:R.Source,secteur:R.Secteur_fr||"",sousSecteur:R["Sous-secteur_fr"]||"",localisation:R.Localisation_fr||"",date:R.Date,incertitude:R.Incertitude,perimetre:R.Périmètre_fr||"",contributeur:R.Contributeur||"",commentaires:R.Commentaires_fr||""}),O=async R=>{const z=$(R);u(R.objectID)?await l(R.objectID):await o(z)},M=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const z=j.filter(E=>r.has(E.objectID)).filter(E=>!u(E.objectID));if(z.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(z.map(E=>o($(E)))),p({title:"Favoris mis à jour",description:`${z.length} élément${z.length>1?"s":""} ajouté${z.length>1?"s":""} aux favoris`})};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(qZ,{}),j.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ii,{checked:r.size===j.length&&j.length>0,onCheckedChange:P,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),c.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===j.length&&j.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&c.jsxs(at,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Z,{onClick:L,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[c.jsx(xP,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),c.jsxs(Z,{onClick:M,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[c.jsx(uv,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),c.jsxs(Z,{onClick:D,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[c.jsx(jx,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[c.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[j.length," résultat",j.length>1?"s":""," affiché",j.length>1?"s":""]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(WZ,{onSortChange:_,currentSort:s}),c.jsx(BZ,{})]})]}),c.jsx("div",{className:"space-y-4",children:j.map(R=>{const z=t.has(R.objectID),E=u(R.objectID);d(R.Source);const A=f(R.Source),k=!!R.workspace_id||R.import_type==="imported";return c.jsx(De,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:c.jsx(Le,{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start gap-4",children:c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(Ii,{checked:r.has(R.objectID),onCheckedChange:()=>I(R.objectID),onClick:F=>F.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:N(R,"Nom")}),k&&c.jsx(at,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(Z,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),h()&&O(R)},disabled:!h(),className:`${E?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?c.jsx(uv,{className:`h-4 w-4 ${E?"fill-current":""}`}):c.jsx(wP,{className:"h-4 w-4"})}),c.jsx(Z,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),C(R.objectID)},children:z?c.jsx(_x,{className:"h-4 w-4"}):c.jsx(zu,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),c.jsx(oh,{isBlurred:A,showBadge:!0,children:c.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[R.FE?(typeof R.FE=="number"?parseFloat(R.FE.toFixed(4)):parseFloat(parseFloat(String(R.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),c.jsx(oh,{isBlurred:A,showBadge:!1,children:c.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:N(R,"Unite")})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(R.Périmètre_fr||R.Périmètre_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),c.jsx("p",{className:"text-sm font-light",children:R.Périmètre_fr||R.Périmètre_en})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),c.jsxs("div",{className:"flex items-center gap-2",children:[m(R.Source)&&c.jsx("img",{src:m(R.Source),alt:`Logo ${R.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),c.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:N(R,"Source")})]})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(R.Localisation_fr||R.Localisation_en)&&c.jsx(at,{variant:"secondary",children:R.Localisation_fr||R.Localisation_en}),R.Date&&c.jsx(at,{variant:"outline",children:R.Date}),(R.Secteur_fr||R.Secteur_en)&&c.jsx(at,{variant:"outline",children:R.Secteur_fr||R.Secteur_en}),(R["Sous-secteur_fr"]||R["Sous-secteur_en"])&&c.jsx(at,{variant:"outline",children:R["Sous-secteur_fr"]||R["Sous-secteur_en"]})]}),z&&c.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(R.Description_fr||R.Description_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:R.Description_fr||R.Description_en})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),c.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:N(R,"Secteur")})]}),R.Incertitude&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),c.jsx("p",{className:"text-sm font-light mt-1",children:R.Incertitude})]}),R.Contributeur&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:R.Contributeur})})]}),(R.Commentaires_fr||R.Commentaires_en)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:R.Commentaires_fr||R.Commentaires_en})})]})]})]})]})})})},R.objectID)})}),c.jsx(VZ,{})]})]})};var $b="Switch",[KZ,qte]=Di($b),[GZ,YZ]=KZ($b),eA=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),m=$e(t,x=>p(x)),g=w.useRef(!1),b=h?d||!!h.closest("form"):!0,[v=!1,y]=ti({prop:i,defaultProp:s,onChange:u});return c.jsxs(GZ,{scope:n,checked:v,disabled:o,children:[c.jsx(me.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":rA(v),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:ce(e.onClick,x=>{y(S=>!S),b&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),b&&c.jsx(JZ,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});eA.displayName=$b;var tA="SwitchThumb",nA=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=YZ(tA,n);return c.jsx(me.span,{"data-state":rA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});nA.displayName=tA;var JZ=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=w.useRef(null),a=mb(n),o=Ix(t);return w.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rA(e){return e?"checked":"unchecked"}var iA=eA,XZ=nA;const sA=w.forwardRef(({className:e,...t},n)=>c.jsx(iA,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(XZ,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sA.displayName=iA.displayName;var Mb="Collapsible",[ZZ,Qte]=Di(Mb),[eee,Ub]=ZZ(Mb),aA=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[l=!1,u]=ti({prop:r,defaultProp:i,onChange:a});return c.jsx(eee,{scope:n,disabled:s,contentId:ei(),open:l,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),children:c.jsx(me.div,{"data-state":Hb(l),"data-disabled":s?"":void 0,...o,ref:t})})});aA.displayName=Mb;var oA="CollapsibleTrigger",lA=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Ub(oA,n);return c.jsx(me.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Hb(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ce(e.onClick,i.onOpenToggle)})});lA.displayName=oA;var zb="CollapsibleContent",cA=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ub(zb,e.__scopeCollapsible);return c.jsx(Li,{present:n||i.open,children:({present:s})=>c.jsx(tee,{...r,ref:t,present:s})})});cA.displayName=zb;var tee=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=Ub(zb,n),[o,l]=w.useState(r),u=w.useRef(null),d=$e(t,u),f=w.useRef(0),h=f.current,p=w.useRef(0),m=p.current,g=a.open||o,b=w.useRef(g),v=w.useRef();return w.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),Qt(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const x=y.getBoundingClientRect();f.current=x.height,p.current=x.width,b.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),l(r)}},[a.open,r]),c.jsx(me.div,{"data-state":Hb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:g&&i})});function Hb(e){return e?"open":"closed"}var nee=aA;const uA=nee,dA=lA,fA=cA,Vs=({attribute:e,title:t,searchable:n=!1,limit:r=10})=>{const{items:i,refine:s,searchForItems:a,canToggleShowMore:o,isShowingMore:l,toggleShowMore:u}=h7({attribute:e,limit:r}),[d,f]=W.useState(""),[h,p]=W.useState(i);W.useEffect(()=>{d||p(i)},[i,d]);const m=W.useMemo(()=>e==="Date"?[...i].sort((b,v)=>{const y=parseInt(b.label);return parseInt(v.label)-y}):i,[i,e]),g=W.useMemo(()=>d?h.filter(b=>b.label.toLowerCase().includes(d.toLowerCase())):m,[m,h,d]);return i.length===0?null:c.jsxs(uA,{defaultOpen:!0,children:[c.jsx(dA,{asChild:!0,children:c.jsxs(Z,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 hover:bg-white hover:text-indigo-950",children:[c.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:t}),c.jsx(bP,{className:"h-4 w-4 text-indigo-950"})]})}),c.jsxs(fA,{className:"space-y-2 mt-2",children:[n&&c.jsx(Mt,{type:"search",placeholder:`Rechercher ${t.toLowerCase()}...`,value:d,onChange:b=>{const v=b.target.value;f(v),a(v)},className:"w-full px-3 py-1 text-sm"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:g.map(b=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ii,{id:`${e}-${b.value}`,checked:b.isRefined,onCheckedChange:()=>s(b.value),className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),c.jsxs("label",{htmlFor:`${e}-${b.value}`,className:"flex-1 text-sm cursor-pointer flex justify-between",children:[c.jsx("span",{className:b.isRefined?"font-medium":"",children:b.label}),c.jsxs("span",{className:"text-muted-foreground",children:["(",b.count,")"]})]})]},b.value))}),o&&c.jsx(Z,{variant:"ghost",size:"sm",onClick:u,className:"w-full",children:l?"Voir moins":"Voir plus"})]})]})},ree=()=>{const{canRefine:e,refine:t}=kW();return e?c.jsxs(Z,{variant:"ghost",size:"sm",onClick:t,className:"text-indigo-950 hover:text-indigo-800 font-montserrat bg-white hover:bg-white",children:[c.jsx(sL,{className:"w-4 h-4 mr-1"}),"RÉINITIALISER LES FILTRES"]}):null},iee=()=>{const{value:e,refine:t}=I7({attribute:"Date",on:[2022,2023,2024,2025]});return c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-border",children:[c.jsx(sA,{checked:e.isRefined,onCheckedChange:()=>t(e),id:"recent-data",className:"data-[state=checked]:bg-indigo-950"}),c.jsx("label",{htmlFor:"recent-data",className:"text-sm font-medium cursor-pointer font-montserrat text-indigo-950",children:"Données récentes (< 3 ans)"})]})},see=()=>{const e=QN(),t=(e==null?void 0:e.origin)??"all",n=(e==null?void 0:e.setOrigin)??(()=>{}),{refine:r}=fb(),i=W.useMemo(()=>t==="all"?void 0:[`origin:${t}`],[t]);return W.useEffect(()=>{r(0)},[t,r]),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Z,{size:"sm",variant:t==="all"?"default":"outline",onClick:()=>{n("all"),r(0)},children:"Tous"}),c.jsx(Z,{size:"sm",variant:t==="public"?"default":"outline",onClick:()=>{n("public"),r(0)},children:"Base commune"}),c.jsx(Z,{size:"sm",variant:t==="private"?"default":"outline",onClick:()=>{n("private"),r(0)},children:"Base personnelle"})]}),c.jsx(ub,{ruleContexts:i})]})},hA=()=>{const[e,t]=W.useState("fr"),n=W.useMemo(()=>e==="fr"?["Nom_fr","Description_fr","Commentaires_fr","Secteur_fr","Sous-secteur_fr","Périmètre_fr","Localisation_fr"]:["Nom_en","Description_en","Commentaires_en","Secteur_en","Sous-secteur_en","Périmètre_en","Localisation_en"],[e]);W.useMemo(()=>[[`languages:${e}`]],[e]);const r=W.useMemo(()=>`languages:${e}`,[e]);return c.jsxs(De,{className:"bg-background border border-border",children:[c.jsxs(Ve,{className:"pb-3",children:[c.jsx(qe,{className:"text-lg font-montserrat text-indigo-950",children:"FILTRER PAR :"}),c.jsx(ree,{})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsx(ub,{filters:r,restrictSearchableAttributes:n}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold text-primary",children:"Langue"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Z,{size:"sm",variant:e==="fr"?"default":"outline",onClick:()=>t("fr"),children:"FR"}),c.jsx(Z,{size:"sm",variant:e==="en"?"default":"outline",onClick:()=>t("en"),children:"EN"})]})]}),c.jsxs(uA,{defaultOpen:!0,children:[c.jsx(dA,{asChild:!0,children:c.jsxs(Z,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 bg-transparent hover:bg-transparent",children:[c.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:"Données récentes"}),c.jsx(bP,{className:"h-4 w-4 text-indigo-950"})]})}),c.jsx(fA,{className:"space-y-4 mt-4",children:c.jsx(iee,{})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),c.jsx(see,{})]}),c.jsx(Vs,{attribute:e==="fr"?"Unite_fr":"Unite_en",title:"Unité",searchable:!0,limit:500}),c.jsx(Vs,{attribute:e==="fr"?"Périmètre_fr":"Périmètre_en",title:"Périmètre",searchable:!0,limit:500}),c.jsx(Vs,{attribute:"Source",title:"Source",searchable:!0,limit:500}),c.jsx(Vs,{attribute:"Date",title:"Date",limit:500}),c.jsx(Vs,{attribute:e==="fr"?"Localisation_fr":"Localisation_en",title:"Localisation",searchable:!0,limit:500}),c.jsx(Vs,{attribute:e==="fr"?"Secteur_fr":"Secteur_en",title:"Secteur",searchable:!0,limit:500}),c.jsx(Vs,{attribute:e==="fr"?"Sous-secteur_fr":"Sous-secteur_en",title:"Sous-secteur",searchable:!0,limit:500})]})]})},aee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=ip();return c.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[c.jsx("div",{children:n&&t!==e?c.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):c.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),c.jsxs("div",{children:["en ",r," ms"]})]})},oee=()=>{const{user:e}=yt(),{currentWorkspace:t}=$i(),[n,r]=w.useState(null),[i,s]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:o,error:l}=await X.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(l&&l.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",l),s(!1);return}let u=o;if(!o){const{data:m,error:g}=await X.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(g){console.error("Erreur lors de la création de la période d'essai:",g),s(!1);return}u=m}const d=new Date(u.expires_at),f=new Date,h=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),p=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(o){console.error("Erreur lors du chargement de la période d'essai:",o)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function lee(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[e][l])||o,b=w.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][l])||o,m=w.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,cee(i,...t)]}function cee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Bb="Progress",Wb=100,[uee,Kte]=lee(Bb),[dee,fee]=uee(Bb),pA=w.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=hee,...a}=e;(i||i===0)&&!bj(i)&&console.error(pee(`${i}`,"Progress"));const o=bj(i)?i:Wb;r!==null&&!wj(r,o)&&console.error(mee(`${r}`,"Progress"));const l=wj(r,o)?r:null,u=fh(l)?s(l,o):void 0;return c.jsx(dee,{scope:n,value:l,max:o,children:c.jsx(me.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":fh(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":vA(l,o),"data-value":l??void 0,"data-max":o,...a,ref:t})})});pA.displayName=Bb;var mA="ProgressIndicator",gA=w.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=fee(mA,n);return c.jsx(me.div,{"data-state":vA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});gA.displayName=mA;function hee(e,t){return`${Math.round(e/t*100)}%`}function vA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function fh(e){return typeof e=="number"}function bj(e){return fh(e)&&!isNaN(e)&&e>0}function wj(e,t){return fh(e)&&!isNaN(e)&&e<=t&&e>=0}function pee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Wb}\`.`}function mee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Wb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yA=pA,gee=gA;const Vb=w.forwardRef(({className:e,value:t,...n},r)=>c.jsx(yA,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:c.jsx(gee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vb.displayName=yA.displayName;const vee=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=oee();if(t||!n)return null;if(!e||!r)return c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[c.jsx(kr,{className:"h-4 w-4 text-destructive"}),c.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[c.jsx(cv,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),c.jsxs(at,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),c.jsx(Vb,{value:s,className:"h-2"})]})]})},yee=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=w.useState(!1);if(t)return c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return c.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[c.jsx(kr,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,o=e.exports_limit,l=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,h=o===null?0:a/o*100,p=u===null?0:l/u*100,m=f===null?0:d/f*100,g=()=>s==="premium"?c.jsx(Vc,{className:"h-4 w-4"}):s==="standard"?c.jsx(dL,{className:"h-4 w-4"}):null,b=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>o===null?"Illimitées ∞":o===0?"Non disponible":`${a} / ${o}`,y=()=>u===null?"Illimitées ∞":`${l} / ${u}`,x=()=>f===null?"Illimitées ∞":`${d} / ${f}`,S=s==="premium"||s==="standard";return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[g(),c.jsx("span",{className:"whitespace-nowrap",children:b()}),n&&c.jsx(qf,{className:"h-3 w-3 text-destructive"}),c.jsx(zu,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),c.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"mb-4",children:c.jsx(vee,{})}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",b()]}),g()]}),n&&c.jsxs(at,{variant:"destructive",className:"text-xs",children:[c.jsx(qf,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{children:c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),c.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),c.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&o!==null&&o>0&&c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),c.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:y()})]}),!S&&u!==null&&c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),c.jsx("span",{className:`text-sm font-medium ${m>=100?"text-destructive":"text-muted-foreground"}`,children:x()})]}),!S&&f!==null&&c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${m>=100?"bg-destructive":m>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(m,100)}%`}})})]}),n&&s==="freemium"&&c.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:c.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&c.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:c.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},da=()=>{const{user:e,signOut:t}=yt(),{isSupraAdmin:n}=sp(),{canUseFavorites:r}=_l(),{quotaData:i,isLoading:s,isAtLimit:a}=ap(),o=Vh(),l=async()=>{await t(),o("/")};return c.jsx("nav",{className:"border-b border-border bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(bt,{to:e?"/search":"/",className:"flex items-center",children:c.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),c.jsx("div",{className:"flex items-center space-x-4",children:e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden md:block",children:c.jsx(yee,{quotaData:i,isLoading:s,isAtLimit:a})}),c.jsx(bt,{to:"/search",children:c.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?c.jsx(bt,{to:"/favoris",children:c.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):c.jsxs(Z,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[c.jsx(wP,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&c.jsx(bt,{to:"/import",children:c.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),c.jsx(bt,{to:"/settings",children:c.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),c.jsx(Z,{onClick:l,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bt,{to:"/signup",children:c.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),c.jsx(bt,{to:"/login",children:c.jsx(Z,{children:"Se connecter"})})]})})]})})})},xee=()=>c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsx("section",{className:"py-20 px-4 bg-primary",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-full max-w-6xl",children:c.jsx(RV,{})})})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("aside",{className:"lg:col-span-1",children:c.jsx(hA,{})}),c.jsxs("section",{className:"lg:col-span-3",children:[c.jsx(ub,{hitsPerPage:36}),c.jsx(aee,{}),c.jsx(QZ,{})]})]})})]}),bee=()=>c.jsx(EV,{children:c.jsx(xee,{})}),io="6BGAS85TYS",so="e06b7614aaff866708fbd2872de90d37";function wee(e){const[t,n]=w.useState(null);return w.useEffect(()=>{let r=!1;async function i(){var a,o,l,u,d,f;if(typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)){r||n({fullPublic:vt(io,so),fullPrivate:vt(io,so),teaser:vt(io,so)});return}try{const h=e?{workspaceId:e}:{},{data:p,error:m}=await X.functions.invoke("algolia-secure-key",{body:h});if(m)throw m;const g=p||{};if(!r&&(g!=null&&g.appId)){n({fullPublic:vt(g.appId,((a=g.fullPublic)==null?void 0:a.searchApiKey)||((o=g.full)==null?void 0:o.searchApiKey)),fullPrivate:vt(g.appId,((l=g.fullPrivate)==null?void 0:l.searchApiKey)||((u=g.full)==null?void 0:u.searchApiKey)),teaser:vt(g.appId,((d=g.teaserPublic)==null?void 0:d.searchApiKey)||((f=g.teaser)==null?void 0:f.searchApiKey))});return}}catch{if(!r){n({fullPublic:vt(io,so),fullPrivate:vt(io,so),teaser:vt(io,so)});return}}}return i(),()=>{r=!0}},[e]),t}const ug=e=>({...e,search:t=>{const n=(t||[]).map(r=>({...r,params:Object.fromEntries(Object.entries(r.params||{}).filter(([i])=>BN.includes(i)))}));return e.search(n)}}),See=w.createContext(null),_ee=({children:e,favoriteIds:t=[]})=>{const n=ap(),{currentWorkspace:r}=$i();_l();const i=wee(r==null?void 0:r.id),s=QN(),a=w.useRef("all");w.useEffect(()=>{s!=null&&s.origin&&(a.current=s.origin)},[s==null?void 0:s.origin]);const o=(...b)=>{},l=w.useRef(t);w.useEffect(()=>{l.current=t},[t]);const u=w.useRef(null),d=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{i?(u.current=ug(i.fullPublic),d.current=ug(i.fullPrivate),f.current=ug(i.teaser)):(u.current=null,d.current=null,f.current=null)},[i]);const h=w.useRef(r==null?void 0:r.id);w.useEffect(()=>{h.current=r==null?void 0:r.id},[r==null?void 0:r.id]);const p=w.useRef(null);i&&!p.current&&(p.current={search:async b=>{var O,M,R,z;const v=u.current,y=d.current,x=f.current;if(!v||!y)return{results:[]};const S=h.current,j=a.current;o("incoming requests",b==null?void 0:b.map(E=>{var A,k;return{ruleContexts:(A=E==null?void 0:E.params)==null?void 0:A.ruleContexts,facetFilters:(k=E==null?void 0:E.params)==null?void 0:k.facetFilters}})),o("ctx",{globalOrigin:j,wsId:S,favCount:(O=l.current)==null?void 0:O.length});const _=[],C=[],N=[],I=(...E)=>{const A=E.filter(T=>typeof T=="string"&&T.trim().length>0).map(T=>T.trim());if(A.length===0)return;if(A.length===1)return A[0];const k=A.filter(T=>/\sOR\s/.test(T)),F=A.filter(T=>!/\sOR\s/.test(T));return[...k,...F].map(T=>`(${T})`).join(" AND ")};for(const E of b||[]){const A={...E.params||{}},k=WN(A.facetFilters),F=j,H=bV(l.current),te=S?`workspace_id:${S}`:"workspace_id:_none_";F==="public"?(_.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:public"],...k||[]],filters:I(A.filters,H)}}),N.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:public"],...k||[]],filters:I(A.filters,H)}})):F==="private"?C.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:private"],...k||[]],filters:I(A.filters,te,H)}}):(_.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:public"],...k||[]],filters:I(A.filters,H)}}),N.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:public"],...k||[]],filters:I(A.filters,H)}}),C.push({...E,indexName:Nn,params:{...A,facetFilters:[["scope:private"],...k||[]],filters:I(A.filters,te,H)}}))}o("expandedPublicFull",_==null?void 0:_.map(E=>{var A,k;return{facetFilters:(A=E==null?void 0:E.params)==null?void 0:A.facetFilters,filters:(k=E==null?void 0:E.params)==null?void 0:k.filters}})),o("expandedPrivateFull",C==null?void 0:C.map(E=>{var A,k;return{facetFilters:(A=E==null?void 0:E.params)==null?void 0:A.facetFilters,filters:(k=E==null?void 0:E.params)==null?void 0:k.filters}})),o("expandedTeaser",N==null?void 0:N.map(E=>{var A,k;return{facetFilters:(A=E==null?void 0:E.params)==null?void 0:A.facetFilters,filters:(k=E==null?void 0:E.params)==null?void 0:k.filters}}));const[P,L,D]=await Promise.all([v.search(_),y.search(C),(x==null?void 0:x.search(N))??Promise.resolve({results:[]})]),$=[];for(let E=0,A=0,k=0,F=0;E<(b||[]).length;E++){(M=(b||[])[E])!=null&&M.params;const H=j;if(H==="public"){const T=P.results[A];A++;const te=(R=D.results)==null?void 0:R[F];F++,$.push(Ao(T,te))}else if(H==="private"){const T=L.results[k];k+=1,$.push(T)}else{const T=P.results[A];A++;const te=(z=D.results)==null?void 0:z[F];F++;const ie=Ao(T,te),Y=L.results[k];k++,$.push(Ao(ie,Y,{sumNbHits:!0}))}}return o("merged results stats",$==null?void 0:$.map(E=>({nbHits:E==null?void 0:E.nbHits}))),{results:$}}});const m=i?p.current:null;if(!m)return null;const g=({favoriteIds:b})=>{const{refresh:v}=q7(),y=w.useRef(null);return w.useEffect(()=>{y.current!==b&&(y.current=b,v())},[b,v]),null};return c.jsx(See.Provider,{value:n,children:c.jsxs(FN,{searchClient:m,indexName:Nn,future:{preserveSharedStateOnUnmount:!0},children:[c.jsx(g,{favoriteIds:t}),e]})})},jee=({favoriteIds:e=[]})=>{const{query:t,refine:n}=hb();ip();const r=()=>{n("")},i=()=>{};return c.jsx("div",{className:"space-y-4",children:c.jsx("div",{className:"relative",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Vf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),c.jsx(Mt,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&c.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c.jsx(kx,{className:"h-5 w-5"})})]}),c.jsx(Z,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},xA=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=Ta(),{role:s}=i;return t&&(!s||!t.includes(s))?c.jsx(c.Fragment,{children:r}):n&&!i[n]?c.jsx(c.Fragment,{children:r}):c.jsx(c.Fragment,{children:e})},Eee=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:o})=>{const{hits:l}=rp(),[u,d]=w.useState("relevance"),[f,h]=w.useState(new Set),p=W.useCallback((E,A)=>A==="relevance"?E:[...E].sort((k,F)=>{switch(A){case"fe_asc":return(k.FE||0)-(F.FE||0);case"fe_desc":return(F.FE||0)-(k.FE||0);case"date_desc":return(F.Date||0)-(k.Date||0);case"date_asc":return(k.Date||0)-(F.Date||0);case"nom_asc":{const H=k.Nom_fr||k.Nom_en||k.Nom||"",T=F.Nom_fr||F.Nom_en||F.Nom||"";return H.localeCompare(T,"fr",{numeric:!0,sensitivity:"base"})}case"nom_desc":{const H=k.Nom_fr||k.Nom_en||k.Nom||"";return(F.Nom_fr||F.Nom_en||F.Nom||"").localeCompare(H,"fr",{numeric:!0,sensitivity:"base"})}case"source_asc":return(k.Source||"").localeCompare(F.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),m=W.useMemo(()=>p(l,u),[l,u,p]),g=E=>{d(E)},b=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:y,refine:x}=fb(),{removeFromFavorites:S,isFavorite:j}=Zh();Ta();const{getSourceLogo:_}=ZO(),{shouldBlurPremiumContent:C}=_l(),N=m.length>0&&m.every(E=>e.has(E.objectID)),I=E=>{n(E)},P=E=>{const A=new Set(f);A.has(E)?A.delete(E):A.add(E),h(A)},L=(E,A)=>{const k=(()=>{switch(A){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[A]}})(),F=E._highlightResult||{};for(const H of k){const T=F[H];if(T!=null&&T.value)return{__html:T.value};const te=E[H];if(te)return{__html:te}}return{__html:""}},D=async E=>{try{await S(E.objectID),gn.success("Retiré des favoris")}catch{gn.error("Erreur lors de la suppression du favori")}},$=E=>({id:E.objectID,nom:E.Nom_fr||E.Nom_en||E.Nom||"",description:E.Description_fr||E.Description_en||E.Description||"",fe:E.FE,uniteActivite:E.Unite_fr||E.Unite_en||E["Unité donnée d'activité"]||"",source:E.Source,secteur:E.Secteur_fr||E.Secteur_en||E.Secteur||"",sousSecteur:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]||"",localisation:E.Localisation_fr||E.Localisation_en||E.Localisation||"",date:E.Date,incertitude:E.Incertitude,perimetre:E.Périmètre_fr||E.Périmètre_en||E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires_fr||E.Commentaires_en||E.Commentaires||""}),O=()=>{if(r){const A=m.filter(k=>e.has(k.objectID)).map($);r(A)}},M=()=>{if(i){const A=m.filter(k=>e.has(k.objectID)).map($);i(A)}},R=()=>{if(s){const E=Array.from(e);s(E)}},z=E=>!!E.workspace_id||E.import_type==="imported";return m.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[c.jsxs("div",{className:"text-sm text-foreground",children:[m.length," favori",m.length>1?"s":""," affiché",m.length>1?"s":""]}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),c.jsxs(Nr,{value:u,onValueChange:g,children:[c.jsx(dr,{className:"w-auto min-w-[140px]",children:c.jsx(Tr,{})}),c.jsx(fr,{children:b.map(E=>c.jsx(ut,{value:E.value,children:E.label},E.value))})]})]})})]}),c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ii,{id:"select-all",checked:N,onCheckedChange:I}),c.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",m.length,")"]})]}),e.size>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Z,{variant:"outline",size:"sm",onClick:M,children:[c.jsx(xP,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),c.jsx(xA,{requirePermission:"canExport",children:c.jsxs(Z,{variant:"outline",size:"sm",onClick:O,children:[c.jsx(jx,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),c.jsxs(Z,{variant:"destructive",size:"sm",onClick:R,children:[c.jsx(Ah,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),c.jsx("div",{className:"space-y-4",children:m.map(E=>{const A=f.has(E.objectID);j(E.objectID);const k=C(E.Source);return c.jsx(De,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:c.jsx(Le,{className:"p-6",children:c.jsx("div",{className:"flex justify-between items-start gap-4",children:c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(Ii,{checked:e.has(E.objectID),onCheckedChange:()=>t(E.objectID),onClick:F=>F.stopPropagation(),className:"mt-1 cursor-pointer"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:L(E,"Nom")}),z(E)&&c.jsx(at,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(Z,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),D(E)},className:"text-red-500 hover:text-red-600",children:c.jsx(uv,{className:"h-4 w-4 fill-current"})}),c.jsx(Z,{variant:"ghost",size:"sm",onClick:F=>{F.stopPropagation(),P(E.objectID)},children:A?c.jsx(_x,{className:"h-4 w-4"}):c.jsx(zu,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),c.jsx(oh,{isBlurred:k,children:c.jsxs("p",{className:"text-2xl font-bold text-primary",children:[E.FE?(typeof E.FE=="number"?parseFloat(E.FE.toFixed(4)):parseFloat(parseFloat(String(E.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),c.jsx(oh,{isBlurred:k,showBadge:!1,children:c.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:L(E,"Unite")})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(E.Périmètre_fr||E.Périmètre_en||E.Périmètre)&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),c.jsx("p",{className:"text-sm font-light",children:E.Périmètre_fr||E.Périmètre_en||E.Périmètre})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),c.jsxs("div",{className:"flex items-center gap-2",children:[_(E.Source)&&c.jsx("img",{src:_(E.Source),alt:`Logo ${E.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),c.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:L(E,"Source")})]})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(E.Localisation_fr||E.Localisation_en||E.Localisation)&&c.jsx(at,{variant:"secondary",children:E.Localisation_fr||E.Localisation_en||E.Localisation}),E.Date&&c.jsx(at,{variant:"outline",children:E.Date}),(E.Secteur_fr||E.Secteur_en||E.Secteur)&&c.jsx(at,{variant:"outline",children:E.Secteur_fr||E.Secteur_en||E.Secteur}),(E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"])&&c.jsx(at,{variant:"outline",children:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]})]}),A&&c.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[E.Description_fr||E.Description_en?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:E.Description_fr||E.Description_en})})]}):null,c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),c.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:L(E,"Secteur")})]}),E.Incertitude&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),c.jsx("p",{className:"text-sm font-light mt-1",children:E.Incertitude})]}),E.Contributeur&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:E.Contributeur})})]}),E.Commentaires_fr||E.Commentaires_en?c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),c.jsx("div",{className:"text-xs mt-1 text-break-words",children:c.jsx(Do,{remarkPlugins:[Lo],components:{a:({href:F,children:H,...T})=>c.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:F,...H})=>c.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:F})},children:E.Commentaires_fr||E.Commentaires_en})})]}):null]})]})]})})})},E.objectID)})}),y>1&&(()=>{let A=Math.max(0,v-Math.floor(2.5)),k=Math.min(y-1,A+5-1);k-A<4&&(A=Math.max(0,k-5+1));const F=[];for(let H=A;H<=k;H++)F.push(H);return c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[c.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>x(v-1),disabled:v===0,children:[c.jsx(vP,{className:"w-4 h-4"}),"Précédent"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[A>0&&c.jsx(Z,{variant:v===0?"default":"outline",size:"sm",onClick:()=>x(0),className:"w-10",children:"1"},"first-page"),A>1&&c.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),F.map(H=>c.jsx(Z,{variant:H===v?"default":"outline",size:"sm",onClick:()=>x(H),className:"w-10",children:H+1},`page-${H}`)),k<y-2&&c.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),k<y-1&&c.jsx(Z,{variant:y-1===v?"default":"outline",size:"sm",onClick:()=>x(y-1),className:"w-10",children:y},"last-page")]}),c.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>x(v+1),disabled:v>=y-1,children:["Suivant",c.jsx(yP,{className:"w-4 h-4"})]})]})})()]})},kee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=ip();return c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[c.jsx("div",{children:n&&t!==e?c.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):c.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),c.jsxs("div",{children:["en ",r," ms"]})]})},Pee=({favoriteIds:e})=>{const[t,n]=w.useState(new Set),{favorites:r,removeFromFavorites:i}=Zh(),{handleExport:s,handleCopyToClipboard:a}=QT(),o=m=>{n(g=>{const b=new Set(g);return b.has(m)?b.delete(m):b.add(m),b})},l=m=>{if(m){const g=r.map(b=>b.id);n(new Set(g))}else n(new Set)},u=async m=>{await a(m)},d=async m=>{await s(m,"facteurs_emissions_favoris")},f=async m=>{try{for(const g of m)await i(g);n(new Set),gn.success(`${m.length} élément${m.length>1?"s":""} retiré${m.length>1?"s":""} des favoris`)}catch{gn.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(m=>m.source))].filter(Boolean),p=[...new Set(r.map(m=>m.localisation))].filter(Boolean);return[...new Set(r.map(m=>m.date.toString()))].filter(Boolean).sort((m,g)=>parseInt(g)-parseInt(m)),c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsx("section",{className:"py-12 px-4 bg-background border-b",children:c.jsx("div",{className:"container mx-auto",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),c.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsx(jee,{favoriteIds:e})}),c.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:r.length}),c.jsx("span",{children:"favoris au total"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:h.length}),c.jsx("span",{children:"sources"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-foreground",children:p.length}),c.jsx("span",{children:"localisations"})]})]})]})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),c.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("aside",{className:"lg:col-span-1",children:c.jsx(hA,{})}),c.jsxs("section",{className:"lg:col-span-3",children:[c.jsx(kee,{}),c.jsx(Eee,{selectedItems:t,onItemSelect:o,onSelectAll:l,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},Cee=()=>{const{favorites:e}=Zh(),t=w.useMemo(()=>e.map(n=>n.id),[e]);return c.jsx(jV,{children:c.jsx(_ee,{favoriteIds:t,children:c.jsx(Pee,{favoriteIds:t})})})},Ree=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),[l,u]=w.useState(0),[d,f]=w.useState("idle"),[h,p]=w.useState(null),[m,g]=w.useState("idle"),{toast:b}=un(),{user:v}=yt(),{currentWorkspace:y}=$i(),{canImportData:x}=Ta(),S=()=>{const I=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],P=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],L=[I.join(","),P.join(",")].join(`
`),D=new Blob([L],{type:"text/csv"}),$=URL.createObjectURL(D),O=document.createElement("a");O.href=$,O.download="template_facteurs_emissions_bilingue.csv",O.click(),URL.revokeObjectURL($)},j=I=>{var L;const P=(L=I.target.files)==null?void 0:L[0];P&&P.type==="text/csv"?(t(P),f("idle"),p(null)):b({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},_=I=>{const P=I.split(`
`).filter($=>$.trim());if(P.length===0)return[];const L=P[0].split(",").map($=>$.trim().replace(/"/g,"")),D=[];for(let $=1;$<P.length;$++){const O=P[$].split(",").map(M=>M.trim().replace(/"/g,""));if(O.length===L.length){const M={};L.forEach((R,z)=>{M[R]=O[z]}),D.push(M)}}return D},C=async()=>{if(!e||!n.trim()){b({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!y||!v){b({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!x){b({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}o(!0),f("uploading"),u(0);try{const I=await e.text();u(25);const P=_(I);if(u(50),f("processing"),P.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:L,error:D}=await X.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:v.id,workspace_id:y.id,uploaded_by:v.id}).select().single();if(D)throw new Error(`Erreur lors de la création du dataset: ${D.message}`);u(75);const $=P.map(R=>({workspace_id:y.id,dataset_id:L.id,Nom:R.nom||R.name||"Sans nom",Nom_en:R.nom_en||R.name_en||null,Description:R.description||"",Description_en:R.description_en||null,FE:parseFloat((R.fe||R.factor||"0").toString().replace(",",".")),"Unité donnée d'activité":R.unite||R.unit||"",Unite_en:R.unite_en||R.unit_en||null,Source:L.name,Secteur:R.secteur||R.sector||"Non spécifié",Secteur_en:R.secteur_en||R.sector_en||null,"Sous-secteur":R.categorie||R.category||"Non spécifié","Sous-secteur_en":R.categorie_en||R.category_en||null,Localisation:R.localisation||R.location||"Non spécifié",Localisation_en:R.localisation_en||R.location_en||null,Date:parseInt((R.date||new Date().getFullYear().toString()).toString()),Incertitude:R.incertitude||R.uncertainty||"",Périmètre:R.perimetre||R.perimeter||null,Périmètre_en:R.perimetre_en||R.perimeter_en||null,Contributeur:R.contributeur||R.contributor||null,Commentaires:R.commentaires||R.comments||null,Commentaires_en:R.commentaires_en||R.comments_en||null})),{data:O,error:M}=await X.from("emission_factors").insert($).select();if(M)throw new Error(`Erreur lors de l'insertion: ${M.message}`);try{const R=Array.from(new Set(($||[]).map(z=>String(z.Source)))).filter(Boolean);R.length>0?(g("indexing"),await X.functions.invoke("db-webhooks",{body:R.map(z=>({type:"INSERT",table:"public:emission_factors",record:{Source:z}}))}),g("success")):g("idle")}catch{g("error")}u(100),f("success"),p({success:(O==null?void 0:O.length)||0,errors:[]}),b({title:"Import réussi",description:`${(O==null?void 0:O.length)||0} facteurs d'émissions importés avec succès.`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const R=document.getElementById("file-upload");R&&(R.value="")},3e3)}catch(I){console.error("Import error:",I),f("error"),p({success:0,errors:[I instanceof Error?I.message:"Erreur inconnue"]}),b({variant:"destructive",title:"Erreur d'import",description:I instanceof Error?I.message:"Une erreur est survenue lors de l'import."})}finally{o(!1)}},N=()=>{switch(d){case"success":return c.jsx(Rn,{className:"w-5 h-5 text-green-500"});case"error":return c.jsx(kr,{className:"w-5 h-5 text-red-500"});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[c.jsx(Ww,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),c.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),c.jsxs(xA,{requirePermission:"canImportData",fallback:c.jsx(De,{className:"mb-6",children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(kr,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[c.jsxs(De,{className:"mb-6",children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center",children:[c.jsx(jx,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),c.jsx(Qn,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),c.jsxs(Le,{children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(nL,{className:"w-8 h-8 text-muted-foreground mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),c.jsx(Z,{onClick:S,variant:"outline",children:"Télécharger"})]}),c.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[c.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center",children:["Importer votre dataset",N()]}),c.jsx(Qn,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"dataset-name",children:"Nom du dataset"}),c.jsx(Mt,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:I=>r(I.target.value),disabled:a})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"file-upload",children:"Fichier CSV"}),c.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[c.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:j,className:"hidden",disabled:a}),e?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(Sx,{className:"w-8 h-8 text-green-500 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:e.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):c.jsxs("div",{children:[c.jsx(Ww,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),c.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des données..."]}),c.jsxs("span",{children:[l,"%"]})]}),c.jsx(Vb,{value:l,className:"w-full"})]}),h&&c.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?c.jsxs("div",{className:"flex items-center",children:[c.jsx(Rn,{className:"w-5 h-5 text-green-500 mr-2"}),c.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx(kr,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),c.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((I,P)=>c.jsxs("li",{children:["• ",I]},P))})]})}),m!=="idle"&&c.jsxs("div",{className:"mt-3 p-3 rounded-lg border bg-muted/30",children:[m==="indexing"&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Indexation Algolia en cours…"}),m==="success"&&c.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[c.jsx(Rn,{className:"w-4 h-4 mr-2"})," Indexation Algolia terminée"]}),m==="error"&&c.jsxs("div",{className:"flex items-center text-sm text-red-700",children:[c.jsx(kr,{className:"w-4 h-4 mr-2"})," Échec de l'indexation Algolia (non bloquant)"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ii,{id:"add-favorites",checked:i,onCheckedChange:I=>s(I),disabled:a}),c.jsx(Tt,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),c.jsx(Z,{onClick:C,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),c.jsx(De,{className:"mt-6",children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var qb="Dialog",[bA,wA]=Di(qb),[Nee,Dr]=bA(qb),SA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=w.useRef(null),l=w.useRef(null),[u=!1,d]=ti({prop:r,defaultProp:i,onChange:s});return c.jsx(Nee,{scope:t,triggerRef:o,contentRef:l,contentId:ei(),titleId:ei(),descriptionId:ei(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};SA.displayName=qb;var _A="DialogTrigger",jA=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Dr(_A,n),s=$e(t,i.triggerRef);return c.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gb(i.open),...r,ref:s,onClick:ce(e.onClick,i.onOpenToggle)})});jA.displayName=_A;var Qb="DialogPortal",[Tee,EA]=bA(Qb,{forceMount:void 0}),kA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Dr(Qb,t);return c.jsx(Tee,{scope:t,forceMount:n,children:w.Children.map(r,a=>c.jsx(Li,{present:n||s.open,children:c.jsx(Nh,{asChild:!0,container:i,children:a})}))})};kA.displayName=Qb;var hh="DialogOverlay",PA=w.forwardRef((e,t)=>{const n=EA(hh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Dr(hh,e.__scopeDialog);return s.modal?c.jsx(Li,{present:r||s.open,children:c.jsx(Oee,{...i,ref:t})}):null});PA.displayName=hh;var Oee=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Dr(hh,n);return c.jsx(gb,{as:va,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(me.div,{"data-state":Gb(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),_a="DialogContent",CA=w.forwardRef((e,t)=>{const n=EA(_a,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Dr(_a,e.__scopeDialog);return c.jsx(Li,{present:r||s.open,children:s.modal?c.jsx(Aee,{...i,ref:t}):c.jsx(Iee,{...i,ref:t})})});CA.displayName=_a;var Aee=w.forwardRef((e,t)=>{const n=Dr(_a,e.__scopeDialog),r=w.useRef(null),i=$e(t,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return JN(s)},[]),c.jsx(RA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,s=>s.preventDefault())})}),Iee=w.forwardRef((e,t)=>{const n=Dr(_a,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return c.jsx(RA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),RA=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Dr(_a,n),l=w.useRef(null),u=$e(t,l);return KN(),c.jsxs(c.Fragment,{children:[c.jsx(pb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx($u,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Gb(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Dee,{titleId:o.titleId}),c.jsx($ee,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Kb="DialogTitle",NA=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Dr(Kb,n);return c.jsx(me.h2,{id:i.titleId,...r,ref:t})});NA.displayName=Kb;var TA="DialogDescription",OA=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Dr(TA,n);return c.jsx(me.p,{id:i.descriptionId,...r,ref:t})});OA.displayName=TA;var AA="DialogClose",IA=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Dr(AA,n);return c.jsx(me.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>i.onOpenChange(!1))})});IA.displayName=AA;function Gb(e){return e?"open":"closed"}var FA="DialogTitleWarning",[Fee,DA]=dD(FA,{contentName:_a,titleName:Kb,docsSlug:"dialog"}),Dee=({titleId:e})=>{const t=DA(FA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Lee="DialogDescriptionWarning",$ee=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DA(Lee).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Mee=SA,Uee=jA,zee=kA,Hee=PA,Bee=CA,Wee=NA,Vee=OA,LA=IA,$A="AlertDialog",[qee,Gte]=Di($A,[wA]),zi=wA(),MA=e=>{const{__scopeAlertDialog:t,...n}=e,r=zi(t);return c.jsx(Mee,{...r,...n,modal:!0})};MA.displayName=$A;var Qee="AlertDialogTrigger",UA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zi(n);return c.jsx(Uee,{...i,...r,ref:t})});UA.displayName=Qee;var Kee="AlertDialogPortal",zA=e=>{const{__scopeAlertDialog:t,...n}=e,r=zi(t);return c.jsx(zee,{...r,...n})};zA.displayName=Kee;var Gee="AlertDialogOverlay",HA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zi(n);return c.jsx(Hee,{...i,...r,ref:t})});HA.displayName=Gee;var $o="AlertDialogContent",[Yee,Jee]=qee($o),BA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=zi(n),a=w.useRef(null),o=$e(t,a),l=w.useRef(null);return c.jsx(Fee,{contentName:$o,titleName:WA,docsSlug:"alert-dialog",children:c.jsx(Yee,{scope:n,cancelRef:l,children:c.jsxs(Bee,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:ce(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(gx,{children:r}),c.jsx(Zee,{contentRef:a})]})})})});BA.displayName=$o;var WA="AlertDialogTitle",VA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zi(n);return c.jsx(Wee,{...i,...r,ref:t})});VA.displayName=WA;var qA="AlertDialogDescription",QA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zi(n);return c.jsx(Vee,{...i,...r,ref:t})});QA.displayName=qA;var Xee="AlertDialogAction",KA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=zi(n);return c.jsx(LA,{...i,...r,ref:t})});KA.displayName=Xee;var GA="AlertDialogCancel",YA=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Jee(GA,n),s=zi(n),a=$e(t,i);return c.jsx(LA,{...s,...r,ref:a})});YA.displayName=GA;var Zee=({contentRef:e})=>{const t=`\`${$o}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$o}\` by passing a \`${qA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$o}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ete=MA,tte=UA,nte=zA,JA=HA,XA=BA,ZA=KA,e2=YA,t2=VA,n2=QA;const r2=ete,i2=tte,rte=nte,s2=w.forwardRef(({className:e,...t},n)=>c.jsx(JA,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));s2.displayName=JA.displayName;const Yb=w.forwardRef(({className:e,...t},n)=>c.jsxs(rte,{children:[c.jsx(s2,{}),c.jsx(XA,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yb.displayName=XA.displayName;const Jb=({className:e,...t})=>c.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jb.displayName="AlertDialogHeader";const Xb=({className:e,...t})=>c.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xb.displayName="AlertDialogFooter";const Zb=w.forwardRef(({className:e,...t},n)=>c.jsx(t2,{ref:n,className:ue("text-lg font-semibold",e),...t}));Zb.displayName=t2.displayName;const e0=w.forwardRef(({className:e,...t},n)=>c.jsx(n2,{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));e0.displayName=n2.displayName;const t0=w.forwardRef(({className:e,...t},n)=>c.jsx(ZA,{ref:n,className:ue(Yx(),e),...t}));t0.displayName=ZA.displayName;const n0=w.forwardRef(({className:e,...t},n)=>c.jsx(e2,{ref:n,className:ue(Yx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));n0.displayName=e2.displayName;const ite=()=>{const{user:e,signOut:t}=yt(),{userProfile:n}=Gx(),{currentWorkspace:r}=$i(),i=Ta(),{toast:s}=un(),[a,o]=w.useState(!1),l=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),c.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center",children:[c.jsx(ff,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),c.jsx(Qn,{children:"Informations générales sur votre compte"})]}),c.jsx(Le,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),c.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),c.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),c.jsx("div",{className:"mt-1",children:c.jsx(at,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),c.jsx("div",{className:"mt-1",children:c.jsx(at,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center",children:[c.jsx(JD,{className:"mr-2 h-5 w-5"}),"Workspace"]}),c.jsx(Qn,{children:"Informations sur votre espace de travail"})]}),c.jsx(Le,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),c.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),c.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),i.isSupraAdmin&&c.jsxs(De,{className:"border-primary/20",children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center text-primary",children:[c.jsx(ya,{className:"mr-2 h-5 w-5"}),"Administration"]}),c.jsx(Qn,{children:"Outils d'administration (Supra Admin uniquement)"})]}),c.jsx(Le,{className:"space-y-4",children:c.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:c.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[c.jsx(ZD,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center",children:[c.jsx(aL,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),c.jsx(Qn,{children:"Gérez votre session et vos données"})]}),c.jsx(Le,{className:"space-y-4",children:c.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:c.jsxs(r2,{open:a,onOpenChange:o,children:[c.jsx(i2,{asChild:!0,children:c.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",children:[c.jsx(SP,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),c.jsxs(Yb,{children:[c.jsxs(Jb,{children:[c.jsx(Zb,{children:"Confirmer la déconnexion"}),c.jsx(e0,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),c.jsxs(Xb,{children:[c.jsx(n0,{children:"Annuler"}),c.jsx(t0,{onClick:l,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&c.jsx(De,{className:"border-orange-200 bg-orange-50",children:c.jsx(Le,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Vc,{className:"h-5 w-5 text-orange-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),c.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function ste(){const{user:e}=yt(),[t,n]=w.useState({}),[r,i]=w.useState(!1),s=async()=>{i(!0);try{const{data:{session:a},error:o}=await X.auth.getSession();n(l=>{var u,d;return{...l,session:{exists:!!a,userId:(u=a==null?void 0:a.user)==null?void 0:u.id,email:(d=a==null?void 0:a.user)==null?void 0:d.email,accessToken:a!=null&&a.access_token?"Present":"Missing",error:o==null?void 0:o.message}}})}catch(a){n(o=>({...o,session:{error:a instanceof Error?a.message:String(a)}}))}i(!1)};return c.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsx(qe,{children:"Auth Context Info"})}),c.jsxs(Le,{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsx(qe,{children:"Session Test"})}),c.jsxs(Le,{className:"space-y-4",children:[c.jsx(Z,{onClick:s,disabled:r,children:"Test Session"}),t.session&&c.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(t.session,null,2)})]})]}),c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsx(qe,{children:"All Debug Info"})}),c.jsx(Le,{children:c.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(t,null,2)})})]})]})]})}const Zu=w.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:ue("w-full caption-bottom text-sm",e),...t})}));Zu.displayName="Table";const ed=w.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:ue("[&_tr]:border-b",e),...t}));ed.displayName="TableHeader";const td=w.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:ue("[&_tr:last-child]:border-0",e),...t}));td.displayName="TableBody";const ate=w.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ate.displayName="TableFooter";const Jn=w.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Jn.displayName="TableRow";const it=w.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));it.displayName="TableHead";const Be=w.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Be.displayName="TableCell";const ote=w.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));ote.displayName="TableCaption";function Nu({className:e,...t}){return c.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",e),...t})}async function bf(e){const{data:t,error:n}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function lte(e,t=1,n=25){const{data:r,error:i}=await X.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function a2(e,t){const{data:n,error:r}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function cte(e,t,n){const{data:r,error:i}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function ute(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function dte(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function fte(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function hte(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function pte(e,t,n){const{data:r,error:i}=await X.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const mte=()=>{const[e,t]=w.useState("paid"),[n,r]=w.useState([]),[i,s]=w.useState(!0),[a,o]=w.useState(null),[l,u]=w.useState(null),{toast:d}=un();w.useEffect(()=>{(async()=>{try{s(!0);const m=await bf(e);r(m)}catch(m){console.error(m)}finally{s(!1)}})()},[e]);const f=m=>m==="premium"?"default":m==="standard"?"secondary":"outline",h=async(m,g)=>{try{await a2(m,g),d({title:"Plan mis à jour",description:`Nouveau plan: ${g}`});const b=await bf(e);r(b),o(null)}catch(b){console.error(b),d({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(m,g)=>{if(confirm(`Supprimer l'entreprise "${g}" ?`)){u(m);try{await ute(m),d({title:"Entreprise supprimée",description:g});const b=await bf(e);r(b)}catch(b){console.error(b),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(Wc,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(Nr,{value:e,onValueChange:m=>t(m),children:[c.jsx(dr,{className:"w-40",children:c.jsx(Tr,{placeholder:"Filtre"})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"paid",children:"Payantes"}),c.jsx(ut,{value:"freemium",children:"Freemium"}),c.jsx(ut,{value:"all",children:"Toutes"})]})]})})]})}),c.jsx(Le,{children:i?c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((m,g)=>c.jsx(Nu,{className:"h-12 w-full"},g))}):c.jsxs(Zu,{children:[c.jsx(ed,{children:c.jsxs(Jn,{children:[c.jsx(it,{children:"Entreprise"}),c.jsx(it,{children:"Propriétaire"}),c.jsx(it,{children:"Plan"}),c.jsx(it,{children:"Utilisateurs"}),c.jsx(it,{children:"Créée le"}),c.jsx(it,{children:"Actions"})]})}),c.jsxs(td,{children:[n.map(m=>c.jsxs(Jn,{children:[c.jsx(Be,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wc,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{children:m.name}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",m.id.slice(0,8),"..."]})]})]})}),c.jsx(Be,{children:m.owner_email}),c.jsx(Be,{children:c.jsx(at,{variant:f(m.plan_type),children:m.plan_type})}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(uL,{className:"h-4 w-4 text-muted-foreground"}),m.user_count]})}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(XD,{className:"h-4 w-4 text-muted-foreground"}),new Date(m.created_at).toLocaleDateString("fr-FR")]})}),c.jsx(Be,{children:c.jsx("div",{className:"flex items-center gap-2",children:a===m.id?c.jsxs(c.Fragment,{children:[c.jsxs(Nr,{value:m.plan_type,onValueChange:g=>h(m.id,g),children:[c.jsx(dr,{className:"w-32",children:c.jsx(Tr,{})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"freemium",children:"Freemium"}),c.jsx(ut,{value:"standard",children:"Standard"}),c.jsx(ut,{value:"premium",children:"Premium"})]})]}),c.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o(null),children:"Annuler"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>o(m.id),children:[c.jsx(oL,{className:"h-4 w-4 mr-2"}),"Modifier"]}),c.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>p(m.id,m.name),disabled:l===m.id,children:l===m.id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(Ah,{className:"h-4 w-4"})})]})})})]},m.id)),n.length===0&&c.jsx(Jn,{children:c.jsx(Be,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},gte=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(1),[a]=w.useState(25),[o,l]=w.useState(0),[u,d]=w.useState("all"),[f,h]=w.useState(!0),[p,m]=w.useState(null),[g,b]=w.useState(null),[v,y]=w.useState(null),{toast:x}=un(),{startImpersonation:S}=tR();w.useEffect(()=>{j(),_()},[]),w.useEffect(()=>{_()},[u,i]);const j=async()=>{try{const O=await bf("all");r((O||[]).map(M=>({id:M.id,name:M.name})))}catch(O){console.error("Error fetching workspaces:",O)}},_=async()=>{try{h(!0);const{items:O,total:M}=await lte(u,i,a);t(O),l(M)}catch(O){console.error("Error fetching contacts:",O)}finally{h(!1)}},C=O=>{switch(O){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},N=O=>{switch(O){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},I=O=>{switch(O){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return O}},P=async(O,M)=>{m(`plan-${O.workspace_id}`);try{const R=await a2(O.workspace_id,M);x({title:"Plan du workspace mis à jour",description:`Plan changé vers ${M}. ${(R==null?void 0:R.updatedUsers)??0} utilisateur(s) mis à jour.`}),await _()}catch(R){console.error("Error updating workspace plan:",R),x({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{m(null)}},L=async(O,M)=>{m(`role-${O.user_id}`);try{await cte(O.user_id,O.workspace_id,M),x({title:"Rôle mis à jour",description:`Rôle changé vers ${M}`}),await _()}catch(R){console.error("Error updating user role:",R),x({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{m(null)}},D=async O=>{y(O.user_id);try{if(await S(O.user_id,O.email||"",O.workspace_id,O.company_name||""))x({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${O.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(M){console.error("Error starting impersonation:",M),x({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{y(null)}},$=async(O,M)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${M}" ? Cette action est irréversible et supprimera toutes les données associées.`)){b(O);try{await dte(O),x({title:"Contact supprimé",description:`Le contact "${M}" a été supprimé avec succès.`}),_()}catch(R){console.error("Error deleting contact:",R),x({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{b(null)}}};return f?c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(ff,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),c.jsx(Le,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(Nu,{className:"h-10 w-full"}),[...Array(5)].map((O,M)=>c.jsx(Nu,{className:"h-12 w-full"},M))]})})]}):c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(ff,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",c.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{j(),_()},className:"ml-auto",children:[c.jsx(Ex,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),c.jsxs(Le,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",o," résultats"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(O=>Math.max(1,O-1)),disabled:i===1,children:"Précédent"}),c.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(O=>O+1),disabled:i*a>=o,children:"Suivant"})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs(Nr,{value:u,onValueChange:d,children:[c.jsx(dr,{className:"w-64",children:c.jsx(Tr,{placeholder:"Filtrer par entreprise"})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"all",children:"Toutes les entreprises"}),n.map(O=>c.jsx(ut,{value:O.id,children:O.name},O.id))]})]})}),c.jsxs(Zu,{children:[c.jsx(ed,{children:c.jsxs(Jn,{children:[c.jsx(it,{children:"Contact"}),c.jsx(it,{children:"Email"}),c.jsx(it,{children:"Entreprise"}),c.jsx(it,{children:"Plan"}),c.jsx(it,{children:"Rôle"}),c.jsx(it,{children:"Ajouté le"}),c.jsx(it,{children:"Actions"})]})}),c.jsxs(td,{children:[e.map(O=>c.jsxs(Jn,{children:[c.jsx(Be,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ff,{className:"h-4 w-4 text-muted-foreground"}),O.first_name||O.last_name?`${O.first_name} ${O.last_name}`.trim():"Nom non renseigné"]})}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_P,{className:"h-4 w-4 text-muted-foreground"}),O.email]})}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wc,{className:"h-4 w-4 text-muted-foreground"}),O.company_name]})}),c.jsx(Be,{children:c.jsx(at,{variant:C(O.company_plan||"freemium"),children:O.company_plan})}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ya,{className:"h-4 w-4"}),c.jsx(at,{variant:N(O.role),children:I(O.role)})]})}),c.jsx(Be,{children:new Date(O.created_at).toLocaleDateString("fr-FR")}),c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>D(O),disabled:v===O.user_id||(p==null?void 0:p.includes(O.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===O.user_id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):c.jsx(lL,{className:"h-4 w-4"})}),c.jsxs(Nr,{value:O.company_plan||"freemium",onValueChange:M=>P(O,M),disabled:p===`plan-${O.workspace_id}`,children:[c.jsx(dr,{className:"w-24",children:c.jsx(Tr,{})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"freemium",children:"Freemium"}),c.jsx(ut,{value:"standard",children:"Standard"}),c.jsx(ut,{value:"premium",children:"Premium"})]})]}),c.jsxs(Nr,{value:O.role,onValueChange:M=>L(O,M),disabled:p===`role-${O.user_id}`,children:[c.jsx(dr,{className:"w-32",children:c.jsx(Tr,{})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"admin",children:"Administrateur"}),c.jsx(ut,{value:"gestionnaire",children:"Gestionnaire"}),c.jsx(ut,{value:"lecteur",children:"Lecteur"})]})]}),c.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>$(O.user_id,O.email||""),disabled:g===O.user_id||(p==null?void 0:p.includes(O.user_id)),children:g===O.user_id?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(Ah,{className:"h-4 w-4"})}),(p===`plan-${O.workspace_id}`||p===`role-${O.user_id}`)&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},O.id)),e.length===0&&c.jsx(Jn,{children:c.jsx(Be,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},o2=W.createContext(void 0),vte=({children:e})=>{const[t,n]=W.useState([]),[r,i]=W.useState(!0),s=W.useRef(0),a=W.useCallback(async(l=!1)=>{const u=Date.now();if(!l&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await X.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);W.useEffect(()=>{a(!0)},[a]),W.useEffect(()=>{const l=X.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{a(!0)}).subscribe();return()=>{X.removeChannel(l)}},[a]);const o=W.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return c.jsx(o2.Provider,{value:o,children:e})};function l2(){const e=W.useContext(o2);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const yte=()=>{const[e,t]=w.useState([]),[n,r]=w.useState({}),{toast:i}=un(),{sources:s,refresh:a,loading:o}=l2();w.useEffect(()=>{const p=(s||[]).map(m=>({source:m.source_name,current_tier:m.access_level,standard_count:m.access_level==="standard"?1:0,premium_count:m.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const l=w.useCallback(async(p,m)=>{r(g=>({...g,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${m}`);const{error:g}=await X.from("fe_sources").update({access_level:m}).eq("source_name",p);if(g)throw g;console.log(`✅ Successfully updated source ${p} to ${m}`);try{await X.rpc("refresh_ef_all_for_source",{p_source:p})}catch(b){console.warn("Refresh ef_all failed (tier updated in DB):",b)}r(b=>({...b,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${m}`}),setTimeout(()=>{r(b=>({...b,[p]:{loading:!1,success:!1}}))},3e3)}catch(g){console.error("💥 Error updating source tier:",g),r(b=>({...b,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:g instanceof Error?g.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=o,d=p=>p==="premium"?"default":"secondary",f=p=>p==="premium"?Vc:ya,h=p=>{const m=n[p.source];return m!=null&&m.loading?c.jsxs(c.Fragment,{children:[c.jsx(tl,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):m!=null&&m.success?c.jsxs(c.Fragment,{children:[c.jsx(Rn,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?c.jsxs(c.Fragment,{children:[c.jsx(Vc,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):c.jsxs(c.Fragment,{children:[c.jsx(ya,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(df,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),c.jsx(Le,{children:c.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,m)=>c.jsx(Nu,{className:"h-12 w-full"},m))})})]}):c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(df,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",c.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[c.jsx(Ex,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",c.jsx("br",{}),c.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",c.jsx("br",{}),c.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),c.jsx(Le,{children:c.jsxs(Zu,{children:[c.jsx(ed,{children:c.jsxs(Jn,{children:[c.jsx(it,{children:"Source"}),c.jsx(it,{children:"Niveau actuel"}),c.jsx(it,{children:"Facteurs Standard"}),c.jsx(it,{children:"Facteurs Premium"}),c.jsx(it,{children:"Total"}),c.jsx(it,{children:"Actions"})]})}),c.jsxs(td,{children:[e.map(p=>{const m=f(p.current_tier),g=n[p.source];return c.jsxs(Jn,{children:[c.jsx(Be,{className:"font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(df,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),c.jsx(Be,{children:c.jsxs(at,{variant:d(p.current_tier),children:[c.jsx(m,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),c.jsx(Be,{children:c.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),c.jsx(Be,{children:c.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),c.jsx(Be,{children:c.jsx("span",{className:"font-medium",children:p.total_count})}),c.jsx(Be,{children:c.jsx(Z,{size:"sm",variant:g!=null&&g.success?"default":"outline",onClick:()=>l(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:g==null?void 0:g.loading,children:h(p)})})]},p.source)}),e.length===0&&c.jsx(Jn,{children:c.jsx(Be,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},xte=()=>{const[e,t]=w.useState([]),{sources:n,refresh:r}=l2(),[i,s]=w.useState([]),[a,o]=w.useState(!0),[l,u]=w.useState(""),[d,f]=w.useState(new Set),[h,p]=w.useState({}),{toast:m}=un(),g=x=>x==="premium"?"default":"secondary",b=w.useCallback(async()=>{const{data:x,error:S}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(S)throw S;const j=((x==null?void 0:x.data)||[]).map(_=>({id:_.id,name:_.name,plan_type:_.plan_type}));t(j),!l&&j.length&&u(j[0].id)},[l]),v=w.useCallback(async x=>{if(!x){f(new Set);return}const{data:S,error:j}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",x);if(j)throw j;f(new Set((S||[]).map(_=>_.source_name)))},[]);w.useEffect(()=>{s(n||[])},[n]),w.useEffect(()=>{(async()=>{try{o(!0),await b()}catch(x){console.error(x),m({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{o(!1)}})()},[b,m]),w.useEffect(()=>{(async()=>{try{l&&(o(!0),await v(l))}catch(x){console.error(x)}finally{o(!1)}})()},[l,v]),w.useEffect(()=>{if(!l)return;const x=X.channel(`fsw-${l}`).on("postgres_changes",{event:"*",schema:"public",table:"fe_source_workspace_assignments",filter:`workspace_id=eq.${l}`},()=>{v(l).catch(()=>{})}).subscribe();return()=>{X.removeChannel(x)}},[l,v]);const y=w.useCallback(async(x,S)=>{if(l){p(j=>({...j,[x]:!0}));try{S?(await fte(x,l),f(j=>new Set(j).add(x))):(await hte(x,l),f(j=>{const _=new Set(j);return _.delete(x),_}))}catch(j){console.error(j),m({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(j=>({...j,[x]:!1}))}}},[l,m]);return a?c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(Wc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),c.jsx(Le,{children:c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((x,S)=>c.jsx(Nu,{className:"h-12 w-full"},S))})})]}):c.jsxs(De,{children:[c.jsx(Ve,{children:c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(Wc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",c.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>l&&v(l))},className:"ml-auto",children:[c.jsx(Ex,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),c.jsx(Z,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(l)try{const x=i.filter(I=>I.access_level==="premium").map(I=>I.source_name),S=i.filter(I=>I.access_level==="standard").map(I=>I.source_name),j=x.filter(I=>d.has(I)),_=x.filter(I=>!d.has(I)),C=[...S,...j],N=_;await pte(l,C,N),m({title:"Synchronisation réussie",description:`Assignés: ${C.length} • Désassignés: ${N.length}`}),await v(l)}catch(x){console.error(x),m({title:"Erreur",description:(x==null?void 0:x.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),c.jsxs(Le,{className:"space-y-6",children:[c.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs(Nr,{value:l,onValueChange:u,children:[c.jsx(dr,{className:"w-96",children:c.jsx(Tr,{placeholder:"Sélectionner un workspace"})}),c.jsx(fr,{children:e.map(x=>c.jsx(ut,{value:x.id,children:x.name},x.id))})]})})}),c.jsxs(Zu,{children:[c.jsx(ed,{children:c.jsxs(Jn,{children:[c.jsx(it,{children:"Source"}),c.jsx(it,{children:"Access level"}),c.jsx(it,{children:"Activer"}),c.jsx(it,{children:"Désactiver"})]})}),c.jsxs(td,{children:[i.map(x=>{const S=x.access_level==="standard"||d.has(x.source_name),j=!!h[x.source_name],_=x.access_level==="premium";return c.jsxs(Jn,{children:[c.jsx(Be,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(df,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:x.source_name})]})}),c.jsx(Be,{children:c.jsx(at,{variant:g(x.access_level),children:x.access_level})}),c.jsx(Be,{children:j?c.jsx(tl,{className:"h-4 w-4 animate-spin"}):c.jsx(Ii,{checked:S,onCheckedChange:()=>_&&y(x.source_name,!0),disabled:!l||!_})}),c.jsx(Be,{children:j?c.jsx(tl,{className:"h-4 w-4 animate-spin"}):c.jsx(Ii,{checked:!S,onCheckedChange:()=>_&&y(x.source_name,!1),disabled:!l||!_})})]},x.source_name)}),i.length===0&&c.jsx(Jn,{children:c.jsx(Be,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},bte=()=>{const[e,t]=W.useState("access");return c.jsxs(Iv,{value:e,onValueChange:n=>t(n),className:"w-full",children:[c.jsxs(nh,{children:[c.jsx(bi,{value:"access",children:"Accès aux sources"}),c.jsx(bi,{value:"assignments",children:"Assignations"})]}),c.jsx("div",{className:"mt-4"}),e==="access"&&c.jsx(wi,{value:"access",asChild:!0,children:c.jsx("div",{children:c.jsx(yte,{})})}),e==="assignments"&&c.jsx(wi,{value:"assignments",asChild:!0,children:c.jsx("div",{children:c.jsx(xte,{})})})]})},wte=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),{toast:l}=un(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let m="";for(let g=0;g<16;g++)m+=p.charAt(Math.floor(Math.random()*p.length));r(m)},d=async h=>{h.preventDefault(),o(!0);try{const{data:{session:p}}=await X.auth.getSession();if(!p){l({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const m=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),g=await m.json();m.ok&&g.success?(l({title:"Succès",description:g.message}),t(""),r("")):l({title:"Erreur",description:g.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),l({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{o(!1)}},f=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return c.jsxs(De,{className:"w-full max-w-md",children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(cL,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),c.jsx(Qn,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),c.jsx(Le,{children:c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"email",children:"Email"}),c.jsx(Mt,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"password",children:"Mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(Mt,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),c.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?c.jsx(eL,{className:"h-4 w-4"}):c.jsx(tL,{className:"h-4 w-4"})})]}),c.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&c.jsx(Ti,{children:c.jsxs(Oi,{children:["Force du mot de passe: ",f(n)?"✅ Fort":"❌ Faible",!f(n)&&c.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),c.jsx(Z,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},Ste=()=>{const[e,t]=w.useState(!1),{toast:n}=un(),r=async()=>{t(!0);try{const{data:{session:i}}=await X.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return c.jsxs(De,{className:"w-full max-w-md",children:[c.jsxs(Ve,{children:[c.jsxs(qe,{className:"flex items-center gap-2",children:[c.jsx(Ah,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),c.jsx(Qn,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),c.jsxs(Le,{children:[c.jsxs(Ti,{className:"mb-4",children:[c.jsx(qf,{className:"h-4 w-4"}),c.jsx(Oi,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),c.jsxs(r2,{children:[c.jsx(i2,{asChild:!0,children:c.jsx(Z,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),c.jsxs(Yb,{children:[c.jsxs(Jb,{children:[c.jsx(Zb,{children:"Confirmer le nettoyage"}),c.jsx(e0,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),c.jsxs(Xb,{children:[c.jsx(n0,{children:"Annuler"}),c.jsx(t0,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},_te=()=>{const{toast:e}=un(),{isSupraAdmin:t}=sp(),[n,r]=W.useState(null),[i,s]=W.useState(!1),[a,o]=W.useState(0),[l,u]=W.useState(null),[d,f]=W.useState([]),[h,p]=W.useState(!1),[m,g]=W.useState([]),[b,v]=W.useState(!1),[y,x]=W.useState("idle"),[S,j]=W.useState(null),_=()=>{const $=["ID","Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],O=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],M=[$.join(","),O.join(",")].join(`
`),R=new Blob([M],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(R),E=document.createElement("a");E.href=z,E.download="template_import_emission_factors_bilingue.csv",E.click(),URL.revokeObjectURL(z)},C=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),o(0);const $=`imports/${Date.now()}_${n.name}`,{error:O}=await X.storage.from("imports").upload($,n,{upsert:!0});if(O)throw O;u($),o(100),p(!1),f([]),e({title:"Upload terminé",description:$})}catch($){e({variant:"destructive",title:"Erreur upload",description:$.message||String($)})}finally{s(!1)}},N=async()=>{if(!l){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:$,error:O}=await X.functions.invoke("import-csv",{body:{file_path:l,language:"fr",dry_run:!0}});if(O)throw O;const M=(($==null?void 0:$.sources)||[]).map(F=>({name:F.name,count:F.count,access_level:F.access_level||"standard",is_global:typeof F.is_global=="boolean"?F.is_global:!0}));f(M),p(!0),e({title:"Analyse terminée",description:`${($==null?void 0:$.processed)||0} lignes valides; ${M.length} sources détectées`});const R=Number($==null?void 0:$.processed)||M.reduce((F,H)=>F+(Number(H.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${M.length} — Lignes valides: ${R}`))return;const E={};M.forEach(F=>{E[F.name]={access_level:F.access_level,is_global:F.is_global}}),x("importing"),j("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:A,error:k}=await X.functions.invoke("import-csv",{body:{file_path:l,language:"fr",dry_run:!1,mapping:E}});if(k)throw k;e({title:"Import lancé",description:`Job: ${(A==null?void 0:A.import_id)||"en file"}`}),x("success"),j("Import terminé. Indexation Algolia effectuée par source."),await P()}catch($){e({variant:"destructive",title:"Erreur import",description:$.message||String($)}),x("error"),j($!=null&&$.message?String($.message):"Erreur lors de l'import.")}},I=async()=>{if(!l){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const $={};d.forEach(R=>{$[R.name]={access_level:R.access_level,is_global:R.is_global}}),x("importing"),j("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:O,error:M}=await X.functions.invoke("import-csv",{body:{file_path:l,language:"fr",dry_run:!1,mapping:$}});if(M)throw M;e({title:"Import lancé",description:`Job: ${(O==null?void 0:O.import_id)||"en file"}`}),x("success"),j("Import terminé. Indexation Algolia effectuée par source."),await P()}catch($){e({variant:"destructive",title:"Erreur import",description:$.message||String($)}),x("error"),j($!=null&&$.message?String($.message):"Erreur lors de l'import.")}},P=W.useCallback(async()=>{try{v(!0);const{data:$,error:O}=await X.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(O)throw O;const M=($||[]).map(R=>({id:R.id,status:R.status,processed:R.records_processed??null,failed:R.records_failed??null,created_at:R.created_at}));g(M)}catch{}finally{v(!1)}},[]);if(W.useEffect(()=>{P();const $=setInterval(P,5e3);return()=>clearInterval($)},[P]),!t)return null;const L=$=>f(O=>O.map(M=>({...M,access_level:$}))),D=$=>f(O=>O.map(M=>({...M,is_global:$})));return c.jsxs(De,{children:[c.jsxs(Ve,{children:[c.jsx(qe,{children:"Import de la base de facteurs (FR/EN)"}),c.jsx(Qn,{children:"L\\'indexation Algolia est automatique via Webhook après import. • Étape 1: Uploader le fichier vers le Storage. • Étape 2: Analyser pour détecter les sources et préparer le mapping (Standard/Premium, Global oui/non). • Étape 3: Importer. La synchronisation Algolia par source s\\'exécute automatiquement."})]}),c.jsxs(Le,{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:c.jsx(Z,{variant:"secondary",onClick:_,children:"Télécharger le template CSV"})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tt,{children:"Fichier CSV"}),c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),c.jsx(Gs,{children:"Sélectionnez le CSV complet exporté depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportées."})]})})]}),c.jsx(Mt,{type:"file",accept:".csv,text/csv",onChange:$=>{var O;return r(((O=$.target.files)==null?void 0:O[0])||null)}}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx(Z,{onClick:C,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),c.jsx(Gs,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),l&&c.jsx("span",{className:"text-xs text-muted-foreground break-all",children:l})]})]}),c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx(Z,{onClick:N,disabled:!l,children:"Analyser puis Importer"})}),c.jsx(Gs,{children:"Analyse le CSV et propose immédiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),h&&d.length>0&&c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx(Z,{variant:"secondary",onClick:I,children:"Importer avec ce mapping"})}),c.jsx(Gs,{children:"Utilise le mapping affiché ci-dessous sans relancer l'analyse."})]})})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tt,{children:"Sources détectées (après analyse)"}),c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),c.jsx(Gs,{children:"Choisissez l\\'accès par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),d.length===0?c.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),c.jsxs(Nr,{onValueChange:$=>L($),children:[c.jsx(dr,{className:"w-40",children:c.jsx(Tr,{placeholder:"Accès"})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"standard",children:"Standard"}),c.jsx(ut,{value:"premium",children:"Premium"})]})]}),c.jsx(Z,{variant:"outline",size:"sm",onClick:()=>D(!0),children:"Global: Oui"}),c.jsx(Z,{variant:"outline",size:"sm",onClick:()=>D(!1),children:"Global: Non"})]}),c.jsx("div",{className:"overflow-auto border rounded-md",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted",children:[c.jsx("th",{className:"p-2 text-left",children:"Source"}),c.jsx("th",{className:"p-2 text-right",children:"Lignes"}),c.jsx("th",{className:"p-2 text-left",children:"Accès"}),c.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),c.jsx("tbody",{children:d.map(($,O)=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2",children:$.name}),c.jsx("td",{className:"p-2 text-right",children:$.count}),c.jsx("td",{className:"p-2",children:c.jsxs(Nr,{value:$.access_level,onValueChange:M=>f(R=>R.map((z,E)=>E===O?{...z,access_level:M}:z)),children:[c.jsx(dr,{className:"w-36",children:c.jsx(Tr,{})}),c.jsxs(fr,{children:[c.jsx(ut,{value:"standard",children:"Standard"}),c.jsx(ut,{value:"premium",children:"Premium"})]})]})}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:$.is_global,onChange:M=>f(R=>R.map((z,E)=>E===O?{...z,is_global:M.target.checked}:z))}),c.jsx("span",{children:"Global"})]})})]},$.name))})]})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tt,{children:"Historique des imports"}),c.jsx(Ks,{children:c.jsxs(Ha,{children:[c.jsx(Ba,{asChild:!0,children:c.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),c.jsx(Gs,{children:"Liste des imports récents et leur statut."})]})})]}),c.jsx("div",{className:"overflow-auto border rounded-md",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted",children:[c.jsx("th",{className:"p-2 text-left",children:"Date"}),c.jsx("th",{className:"p-2 text-left",children:"Statut"}),c.jsx("th",{className:"p-2 text-right",children:"Traitées"}),c.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),c.jsx("tbody",{children:b?c.jsx("tr",{children:c.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):m.length===0?c.jsx("tr",{children:c.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):m.map($=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date($.created_at).toLocaleString()}),c.jsx("td",{className:"p-2",children:$.status??"-"}),c.jsx("td",{className:"p-2 text-right",children:$.processed??"-"}),c.jsx("td",{className:"p-2 text-right",children:$.failed??"-"})]},$.id))})]})})]}),y!=="idle"&&c.jsxs("div",{className:"space-y-2 p-4 border rounded-md",children:[y==="importing"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:S}),c.jsx("div",{className:"w-full h-2 bg-muted rounded-md overflow-hidden",children:c.jsx("div",{className:"h-2 w-2/3 bg-primary animate-pulse"})})]}),y==="success"&&c.jsx("div",{className:"text-sm text-green-700",children:S}),y==="error"&&c.jsx("div",{className:"text-sm text-red-700",children:S})]})]})]})},jte=()=>{const{user:e}=yt(),{isSupraAdmin:t,loading:n}=sp();un();const[r,i]=w.useState(!1);return w.useEffect(()=>{i(!1)},[e,t]),n?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs(Ti,{className:"max-w-2xl mx-auto",children:[c.jsx(qf,{className:"h-4 w-4"}),c.jsx(Oi,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(da,{}),c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[c.jsx(ya,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),c.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),c.jsxs("div",{className:"mt-4",children:[c.jsx(at,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),c.jsx(at,{variant:"outline",children:e.email})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),c.jsx(mte,{})]}),c.jsx(gte,{}),c.jsx(vte,{children:c.jsx(bte,{})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),c.jsx(_te,{})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(wte,{}),c.jsx(Ste,{})]})]})]}),c.jsxs(De,{className:"mt-6",children:[c.jsx(Ve,{children:c.jsx(qe,{children:"Informations de debug"})}),c.jsx(Le,{children:c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"User ID:"})," ",e.id]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",e.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},Ete=()=>{const e=Ca();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},kte=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(null),{toast:l}=un(),u=Vh(),d=async f=>{f.preventDefault(),s(!0),o(null);try{const{error:h}=await X.auth.signInWithPassword({email:e,password:n});h?(o(h.message),l({variant:"destructive",title:"Erreur de connexion",description:h.message})):(l({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{o("Une erreur inattendue s'est produite"),l({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return c.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"mb-6",children:c.jsxs(bt,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[c.jsx(wx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),c.jsxs(De,{children:[c.jsxs(Ve,{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx(ya,{className:"text-white w-6 h-6"})}),c.jsx(qe,{className:"text-2xl",children:"Connexion Développeur"}),c.jsx(Qn,{children:"Accès administrateur pour le développement et la maintenance"})]}),c.jsxs(Le,{children:[c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(kr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),c.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"email",children:"Email administrateur"}),c.jsx(Mt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"password",children:"Mot de passe"}),c.jsx(Mt,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),c.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&c.jsxs(Ti,{variant:"destructive",className:"mt-4",children:[c.jsx(kr,{className:"h-4 w-4"}),c.jsx(Oi,{children:a})]}),c.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:c.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},Pte=new vM,ao=({children:e})=>{const{user:t,loading:n}=yt();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Chargement..."})]})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(kC,{to:"/login",replace:!0})},dg=({children:e})=>{const{user:t,loading:n}=yt();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:"Chargement..."})]})}):t?c.jsx(kC,{to:"/search",replace:!0}):c.jsx(c.Fragment,{children:e})},Cte=()=>c.jsx(xM,{client:Pte,children:c.jsx(F5,{children:c.jsx(D5,{children:c.jsx(L5,{children:c.jsx($5,{children:c.jsxs(Ks,{children:[c.jsx(QL,{}),c.jsx(S$,{}),c.jsx(p3,{children:c.jsxs("div",{className:"min-h-screen",children:[c.jsx(z5,{}),c.jsxs(o3,{children:[c.jsx(ir,{path:"/",element:c.jsx(oz,{})}),c.jsx(ir,{path:"/login",element:c.jsx(dg,{children:c.jsx(dz,{})})}),c.jsx(ir,{path:"/signup",element:c.jsx(dg,{children:c.jsx(hz,{})})}),c.jsx(ir,{path:"/dev",element:c.jsx(dg,{children:c.jsx(kte,{})})}),c.jsx(ir,{path:"/search",element:c.jsx(ao,{children:c.jsx(bee,{})})}),c.jsx(ir,{path:"/favoris",element:c.jsx(ao,{children:c.jsx(Cee,{})})}),c.jsx(ir,{path:"/import",element:c.jsx(ao,{children:c.jsx(Ree,{})})}),c.jsx(ir,{path:"/settings",element:c.jsx(ao,{children:c.jsx(ite,{})})}),c.jsx(ir,{path:"/debug",element:c.jsx(ao,{children:c.jsx(ste,{})})}),c.jsx(ir,{path:"/admin",element:c.jsx(ao,{children:c.jsx(jte,{})})}),c.jsx(ir,{path:"*",element:c.jsx(Ete,{})})]})]})})]})})})})})});try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}Bk(document.getElementById("root")).render(c.jsx(Cte,{}));
