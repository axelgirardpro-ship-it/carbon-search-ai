var $2=Object.defineProperty;var L0=e=>{throw TypeError(e)};var M2=(e,t,n)=>t in e?$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>M2(e,typeof t!="symbol"?t+"":t,n),zp=(e,t,n)=>t.has(e)||L0("Cannot "+n);var W=(e,t,n)=>(zp(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?L0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ke=(e,t,n,r)=>(zp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zt=(e,t,n)=>(zp(e,t,"access private method"),n);var xd=(e,t,n,r)=>({set _(i){ke(e,t,i,n)},get _(){return W(e,t,r)}});function U2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ra(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Uj={exports:{}},Eh={},zj={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),H2=Symbol.for("react.portal"),B2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),Q2=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),G2=Symbol.for("react.suspense"),Y2=Symbol.for("react.memo"),J2=Symbol.for("react.lazy"),$0=Symbol.iterator;function X2(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var Hj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bj=Object.assign,qj={};function yl(e,t,n){this.props=e,this.context=t,this.refs=qj,this.updater=n||Hj}yl.prototype.isReactComponent={};yl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wj(){}Wj.prototype=yl.prototype;function Ay(e,t,n){this.props=e,this.context=t,this.refs=qj,this.updater=n||Hj}var Oy=Ay.prototype=new Wj;Oy.constructor=Ay;Bj(Oy,yl.prototype);Oy.isPureReactComponent=!0;var M0=Array.isArray,Vj=Object.prototype.hasOwnProperty,Iy={current:null},Qj={key:!0,ref:!0,__self:!0,__source:!0};function Kj(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Vj.call(t,r)&&!Qj.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:zu,type:e,key:s,ref:a,props:i,_owner:Iy.current}}function Z2(e,t){return{$$typeof:zu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===zu}function eI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U0=/\/+/g;function Hp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eI(""+e.key):t.toString(36)}function of(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case zu:case H2:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Hp(a,0):r,M0(i)?(n="",e!=null&&(n=e.replace(U0,"$&/")+"/"),of(i,t,n,"",function(u){return u})):i!=null&&(Fy(i)&&(i=Z2(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(U0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",M0(e))for(var o=0;o<e.length;o++){s=e[o];var c=r+Hp(s,o);a+=of(s,t,n,c,i)}else if(c=X2(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=r+Hp(s,o++),a+=of(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bd(e,t,n){if(e==null)return e;var r=[],i=0;return of(e,r,"","",function(s){return t.call(n,s,i++)}),r}function tI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},lf={transition:null},nI={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:lf,ReactCurrentOwner:Iy};function Gj(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:bd,forEach:function(e,t,n){bd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bd(e,function(){t++}),t},toArray:function(e){return bd(e,function(t){return t})||[]},only:function(e){if(!Fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=yl;Ie.Fragment=B2;Ie.Profiler=W2;Ie.PureComponent=Ay;Ie.StrictMode=q2;Ie.Suspense=G2;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;Ie.act=Gj;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bj({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Iy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Vj.call(t,c)&&!Qj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:zu,type:e.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(e){return e={$$typeof:Q2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V2,_context:e},e.Consumer=e};Ie.createElement=Kj;Ie.createFactory=function(e){var t=Kj.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:K2,render:e}};Ie.isValidElement=Fy;Ie.lazy=function(e){return{$$typeof:J2,_payload:{_status:-1,_result:e},_init:tI}};Ie.memo=function(e,t){return{$$typeof:Y2,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=lf.transition;lf.transition={};try{e()}finally{lf.transition=t}};Ie.unstable_act=Gj;Ie.useCallback=function(e,t){return En.current.useCallback(e,t)};Ie.useContext=function(e){return En.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return En.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return En.current.useEffect(e,t)};Ie.useId=function(){return En.current.useId()};Ie.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return En.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};Ie.useRef=function(e){return En.current.useRef(e)};Ie.useState=function(e){return En.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return En.current.useTransition()};Ie.version="18.3.1";zj.exports=Ie;var w=zj.exports;const q=Ra(w),Dy=U2({__proto__:null,default:q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=w,iI=Symbol.for("react.element"),sI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,oI=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lI={key:!0,ref:!0,__self:!0,__source:!0};function Yj(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)aI.call(t,r)&&!lI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iI,type:e,key:s,ref:a,props:i,_owner:oI.current}}Eh.Fragment=sI;Eh.jsx=Yj;Eh.jsxs=Yj;Uj.exports=Eh;var l=Uj.exports,Jj={exports:{}},rr={},Xj={exports:{}},Zj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,L){var C=E.length;E.push(L);e:for(;0<C;){var $=C-1>>>1,H=E[$];if(0<i(H,L))E[$]=L,E[C]=H,C=$;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],C=E.pop();if(C!==L){E[0]=C;e:for(var $=0,H=E.length,T=H>>>1;$<T;){var te=2*($+1)-1,ie=E[te],X=te+1,ee=E[X];if(0>i(ie,C))X<H&&0>i(ee,ie)?(E[$]=ee,E[X]=C,$=X):(E[$]=ie,E[te]=C,$=te);else if(X<H&&0>i(ee,C))E[$]=ee,E[X]=C,$=X;else break e}}return L}function i(E,L){var C=E.sortIndex-L.sortIndex;return C!==0?C:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=E)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function S(E){if(m=!1,b(E),!g)if(n(c)!==null)g=!0,A(_);else{var L=n(u);L!==null&&D(S,L.startTime-E)}}function _(E,L){g=!1,m&&(m=!1,v(R),R=-1),p=!0;var C=h;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||E&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var H=$(f.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var T=!0;else{var te=n(u);te!==null&&D(S,te.startTime-L),T=!1}return T}finally{f=null,h=C,p=!1}}var j=!1,k=null,R=-1,F=5,P=-1;function I(){return!(e.unstable_now()-P<F)}function O(){if(k!==null){var E=e.unstable_now();P=E;var L=!0;try{L=k(!0,E)}finally{L?z():(j=!1,k=null)}}else j=!1}var z;if(typeof y=="function")z=function(){y(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=O,z=function(){M.postMessage(null)}}else z=function(){x(O,0)};function A(E){k=E,j||(j=!0,z())}function D(E,L){R=x(function(){E(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var C=h;h=L;try{return E()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var C=h;h=E;try{return L()}finally{h=C}},e.unstable_scheduleCallback=function(E,L,C){var $=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?$+C:$):C=$,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=C+H,E={id:d++,callback:L,priorityLevel:E,startTime:C,expirationTime:H,sortIndex:-1},C>$?(E.sortIndex=C,t(u,E),n(c)===null&&E===n(u)&&(m?(v(R),R=-1):m=!0,D(S,C-$))):(E.sortIndex=H,t(c,E),g||p||(g=!0,A(_))),E},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(E){var L=h;return function(){var C=h;h=L;try{return E.apply(this,arguments)}finally{h=C}}}})(Zj);Xj.exports=Zj;var cI=Xj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI=w,nr=cI;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eE=new Set,Ac={};function Ta(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(Ac[e]=t,e=0;e<t.length;e++)eE.add(t[e])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z0={},H0={};function fI(e){return Eg.call(H0,e)?!0:Eg.call(z0,e)?!1:dI.test(e)?H0[e]=!0:(z0[e]=!0,!1)}function hI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pI(e,t,n,r){if(t===null||typeof t>"u"||hI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function $y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ly,$y);Kt[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ly,$y);Kt[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ly,$y);Kt[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function My(e,t,n,r){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pI(t,n,i,r)&&(n=null),r||i===null?fI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mi=uI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),fo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),rE=Symbol.for("react.offscreen"),B0=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,Bp;function nc(e){if(Bp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bp=t&&t[1]||""}return`
`+Bp+e}var qp=!1;function Wp(e,t){if(!e||qp)return"";qp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{qp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nc(e):""}function mI(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=Wp(e.type,!1),e;case 11:return e=Wp(e.type.render,!1),e;case 1:return e=Wp(e.type,!0),e;default:return""}}function Rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case fo:return"Portal";case Cg:return"Profiler";case Uy:return"StrictMode";case Pg:return"Suspense";case kg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nE:return(e.displayName||"Context")+".Consumer";case tE:return(e._context.displayName||"Context")+".Provider";case zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hy:return t=e.displayName||null,t!==null?t:Rg(e.type)||"Memo";case rs:t=e._payload,e=e._init;try{return Rg(e(t))}catch{}}return null}function gI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(t);case 8:return t===Uy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vI(e){var t=iE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sd(e){e._valueTracker||(e._valueTracker=vI(e))}function sE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Nf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tg(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ks(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aE(e,t){t=t.checked,t!=null&&My(e,"checked",t,!1)}function Ng(e,t){aE(e,t);var n=ks(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ag(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ag(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ag(e,t,n){(t!=="number"||Nf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rc=Array.isArray;function Po(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ks(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Og(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function V0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(rc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ks(n)}}function oE(e,t){var n=ks(t.value),r=ks(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Q0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _d,cE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yI=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){yI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function uE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function dE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xI=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(e,t){if(t){if(xI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Dg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=null;function By(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $g=null,ko=null,Ro=null;function K0(e){if(e=qu(e)){if(typeof $g!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Th(t),$g(e.stateNode,e.type,t))}}function fE(e){ko?Ro?Ro.push(e):Ro=[e]:ko=e}function hE(){if(ko){var e=ko,t=Ro;if(Ro=ko=null,K0(e),t)for(e=0;e<t.length;e++)K0(t[e])}}function pE(e,t){return e(t)}function mE(){}var Vp=!1;function gE(e,t,n){if(Vp)return e(t,n);Vp=!0;try{return pE(e,t,n)}finally{Vp=!1,(ko!==null||Ro!==null)&&(mE(),hE())}}function Ic(e,t){var n=e.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Mg=!1;if(Ni)try{var $l={};Object.defineProperty($l,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Mg=!1}function bI(e,t,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mc=!1,Af=null,Of=!1,Ug=null,wI={onError:function(e){mc=!0,Af=e}};function SI(e,t,n,r,i,s,a,o,c){mc=!1,Af=null,bI.apply(wI,arguments)}function _I(e,t,n,r,i,s,a,o,c){if(SI.apply(this,arguments),mc){if(mc){var u=Af;mc=!1,Af=null}else throw Error(Q(198));Of||(Of=!0,Ug=u)}}function Na(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G0(e){if(Na(e)!==e)throw Error(Q(188))}function jI(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return G0(i),e;if(s===r)return G0(i),t;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function yE(e){return e=jI(e),e!==null?xE(e):null}function xE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xE(e);if(t!==null)return t;e=e.sibling}return null}var bE=nr.unstable_scheduleCallback,Y0=nr.unstable_cancelCallback,EI=nr.unstable_shouldYield,CI=nr.unstable_requestPaint,wt=nr.unstable_now,PI=nr.unstable_getCurrentPriorityLevel,qy=nr.unstable_ImmediatePriority,wE=nr.unstable_UserBlockingPriority,If=nr.unstable_NormalPriority,kI=nr.unstable_LowPriority,SE=nr.unstable_IdlePriority,Ch=null,ni=null;function RI(e){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:AI,TI=Math.log,NI=Math.LN2;function AI(e){return e>>>=0,e===0?32:31-(TI(e)/NI|0)|0}var jd=64,Ed=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ff(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ic(o):(s&=a,s!==0&&(r=ic(s)))}else a=n&~i,a!==0?r=ic(a):s!==0&&(r=ic(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nr(t),i=1<<n,r|=e[n],t&=~i;return r}function OI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function II(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Nr(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=OI(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function zg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _E(){var e=jd;return jd<<=1,!(jd&4194240)&&(jd=64),e}function Qp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nr(t),e[t]=n}function FI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var qe=0;function jE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EE,Vy,CE,PE,kE,Hg=!1,Cd=[],vs=null,ys=null,xs=null,Fc=new Map,Dc=new Map,ss=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J0(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(t.pointerId)}}function Ml(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=qu(t),t!==null&&Vy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function LI(e,t,n,r,i){switch(t){case"focusin":return vs=Ml(vs,e,t,n,r,i),!0;case"dragenter":return ys=Ml(ys,e,t,n,r,i),!0;case"mouseover":return xs=Ml(xs,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fc.set(s,Ml(Fc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dc.set(s,Ml(Dc.get(s)||null,e,t,n,r,i)),!0}return!1}function RE(e){var t=aa(e.target);if(t!==null){var n=Na(t);if(n!==null){if(t=n.tag,t===13){if(t=vE(n),t!==null){e.blockedOn=t,kE(e.priority,function(){CE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lg=r,n.target.dispatchEvent(r),Lg=null}else return t=qu(n),t!==null&&Vy(t),e.blockedOn=n,!1;t.shift()}return!0}function X0(e,t,n){cf(e)&&n.delete(t)}function $I(){Hg=!1,vs!==null&&cf(vs)&&(vs=null),ys!==null&&cf(ys)&&(ys=null),xs!==null&&cf(xs)&&(xs=null),Fc.forEach(X0),Dc.forEach(X0)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Hg||(Hg=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,$I)))}function Lc(e){function t(i){return Ul(i,e)}if(0<Cd.length){Ul(Cd[0],e);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vs!==null&&Ul(vs,e),ys!==null&&Ul(ys,e),xs!==null&&Ul(xs,e),Fc.forEach(t),Dc.forEach(t),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)RE(n),n.blockedOn===null&&ss.shift()}var To=Mi.ReactCurrentBatchConfig,Df=!0;function MI(e,t,n,r){var i=qe,s=To.transition;To.transition=null;try{qe=1,Qy(e,t,n,r)}finally{qe=i,To.transition=s}}function UI(e,t,n,r){var i=qe,s=To.transition;To.transition=null;try{qe=4,Qy(e,t,n,r)}finally{qe=i,To.transition=s}}function Qy(e,t,n,r){if(Df){var i=Bg(e,t,n,r);if(i===null)rm(e,t,r,Lf,n),J0(e,r);else if(LI(i,e,t,n,r))r.stopPropagation();else if(J0(e,r),t&4&&-1<DI.indexOf(e)){for(;i!==null;){var s=qu(i);if(s!==null&&EE(s),s=Bg(e,t,n,r),s===null&&rm(e,t,r,Lf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rm(e,t,r,null,n)}}var Lf=null;function Bg(e,t,n,r){if(Lf=null,e=By(r),e=aa(e),e!==null)if(t=Na(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lf=e,null}function TE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PI()){case qy:return 1;case wE:return 4;case If:case kI:return 16;case SE:return 536870912;default:return 16}default:return 16}}var ps=null,Ky=null,uf=null;function NE(){if(uf)return uf;var e,t=Ky,n=t.length,r,i="value"in ps?ps.value:ps.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return uf=i.slice(e,1<r?1-r:void 0)}function df(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pd(){return!0}function Z0(){return!1}function ir(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pd:Z0,this.isPropagationStopped=Z0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=ir(xl),Bu=ht({},xl,{view:0,detail:0}),zI=ir(Bu),Kp,Gp,zl,Ph=ht({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(Kp=e.screenX-zl.screenX,Gp=e.screenY-zl.screenY):Gp=Kp=0,zl=e),Kp)},movementY:function(e){return"movementY"in e?e.movementY:Gp}}),ew=ir(Ph),HI=ht({},Ph,{dataTransfer:0}),BI=ir(HI),qI=ht({},Bu,{relatedTarget:0}),Yp=ir(qI),WI=ht({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),VI=ir(WI),QI=ht({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KI=ir(QI),GI=ht({},xl,{data:0}),tw=ir(GI),YI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XI[e])?!!t[e]:!1}function Yy(){return ZI}var eF=ht({},Bu,{key:function(e){if(e.key){var t=YI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=df(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(e){return e.type==="keypress"?df(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?df(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tF=ir(eF),nF=ht({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nw=ir(nF),rF=ht({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),iF=ir(rF),sF=ht({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aF=ir(sF),oF=ht({},Ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lF=ir(oF),cF=[9,13,27,32],Jy=Ni&&"CompositionEvent"in window,gc=null;Ni&&"documentMode"in document&&(gc=document.documentMode);var uF=Ni&&"TextEvent"in window&&!gc,AE=Ni&&(!Jy||gc&&8<gc&&11>=gc),rw=" ",iw=!1;function OE(e,t){switch(e){case"keyup":return cF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function dF(e,t){switch(e){case"compositionend":return IE(t);case"keypress":return t.which!==32?null:(iw=!0,rw);case"textInput":return e=t.data,e===rw&&iw?null:e;default:return null}}function fF(e,t){if(po)return e==="compositionend"||!Jy&&OE(e,t)?(e=NE(),uf=Ky=ps=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AE&&t.locale!=="ko"?null:t.data;default:return null}}var hF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hF[e.type]:t==="textarea"}function FE(e,t,n,r){fE(r),t=$f(t,"onChange"),0<t.length&&(n=new Gy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vc=null,$c=null;function pF(e){VE(e,0)}function kh(e){var t=vo(e);if(sE(t))return e}function mF(e,t){if(e==="change")return t}var DE=!1;if(Ni){var Jp;if(Ni){var Xp="oninput"in document;if(!Xp){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),Xp=typeof aw.oninput=="function"}Jp=Xp}else Jp=!1;DE=Jp&&(!document.documentMode||9<document.documentMode)}function ow(){vc&&(vc.detachEvent("onpropertychange",LE),$c=vc=null)}function LE(e){if(e.propertyName==="value"&&kh($c)){var t=[];FE(t,$c,e,By(e)),gE(pF,t)}}function gF(e,t,n){e==="focusin"?(ow(),vc=t,$c=n,vc.attachEvent("onpropertychange",LE)):e==="focusout"&&ow()}function vF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kh($c)}function yF(e,t){if(e==="click")return kh(t)}function xF(e,t){if(e==="input"||e==="change")return kh(t)}function bF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:bF;function Mc(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eg.call(t,i)||!Lr(e[i],t[i]))return!1}return!0}function lw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cw(e,t){var n=lw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lw(n)}}function $E(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$E(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ME(){for(var e=window,t=Nf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nf(e.document)}return t}function Xy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wF(e){var t=ME(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$E(n.ownerDocument.documentElement,n)){if(r!==null&&Xy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cw(n,s);var a=cw(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SF=Ni&&"documentMode"in document&&11>=document.documentMode,mo=null,qg=null,yc=null,Wg=!1;function uw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wg||mo==null||mo!==Nf(r)||(r=mo,"selectionStart"in r&&Xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yc&&Mc(yc,r)||(yc=r,r=$f(qg,"onSelect"),0<r.length&&(t=new Gy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mo)))}function kd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var go={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},Zp={},UE={};Ni&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Rh(e){if(Zp[e])return Zp[e];if(!go[e])return e;var t=go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UE)return Zp[e]=t[n];return e}var zE=Rh("animationend"),HE=Rh("animationiteration"),BE=Rh("animationstart"),qE=Rh("transitionend"),WE=new Map,dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(e,t){WE.set(e,t),Ta(t,[e])}for(var em=0;em<dw.length;em++){var tm=dw[em],_F=tm.toLowerCase(),jF=tm[0].toUpperCase()+tm.slice(1);Fs(_F,"on"+jF)}Fs(zE,"onAnimationEnd");Fs(HE,"onAnimationIteration");Fs(BE,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(qE,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EF=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function fw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_I(r,t,void 0,e),e.currentTarget=null}function VE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;fw(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;fw(i,o,u),s=c}}}if(Of)throw e=Ug,Of=!1,Ug=null,e}function rt(e,t){var n=t[Yg];n===void 0&&(n=t[Yg]=new Set);var r=e+"__bubble";n.has(r)||(QE(t,e,2,!1),n.add(r))}function nm(e,t,n){var r=0;t&&(r|=4),QE(n,e,r,t)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function Uc(e){if(!e[Rd]){e[Rd]=!0,eE.forEach(function(n){n!=="selectionchange"&&(EF.has(n)||nm(n,!1,e),nm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rd]||(t[Rd]=!0,nm("selectionchange",!1,t))}}function QE(e,t,n,r){switch(TE(t)){case 1:var i=MI;break;case 4:i=UI;break;default:i=Qy}n=i.bind(null,t,n,e),i=void 0,!Mg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=aa(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}gE(function(){var u=s,d=By(n),f=[];e:{var h=WE.get(e);if(h!==void 0){var p=Gy,g=e;switch(e){case"keypress":if(df(n)===0)break e;case"keydown":case"keyup":p=tF;break;case"focusin":g="focus",p=Yp;break;case"focusout":g="blur",p=Yp;break;case"beforeblur":case"afterblur":p=Yp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iF;break;case zE:case HE:case BE:p=VI;break;case qE:p=aF;break;case"scroll":p=zI;break;case"wheel":p=lF;break;case"copy":case"cut":case"paste":p=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nw}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Ic(y,v),S!=null&&m.push(zc(y,S,b)))),x)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Lg&&(g=n.relatedTarget||n.fromElement)&&(aa(g)||g[Ai]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?aa(g):null,g!==null&&(x=Na(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=ew,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=nw,S="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:vo(p),b=g==null?h:vo(g),h=new m(S,y+"leave",p,n,d),h.target=x,h.relatedTarget=b,S=null,aa(d)===u&&(m=new m(v,y+"enter",g,n,d),m.target=b,m.relatedTarget=x,S=m),x=S,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=Va(b))y++;for(b=0,S=v;S;S=Va(S))b++;for(;0<y-b;)m=Va(m),y--;for(;0<b-y;)v=Va(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Va(m),v=Va(v)}m=null}else m=null;p!==null&&hw(f,h,p,m,!1),g!==null&&x!==null&&hw(f,x,g,m,!0)}}e:{if(h=u?vo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=mF;else if(sw(h))if(DE)_=xF;else{_=vF;var j=gF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=yF);if(_&&(_=_(e,u))){FE(f,_,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ag(h,"number",h.value)}switch(j=u?vo(u):window,e){case"focusin":(sw(j)||j.contentEditable==="true")&&(mo=j,qg=u,yc=null);break;case"focusout":yc=qg=mo=null;break;case"mousedown":Wg=!0;break;case"contextmenu":case"mouseup":case"dragend":Wg=!1,uw(f,n,d);break;case"selectionchange":if(SF)break;case"keydown":case"keyup":uw(f,n,d)}var k;if(Jy)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else po?OE(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(AE&&n.locale!=="ko"&&(po||R!=="onCompositionStart"?R==="onCompositionEnd"&&po&&(k=NE()):(ps=d,Ky="value"in ps?ps.value:ps.textContent,po=!0)),j=$f(u,R),0<j.length&&(R=new tw(R,e,null,n,d),f.push({event:R,listeners:j}),k?R.data=k:(k=IE(n),k!==null&&(R.data=k)))),(k=uF?dF(e,n):fF(e,n))&&(u=$f(u,"onBeforeInput"),0<u.length&&(d=new tw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}VE(f,t)})}function zc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $f(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ic(e,n),s!=null&&r.unshift(zc(e,s,i)),s=Ic(e,t),s!=null&&r.push(zc(e,s,i))),e=e.return}return r}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hw(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=Ic(n,s),c!=null&&a.unshift(zc(n,c,o))):i||(c=Ic(n,s),c!=null&&a.push(zc(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var CF=/\r\n?/g,PF=/\u0000|\uFFFD/g;function pw(e){return(typeof e=="string"?e:""+e).replace(CF,`
`).replace(PF,"")}function Td(e,t,n){if(t=pw(t),pw(e)!==t&&n)throw Error(Q(425))}function Mf(){}var Vg=null,Qg=null;function Kg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,kF=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,RF=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(e){return mw.resolve(null).then(e).catch(TF)}:Gg;function TF(e){setTimeout(function(){throw e})}function im(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Lc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lc(t)}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bl=Math.random().toString(36).slice(2),ei="__reactFiber$"+bl,Hc="__reactProps$"+bl,Ai="__reactContainer$"+bl,Yg="__reactEvents$"+bl,NF="__reactListeners$"+bl,AF="__reactHandles$"+bl;function aa(e){var t=e[ei];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[ei]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gw(e);e!==null;){if(n=e[ei])return n;e=gw(e)}return t}e=n,n=e.parentNode}return null}function qu(e){return e=e[ei]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Th(e){return e[Hc]||null}var Jg=[],yo=-1;function Ds(e){return{current:e}}function it(e){0>yo||(e.current=Jg[yo],Jg[yo]=null,yo--)}function tt(e,t){yo++,Jg[yo]=e.current,e.current=t}var Rs={},dn=Ds(Rs),$n=Ds(!1),va=Rs;function el(e,t){var n=e.type.contextTypes;if(!n)return Rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(e){return e=e.childContextTypes,e!=null}function Uf(){it($n),it(dn)}function vw(e,t,n){if(dn.current!==Rs)throw Error(Q(168));tt(dn,t),tt($n,n)}function KE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Q(108,gI(e)||"Unknown",i));return ht({},n,r)}function zf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rs,va=dn.current,tt(dn,e),tt($n,$n.current),!0}function yw(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=KE(e,t,va),r.__reactInternalMemoizedMergedChildContext=e,it($n),it(dn),tt(dn,e)):it($n),tt($n,n)}var Ci=null,Nh=!1,sm=!1;function GE(e){Ci===null?Ci=[e]:Ci.push(e)}function OF(e){Nh=!0,GE(e)}function Ls(){if(!sm&&Ci!==null){sm=!0;var e=0,t=qe;try{var n=Ci;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ci=null,Nh=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(e+1)),bE(qy,Ls),i}finally{qe=t,sm=!1}}return null}var xo=[],bo=0,Hf=null,Bf=0,ur=[],dr=0,ya=null,ki=1,Ri="";function Js(e,t){xo[bo++]=Bf,xo[bo++]=Hf,Hf=e,Bf=t}function YE(e,t,n){ur[dr++]=ki,ur[dr++]=Ri,ur[dr++]=ya,ya=e;var r=ki;e=Ri;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ki=1<<32-Nr(t)+i|n<<i|r,Ri=s+e}else ki=1<<s|n<<i|r,Ri=e}function Zy(e){e.return!==null&&(Js(e,1),YE(e,1,0))}function ex(e){for(;e===Hf;)Hf=xo[--bo],xo[bo]=null,Bf=xo[--bo],xo[bo]=null;for(;e===ya;)ya=ur[--dr],ur[dr]=null,Ri=ur[--dr],ur[dr]=null,ki=ur[--dr],ur[dr]=null}var Xn=null,Jn=null,ot=!1,Rr=null;function JE(e,t){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ya!==null?{id:ki,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xn=e,Jn=null,!0):!1;default:return!1}}function Xg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zg(e){if(ot){var t=Jn;if(t){var n=t;if(!xw(e,t)){if(Xg(e))throw Error(Q(418));t=bs(n.nextSibling);var r=Xn;t&&xw(e,t)?JE(r,n):(e.flags=e.flags&-4097|2,ot=!1,Xn=e)}}else{if(Xg(e))throw Error(Q(418));e.flags=e.flags&-4097|2,ot=!1,Xn=e}}}function bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function Nd(e){if(e!==Xn)return!1;if(!ot)return bw(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kg(e.type,e.memoizedProps)),t&&(t=Jn)){if(Xg(e))throw XE(),Error(Q(418));for(;t;)JE(e,t),t=bs(t.nextSibling)}if(bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jn=bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=Xn?bs(e.stateNode.nextSibling):null;return!0}function XE(){for(var e=Jn;e;)e=bs(e.nextSibling)}function tl(){Jn=Xn=null,ot=!1}function tx(e){Rr===null?Rr=[e]:Rr.push(e)}var IF=Mi.ReactCurrentBatchConfig;function Hl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Ad(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ww(e){var t=e._init;return t(e._payload)}function ZE(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=js(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,S){return y===null||y.tag!==6?(y=fm(b,v.mode,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function c(v,y,b,S){var _=b.type;return _===ho?d(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rs&&ww(_)===y.type)?(S=i(y,b.props),S.ref=Hl(v,y,b),S.return=v,S):(S=yf(b.type,b.key,b.props,null,v.mode,S),S.ref=Hl(v,y,b),S.return=v,S)}function u(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=hm(b,v.mode,S),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function d(v,y,b,S,_){return y===null||y.tag!==7?(y=ma(b,v.mode,S,_),y.return=v,y):(y=i(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fm(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wd:return b=yf(y.type,y.key,y.props,null,v.mode,b),b.ref=Hl(v,null,y),b.return=v,b;case fo:return y=hm(y,v.mode,b),y.return=v,y;case rs:var S=y._init;return f(v,S(y._payload),b)}if(rc(y)||Ll(y))return y=ma(y,v.mode,b,null),y.return=v,y;Ad(v,y)}return null}function h(v,y,b,S){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:o(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:return b.key===_?c(v,y,b,S):null;case fo:return b.key===_?u(v,y,b,S):null;case rs:return _=b._init,h(v,y,_(b._payload),S)}if(rc(b)||Ll(b))return _!==null?null:d(v,y,b,S,null);Ad(v,b)}return null}function p(v,y,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,o(y,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wd:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,_);case fo:return v=v.get(S.key===null?b:S.key)||null,u(y,v,S,_);case rs:var j=S._init;return p(v,y,b,j(S._payload),_)}if(rc(S)||Ll(S))return v=v.get(b)||null,d(y,v,S,_,null);Ad(y,S)}return null}function g(v,y,b,S){for(var _=null,j=null,k=y,R=y=0,F=null;k!==null&&R<b.length;R++){k.index>R?(F=k,k=null):F=k.sibling;var P=h(v,k,b[R],S);if(P===null){k===null&&(k=F);break}e&&k&&P.alternate===null&&t(v,k),y=s(P,y,R),j===null?_=P:j.sibling=P,j=P,k=F}if(R===b.length)return n(v,k),ot&&Js(v,R),_;if(k===null){for(;R<b.length;R++)k=f(v,b[R],S),k!==null&&(y=s(k,y,R),j===null?_=k:j.sibling=k,j=k);return ot&&Js(v,R),_}for(k=r(v,k);R<b.length;R++)F=p(k,v,R,b[R],S),F!==null&&(e&&F.alternate!==null&&k.delete(F.key===null?R:F.key),y=s(F,y,R),j===null?_=F:j.sibling=F,j=F);return e&&k.forEach(function(I){return t(v,I)}),ot&&Js(v,R),_}function m(v,y,b,S){var _=Ll(b);if(typeof _!="function")throw Error(Q(150));if(b=_.call(b),b==null)throw Error(Q(151));for(var j=_=null,k=y,R=y=0,F=null,P=b.next();k!==null&&!P.done;R++,P=b.next()){k.index>R?(F=k,k=null):F=k.sibling;var I=h(v,k,P.value,S);if(I===null){k===null&&(k=F);break}e&&k&&I.alternate===null&&t(v,k),y=s(I,y,R),j===null?_=I:j.sibling=I,j=I,k=F}if(P.done)return n(v,k),ot&&Js(v,R),_;if(k===null){for(;!P.done;R++,P=b.next())P=f(v,P.value,S),P!==null&&(y=s(P,y,R),j===null?_=P:j.sibling=P,j=P);return ot&&Js(v,R),_}for(k=r(v,k);!P.done;R++,P=b.next())P=p(k,v,R,P.value,S),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?R:P.key),y=s(P,y,R),j===null?_=P:j.sibling=P,j=P);return e&&k.forEach(function(O){return t(v,O)}),ot&&Js(v,R),_}function x(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===ho&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:e:{for(var _=b.key,j=y;j!==null;){if(j.key===_){if(_=b.type,_===ho){if(j.tag===7){n(v,j.sibling),y=i(j,b.props.children),y.return=v,v=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===rs&&ww(_)===j.type){n(v,j.sibling),y=i(j,b.props),y.ref=Hl(v,j,b),y.return=v,v=y;break e}n(v,j);break}else t(v,j);j=j.sibling}b.type===ho?(y=ma(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=yf(b.type,b.key,b.props,null,v.mode,S),S.ref=Hl(v,y,b),S.return=v,v=S)}return a(v);case fo:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=hm(b,v.mode,S),y.return=v,v=y}return a(v);case rs:return j=b._init,x(v,y,j(b._payload),S)}if(rc(b))return g(v,y,b,S);if(Ll(b))return m(v,y,b,S);Ad(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=fm(b,v.mode,S),y.return=v,v=y),a(v)):n(v,y)}return x}var nl=ZE(!0),eC=ZE(!1),qf=Ds(null),Wf=null,wo=null,nx=null;function rx(){nx=wo=Wf=null}function ix(e){var t=qf.current;it(qf),e._currentValue=t}function ev(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){Wf=e,nx=wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dn=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(nx!==e)if(e={context:e,memoizedValue:t,next:null},wo===null){if(Wf===null)throw Error(Q(308));wo=e,Wf.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var oa=null;function sx(e){oa===null?oa=[e]:oa.push(e)}function tC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var is=!1;function ax(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oi(e,n)}return i=r.interleaved,i===null?(t.next=t,sx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oi(e,n)}function ff(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wy(e,n)}}function Sw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vf(e,t,n,r){var i=e.updateQueue;is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ba|=a,e.lanes=a,e.memoizedState=f}}function _w(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Wu={},ri=Ds(Wu),Bc=Ds(Wu),qc=Ds(Wu);function la(e){if(e===Wu)throw Error(Q(174));return e}function ox(e,t){switch(tt(qc,t),tt(Bc,e),tt(ri,Wu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ig(t,e)}it(ri),tt(ri,t)}function rl(){it(ri),it(Bc),it(qc)}function rC(e){la(qc.current);var t=la(ri.current),n=Ig(t,e.type);t!==n&&(tt(Bc,e),tt(ri,n))}function lx(e){Bc.current===e&&(it(ri),it(Bc))}var ut=Ds(0);function Qf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var am=[];function cx(){for(var e=0;e<am.length;e++)am[e]._workInProgressVersionPrimary=null;am.length=0}var hf=Mi.ReactCurrentDispatcher,om=Mi.ReactCurrentBatchConfig,xa=0,ft=null,Tt=null,$t=null,Kf=!1,xc=!1,Wc=0,FF=0;function en(){throw Error(Q(321))}function ux(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function dx(e,t,n,r,i,s){if(xa=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hf.current=e===null||e.memoizedState===null?MF:UF,e=n(r,i),xc){s=0;do{if(xc=!1,Wc=0,25<=s)throw Error(Q(301));s+=1,$t=Tt=null,t.updateQueue=null,hf.current=zF,e=n(r,i)}while(xc)}if(hf.current=Gf,t=Tt!==null&&Tt.next!==null,xa=0,$t=Tt=ft=null,Kf=!1,t)throw Error(Q(300));return e}function fx(){var e=Wc!==0;return Wc=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ft.memoizedState=$t=e:$t=$t.next=e,$t}function yr(){if(Tt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=$t===null?ft.memoizedState:$t.next;if(t!==null)$t=t,Tt=e;else{if(e===null)throw Error(Q(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},$t===null?ft.memoizedState=$t=e:$t=$t.next=e}return $t}function Vc(e,t){return typeof t=="function"?t(e):t}function lm(e){var t=yr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=Tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((xa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,ft.lanes|=d,ba|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,Lr(r,t.memoizedState)||(Dn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ft.lanes|=s,ba|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cm(e){var t=yr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Lr(s,t.memoizedState)||(Dn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function iC(){}function sC(e,t){var n=ft,r=yr(),i=t(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,Dn=!0),r=r.queue,hx(lC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Qc(9,oC.bind(null,n,r,i,t),void 0,null),zt===null)throw Error(Q(349));xa&30||aC(n,t,i)}return i}function aC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oC(e,t,n,r){t.value=n,t.getSnapshot=r,cC(t)&&uC(e)}function lC(e,t,n){return n(function(){cC(t)&&uC(e)})}function cC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lr(e,n)}catch{return!0}}function uC(e){var t=Oi(e,1);t!==null&&Ar(t,e,1,-1)}function jw(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:e},t.queue=e,e=e.dispatch=$F.bind(null,ft,e),[t.memoizedState,e]}function Qc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dC(){return yr().memoizedState}function pf(e,t,n,r){var i=Kr();ft.flags|=e,i.memoizedState=Qc(1|t,n,void 0,r===void 0?null:r)}function Ah(e,t,n,r){var i=yr();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var a=Tt.memoizedState;if(s=a.destroy,r!==null&&ux(r,a.deps)){i.memoizedState=Qc(t,n,s,r);return}}ft.flags|=e,i.memoizedState=Qc(1|t,n,s,r)}function Ew(e,t){return pf(8390656,8,e,t)}function hx(e,t){return Ah(2048,8,e,t)}function fC(e,t){return Ah(4,2,e,t)}function hC(e,t){return Ah(4,4,e,t)}function pC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mC(e,t,n){return n=n!=null?n.concat([e]):null,Ah(4,4,pC.bind(null,t,e),n)}function px(){}function gC(e,t){var n=yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ux(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vC(e,t){var n=yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ux(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yC(e,t,n){return xa&21?(Lr(n,t)||(n=_E(),ft.lanes|=n,ba|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dn=!0),e.memoizedState=n)}function DF(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=om.transition;om.transition={};try{e(!1),t()}finally{qe=n,om.transition=r}}function xC(){return yr().memoizedState}function LF(e,t,n){var r=_s(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bC(e))wC(t,n);else if(n=tC(e,t,n,r),n!==null){var i=jn();Ar(n,e,r,i),SC(n,t,r)}}function $F(e,t,n){var r=_s(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bC(e))wC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Lr(o,a)){var c=t.interleaved;c===null?(i.next=i,sx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=tC(e,t,i,r),n!==null&&(i=jn(),Ar(n,e,r,i),SC(n,t,r))}}function bC(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function wC(e,t){xc=Kf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function SC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wy(e,n)}}var Gf={readContext:vr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},MF={readContext:vr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:Ew,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pf(4194308,4,pC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pf(4194308,4,e,t)},useInsertionEffect:function(e,t){return pf(4,2,e,t)},useMemo:function(e,t){var n=Kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=LF.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:px,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=jw(!1),t=e[0];return e=DF.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,i=Kr();if(ot){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),zt===null)throw Error(Q(349));xa&30||aC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ew(lC.bind(null,r,s,e),[e]),r.flags|=2048,Qc(9,oC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Kr(),t=zt.identifierPrefix;if(ot){var n=Ri,r=ki;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UF={readContext:vr,useCallback:gC,useContext:vr,useEffect:hx,useImperativeHandle:mC,useInsertionEffect:fC,useLayoutEffect:hC,useMemo:vC,useReducer:lm,useRef:dC,useState:function(){return lm(Vc)},useDebugValue:px,useDeferredValue:function(e){var t=yr();return yC(t,Tt.memoizedState,e)},useTransition:function(){var e=lm(Vc)[0],t=yr().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:sC,useId:xC,unstable_isNewReconciler:!1},zF={readContext:vr,useCallback:gC,useContext:vr,useEffect:hx,useImperativeHandle:mC,useInsertionEffect:fC,useLayoutEffect:hC,useMemo:vC,useReducer:cm,useRef:dC,useState:function(){return cm(Vc)},useDebugValue:px,useDeferredValue:function(e){var t=yr();return Tt===null?t.memoizedState=e:yC(t,Tt.memoizedState,e)},useTransition:function(){var e=cm(Vc)[0],t=yr().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:sC,useId:xC,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oh={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jn(),i=_s(e),s=Ti(r,i);s.payload=t,n!=null&&(s.callback=n),t=ws(e,s,i),t!==null&&(Ar(t,e,i,r),ff(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jn(),i=_s(e),s=Ti(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ws(e,s,i),t!==null&&(Ar(t,e,i,r),ff(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),r=_s(e),i=Ti(n,r);i.tag=2,t!=null&&(i.callback=t),t=ws(e,i,r),t!==null&&(Ar(t,e,r,n),ff(t,e,r))}};function Cw(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Mc(n,r)||!Mc(i,s):!0}function _C(e,t,n){var r=!1,i=Rs,s=t.contextType;return typeof s=="object"&&s!==null?s=vr(s):(i=Mn(t)?va:dn.current,r=t.contextTypes,s=(r=r!=null)?el(e,i):Rs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oh.enqueueReplaceState(t,t.state,null)}function nv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ax(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=vr(s):(s=Mn(t)?va:dn.current,i.context=el(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(tv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oh.enqueueReplaceState(i,i.state,null),Vf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function il(e,t){try{var n="",r=t;do n+=mI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function um(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HF=typeof WeakMap=="function"?WeakMap:Map;function jC(e,t,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jf||(Jf=!0,hv=r),rv(e,t)},n}function EC(e,t,n){n=Ti(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rv(e,t),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function kw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nD.bind(null,e,t,n),t.then(e,e))}function Rw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ti(-1,1),t.tag=2,ws(n,t,1))),n.lanes|=1),e)}var BF=Mi.ReactCurrentOwner,Dn=!1;function wn(e,t,n,r){t.child=e===null?eC(t,null,n,r):nl(t,e.child,n,r)}function Nw(e,t,n,r,i){n=n.render;var s=t.ref;return No(t,i),r=dx(e,t,n,r,s,i),n=fx(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ii(e,t,i)):(ot&&n&&Zy(t),t.flags|=1,wn(e,t,r,i),t.child)}function Aw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Sx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,CC(e,t,s,r,i)):(e=yf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(a,r)&&e.ref===t.ref)return Ii(e,t,i)}return t.flags|=1,e=js(s,r),e.ref=t.ref,e.return=t,t.child=e}function CC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Mc(s,r)&&e.ref===t.ref)if(Dn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dn=!0);else return t.lanes=e.lanes,Ii(e,t,i)}return iv(e,t,n,r,i)}function PC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(_o,Vn),Vn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(_o,Vn),Vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(_o,Vn),Vn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(_o,Vn),Vn|=r;return wn(e,t,i,n),t.child}function kC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iv(e,t,n,r,i){var s=Mn(n)?va:dn.current;return s=el(t,s),No(t,i),n=dx(e,t,n,r,s,i),r=fx(),e!==null&&!Dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ii(e,t,i)):(ot&&r&&Zy(t),t.flags|=1,wn(e,t,n,i),t.child)}function Ow(e,t,n,r,i){if(Mn(n)){var s=!0;zf(t)}else s=!1;if(No(t,i),t.stateNode===null)mf(e,t),_C(t,n,r),nv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Mn(n)?va:dn.current,u=el(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Pw(t,a,r,u),is=!1;var h=t.memoizedState;a.state=h,Vf(t,r,a,i),c=t.memoizedState,o!==r||h!==c||$n.current||is?(typeof d=="function"&&(tv(t,n,d,r),c=t.memoizedState),(o=is||Cw(t,n,o,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:jr(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=Mn(n)?va:dn.current,c=el(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Pw(t,a,r,c),is=!1,h=t.memoizedState,a.state=h,Vf(t,r,a,i);var g=t.memoizedState;o!==f||h!==g||$n.current||is?(typeof p=="function"&&(tv(t,n,p,r),g=t.memoizedState),(u=is||Cw(t,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sv(e,t,n,r,s,i)}function sv(e,t,n,r,i,s){kC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&yw(t,n,!1),Ii(e,t,s);r=t.stateNode,BF.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=nl(t,e.child,null,s),t.child=nl(t,null,o,s)):wn(e,t,o,s),t.memoizedState=r.state,i&&yw(t,n,!0),t.child}function RC(e){var t=e.stateNode;t.pendingContext?vw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vw(e,t.context,!1),ox(e,t.containerInfo)}function Iw(e,t,n,r,i){return tl(),tx(i),t.flags|=256,wn(e,t,n,r),t.child}var av={dehydrated:null,treeContext:null,retryLane:0};function ov(e){return{baseLanes:e,cachePool:null,transitions:null}}function TC(e,t,n){var r=t.pendingProps,i=ut.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tt(ut,i&1),e===null)return Zg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Dh(a,r,0,null),e=ma(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ov(n),t.memoizedState=av,e):mx(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qF(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=js(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=js(o,s):(s=ma(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?ov(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=av,r}return s=e.child,e=s.sibling,r=js(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mx(e,t){return t=Dh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Od(e,t,n,r){return r!==null&&tx(r),nl(t,e.child,null,n),e=mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qF(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=um(Error(Q(422))),Od(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dh({mode:"visible",children:r.children},i,0,null),s=ma(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&nl(t,e.child,null,a),t.child.memoizedState=ov(a),t.memoizedState=av,s);if(!(t.mode&1))return Od(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=um(s,r,void 0),Od(e,t,a,r)}if(o=(a&e.childLanes)!==0,Dn||o){if(r=zt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oi(e,i),Ar(r,e,i,-1))}return wx(),r=um(Error(Q(421))),Od(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rD.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Jn=bs(i.nextSibling),Xn=t,ot=!0,Rr=null,e!==null&&(ur[dr++]=ki,ur[dr++]=Ri,ur[dr++]=ya,ki=e.id,Ri=e.overflow,ya=t),t=mx(t,r.children),t.flags|=4096,t)}function Fw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ev(e.return,t,n)}function dm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wn(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fw(e,n,t);else if(e.tag===19)Fw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ut,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dm(t,!0,n,null,s);break;case"together":dm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ii(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=js(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=js(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function WF(e,t,n){switch(t.tag){case 3:RC(t),tl();break;case 5:rC(t);break;case 1:Mn(t.type)&&zf(t);break;case 4:ox(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tt(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?TC(e,t,n):(tt(ut,ut.current&1),e=Ii(e,t,n),e!==null?e.sibling:null);tt(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,PC(e,t,n)}return Ii(e,t,n)}var AC,lv,OC,IC;AC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lv=function(){};OC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,la(ri.current);var s=null;switch(n){case"input":i=Tg(e,i),r=Tg(e,r),s=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":i=Og(e,i),r=Og(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mf)}Fg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ac.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};IC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VF(e,t,n){var r=t.pendingProps;switch(ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return Mn(t.type)&&Uf(),tn(t),null;case 3:return r=t.stateNode,rl(),it($n),it(dn),cx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rr!==null&&(gv(Rr),Rr=null))),lv(e,t),tn(t),null;case 5:lx(t);var i=la(qc.current);if(n=t.type,e!==null&&t.stateNode!=null)OC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return tn(t),null}if(e=la(ri.current),Nd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ei]=t,r[Hc]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<sc.length;i++)rt(sc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":q0(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":V0(r,s),rt("invalid",r)}Fg(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,o,e),i=["children",""+o]):Ac.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Sd(r),W0(r,s,!0);break;case"textarea":Sd(r),Q0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ei]=t,e[Hc]=r,AC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Dg(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<sc.length;i++)rt(sc[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":q0(e,r),i=Tg(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",e);break;case"textarea":V0(e,r),i=Og(e,r),rt("invalid",e);break;default:i=r}Fg(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?dE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cE(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Oc(e,c):typeof c=="number"&&Oc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ac.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",e):c!=null&&My(e,s,c,a))}switch(n){case"input":Sd(e),W0(e,r,!1);break;case"textarea":Sd(e),Q0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ks(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Po(e,!!r.multiple,s,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)IC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=la(qc.current),la(ri.current),Nd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ei]=t,(s=r.nodeValue!==n)&&(e=Xn,e!==null))switch(e.tag){case 3:Td(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ei]=t,t.stateNode=r}return tn(t),null;case 13:if(it(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Jn!==null&&t.mode&1&&!(t.flags&128))XE(),tl(),t.flags|=98560,s=!1;else if(s=Nd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[ei]=t}else tl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),s=!1}else Rr!==null&&(gv(Rr),Rr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?At===0&&(At=3):wx())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return rl(),lv(e,t),e===null&&Uc(t.stateNode.containerInfo),tn(t),null;case 10:return ix(t.type._context),tn(t),null;case 17:return Mn(t.type)&&Uf(),tn(t),null;case 19:if(it(ut),s=t.memoizedState,s===null)return tn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Bl(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qf(e),a!==null){for(t.flags|=128,Bl(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ut,ut.current&1|2),t.child}e=e.sibling}s.tail!==null&&wt()>sl&&(t.flags|=128,r=!0,Bl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ot)return tn(t),null}else 2*wt()-s.renderingStartTime>sl&&n!==1073741824&&(t.flags|=128,r=!0,Bl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wt(),t.sibling=null,n=ut.current,tt(ut,r?n&1|2:n&1),t):(tn(t),null);case 22:case 23:return bx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vn&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function QF(e,t){switch(ex(t),t.tag){case 1:return Mn(t.type)&&Uf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rl(),it($n),it(dn),cx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lx(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return rl(),null;case 10:return ix(t.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var Id=!1,ln=!1,KF=typeof WeakSet=="function"?WeakSet:Set,ne=null;function So(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(e,t,r)}else n.current=null}function cv(e,t,n){try{n()}catch(r){vt(e,t,r)}}var Dw=!1;function GF(e,t){if(Vg=Df,e=ME(),Xy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qg={focusedElem:e,selectionRange:n},Df=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:jr(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){vt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=Dw,Dw=!1,g}function bc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&cv(t,n,s)}i=i.next}while(i!==r)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FC(e){var t=e.alternate;t!==null&&(e.alternate=null,FC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ei],delete t[Hc],delete t[Yg],delete t[NF],delete t[AF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DC(e){return e.tag===5||e.tag===3||e.tag===4}function Lw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mf));else if(r!==4&&(e=e.child,e!==null))for(dv(e,t,n),e=e.sibling;e!==null;)dv(e,t,n),e=e.sibling}function fv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fv(e,t,n),e=e.sibling;e!==null;)fv(e,t,n),e=e.sibling}var Wt=null,Pr=!1;function Vi(e,t,n){for(n=n.child;n!==null;)LC(e,t,n),n=n.sibling}function LC(e,t,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 5:ln||So(n,t);case 6:var r=Wt,i=Pr;Wt=null,Vi(e,t,n),Wt=r,Pr=i,Wt!==null&&(Pr?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Pr?(e=Wt,n=n.stateNode,e.nodeType===8?im(e.parentNode,n):e.nodeType===1&&im(e,n),Lc(e)):im(Wt,n.stateNode));break;case 4:r=Wt,i=Pr,Wt=n.stateNode.containerInfo,Pr=!0,Vi(e,t,n),Wt=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&cv(n,t,a),i=i.next}while(i!==r)}Vi(e,t,n);break;case 1:if(!ln&&(So(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){vt(n,t,o)}Vi(e,t,n);break;case 21:Vi(e,t,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Vi(e,t,n),ln=r):Vi(e,t,n);break;default:Vi(e,t,n)}}function $w(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new KF),t.forEach(function(r){var i=iD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Wt=o.stateNode,Pr=!1;break e;case 3:Wt=o.stateNode.containerInfo,Pr=!0;break e;case 4:Wt=o.stateNode.containerInfo,Pr=!0;break e}o=o.return}if(Wt===null)throw Error(Q(160));LC(s,a,i),Wt=null,Pr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){vt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$C(t,e),t=t.sibling}function $C(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),qr(e),r&4){try{bc(3,e,e.return),Ih(3,e)}catch(m){vt(e,e.return,m)}try{bc(5,e,e.return)}catch(m){vt(e,e.return,m)}}break;case 1:br(t,e),qr(e),r&512&&n!==null&&So(n,n.return);break;case 5:if(br(t,e),qr(e),r&512&&n!==null&&So(n,n.return),e.flags&32){var i=e.stateNode;try{Oc(i,"")}catch(m){vt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&aE(i,s),Dg(o,a);var u=Dg(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?dE(i,f):d==="dangerouslySetInnerHTML"?cE(i,f):d==="children"?Oc(i,f):My(i,d,f,u)}switch(o){case"input":Ng(i,s);break;case"textarea":oE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Po(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hc]=s}catch(m){vt(e,e.return,m)}}break;case 6:if(br(t,e),qr(e),r&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){vt(e,e.return,m)}}break;case 3:if(br(t,e),qr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lc(t.containerInfo)}catch(m){vt(e,e.return,m)}break;case 4:br(t,e),qr(e);break;case 13:br(t,e),qr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yx=wt())),r&4&&$w(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(u=ln)||d,br(t,e),ln=u):br(t,e),qr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:bc(4,h,h.return);break;case 1:So(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){vt(r,n,m)}}break;case 5:So(h,h.return);break;case 22:if(h.memoizedState!==null){Uw(f);continue}}p!==null?(p.return=h,ne=p):Uw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=uE("display",a))}catch(m){vt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){vt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(t,e),qr(e),r&4&&$w(e);break;case 21:break;default:br(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DC(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oc(i,""),r.flags&=-33);var s=Lw(e);fv(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Lw(e);dv(e,o,a);break;default:throw Error(Q(161))}}catch(c){vt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YF(e,t,n){ne=e,MC(e)}function MC(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Id;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ln;o=Id;var u=ln;if(Id=a,(ln=c)&&!u)for(ne=i;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?zw(i):c!==null?(c.return=a,ne=c):zw(i);for(;s!==null;)ne=s,MC(s),s=s.sibling;ne=i,Id=o,ln=u}Mw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Mw(e)}}function Mw(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||Ih(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_w(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_w(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}ln||t.flags&512&&uv(t)}catch(h){vt(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Uw(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function zw(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ih(4,t)}catch(c){vt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){vt(t,i,c)}}var s=t.return;try{uv(t)}catch(c){vt(t,s,c)}break;case 5:var a=t.return;try{uv(t)}catch(c){vt(t,a,c)}}}catch(c){vt(t,t.return,c)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var JF=Math.ceil,Yf=Mi.ReactCurrentDispatcher,gx=Mi.ReactCurrentOwner,pr=Mi.ReactCurrentBatchConfig,Me=0,zt=null,Et=null,Qt=0,Vn=0,_o=Ds(0),At=0,Kc=null,ba=0,Fh=0,vx=0,wc=null,In=null,yx=0,sl=1/0,_i=null,Jf=!1,hv=null,Ss=null,Fd=!1,ms=null,Xf=0,Sc=0,pv=null,gf=-1,vf=0;function jn(){return Me&6?wt():gf!==-1?gf:gf=wt()}function _s(e){return e.mode&1?Me&2&&Qt!==0?Qt&-Qt:IF.transition!==null?(vf===0&&(vf=_E()),vf):(e=qe,e!==0||(e=window.event,e=e===void 0?16:TE(e.type)),e):1}function Ar(e,t,n,r){if(50<Sc)throw Sc=0,pv=null,Error(Q(185));Hu(e,n,r),(!(Me&2)||e!==zt)&&(e===zt&&(!(Me&2)&&(Fh|=n),At===4&&as(e,Qt)),Un(e,r),n===1&&Me===0&&!(t.mode&1)&&(sl=wt()+500,Nh&&Ls()))}function Un(e,t){var n=e.callbackNode;II(e,t);var r=Ff(e,e===zt?Qt:0);if(r===0)n!==null&&Y0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Y0(n),t===1)e.tag===0?OF(Hw.bind(null,e)):GE(Hw.bind(null,e)),RF(function(){!(Me&6)&&Ls()}),n=null;else{switch(jE(r)){case 1:n=qy;break;case 4:n=wE;break;case 16:n=If;break;case 536870912:n=SE;break;default:n=If}n=QC(n,UC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function UC(e,t){if(gf=-1,vf=0,Me&6)throw Error(Q(327));var n=e.callbackNode;if(Ao()&&e.callbackNode!==n)return null;var r=Ff(e,e===zt?Qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zf(e,r);else{t=r;var i=Me;Me|=2;var s=HC();(zt!==e||Qt!==t)&&(_i=null,sl=wt()+500,pa(e,t));do try{eD();break}catch(o){zC(e,o)}while(!0);rx(),Yf.current=s,Me=i,Et!==null?t=0:(zt=null,Qt=0,t=At)}if(t!==0){if(t===2&&(i=zg(e),i!==0&&(r=i,t=mv(e,i))),t===1)throw n=Kc,pa(e,0),as(e,r),Un(e,wt()),n;if(t===6)as(e,r);else{if(i=e.current.alternate,!(r&30)&&!XF(i)&&(t=Zf(e,r),t===2&&(s=zg(e),s!==0&&(r=s,t=mv(e,s))),t===1))throw n=Kc,pa(e,0),as(e,r),Un(e,wt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Xs(e,In,_i);break;case 3:if(as(e,r),(r&130023424)===r&&(t=yx+500-wt(),10<t)){if(Ff(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gg(Xs.bind(null,e,In,_i),t);break}Xs(e,In,_i);break;case 4:if(as(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Nr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JF(r/1960))-r,10<r){e.timeoutHandle=Gg(Xs.bind(null,e,In,_i),r);break}Xs(e,In,_i);break;case 5:Xs(e,In,_i);break;default:throw Error(Q(329))}}}return Un(e,wt()),e.callbackNode===n?UC.bind(null,e):null}function mv(e,t){var n=wc;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=Zf(e,t),e!==2&&(t=In,In=n,t!==null&&gv(t)),e}function gv(e){In===null?In=e:In.push.apply(In,e)}function XF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function as(e,t){for(t&=~vx,t&=~Fh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nr(t),r=1<<n;e[n]=-1,t&=~r}}function Hw(e){if(Me&6)throw Error(Q(327));Ao();var t=Ff(e,0);if(!(t&1))return Un(e,wt()),null;var n=Zf(e,t);if(e.tag!==0&&n===2){var r=zg(e);r!==0&&(t=r,n=mv(e,r))}if(n===1)throw n=Kc,pa(e,0),as(e,t),Un(e,wt()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,In,_i),Un(e,wt()),null}function xx(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(sl=wt()+500,Nh&&Ls())}}function wa(e){ms!==null&&ms.tag===0&&!(Me&6)&&Ao();var t=Me;Me|=1;var n=pr.transition,r=qe;try{if(pr.transition=null,qe=1,e)return e()}finally{qe=r,pr.transition=n,Me=t,!(Me&6)&&Ls()}}function bx(){Vn=_o.current,it(_o)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kF(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uf();break;case 3:rl(),it($n),it(dn),cx();break;case 5:lx(r);break;case 4:rl();break;case 13:it(ut);break;case 19:it(ut);break;case 10:ix(r.type._context);break;case 22:case 23:bx()}n=n.return}if(zt=e,Et=e=js(e.current,null),Qt=Vn=t,At=0,Kc=null,vx=Fh=ba=0,In=wc=null,oa!==null){for(t=0;t<oa.length;t++)if(n=oa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}oa=null}return e}function zC(e,t){do{var n=Et;try{if(rx(),hf.current=Gf,Kf){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kf=!1}if(xa=0,$t=Tt=ft=null,xc=!1,Wc=0,gx.current=null,n===null||n.return===null){At=1,Kc=t,Et=null;break}e:{var s=e,a=n.return,o=n,c=t;if(t=Qt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Rw(a);if(p!==null){p.flags&=-257,Tw(p,a,o,s,t),p.mode&1&&kw(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){kw(s,u,t),wx();break e}c=Error(Q(426))}}else if(ot&&o.mode&1){var x=Rw(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Tw(x,a,o,s,t),tx(il(c,o));break e}}s=c=il(c,o),At!==4&&(At=2),wc===null?wc=[s]:wc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=jC(s,c,t);Sw(s,v);break e;case 1:o=c;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ss===null||!Ss.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=EC(s,o,t);Sw(s,S);break e}}s=s.return}while(s!==null)}qC(n)}catch(_){t=_,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function HC(){var e=Yf.current;return Yf.current=Gf,e===null?Gf:e}function wx(){(At===0||At===3||At===2)&&(At=4),zt===null||!(ba&268435455)&&!(Fh&268435455)||as(zt,Qt)}function Zf(e,t){var n=Me;Me|=2;var r=HC();(zt!==e||Qt!==t)&&(_i=null,pa(e,t));do try{ZF();break}catch(i){zC(e,i)}while(!0);if(rx(),Me=n,Yf.current=r,Et!==null)throw Error(Q(261));return zt=null,Qt=0,At}function ZF(){for(;Et!==null;)BC(Et)}function eD(){for(;Et!==null&&!EI();)BC(Et)}function BC(e){var t=VC(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?qC(e):Et=t,gx.current=null}function qC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QF(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Et=null;return}}else if(n=VF(n,t,Vn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);At===0&&(At=5)}function Xs(e,t,n){var r=qe,i=pr.transition;try{pr.transition=null,qe=1,tD(e,t,n,r)}finally{pr.transition=i,qe=r}return null}function tD(e,t,n,r){do Ao();while(ms!==null);if(Me&6)throw Error(Q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(FI(e,s),e===zt&&(Et=zt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fd||(Fd=!0,QC(If,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var a=qe;qe=1;var o=Me;Me|=4,gx.current=null,GF(e,n),$C(n,e),wF(Qg),Df=!!Vg,Qg=Vg=null,e.current=n,YF(n),CI(),Me=o,qe=a,pr.transition=s}else e.current=n;if(Fd&&(Fd=!1,ms=e,Xf=i),s=e.pendingLanes,s===0&&(Ss=null),RI(n.stateNode),Un(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jf)throw Jf=!1,e=hv,hv=null,e;return Xf&1&&e.tag!==0&&Ao(),s=e.pendingLanes,s&1?e===pv?Sc++:(Sc=0,pv=e):Sc=0,Ls(),null}function Ao(){if(ms!==null){var e=jE(Xf),t=pr.transition,n=qe;try{if(pr.transition=null,qe=16>e?16:e,ms===null)var r=!1;else{if(e=ms,ms=null,Xf=0,Me&6)throw Error(Q(331));var i=Me;for(Me|=4,ne=e.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:bc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,p=d.return;if(FC(d),d===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ne=v;break e}ne=s.return}}var y=e.current;for(ne=y;ne!==null;){a=ne;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ne=b;else e:for(a=y;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ih(9,o)}}catch(_){vt(o,o.return,_)}if(o===a){ne=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ne=S;break e}ne=o.return}}if(Me=i,Ls(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Ch,e)}catch{}r=!0}return r}finally{qe=n,pr.transition=t}}return!1}function Bw(e,t,n){t=il(n,t),t=jC(e,t,1),e=ws(e,t,1),t=jn(),e!==null&&(Hu(e,1,t),Un(e,t))}function vt(e,t,n){if(e.tag===3)Bw(e,e,n);else for(;t!==null;){if(t.tag===3){Bw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){e=il(n,e),e=EC(t,e,1),t=ws(t,e,1),e=jn(),t!==null&&(Hu(t,1,e),Un(t,e));break}}t=t.return}}function nD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Qt&n)===n&&(At===4||At===3&&(Qt&130023424)===Qt&&500>wt()-yx?pa(e,0):vx|=n),Un(e,t)}function WC(e,t){t===0&&(e.mode&1?(t=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):t=1);var n=jn();e=Oi(e,t),e!==null&&(Hu(e,t,n),Un(e,n))}function rD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WC(e,n)}function iD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),WC(e,n)}var VC;VC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dn=!1,WF(e,t,n);Dn=!!(e.flags&131072)}else Dn=!1,ot&&t.flags&1048576&&YE(t,Bf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mf(e,t),e=t.pendingProps;var i=el(t,dn.current);No(t,n),i=dx(null,t,r,e,i,n);var s=fx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(r)?(s=!0,zf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ax(t),i.updater=Oh,t.stateNode=i,i._reactInternals=t,nv(t,r,e,n),t=sv(null,t,r,!0,s,n)):(t.tag=0,ot&&s&&Zy(t),wn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=aD(r),e=jr(r,e),i){case 0:t=iv(null,t,r,e,n);break e;case 1:t=Ow(null,t,r,e,n);break e;case 11:t=Nw(null,t,r,e,n);break e;case 14:t=Aw(null,t,r,jr(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),iv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),Ow(e,t,r,i,n);case 3:e:{if(RC(t),e===null)throw Error(Q(387));r=t.pendingProps,s=t.memoizedState,i=s.element,nC(e,t),Vf(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=il(Error(Q(423)),t),t=Iw(e,t,r,n,i);break e}else if(r!==i){i=il(Error(Q(424)),t),t=Iw(e,t,r,n,i);break e}else for(Jn=bs(t.stateNode.containerInfo.firstChild),Xn=t,ot=!0,Rr=null,n=eC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tl(),r===i){t=Ii(e,t,n);break e}wn(e,t,r,n)}t=t.child}return t;case 5:return rC(t),e===null&&Zg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Kg(r,i)?a=null:s!==null&&Kg(r,s)&&(t.flags|=32),kC(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&Zg(t),null;case 13:return TC(e,t,n);case 4:return ox(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nl(t,null,r,n):wn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),Nw(e,t,r,i,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,tt(qf,r._currentValue),r._currentValue=a,s!==null)if(Lr(s.value,a)){if(s.children===i.children&&!$n.current){t=Ii(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ti(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ev(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ev(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}wn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,No(t,n),i=vr(i),r=r(i),t.flags|=1,wn(e,t,r,n),t.child;case 14:return r=t.type,i=jr(r,t.pendingProps),i=jr(r.type,i),Aw(e,t,r,i,n);case 15:return CC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),mf(e,t),t.tag=1,Mn(r)?(e=!0,zf(t)):e=!1,No(t,n),_C(t,r,i),nv(t,r,i,n),sv(null,t,r,!0,e,n);case 19:return NC(e,t,n);case 22:return PC(e,t,n)}throw Error(Q(156,t.tag))};function QC(e,t){return bE(e,t)}function sD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,n,r){return new sD(e,t,n,r)}function Sx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aD(e){if(typeof e=="function")return Sx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zy)return 11;if(e===Hy)return 14}return 2}function js(e,t){var n=e.alternate;return n===null?(n=hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Sx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ho:return ma(n.children,i,s,t);case Uy:a=8,i|=8;break;case Cg:return e=hr(12,n,t,i|2),e.elementType=Cg,e.lanes=s,e;case Pg:return e=hr(13,n,t,i),e.elementType=Pg,e.lanes=s,e;case kg:return e=hr(19,n,t,i),e.elementType=kg,e.lanes=s,e;case rE:return Dh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tE:a=10;break e;case nE:a=9;break e;case zy:a=11;break e;case Hy:a=14;break e;case rs:a=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=hr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ma(e,t,n,r){return e=hr(7,e,r,t),e.lanes=n,e}function Dh(e,t,n,r){return e=hr(22,e,r,t),e.elementType=rE,e.lanes=n,e.stateNode={isHidden:!1},e}function fm(e,t,n){return e=hr(6,e,null,t),e.lanes=n,e}function hm(e,t,n){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qp(0),this.expirationTimes=Qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _x(e,t,n,r,i,s,a,o,c){return e=new oD(e,t,n,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=hr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ax(s),e}function lD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KC(e){if(!e)return Rs;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Mn(n))return KE(e,n,t)}return t}function GC(e,t,n,r,i,s,a,o,c){return e=_x(n,r,!0,e,i,s,a,o,c),e.context=KC(null),n=e.current,r=jn(),i=_s(n),s=Ti(r,i),s.callback=t??null,ws(n,s,i),e.current.lanes=i,Hu(e,i,r),Un(e,r),e}function Lh(e,t,n,r){var i=t.current,s=jn(),a=_s(i);return n=KC(n),t.context===null?t.context=n:t.pendingContext=n,t=Ti(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ws(i,t,a),e!==null&&(Ar(e,i,a,s),ff(e,i,a)),a}function eh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jx(e,t){qw(e,t),(e=e.alternate)&&qw(e,t)}function cD(){return null}var YC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ex(e){this._internalRoot=e}$h.prototype.render=Ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Lh(e,t,null,null)};$h.prototype.unmount=Ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wa(function(){Lh(null,e,null,null)}),t[Ai]=null}};function $h(e){this._internalRoot=e}$h.prototype.unstable_scheduleHydration=function(e){if(e){var t=PE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ss.length&&t!==0&&t<ss[n].priority;n++);ss.splice(n,0,e),n===0&&RE(e)}};function Cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function uD(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=eh(a);s.call(u)}}var a=GC(t,r,e,0,null,!1,!1,"",Ww);return e._reactRootContainer=a,e[Ai]=a.current,Uc(e.nodeType===8?e.parentNode:e),wa(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=eh(c);o.call(u)}}var c=_x(e,0,!1,null,null,!1,!1,"",Ww);return e._reactRootContainer=c,e[Ai]=c.current,Uc(e.nodeType===8?e.parentNode:e),wa(function(){Lh(t,c,n,r)}),c}function Uh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=eh(a);o.call(c)}}Lh(t,a,e,i)}else a=uD(n,t,e,i,r);return eh(a)}EE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ic(t.pendingLanes);n!==0&&(Wy(t,n|1),Un(t,wt()),!(Me&6)&&(sl=wt()+500,Ls()))}break;case 13:wa(function(){var r=Oi(e,1);if(r!==null){var i=jn();Ar(r,e,1,i)}}),jx(e,1)}};Vy=function(e){if(e.tag===13){var t=Oi(e,134217728);if(t!==null){var n=jn();Ar(t,e,134217728,n)}jx(e,134217728)}};CE=function(e){if(e.tag===13){var t=_s(e),n=Oi(e,t);if(n!==null){var r=jn();Ar(n,e,t,r)}jx(e,t)}};PE=function(){return qe};kE=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};$g=function(e,t,n){switch(t){case"input":if(Ng(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Th(r);if(!i)throw Error(Q(90));sE(r),Ng(r,i)}}}break;case"textarea":oE(e,n);break;case"select":t=n.value,t!=null&&Po(e,!!n.multiple,t,!1)}};pE=xx;mE=wa;var dD={usingClientEntryPoint:!1,Events:[qu,vo,Th,fE,hE,xx]},ql={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yE(e),e===null?null:e.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||cD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Ch=Dd.inject(fD),ni=Dd}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dD;rr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cx(t))throw Error(Q(200));return lD(e,t,null,n)};rr.createRoot=function(e,t){if(!Cx(e))throw Error(Q(299));var n=!1,r="",i=YC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_x(e,1,!1,null,null,n,!1,r,i),e[Ai]=t.current,Uc(e.nodeType===8?e.parentNode:e),new Ex(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=yE(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return wa(e)};rr.hydrate=function(e,t,n){if(!Mh(t))throw Error(Q(200));return Uh(null,e,t,!0,n)};rr.hydrateRoot=function(e,t,n){if(!Cx(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=YC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=GC(t,null,e,1,n??null,i,!1,s,a),e[Ai]=t.current,Uc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $h(t)};rr.render=function(e,t,n){if(!Mh(t))throw Error(Q(200));return Uh(null,e,t,!1,n)};rr.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(Q(40));return e._reactRootContainer?(wa(function(){Uh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};rr.unstable_batchedUpdates=xx;rr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mh(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Uh(e,t,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(e){console.error(e)}}JC(),Jj.exports=rr;var Aa=Jj.exports;const XC=Ra(Aa);var ZC,Vw=Aa;ZC=Vw.createRoot,Vw.hydrateRoot;const hD=1,pD=1e6;let pm=0;function mD(){return pm=(pm+1)%Number.MAX_SAFE_INTEGER,pm.toString()}const mm=new Map,Qw=e=>{if(mm.has(e))return;const t=setTimeout(()=>{mm.delete(e),_c({type:"REMOVE_TOAST",toastId:e})},pD);mm.set(e,t)},gD=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Qw(n):e.toasts.forEach(r=>{Qw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},xf=[];let bf={toasts:[]};function _c(e){bf=gD(bf,e),xf.forEach(t=>{t(bf)})}function vD({...e}){const t=mD(),n=i=>_c({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>_c({type:"DISMISS_TOAST",toastId:t});return _c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Yt(){const[e,t]=w.useState(bf);return w.useEffect(()=>(xf.push(t),()=>{const n=xf.indexOf(t);n>-1&&xf.splice(n,1)}),[e]),{...e,toast:vD,dismiss:n=>_c({type:"DISMISS_TOAST",toastId:n})}}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function yD(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function eP(...e){return t=>e.forEach(n=>yD(n,t))}function ze(...e){return w.useCallback(eP(...e),e)}function xD(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,x=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=w.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,bD(i,...t)]}function bD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Sa=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(wD);if(s){const a=s.props.children,o=i.map(c=>c===s?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:c);return l.jsx(vv,{...r,ref:t,children:w.isValidElement(a)?w.cloneElement(a,void 0,o):null})}return l.jsx(vv,{...r,ref:t,children:n})});Sa.displayName="Slot";var vv=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const i=_D(n);return w.cloneElement(n,{...SD(r,n.props),ref:t?eP(t,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});vv.displayName="SlotClone";var Px=({children:e})=>l.jsx(l.Fragment,{children:e});function wD(e){return w.isValidElement(e)&&e.type===Px}function SD(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function _D(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kx(e){const t=e+"CollectionProvider",[n,r]=xD(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,x=q.useRef(null),v=q.useRef(new Map).current;return l.jsx(i,{scope:g,itemMap:v,collectionRef:x,children:m})};a.displayName=t;const o=e+"CollectionSlot",c=q.forwardRef((p,g)=>{const{scope:m,children:x}=p,v=s(o,m),y=ze(g,v.collectionRef);return l.jsx(Sa,{ref:y,children:x})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=q.forwardRef((p,g)=>{const{scope:m,children:x,...v}=p,y=q.useRef(null),b=ze(g,y),S=s(u,m);return q.useEffect(()=>(S.itemMap.set(y,{ref:y,...v}),()=>void S.itemMap.delete(y))),l.jsx(Sa,{[d]:"",ref:b,children:x})});f.displayName=u;function h(p){const g=s(e+"CollectionConsumer",p);return q.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function jD(e,t){const n=w.createContext(t),r=s=>{const{children:a,...o}=s,c=w.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=w.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Ui(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||o,x=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=w.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,ED(i,...t)]}function ED(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var CD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=CD.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?Sa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tP(e,t){e&&Aa.flushSync(()=>e.dispatchEvent(t))}function zn(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function PD(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kD="DismissableLayer",yv="dismissableLayer.update",RD="dismissableLayer.pointerDownOutside",TD="dismissableLayer.focusOutside",Kw,nP=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vu=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=w.useContext(nP),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),g=ze(t,k=>f(k)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,_=AD(k=>{const R=k.target,F=[...u.branches].some(P=>P.contains(R));!S||F||(i==null||i(k),a==null||a(k),k.defaultPrevented||o==null||o())},h),j=OD(k=>{const R=k.target;[...u.branches].some(P=>P.contains(R))||(s==null||s(k),a==null||a(k),k.defaultPrevented||o==null||o())},h);return PD(k=>{y===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},h),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Gw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Kw)}},[d,h,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Gw())},[d,u]),w.useEffect(()=>{const k=()=>p({});return document.addEventListener(yv,k),()=>document.removeEventListener(yv,k)},[]),l.jsx(ge.div,{...c,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,_.onPointerDownCapture)})});Vu.displayName=kD;var ND="DismissableLayerBranch",rP=w.forwardRef((e,t)=>{const n=w.useContext(nP),r=w.useRef(null),i=ze(t,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(ge.div,{...e,ref:i})});rP.displayName=ND;function AD(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){iP(RD,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OD(e,t=globalThis==null?void 0:globalThis.document){const n=zn(e),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&iP(TD,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gw(){const e=new CustomEvent(yv);document.dispatchEvent(e)}function iP(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tP(i,s):i.dispatchEvent(s)}var ID=Vu,FD=rP,Gt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},DD="Portal",zh=w.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=w.useState(!1);Gt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?XC.createPortal(l.jsx(ge.div,{...r,ref:t}),a):null});zh.displayName=DD;function LD(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var zi=e=>{const{present:t,children:n}=e,r=$D(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=ze(r.ref,MD(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};zi.displayName="Presence";function $D(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),a=e?"mounted":"unmounted",[o,c]=LD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Ld(r.current);s.current=o==="mounted"?u:"none"},[o]),Gt(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=Ld(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Gt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ld(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(s.current=Ld(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function MD(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function si({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=UD({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=zn(n),c=w.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else i(u)},[s,e,i,o]);return[a,c]}function UD({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),s=zn(t);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var zD="VisuallyHidden",Qu=w.forwardRef((e,t)=>l.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Qu.displayName=zD;var HD=Qu,Rx="ToastProvider",[Tx,BD,qD]=kx("Toast"),[sP,cne]=Ui("Toast",[qD]),[WD,Hh]=sP(Rx),aP=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rx}\`. Expected non-empty \`string\`.`),l.jsx(Tx.Provider,{scope:t,children:l.jsx(WD,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};aP.displayName=Rx;var oP="ToastViewport",VD=["F8"],xv="toast.viewportPause",bv="toast.viewportResume",lP=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=VD,label:i="Notifications ({hotkey})",...s}=e,a=Hh(oP,n),o=BD(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=ze(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;w.useEffect(()=>{const x=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),w.useEffect(()=>{const x=c.current,v=f.current;if(g&&x&&v){const y=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(xv);v.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(bv);v.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!x.contains(j.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:x})=>{const y=o().map(b=>{const S=b.ref.current,_=[S,...sL(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[o]);return w.useEffect(()=>{const x=f.current;if(x){const v=y=>{var _,j,k;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const R=document.activeElement,F=y.shiftKey;if(y.target===x&&F){(_=u.current)==null||_.focus();return}const O=m({tabbingDirection:F?"backwards":"forwards"}),z=O.findIndex(N=>N===R);gm(O.slice(z+1))?y.preventDefault():F?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[o,m]),l.jsxs(FD,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(wv,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});gm(x)}}),l.jsx(Tx.Slot,{scope:n,children:l.jsx(ge.ol,{tabIndex:-1,...s,ref:h})}),g&&l.jsx(wv,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});gm(x)}})]})});lP.displayName=oP;var cP="ToastFocusProxy",wv=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Hh(cP,n);return l.jsx(Qu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});wv.displayName=cP;var Bh="Toast",QD="toast.swipeStart",KD="toast.swipeMove",GD="toast.swipeCancel",YD="toast.swipeEnd",uP=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,c]=si({prop:r,defaultProp:i,onChange:s});return l.jsx(zi,{present:n||o,children:l.jsx(ZD,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:zn(e.onPause),onResume:zn(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});uP.displayName=Bh;var[JD,XD]=sP(Bh,{onClose(){}}),ZD=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=Hh(Bh,n),[x,v]=w.useState(null),y=ze(t,N=>v(N)),b=w.useRef(null),S=w.useRef(null),_=i||m.duration,j=w.useRef(0),k=w.useRef(_),R=w.useRef(0),{onToastAdd:F,onToastRemove:P}=m,I=zn(()=>{var M;(x==null?void 0:x.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),a()}),O=w.useCallback(N=>{!N||N===1/0||(window.clearTimeout(R.current),j.current=new Date().getTime(),R.current=window.setTimeout(I,N))},[I]);w.useEffect(()=>{const N=m.viewport;if(N){const M=()=>{O(k.current),u==null||u()},A=()=>{const D=new Date().getTime()-j.current;k.current=k.current-D,window.clearTimeout(R.current),c==null||c()};return N.addEventListener(xv,A),N.addEventListener(bv,M),()=>{N.removeEventListener(xv,A),N.removeEventListener(bv,M)}}},[m.viewport,_,c,u,O]),w.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(_)},[s,_,m.isClosePausedRef,O]),w.useEffect(()=>(F(),()=>P()),[F,P]);const z=w.useMemo(()=>x?vP(x):null,[x]);return m.viewport?l.jsxs(l.Fragment,{children:[z&&l.jsx(eL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),l.jsx(JD,{scope:n,onClose:I,children:Aa.createPortal(l.jsx(Tx.ItemSlot,{scope:n,children:l.jsx(ID,{asChild:!0,onEscapeKeyDown:ce(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,N=>{N.key==="Escape"&&(o==null||o(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ce(e.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:ce(e.onPointerMove,N=>{if(!b.current)return;const M=N.clientX-b.current.x,A=N.clientY-b.current.y,D=!!S.current,E=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,C=E?L(0,M):0,$=E?0:L(0,A),H=N.pointerType==="touch"?10:2,T={x:C,y:$},te={originalEvent:N,delta:T};D?(S.current=T,$d(KD,f,te,{discrete:!1})):Yw(T,m.swipeDirection,H)?(S.current=T,$d(QD,d,te,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(M)>H||Math.abs(A)>H)&&(b.current=null)}),onPointerUp:ce(e.onPointerUp,N=>{const M=S.current,A=N.target;if(A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),S.current=null,b.current=null,M){const D=N.currentTarget,E={originalEvent:N,delta:M};Yw(M,m.swipeDirection,m.swipeThreshold)?$d(YD,p,E,{discrete:!0}):$d(GD,h,E,{discrete:!0}),D.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),eL=e=>{const{__scopeToast:t,children:n,...r}=e,i=Hh(Bh,t),[s,a]=w.useState(!1),[o,c]=w.useState(!1);return rL(()=>a(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(zh,{asChild:!0,children:l.jsx(Qu,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},tL="ToastTitle",dP=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ge.div,{...r,ref:t})});dP.displayName=tL;var nL="ToastDescription",fP=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ge.div,{...r,ref:t})});fP.displayName=nL;var hP="ToastAction",pP=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(gP,{altText:n,asChild:!0,children:l.jsx(Nx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hP}\`. Expected non-empty \`string\`.`),null)});pP.displayName=hP;var mP="ToastClose",Nx=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=XD(mP,n);return l.jsx(gP,{asChild:!0,children:l.jsx(ge.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,i.onClose)})})});Nx.displayName=mP;var gP=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function vP(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),iL(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...vP(r))}}),t}function $d(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tP(i,s):i.dispatchEvent(s)}var Yw=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function rL(e=()=>{}){const t=zn(e);Gt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function iL(e){return e.nodeType===e.ELEMENT_NODE}function sL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var aL=aP,yP=lP,xP=uP,bP=dP,wP=fP,SP=pP,_P=Nx;function jP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=jP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function EP(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=jP(e))&&(r&&(r+=" "),r+=t);return r}const Jw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xw=EP,Ku=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Xw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Jw(d)||Jw(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...s,...o}[m]):{...s,...o}[m]===x})?[...u,f,h]:u},[]);return Xw(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>w.createElement("svg",{ref:c,...lL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CP("lucide",i),...o},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(cL,{ref:s,iconNode:t,className:CP(`lucide-${oL(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=xe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=xe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lx="-",CL=e=>{const t=kL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Lx);return o[0]===""&&o.length!==1&&o.shift(),IP(o,t)||PL(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},IP=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?IP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Lx);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},eS=/^\[(.+)\]$/,PL=e=>{if(eS.test(e)){const t=eS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},kL=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return TL(Object.entries(e.classGroups),n).forEach(([s,a])=>{_v(a,r,s,t)}),r},_v=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:tS(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(RL(i)){_v(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{_v(a,tS(t,s),n,r)})})},tS=(e,t)=>{let n=e;return t.split(Lx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RL=e=>e.isThemeGetter,TL=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,NL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},FP="!",AL=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let x=0;x<o.length;x++){let v=o[x];if(u===0){if(v===i&&(r||o.slice(x,x+s)===t)){c.push(o.slice(d,x)),d=x+s;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(FP),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},OL=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},IL=e=>({cache:NL(e.cacheSize),parseClassName:AL(e),...CL(e)}),FL=/\s+/,DL=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(FL);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const x=OL(d).join(":"),v=f?x+FP:x,y=v+m;if(s.includes(y))continue;s.push(y);const b=i(m,g);for(let S=0;S<b.length;++S){const _=b[S];s.push(v+_)}o=u+(o.length>0?" "+o:o)}return o};function LL(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=DP(t))&&(r&&(r+=" "),r+=n);return r}const DP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=DP(e[r]))&&(n&&(n+=" "),n+=t);return n};function $L(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=IL(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=DL(c,n);return i(c,d),d}return function(){return s(LL.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},LP=/^\[(?:([a-z-]+):)?(.+)\]$/i,ML=/^\d+\/\d+$/,UL=new Set(["px","full","screen"]),zL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vi=e=>Oo(e)||UL.has(e)||ML.test(e),Qi=e=>wl(e,"length",ZL),Oo=e=>!!e&&!Number.isNaN(Number(e)),vm=e=>wl(e,"number",Oo),Wl=e=>!!e&&Number.isInteger(Number(e)),VL=e=>e.endsWith("%")&&Oo(e.slice(0,-1)),_e=e=>LP.test(e),Ki=e=>zL.test(e),QL=new Set(["length","size","percentage"]),KL=e=>wl(e,QL,$P),GL=e=>wl(e,"position",$P),YL=new Set(["image","url"]),JL=e=>wl(e,YL,t$),XL=e=>wl(e,"",e$),Vl=()=>!0,wl=(e,t,n)=>{const r=LP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ZL=e=>HL.test(e)&&!BL.test(e),$P=()=>!1,e$=e=>qL.test(e),t$=e=>WL.test(e),n$=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),s=nt("borderRadius"),a=nt("borderSpacing"),o=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),d=nt("hueRotate"),f=nt("invert"),h=nt("gap"),p=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),m=nt("inset"),x=nt("margin"),v=nt("opacity"),y=nt("padding"),b=nt("saturate"),S=nt("scale"),_=nt("sepia"),j=nt("skew"),k=nt("space"),R=nt("translate"),F=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",_e,t],O=()=>[_e,t],z=()=>["",vi,Qi],N=()=>["auto",Oo,_e],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",_e],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Oo,_e];return{cacheSize:500,separator:":",theme:{colors:[Vl],spacing:[vi,Qi],blur:["none","",Ki,_e],brightness:$(),borderColor:[e],borderRadius:["none","","full",Ki,_e],borderSpacing:O(),borderWidth:z(),contrast:$(),grayscale:L(),hueRotate:$(),invert:L(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[VL,Qi],inset:I(),margin:I(),opacity:$(),padding:O(),saturate:$(),scale:$(),sepia:L(),skew:$(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),_e]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,_e]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Wl,_e]}],"grid-cols":[{"grid-cols":[Vl]}],"col-start-end":[{col:["auto",{span:["full",Wl,_e]},_e]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Vl]}],"row-start-end":[{row:["auto",{span:[Wl,_e]},_e]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,Qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vm]}],"font-family":[{font:[Vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Oo,vm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vi,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vi,Qi]}],"underline-offset":[{"underline-offset":["auto",vi,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),GL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:A()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[vi,_e]}],"outline-w":[{outline:[vi,Qi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[vi,Qi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ki,XL]}],"shadow-color":[{shadow:[Vl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ki,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Wl,_e]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vi,Qi,vm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r$=$L(n$);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var ym,nS;function rS(){if(nS)return ym;nS=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:o}=Object,{apply:c,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(re){return re}),a||(a=function(re){return re}),c||(c=function(re,Fe,Pe){return re.apply(Fe,Pe)}),u||(u=function(re,Fe){return new re(...Fe)});const d=R(Array.prototype.forEach),f=R(Array.prototype.lastIndexOf),h=R(Array.prototype.pop),p=R(Array.prototype.push),g=R(Array.prototype.splice),m=R(String.prototype.toLowerCase),x=R(String.prototype.toString),v=R(String.prototype.match),y=R(String.prototype.replace),b=R(String.prototype.indexOf),S=R(String.prototype.trim),_=R(Object.prototype.hasOwnProperty),j=R(RegExp.prototype.test),k=F(TypeError);function R(Ce){return function(re){re instanceof RegExp&&(re.lastIndex=0);for(var Fe=arguments.length,Pe=new Array(Fe>1?Fe-1:0),B=1;B<Fe;B++)Pe[B-1]=arguments[B];return c(Ce,re,Pe)}}function F(Ce){return function(){for(var re=arguments.length,Fe=new Array(re),Pe=0;Pe<re;Pe++)Fe[Pe]=arguments[Pe];return u(Ce,Fe)}}function P(Ce,re){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;t&&t(Ce,null);let Pe=re.length;for(;Pe--;){let B=re[Pe];if(typeof B=="string"){const V=Fe(B);V!==B&&(n(re)||(re[Pe]=V),B=V)}Ce[B]=!0}return Ce}function I(Ce){for(let re=0;re<Ce.length;re++)_(Ce,re)||(Ce[re]=null);return Ce}function O(Ce){const re=o(null);for(const[Fe,Pe]of e(Ce))_(Ce,Fe)&&(Array.isArray(Pe)?re[Fe]=I(Pe):Pe&&typeof Pe=="object"&&Pe.constructor===Object?re[Fe]=O(Pe):re[Fe]=Pe);return re}function z(Ce,re){for(;Ce!==null;){const Pe=i(Ce,re);if(Pe){if(Pe.get)return R(Pe.get);if(typeof Pe.value=="function")return R(Pe.value)}Ce=r(Ce)}function Fe(){return null}return Fe}const N=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=s(["#text"]),$=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),H=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),T=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),te=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ie=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X=a(/<%[\w\W]*|[\w\W]*%>/gm),ee=a(/\$\{[\w\W]*/gm),se=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),me=a(/^aria-[\-\w]+$/),oe=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ye=a(/^(?:\w+script|data):/i),Ee=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pt=a(/^html$/i),Ct=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pt=Object.freeze({__proto__:null,ARIA_ATTR:me,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:Ct,DATA_ATTR:se,DOCTYPE_NAME:pt,ERB_EXPR:X,IS_ALLOWED_URI:oe,IS_SCRIPT_OR_DATA:ye,MUSTACHE_EXPR:ie,TMPLIT_EXPR:ee});const lt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},sr=function(){return typeof window>"u"?null:window},qs=function(re,Fe){if(typeof re!="object"||typeof re.createPolicy!="function")return null;let Pe=null;const B="data-tt-policy-suffix";Fe&&Fe.hasAttribute(B)&&(Pe=Fe.getAttribute(B));const V="dompurify"+(Pe?"#"+Pe:"");try{return re.createPolicy(V,{createHTML(de){return de},createScriptURL(de){return de}})}catch{return console.warn("TrustedTypes policy "+V+" could not be created."),null}},ct=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ar(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sr();const re=le=>ar(le);if(re.version="3.2.6",re.removed=[],!Ce||!Ce.document||Ce.document.nodeType!==lt.document||!Ce.Element)return re.isSupported=!1,re;let{document:Fe}=Ce;const Pe=Fe,B=Pe.currentScript,{DocumentFragment:V,HTMLTemplateElement:de,Node:ve,Element:Le,NodeFilter:kt,NamedNodeMap:or=Ce.NamedNodeMap||Ce.MozNamedAttrMap,HTMLFormElement:Pn,DOMParser:hi,trustedTypes:kn}=Ce,We=Le.prototype,zr=z(We,"cloneNode"),fe=z(We,"remove"),Ke=z(We,"nextSibling"),Ve=z(We,"childNodes"),mn=z(We,"parentNode");if(typeof de=="function"){const le=Fe.createElement("template");le.content&&le.content.ownerDocument&&(Fe=le.content.ownerDocument)}let Ye,Hr="";const{implementation:Al,createNodeIterator:S2,createDocumentFragment:_2,getElementsByTagName:j2}=Fe,{importNode:E2}=Pe;let gn=ct();re.isSupported=typeof e=="function"&&typeof mn=="function"&&Al&&Al.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Pp,ERB_EXPR:kp,TMPLIT_EXPR:Rp,DATA_ATTR:C2,ARIA_ATTR:P2,IS_SCRIPT_OR_DATA:k2,ATTR_WHITESPACE:f0,CUSTOM_ELEMENT:R2}=Pt;let{IS_ALLOWED_URI:h0}=Pt,Ot=null;const p0=P({},[...N,...M,...A,...E,...C]);let Ht=null;const m0=P({},[...$,...H,...T,...te]);let yt=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ol=null,Tp=null,g0=!0,Np=!0,v0=!1,y0=!0,Ma=!1,fd=!0,Ws=!1,Ap=!1,Op=!1,Ua=!1,hd=!1,pd=!1,x0=!0,b0=!1;const T2="user-content-";let Ip=!0,Il=!1,za={},Ha=null;const w0=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let S0=null;const _0=P({},["audio","video","img","source","image","track"]);let Fp=null;const j0=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),md="http://www.w3.org/1998/Math/MathML",gd="http://www.w3.org/2000/svg",pi="http://www.w3.org/1999/xhtml";let Ba=pi,Dp=!1,Lp=null;const N2=P({},[md,gd,pi],x);let vd=P({},["mi","mo","mn","ms","mtext"]),yd=P({},["annotation-xml"]);const A2=P({},["title","style","font","a","script"]);let Fl=null;const O2=["application/xhtml+xml","text/html"],I2="text/html";let It=null,qa=null;const F2=Fe.createElement("form"),E0=function(U){return U instanceof RegExp||U instanceof Function},$p=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qa&&qa===U)){if((!U||typeof U!="object")&&(U={}),U=O(U),Fl=O2.indexOf(U.PARSER_MEDIA_TYPE)===-1?I2:U.PARSER_MEDIA_TYPE,It=Fl==="application/xhtml+xml"?x:m,Ot=_(U,"ALLOWED_TAGS")?P({},U.ALLOWED_TAGS,It):p0,Ht=_(U,"ALLOWED_ATTR")?P({},U.ALLOWED_ATTR,It):m0,Lp=_(U,"ALLOWED_NAMESPACES")?P({},U.ALLOWED_NAMESPACES,x):N2,Fp=_(U,"ADD_URI_SAFE_ATTR")?P(O(j0),U.ADD_URI_SAFE_ATTR,It):j0,S0=_(U,"ADD_DATA_URI_TAGS")?P(O(_0),U.ADD_DATA_URI_TAGS,It):_0,Ha=_(U,"FORBID_CONTENTS")?P({},U.FORBID_CONTENTS,It):w0,Ol=_(U,"FORBID_TAGS")?P({},U.FORBID_TAGS,It):O({}),Tp=_(U,"FORBID_ATTR")?P({},U.FORBID_ATTR,It):O({}),za=_(U,"USE_PROFILES")?U.USE_PROFILES:!1,g0=U.ALLOW_ARIA_ATTR!==!1,Np=U.ALLOW_DATA_ATTR!==!1,v0=U.ALLOW_UNKNOWN_PROTOCOLS||!1,y0=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ma=U.SAFE_FOR_TEMPLATES||!1,fd=U.SAFE_FOR_XML!==!1,Ws=U.WHOLE_DOCUMENT||!1,Ua=U.RETURN_DOM||!1,hd=U.RETURN_DOM_FRAGMENT||!1,pd=U.RETURN_TRUSTED_TYPE||!1,Op=U.FORCE_BODY||!1,x0=U.SANITIZE_DOM!==!1,b0=U.SANITIZE_NAMED_PROPS||!1,Ip=U.KEEP_CONTENT!==!1,Il=U.IN_PLACE||!1,h0=U.ALLOWED_URI_REGEXP||oe,Ba=U.NAMESPACE||pi,vd=U.MATHML_TEXT_INTEGRATION_POINTS||vd,yd=U.HTML_INTEGRATION_POINTS||yd,yt=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&E0(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&E0(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yt.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ma&&(Np=!1),hd&&(Ua=!0),za&&(Ot=P({},C),Ht=[],za.html===!0&&(P(Ot,N),P(Ht,$)),za.svg===!0&&(P(Ot,M),P(Ht,H),P(Ht,te)),za.svgFilters===!0&&(P(Ot,A),P(Ht,H),P(Ht,te)),za.mathMl===!0&&(P(Ot,E),P(Ht,T),P(Ht,te))),U.ADD_TAGS&&(Ot===p0&&(Ot=O(Ot)),P(Ot,U.ADD_TAGS,It)),U.ADD_ATTR&&(Ht===m0&&(Ht=O(Ht)),P(Ht,U.ADD_ATTR,It)),U.ADD_URI_SAFE_ATTR&&P(Fp,U.ADD_URI_SAFE_ATTR,It),U.FORBID_CONTENTS&&(Ha===w0&&(Ha=O(Ha)),P(Ha,U.FORBID_CONTENTS,It)),Ip&&(Ot["#text"]=!0),Ws&&P(Ot,["html","head","body"]),Ot.table&&(P(Ot,["tbody"]),delete Ol.tbody),U.TRUSTED_TYPES_POLICY){if(typeof U.TRUSTED_TYPES_POLICY.createHTML!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof U.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ye=U.TRUSTED_TYPES_POLICY,Hr=Ye.createHTML("")}else Ye===void 0&&(Ye=qs(kn,B)),Ye!==null&&typeof Hr=="string"&&(Hr=Ye.createHTML(""));s&&s(U),qa=U}},C0=P({},[...M,...A,...D]),P0=P({},[...E,...L]),D2=function(U){let G=mn(U);(!G||!G.tagName)&&(G={namespaceURI:Ba,tagName:"template"});const ae=m(U.tagName),st=m(G.tagName);return Lp[U.namespaceURI]?U.namespaceURI===gd?G.namespaceURI===pi?ae==="svg":G.namespaceURI===md?ae==="svg"&&(st==="annotation-xml"||vd[st]):!!C0[ae]:U.namespaceURI===md?G.namespaceURI===pi?ae==="math":G.namespaceURI===gd?ae==="math"&&yd[st]:!!P0[ae]:U.namespaceURI===pi?G.namespaceURI===gd&&!yd[st]||G.namespaceURI===md&&!vd[st]?!1:!P0[ae]&&(A2[ae]||!C0[ae]):!!(Fl==="application/xhtml+xml"&&Lp[U.namespaceURI]):!1},Br=function(U){p(re.removed,{element:U});try{mn(U).removeChild(U)}catch{fe(U)}},Wa=function(U,G){try{p(re.removed,{attribute:G.getAttributeNode(U),from:G})}catch{p(re.removed,{attribute:null,from:G})}if(G.removeAttribute(U),U==="is")if(Ua||hd)try{Br(G)}catch{}else try{G.setAttribute(U,"")}catch{}},k0=function(U){let G=null,ae=null;if(Op)U="<remove></remove>"+U;else{const Rt=v(U,/^[\r\n\t ]+/);ae=Rt&&Rt[0]}Fl==="application/xhtml+xml"&&Ba===pi&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");const st=Ye?Ye.createHTML(U):U;if(Ba===pi)try{G=new hi().parseFromString(st,Fl)}catch{}if(!G||!G.documentElement){G=Al.createDocument(Ba,"template",null);try{G.documentElement.innerHTML=Dp?Hr:st}catch{}}const Jt=G.body||G.documentElement;return U&&ae&&Jt.insertBefore(Fe.createTextNode(ae),Jt.childNodes[0]||null),Ba===pi?j2.call(G,Ws?"html":"body")[0]:Ws?G.documentElement:Jt},R0=function(U){return S2.call(U.ownerDocument||U,U,kt.SHOW_ELEMENT|kt.SHOW_COMMENT|kt.SHOW_TEXT|kt.SHOW_PROCESSING_INSTRUCTION|kt.SHOW_CDATA_SECTION,null)},Mp=function(U){return U instanceof Pn&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof or)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},T0=function(U){return typeof ve=="function"&&U instanceof ve};function mi(le,U,G){d(le,ae=>{ae.call(re,U,G,qa)})}const N0=function(U){let G=null;if(mi(gn.beforeSanitizeElements,U,null),Mp(U))return Br(U),!0;const ae=It(U.nodeName);if(mi(gn.uponSanitizeElement,U,{tagName:ae,allowedTags:Ot}),fd&&U.hasChildNodes()&&!T0(U.firstElementChild)&&j(/<[/\w!]/g,U.innerHTML)&&j(/<[/\w!]/g,U.textContent)||U.nodeType===lt.progressingInstruction||fd&&U.nodeType===lt.comment&&j(/<[/\w]/g,U.data))return Br(U),!0;if(!Ot[ae]||Ol[ae]){if(!Ol[ae]&&O0(ae)&&(yt.tagNameCheck instanceof RegExp&&j(yt.tagNameCheck,ae)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ae)))return!1;if(Ip&&!Ha[ae]){const st=mn(U)||U.parentNode,Jt=Ve(U)||U.childNodes;if(Jt&&st){const Rt=Jt.length;for(let Rn=Rt-1;Rn>=0;--Rn){const gi=zr(Jt[Rn],!0);gi.__removalCount=(U.__removalCount||0)+1,st.insertBefore(gi,Ke(U))}}}return Br(U),!0}return U instanceof Le&&!D2(U)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&j(/<\/no(script|embed|frames)/i,U.innerHTML)?(Br(U),!0):(Ma&&U.nodeType===lt.text&&(G=U.textContent,d([Pp,kp,Rp],st=>{G=y(G,st," ")}),U.textContent!==G&&(p(re.removed,{element:U.cloneNode()}),U.textContent=G)),mi(gn.afterSanitizeElements,U,null),!1)},A0=function(U,G,ae){if(x0&&(G==="id"||G==="name")&&(ae in Fe||ae in F2))return!1;if(!(Np&&!Tp[G]&&j(C2,G))){if(!(g0&&j(P2,G))){if(!Ht[G]||Tp[G]){if(!(O0(U)&&(yt.tagNameCheck instanceof RegExp&&j(yt.tagNameCheck,U)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(U))&&(yt.attributeNameCheck instanceof RegExp&&j(yt.attributeNameCheck,G)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(G))||G==="is"&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&j(yt.tagNameCheck,ae)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ae))))return!1}else if(!Fp[G]){if(!j(h0,y(ae,f0,""))){if(!((G==="src"||G==="xlink:href"||G==="href")&&U!=="script"&&b(ae,"data:")===0&&S0[U])){if(!(v0&&!j(k2,y(ae,f0,"")))){if(ae)return!1}}}}}}return!0},O0=function(U){return U!=="annotation-xml"&&v(U,R2)},I0=function(U){mi(gn.beforeSanitizeAttributes,U,null);const{attributes:G}=U;if(!G||Mp(U))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ht,forceKeepAttr:void 0};let st=G.length;for(;st--;){const Jt=G[st],{name:Rt,namespaceURI:Rn,value:gi}=Jt,Dl=It(Rt),Up=gi;let Xt=Rt==="value"?Up:S(Up);if(ae.attrName=Dl,ae.attrValue=Xt,ae.keepAttr=!0,ae.forceKeepAttr=void 0,mi(gn.uponSanitizeAttribute,U,ae),Xt=ae.attrValue,b0&&(Dl==="id"||Dl==="name")&&(Wa(Rt,U),Xt=T2+Xt),fd&&j(/((--!?|])>)|<\/(style|title)/i,Xt)){Wa(Rt,U);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){Wa(Rt,U);continue}if(!y0&&j(/\/>/i,Xt)){Wa(Rt,U);continue}Ma&&d([Pp,kp,Rp],D0=>{Xt=y(Xt,D0," ")});const F0=It(U.nodeName);if(!A0(F0,Dl,Xt)){Wa(Rt,U);continue}if(Ye&&typeof kn=="object"&&typeof kn.getAttributeType=="function"&&!Rn)switch(kn.getAttributeType(F0,Dl)){case"TrustedHTML":{Xt=Ye.createHTML(Xt);break}case"TrustedScriptURL":{Xt=Ye.createScriptURL(Xt);break}}if(Xt!==Up)try{Rn?U.setAttributeNS(Rn,Rt,Xt):U.setAttribute(Rt,Xt),Mp(U)?Br(U):h(re.removed)}catch{Wa(Rt,U)}}mi(gn.afterSanitizeAttributes,U,null)},L2=function le(U){let G=null;const ae=R0(U);for(mi(gn.beforeSanitizeShadowDOM,U,null);G=ae.nextNode();)mi(gn.uponSanitizeShadowNode,G,null),N0(G),I0(G),G.content instanceof V&&le(G.content);mi(gn.afterSanitizeShadowDOM,U,null)};return re.sanitize=function(le){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=null,ae=null,st=null,Jt=null;if(Dp=!le,Dp&&(le="<!-->"),typeof le!="string"&&!T0(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw k("dirty is not a string, aborting")}else throw k("toString is not a function");if(!re.isSupported)return le;if(Ap||$p(U),re.removed=[],typeof le=="string"&&(Il=!1),Il){if(le.nodeName){const gi=It(le.nodeName);if(!Ot[gi]||Ol[gi])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof ve)G=k0("<!---->"),ae=G.ownerDocument.importNode(le,!0),ae.nodeType===lt.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?G=ae:G.appendChild(ae);else{if(!Ua&&!Ma&&!Ws&&le.indexOf("<")===-1)return Ye&&pd?Ye.createHTML(le):le;if(G=k0(le),!G)return Ua?null:pd?Hr:""}G&&Op&&Br(G.firstChild);const Rt=R0(Il?le:G);for(;st=Rt.nextNode();)N0(st),I0(st),st.content instanceof V&&L2(st.content);if(Il)return le;if(Ua){if(hd)for(Jt=_2.call(G.ownerDocument);G.firstChild;)Jt.appendChild(G.firstChild);else Jt=G;return(Ht.shadowroot||Ht.shadowrootmode)&&(Jt=E2.call(Pe,Jt,!0)),Jt}let Rn=Ws?G.outerHTML:G.innerHTML;return Ws&&Ot["!doctype"]&&G.ownerDocument&&G.ownerDocument.doctype&&G.ownerDocument.doctype.name&&j(pt,G.ownerDocument.doctype.name)&&(Rn="<!DOCTYPE "+G.ownerDocument.doctype.name+`>
`+Rn),Ma&&d([Pp,kp,Rp],gi=>{Rn=y(Rn,gi," ")}),Ye&&pd?Ye.createHTML(Rn):Rn},re.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$p(le),Ap=!0},re.clearConfig=function(){qa=null,Ap=!1},re.isValidAttribute=function(le,U,G){qa||$p({});const ae=It(le),st=It(U);return A0(ae,st,G)},re.addHook=function(le,U){typeof U=="function"&&p(gn[le],U)},re.removeHook=function(le,U){if(U!==void 0){const G=f(gn[le],U);return G===-1?void 0:g(gn[le],G,1)[0]}return h(gn[le])},re.removeHooks=function(le){gn[le]=[]},re.removeAllHooks=function(){gn=ct()},re}var Nl=ar();return ym=Nl,ym}window.DOMPurify||(window.DOMPurify=rS().default||rS());function ue(...e){return r$(EP(e))}const i$=aL,MP=w.forwardRef(({className:e,...t},n)=>l.jsx(yP,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MP.displayName=yP.displayName;const s$=Ku("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UP=w.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(xP,{ref:r,className:ue(s$({variant:t}),e),...n}));UP.displayName=xP.displayName;const a$=w.forwardRef(({className:e,...t},n)=>l.jsx(SP,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));a$.displayName=SP.displayName;const zP=w.forwardRef(({className:e,...t},n)=>l.jsx(_P,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Dx,{className:"h-4 w-4"})}));zP.displayName=_P.displayName;const HP=w.forwardRef(({className:e,...t},n)=>l.jsx(bP,{ref:n,className:ue("text-sm font-semibold",e),...t}));HP.displayName=bP.displayName;const BP=w.forwardRef(({className:e,...t},n)=>l.jsx(wP,{ref:n,className:ue("text-sm opacity-90",e),...t}));BP.displayName=wP.displayName;function o$(){const{toasts:e}=Yt();return l.jsxs(i$,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return l.jsxs(UP,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(HP,{children:n}),r&&l.jsx(BP,{children:r})]}),i,l.jsx(zP,{})]},t)}),l.jsx(MP,{})]})}var iS=["light","dark"],l$="(prefers-color-scheme: dark)",c$=w.createContext(void 0),u$={setTheme:e=>{},themes:[]},d$=()=>{var e;return(e=w.useContext(c$))!=null?e:u$};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?iS.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,x=!0)=>{let v=a?a[g]:g,y=m?g+"|| ''":`'${v}'`,b="";return i&&x&&!m&&iS.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${l$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var f$=e=>{switch(e){case"success":return m$;case"info":return v$;case"warning":return g$;case"error":return y$;default:return null}},h$=Array(12).fill(0),p$=({visible:e})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},q.createElement("div",{className:"sonner-spinner"},h$.map((t,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),m$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),g$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),y$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),x$=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},jv=1,b$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jv++,s=this.toasts.find(o=>o.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(S$(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||jv++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Wn=new b$,w$=(e,t)=>{let n=(t==null?void 0:t.id)||jv++;return Wn.addToast({title:e,...t,id:n}),n},S$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_$=w$,j$=()=>Wn.toasts,bn=Object.assign(_$,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:j$});function E$(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}E$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Md(e){return e.label!==void 0}var C$=3,P$="32px",k$=4e3,R$=356,T$=14,N$=20,A$=200;function O$(...e){return e.filter(Boolean).join(" ")}var I$=e=>{var t,n,r,i,s,a,o,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:x,heights:v,index:y,toasts:b,expanded:S,removeToast:_,defaultRichColors:j,closeButton:k,style:R,cancelButtonStyle:F,actionButtonStyle:P,className:I="",descriptionClassName:O="",duration:z,position:N,gap:M,loadingIcon:A,expandByDefault:D,classNames:E,icons:L,closeButtonAriaLabel:C="Close toast",pauseWhenPageIsHidden:$,cn:H}=e,[T,te]=q.useState(!1),[ie,X]=q.useState(!1),[ee,se]=q.useState(!1),[me,oe]=q.useState(!1),[ye,Ee]=q.useState(0),[pt,Ct]=q.useState(0),Pt=q.useRef(null),lt=q.useRef(null),sr=y===0,qs=y+1<=x,ct=h.type,ar=h.dismissible!==!1,Nl=h.className||"",Ce=h.descriptionClassName||"",re=q.useMemo(()=>v.findIndex(fe=>fe.toastId===h.id)||0,[v,h.id]),Fe=q.useMemo(()=>{var fe;return(fe=h.closeButton)!=null?fe:k},[h.closeButton,k]),Pe=q.useMemo(()=>h.duration||z||k$,[h.duration,z]),B=q.useRef(0),V=q.useRef(0),de=q.useRef(0),ve=q.useRef(null),[Le,kt]=N.split("-"),or=q.useMemo(()=>v.reduce((fe,Ke,Ve)=>Ve>=re?fe:fe+Ke.height,0),[v,re]),Pn=x$(),hi=h.invert||f,kn=ct==="loading";V.current=q.useMemo(()=>re*M+or,[re,or]),q.useEffect(()=>{te(!0)},[]),q.useLayoutEffect(()=>{if(!T)return;let fe=lt.current,Ke=fe.style.height;fe.style.height="auto";let Ve=fe.getBoundingClientRect().height;fe.style.height=Ke,Ct(Ve),m(mn=>mn.find(Ye=>Ye.toastId===h.id)?mn.map(Ye=>Ye.toastId===h.id?{...Ye,height:Ve}:Ye):[{toastId:h.id,height:Ve,position:h.position},...mn])},[T,h.title,h.description,m,h.id]);let We=q.useCallback(()=>{X(!0),Ee(V.current),m(fe=>fe.filter(Ke=>Ke.toastId!==h.id)),setTimeout(()=>{_(h)},A$)},[h,_,m,V]);q.useEffect(()=>{if(h.promise&&ct==="loading"||h.duration===1/0||h.type==="loading")return;let fe,Ke=Pe;return S||g||$&&Pn?(()=>{if(de.current<B.current){let Ve=new Date().getTime()-B.current;Ke=Ke-Ve}de.current=new Date().getTime()})():Ke!==1/0&&(B.current=new Date().getTime(),fe=setTimeout(()=>{var Ve;(Ve=h.onAutoClose)==null||Ve.call(h,h),We()},Ke)),()=>clearTimeout(fe)},[S,g,D,h,Pe,We,h.promise,ct,$,Pn]),q.useEffect(()=>{let fe=lt.current;if(fe){let Ke=fe.getBoundingClientRect().height;return Ct(Ke),m(Ve=>[{toastId:h.id,height:Ke,position:h.position},...Ve]),()=>m(Ve=>Ve.filter(mn=>mn.toastId!==h.id))}},[m,h.id]),q.useEffect(()=>{h.delete&&We()},[We,h.delete]);function zr(){return L!=null&&L.loading?q.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},L.loading):A?q.createElement("div",{className:"sonner-loader","data-visible":ct==="loading"},A):q.createElement(p$,{visible:ct==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:lt,className:H(I,Nl,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[ct],(n=h==null?void 0:h.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":T,"data-promise":!!h.promise,"data-removed":ie,"data-visible":qs,"data-y-position":Le,"data-x-position":kt,"data-index":y,"data-front":sr,"data-swiping":ee,"data-dismissible":ar,"data-type":ct,"data-invert":hi,"data-swipe-out":me,"data-expanded":!!(S||D&&T),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${ie?ye:V.current}px`,"--initial-height":D?"auto":`${pt}px`,...R,...h.style},onPointerDown:fe=>{kn||!ar||(Pt.current=new Date,Ee(V.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(se(!0),ve.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,Ke,Ve,mn;if(me||!ar)return;ve.current=null;let Ye=Number(((fe=lt.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Hr=new Date().getTime()-((Ke=Pt.current)==null?void 0:Ke.getTime()),Al=Math.abs(Ye)/Hr;if(Math.abs(Ye)>=N$||Al>.11){Ee(V.current),(Ve=h.onDismiss)==null||Ve.call(h,h),We(),oe(!0);return}(mn=lt.current)==null||mn.style.setProperty("--swipe-amount","0px"),se(!1)},onPointerMove:fe=>{var Ke;if(!ve.current||!ar)return;let Ve=fe.clientY-ve.current.y,mn=fe.clientX-ve.current.x,Ye=(Le==="top"?Math.min:Math.max)(0,Ve),Hr=fe.pointerType==="touch"?10:2;Math.abs(Ye)>Hr?(Ke=lt.current)==null||Ke.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(mn)>Hr&&(ve.current=null)}},Fe&&!h.jsx?q.createElement("button",{"aria-label":C,"data-disabled":kn,"data-close-button":!0,onClick:kn||!ar?()=>{}:()=>{var fe;We(),(fe=h.onDismiss)==null||fe.call(h,h)},className:H(E==null?void 0:E.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,ct||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:H(E==null?void 0:E.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zr():null,h.type!=="loading"?h.icon||(L==null?void 0:L[ct])||f$(ct):null):null,q.createElement("div",{"data-content":"",className:H(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:H(E==null?void 0:E.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:H(O,Ce,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&Md(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||F,onClick:fe=>{var Ke,Ve;Md(h.cancel)&&ar&&((Ve=(Ke=h.cancel).onClick)==null||Ve.call(Ke,fe),We())},className:H(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&Md(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:fe=>{var Ke,Ve;Md(h.action)&&(fe.defaultPrevented||((Ve=(Ke=h.action).onClick)==null||Ve.call(Ke,fe),We()))},className:H(E==null?void 0:E.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function sS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var F$=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=C$,toastOptions:p,dir:g=sS(),gap:m=T$,loadingIcon:x,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:S=O$}=e,[_,j]=q.useState([]),k=q.useMemo(()=>Array.from(new Set([n].concat(_.filter($=>$.position).map($=>$.position)))),[_,n]),[R,F]=q.useState([]),[P,I]=q.useState(!1),[O,z]=q.useState(!1),[N,M]=q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=q.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=q.useRef(null),L=q.useRef(!1),C=q.useCallback($=>{var H;(H=_.find(T=>T.id===$.id))!=null&&H.delete||Wn.dismiss($.id),j(T=>T.filter(({id:te})=>te!==$.id))},[_]);return q.useEffect(()=>Wn.subscribe($=>{if($.dismiss){j(H=>H.map(T=>T.id===$.id?{...T,delete:!0}:T));return}setTimeout(()=>{XC.flushSync(()=>{j(H=>{let T=H.findIndex(te=>te.id===$.id);return T!==-1?[...H.slice(0,T),{...H[T],...$},...H.slice(T+1)]:[$,...H]})})})}),[]),q.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{M($?"dark":"light")})},[c]),q.useEffect(()=>{_.length<=1&&I(!1)},[_]),q.useEffect(()=>{let $=H=>{var T,te;r.every(ie=>H[ie]||H.code===ie)&&(I(!0),(T=A.current)==null||T.focus()),H.code==="Escape"&&(document.activeElement===A.current||(te=A.current)!=null&&te.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),q.useEffect(()=>{if(A.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,L.current=!1)}},[A.current]),_.length?q.createElement("section",{"aria-label":`${y} ${D}`,tabIndex:-1},k.map(($,H)=>{var T;let[te,ie]=$.split("-");return q.createElement("ol",{key:$,dir:g==="auto"?sS():g,tabIndex:-1,ref:A,className:a,"data-sonner-toaster":!0,"data-theme":N,"data-y-position":te,"data-x-position":ie,style:{"--front-toast-height":`${((T=R[0])==null?void 0:T.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||P$,"--width":`${R$}px`,"--gap":`${m}px`,...f},onBlur:X=>{L.current&&!X.currentTarget.contains(X.relatedTarget)&&(L.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||L.current||(L.current=!0,E.current=X.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{O||I(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},_.filter(X=>!X.position&&H===0||X.position===$).map((X,ee)=>{var se,me;return q.createElement(I$,{key:X.id,icons:v,index:ee,toast:X,defaultRichColors:u,duration:(se=p==null?void 0:p.duration)!=null?se:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:s,interacting:O,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:C,toasts:_.filter(oe=>oe.position==X.position),heights:R.filter(oe=>oe.position==X.position),setHeights:F,expandByDefault:i,gap:m,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:b,cn:S})}))})):null};const D$=({...e})=>{const{theme:t="system"}=d$();return l.jsx(F$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var L$=Dy.useId||(()=>{}),$$=0;function ii(e){const[t,n]=w.useState(L$());return Gt(()=>{e||n(r=>r??String($$++))},[e]),e||(t?`radix-${t}`:"")}const M$=["top","right","bottom","left"],Ts=Math.min,Qn=Math.max,ih=Math.round,Ud=Math.floor,Ns=e=>({x:e,y:e}),U$={left:"right",right:"left",bottom:"top",top:"bottom"},z$={start:"end",end:"start"};function Ev(e,t,n){return Qn(e,Ts(t,n))}function Fi(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function Sl(e){return e.split("-")[1]}function $x(e){return e==="x"?"y":"x"}function Mx(e){return e==="y"?"height":"width"}function As(e){return["top","bottom"].includes(Di(e))?"y":"x"}function Ux(e){return $x(As(e))}function H$(e,t,n){n===void 0&&(n=!1);const r=Sl(e),i=Ux(e),s=Mx(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=sh(a)),[a,sh(a)]}function B$(e){const t=sh(e);return[Cv(e),t,Cv(t)]}function Cv(e){return e.replace(/start|end/g,t=>z$[t])}function q$(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function W$(e,t,n,r){const i=Sl(e);let s=q$(Di(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Cv)))),s}function sh(e){return e.replace(/left|right|bottom|top/g,t=>U$[t])}function V$(e){return{top:0,right:0,bottom:0,left:0,...e}}function qP(e){return typeof e!="number"?V$(e):{top:e,right:e,bottom:e,left:e}}function ah(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function aS(e,t,n){let{reference:r,floating:i}=e;const s=As(t),a=Ux(t),o=Mx(a),c=Di(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Sl(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const Q$=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=aS(u,r,c),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:x,fn:v}=o[m],{x:y,y:b,data:S,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=aS(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Zc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Fi(t,e),g=qP(p),x=o[h?f==="floating"?"reference":"floating":f],v=ah(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},_=ah(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-_.top+g.top)/S.y,bottom:(_.bottom-v.bottom+g.bottom)/S.y,left:(v.left-_.left+g.left)/S.x,right:(_.right-v.right+g.right)/S.x}}const K$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Fi(e,t)||{};if(u==null)return{};const f=qP(d),h={x:n,y:r},p=Ux(i),g=Mx(p),m=await a.getDimensions(u),x=p==="y",v=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],_=h[p]-s.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=j?j[b]:0;(!k||!await(a.isElement==null?void 0:a.isElement(j)))&&(k=o.floating[b]||s.floating[g]);const R=S/2-_/2,F=k/2-m[g]/2-1,P=Ts(f[v],F),I=Ts(f[y],F),O=P,z=k-m[g]-I,N=k/2-m[g]/2+R,M=Ev(O,N,z),A=!c.arrow&&Sl(i)!=null&&N!==M&&s.reference[g]/2-(N<O?P:I)-m[g]/2<0,D=A?N<O?N-O:N-z:0;return{[p]:h[p]+D,data:{[p]:M,centerOffset:N-M-D,...A&&{alignmentOffset:D}},reset:A}}}),G$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...x}=Fi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Di(i),y=As(o),b=Di(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[sh(o)]:B$(o)),j=g!=="none";!h&&j&&_.push(...W$(o,m,g,S));const k=[o,..._],R=await Zc(t,x),F=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&F.push(R[v]),f){const N=H$(i,a,S);F.push(R[N[0]],R[N[1]])}if(P=[...P,{placement:i,overflows:F}],!F.every(N=>N<=0)){var I,O;const N=(((I=s.flip)==null?void 0:I.index)||0)+1,M=k[N];if(M)return{data:{index:N,overflows:P},reset:{placement:M}};let A=(O=P.filter(D=>D.overflows[0]<=0).sort((D,E)=>D.overflows[1]-E.overflows[1])[0])==null?void 0:O.placement;if(!A)switch(p){case"bestFit":{var z;const D=(z=P.filter(E=>{if(j){const L=As(E.placement);return L===y||L==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(L=>L>0).reduce((L,C)=>L+C,0)]).sort((E,L)=>E[1]-L[1])[0])==null?void 0:z[0];D&&(A=D);break}case"initialPlacement":A=o;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function oS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lS(e){return M$.some(t=>e[t]>=0)}const Y$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fi(e,t);switch(r){case"referenceHidden":{const s=await Zc(t,{...i,elementContext:"reference"}),a=oS(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lS(a)}}}case"escaped":{const s=await Zc(t,{...i,altBoundary:!0}),a=oS(s,n.floating);return{data:{escapedOffsets:a,escaped:lS(a)}}}default:return{}}}}};async function J$(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Di(n),o=Sl(n),c=As(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=Fi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const X$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await J$(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},Z$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=Fi(e,t),u={x:n,y:r},d=await Zc(t,c),f=As(Di(i)),h=$x(f);let p=u[h],g=u[f];if(s){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+d[x],b=p-d[v];p=Ev(y,p,b)}if(a){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[x],b=g-d[v];g=Ev(y,g,b)}const m=o.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},eM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Fi(e,t),d={x:n,y:r},f=As(i),h=$x(f);let p=d[h],g=d[f];const m=Fi(o,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+x.mainAxis,_=s.reference[h]+s.reference[b]-x.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var v,y;const b=h==="y"?"width":"height",S=["top","left"].includes(Di(i)),_=s.reference[f]-s.floating[b]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:x.crossAxis),j=s.reference[f]+s.reference[b]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[h]:p,[f]:g}}}},tM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=Fi(e,t),d=await Zc(t,u),f=Di(i),h=Sl(i),p=As(i)==="y",{width:g,height:m}=s.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=g-d.left-d.right,S=Ts(m-d[x],y),_=Ts(g-d[v],b),j=!t.middlewareData.shift;let k=S,R=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),j&&!h){const P=Qn(d.left,0),I=Qn(d.right,0),O=Qn(d.top,0),z=Qn(d.bottom,0);p?R=g-2*(P!==0||I!==0?P+I:Qn(d.left,d.right)):k=m-2*(O!==0||z!==0?O+z:Qn(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:k});const F=await a.getDimensions(o.floating);return g!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function Wh(){return typeof window<"u"}function _l(e){return WP(e)?(e.nodeName||"").toLowerCase():"#document"}function Zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(WP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WP(e){return Wh()?e instanceof Node||e instanceof Zn(e).Node:!1}function $r(e){return Wh()?e instanceof Element||e instanceof Zn(e).Element:!1}function ai(e){return Wh()?e instanceof HTMLElement||e instanceof Zn(e).HTMLElement:!1}function cS(e){return!Wh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zn(e).ShadowRoot}function Yu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Mr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function nM(e){return["table","td","th"].includes(_l(e))}function Vh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zx(e){const t=Hx(),n=$r(e)?Mr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rM(e){let t=Os(e);for(;ai(t)&&!ol(t);){if(zx(t))return t;if(Vh(t))return null;t=Os(t)}return null}function Hx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ol(e){return["html","body","#document"].includes(_l(e))}function Mr(e){return Zn(e).getComputedStyle(e)}function Qh(e){return $r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Os(e){if(_l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cS(e)&&e.host||ui(e);return cS(t)?t.host:t}function VP(e){const t=Os(e);return ol(t)?e.ownerDocument?e.ownerDocument.body:e.body:ai(t)&&Yu(t)?t:VP(t)}function eu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=VP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Zn(i);if(s){const o=Pv(a);return t.concat(a,a.visualViewport||[],Yu(i)?i:[],o&&n?eu(o):[])}return t.concat(i,eu(i,[],n))}function Pv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QP(e){const t=Mr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ai(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=ih(n)!==s||ih(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Bx(e){return $r(e)?e:e.contextElement}function Io(e){const t=Bx(e);if(!ai(t))return Ns(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=QP(t);let a=(s?ih(n.width):n.width)/r,o=(s?ih(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const iM=Ns(0);function KP(e){const t=Zn(e);return!Hx()||!t.visualViewport?iM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zn(e)?!1:t}function ja(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Bx(e);let a=Ns(1);t&&(r?$r(r)&&(a=Io(r)):a=Io(e));const o=sM(s,n,r)?KP(s):Ns(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Zn(s),p=r&&$r(r)?Zn(r):r;let g=h,m=Pv(g);for(;m&&r&&p!==g;){const x=Io(m),v=m.getBoundingClientRect(),y=Mr(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,S=v.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=S,g=Zn(m),m=Pv(g)}}return ah({width:d,height:f,x:c,y:u})}function aM(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=ui(r),o=t?Vh(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Ns(1);const d=Ns(0),f=ai(r);if((f||!f&&!s)&&((_l(r)!=="body"||Yu(a))&&(c=Qh(r)),ai(r))){const h=ja(r);u=Io(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function oM(e){return Array.from(e.getClientRects())}function kv(e,t){const n=Qh(e).scrollLeft;return t?t.left+n:ja(ui(e)).left+n}function lM(e){const t=ui(e),n=Qh(e),r=e.ownerDocument.body,i=Qn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Qn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kv(e);const o=-n.scrollTop;return Mr(r).direction==="rtl"&&(a+=Qn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function cM(e,t){const n=Zn(e),r=ui(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=Hx();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function uM(e,t){const n=ja(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ai(e)?Io(e):Ns(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function uS(e,t,n){let r;if(t==="viewport")r=cM(e,n);else if(t==="document")r=lM(ui(e));else if($r(t))r=uM(t,n);else{const i=KP(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return ah(r)}function GP(e,t){const n=Os(e);return n===t||!$r(n)||ol(n)?!1:Mr(n).position==="fixed"||GP(n,t)}function dM(e,t){const n=t.get(e);if(n)return n;let r=eu(e,[],!1).filter(o=>$r(o)&&_l(o)!=="body"),i=null;const s=Mr(e).position==="fixed";let a=s?Os(e):e;for(;$r(a)&&!ol(a);){const o=Mr(a),c=zx(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Yu(a)&&!c&&GP(e,a))?r=r.filter(d=>d!==a):i=o,a=Os(a)}return t.set(e,r),r}function fM(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Vh(t)?[]:dM(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=uS(t,d,i);return u.top=Qn(f.top,u.top),u.right=Ts(f.right,u.right),u.bottom=Ts(f.bottom,u.bottom),u.left=Qn(f.left,u.left),u},uS(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hM(e){const{width:t,height:n}=QP(e);return{width:t,height:n}}function pM(e,t,n){const r=ai(t),i=ui(t),s=n==="fixed",a=ja(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=Ns(0);if(r||!r&&!s)if((_l(t)!=="body"||Yu(i))&&(o=Qh(t)),r){const p=ja(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=kv(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-kv(i,p)}const f=a.left+o.scrollLeft-c.x-u,h=a.top+o.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function xm(e){return Mr(e).position==="static"}function dS(e,t){if(!ai(e)||Mr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ui(e)===n&&(n=n.ownerDocument.body),n}function YP(e,t){const n=Zn(e);if(Vh(e))return n;if(!ai(e)){let i=Os(e);for(;i&&!ol(i);){if($r(i)&&!xm(i))return i;i=Os(i)}return n}let r=dS(e,t);for(;r&&nM(r)&&xm(r);)r=dS(r,t);return r&&ol(r)&&xm(r)&&!zx(r)?n:r||rM(e)||n}const mM=async function(e){const t=this.getOffsetParent||YP,n=this.getDimensions,r=await n(e.floating);return{reference:pM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gM(e){return Mr(e).direction==="rtl"}const vM={convertOffsetParentRelativeRectToViewportRelativeRect:aM,getDocumentElement:ui,getClippingRect:fM,getOffsetParent:YP,getElementRects:mM,getClientRects:oM,getDimensions:hM,getScale:Io,isElement:$r,isRTL:gM};function yM(e,t){let n=null,r;const i=ui(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const p=Ud(d),g=Ud(i.clientWidth-(u+f)),m=Ud(i.clientHeight-(d+h)),x=Ud(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-x+"px",threshold:Qn(0,Ts(1,c))||1};let b=!0;function S(_){const j=_[0].intersectionRatio;if(j!==c){if(!b)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return a(!0),s}function xM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Bx(e),d=i||s?[...u?eu(u):[],...eu(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&o?yM(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?ja(e):null;c&&x();function x(){const v=ja(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const bM=X$,wM=Z$,SM=G$,_M=tM,jM=Y$,fS=K$,EM=eM,CM=(e,t,n)=>{const r=new Map,i={platform:vM,...n},s={...i.platform,_c:r};return Q$(e,t,{...i,platform:s})};var _f=typeof document<"u"?w.useLayoutEffect:w.useEffect;function oh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!oh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!oh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function JP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hS(e,t){const n=JP(e);return Math.round(t*n)/n}function bm(e){const t=w.useRef(e);return _f(()=>{t.current=e}),t}function PM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(r);oh(h,r)||p(r);const[g,m]=w.useState(null),[x,v]=w.useState(null),y=w.useCallback(E=>{E!==j.current&&(j.current=E,m(E))},[]),b=w.useCallback(E=>{E!==k.current&&(k.current=E,v(E))},[]),S=s||g,_=a||x,j=w.useRef(null),k=w.useRef(null),R=w.useRef(d),F=c!=null,P=bm(c),I=bm(i),O=bm(u),z=w.useCallback(()=>{if(!j.current||!k.current)return;const E={placement:t,strategy:n,middleware:h};I.current&&(E.platform=I.current),CM(j.current,k.current,E).then(L=>{const C={...L,isPositioned:O.current!==!1};N.current&&!oh(R.current,C)&&(R.current=C,Aa.flushSync(()=>{f(C)}))})},[h,t,n,I,O]);_f(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const N=w.useRef(!1);_f(()=>(N.current=!0,()=>{N.current=!1}),[]),_f(()=>{if(S&&(j.current=S),_&&(k.current=_),S&&_){if(P.current)return P.current(S,_,z);z()}},[S,_,z,P,F]);const M=w.useMemo(()=>({reference:j,floating:k,setReference:y,setFloating:b}),[y,b]),A=w.useMemo(()=>({reference:S,floating:_}),[S,_]),D=w.useMemo(()=>{const E={position:n,left:0,top:0};if(!A.floating)return E;const L=hS(A.floating,d.x),C=hS(A.floating,d.y);return o?{...E,transform:"translate("+L+"px, "+C+"px)",...JP(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:C}},[n,o,A.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:z,refs:M,elements:A,floatingStyles:D}),[d,z,M,A,D])}const kM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fS({element:r.current,padding:i}).fn(n):{}:r?fS({element:r,padding:i}).fn(n):{}}}},RM=(e,t)=>({...bM(e),options:[e,t]}),TM=(e,t)=>({...wM(e),options:[e,t]}),NM=(e,t)=>({...EM(e),options:[e,t]}),AM=(e,t)=>({...SM(e),options:[e,t]}),OM=(e,t)=>({..._M(e),options:[e,t]}),IM=(e,t)=>({...jM(e),options:[e,t]}),FM=(e,t)=>({...kM(e),options:[e,t]});var DM="Arrow",XP=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(ge.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});XP.displayName=DM;var LM=XP;function $M(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,x=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=w.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,MM(i,...t)]}function MM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function qx(e){const[t,n]=w.useState(void 0);return Gt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Wx="Popper",[ZP,Kh]=$M(Wx),[UM,ek]=ZP(Wx),tk=e=>{const{__scopePopper:t,children:n}=e,[r,i]=w.useState(null);return l.jsx(UM,{scope:t,anchor:r,onAnchorChange:i,children:n})};tk.displayName=Wx;var nk="PopperAnchor",rk=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=ek(nk,n),a=w.useRef(null),o=ze(t,a);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(ge.div,{...i,ref:o})});rk.displayName=nk;var Vx="PopperContent",[zM,HM]=ZP(Vx),ik=w.forwardRef((e,t)=>{var ee,se,me,oe,ye,Ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,x=ek(Vx,n),[v,y]=w.useState(null),b=ze(t,pt=>y(pt)),[S,_]=w.useState(null),j=qx(S),k=(j==null?void 0:j.width)??0,R=(j==null?void 0:j.height)??0,F=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,z={padding:P,boundary:I.filter(qM),altBoundary:O},{refs:N,floatingStyles:M,placement:A,isPositioned:D,middlewareData:E}=PM({strategy:"fixed",placement:F,whileElementsMounted:(...pt)=>xM(...pt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[RM({mainAxis:i+R,alignmentAxis:a}),c&&TM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?NM():void 0,...z}),c&&AM({...z}),OM({...z,apply:({elements:pt,rects:Ct,availableWidth:Pt,availableHeight:lt})=>{const{width:sr,height:qs}=Ct.reference,ct=pt.floating.style;ct.setProperty("--radix-popper-available-width",`${Pt}px`),ct.setProperty("--radix-popper-available-height",`${lt}px`),ct.setProperty("--radix-popper-anchor-width",`${sr}px`),ct.setProperty("--radix-popper-anchor-height",`${qs}px`)}}),S&&FM({element:S,padding:o}),WM({arrowWidth:k,arrowHeight:R}),h&&IM({strategy:"referenceHidden",...z})]}),[L,C]=ok(A),$=zn(g);Gt(()=>{D&&($==null||$())},[D,$]);const H=(ee=E.arrow)==null?void 0:ee.x,T=(se=E.arrow)==null?void 0:se.y,te=((me=E.arrow)==null?void 0:me.centerOffset)!==0,[ie,X]=w.useState();return Gt(()=>{v&&X(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:D?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(oe=E.transformOrigin)==null?void 0:oe.x,(ye=E.transformOrigin)==null?void 0:ye.y].join(" "),...((Ee=E.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(zM,{scope:n,placedSide:L,onArrowChange:_,arrowX:H,arrowY:T,shouldHideArrow:te,children:l.jsx(ge.div,{"data-side":L,"data-align":C,...m,ref:b,style:{...m.style,animation:D?void 0:"none"}})})})});ik.displayName=Vx;var sk="PopperArrow",BM={top:"bottom",right:"left",bottom:"top",left:"right"},ak=w.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=HM(sk,r),a=BM[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(LM,{...i,ref:n,style:{...i.style,display:"block"}})})});ak.displayName=sk;function qM(e){return e!==null}var WM=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:n,rects:r,middlewareData:i}=t,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=ok(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-c}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function ok(e){const[t,n="center"]=e.split("-");return[t,n]}var lk=tk,ck=rk,uk=ik,dk=ak,[Gh,une]=Ui("Tooltip",[Kh]),Yh=Kh(),fk="TooltipProvider",VM=700,Rv="tooltip.open",[QM,Qx]=Gh(fk),hk=e=>{const{__scopeTooltip:t,delayDuration:n=VM,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,o]=w.useState(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(QM,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};hk.displayName=fk;var Jh="Tooltip",[KM,Xh]=Gh(Jh),pk=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,c=Qx(Jh,e.__scopeTooltip),u=Yh(t),[d,f]=w.useState(null),h=ii(),p=w.useRef(0),g=a??c.disableHoverableContent,m=o??c.delayDuration,x=w.useRef(!1),[v=!1,y]=si({prop:r,defaultProp:i,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Rv))):c.onClose(),s==null||s(k)}}),b=w.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,y(!0)},[y]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),j=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,y(!0),p.current=0},m)},[m,y]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(lk,{...u,children:l.jsx(KM,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayed?j():S()},[c.isOpenDelayed,j,S]),onTriggerLeave:w.useCallback(()=>{g?_():(window.clearTimeout(p.current),p.current=0)},[_,g]),onOpen:S,onClose:_,disableHoverableContent:g,children:n})})};pk.displayName=Jh;var Tv="TooltipTrigger",mk=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Xh(Tv,n),s=Qx(Tv,n),a=Yh(n),o=w.useRef(null),c=ze(t,o,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(ck,{asChild:!0,...a,children:l.jsx(ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ce(e.onBlur,i.onClose),onClick:ce(e.onClick,i.onClose)})})});mk.displayName=Tv;var GM="TooltipPortal",[dne,YM]=Gh(GM,{forceMount:void 0}),ll="TooltipContent",gk=w.forwardRef((e,t)=>{const n=YM(ll,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=Xh(ll,e.__scopeTooltip);return l.jsx(zi,{present:r||a.open,children:a.disableHoverableContent?l.jsx(vk,{side:i,...s,ref:t}):l.jsx(JM,{side:i,...s,ref:t})})}),JM=w.forwardRef((e,t)=>{const n=Xh(ll,e.__scopeTooltip),r=Qx(ll,e.__scopeTooltip),i=w.useRef(null),s=ze(t,i),[a,o]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=w.useCallback(()=>{o(null),f(!1)},[f]),p=w.useCallback((g,m)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},y=t4(v,x.getBoundingClientRect()),b=n4(v,y),S=r4(m.getBoundingClientRect()),_=s4([...b,...S]);o(_),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const g=x=>p(x,d),m=x=>p(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),w.useEffect(()=>{if(a){const g=m=>{const x=m.target,v={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!i4(v,a);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),l.jsx(vk,{...e,ref:s})}),[XM,ZM]=Gh(Jh,{isInside:!1}),vk=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=Xh(ll,n),u=Yh(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(Rv,d),()=>document.removeEventListener(Rv,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(uk,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Px,{children:r}),l.jsx(XM,{scope:n,isInside:!0,children:l.jsx(HD,{id:c.contentId,role:"tooltip",children:i||r})})]})})});gk.displayName=ll;var yk="TooltipArrow",e4=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Yh(n);return ZM(yk,n).isInside?null:l.jsx(dk,{...i,...r,ref:t})});e4.displayName=yk;function t4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function n4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function r4(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function i4(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(i=!i)}return i}function s4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a4(t)}function a4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var o4=hk,l4=pk,c4=mk,xk=gk;const Zs=o4,Qa=l4,Ka=c4,ea=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(xk,{ref:r,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ea.displayName=xk.displayName;var Zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ep=typeof window>"u"||"Deno"in globalThis;function Er(){}function u4(e,t){return typeof e=="function"?e(t):e}function d4(e){return typeof e=="number"&&e>=0&&e!==1/0}function f4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pS(e,t){return typeof e=="function"?e(t):e}function h4(e,t){return typeof e=="function"?e(t):e}function mS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Kx(a,t.options))return!1}else if(!nu(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function gS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(tu(t.options.mutationKey)!==tu(s))return!1}else if(!nu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Kx(e,t){return((t==null?void 0:t.queryKeyHashFn)||tu)(e)}function tu(e){return JSON.stringify(e,(t,n)=>Nv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!nu(e[n],t[n])):!1}function bk(e,t){if(e===t)return e;const n=vS(e)&&vS(t);if(n||Nv(e)&&Nv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=bk(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function vS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nv(e){if(!yS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yS(e){return Object.prototype.toString.call(e)==="[object Object]"}function p4(e){return new Promise(t=>{setTimeout(t,e)})}function m4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bk(e,t):t}function g4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function v4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gx=Symbol();function wk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ua,cs,qo,Aj,y4=(Aj=class extends Zh{constructor(){super();He(this,ua);He(this,cs);He(this,qo);ke(this,qo,t=>{if(!ep&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,cs)||this.setEventListener(W(this,qo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,cs))==null||t.call(this),ke(this,cs,void 0))}setEventListener(t){var n;ke(this,qo,t),(n=W(this,cs))==null||n.call(this),ke(this,cs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,ua)!==t&&(ke(this,ua,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,ua)=="boolean"?W(this,ua):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ua=new WeakMap,cs=new WeakMap,qo=new WeakMap,Aj),Sk=new y4,Wo,us,Vo,Oj,x4=(Oj=class extends Zh{constructor(){super();He(this,Wo,!0);He(this,us);He(this,Vo);ke(this,Vo,t=>{if(!ep&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,us)||this.setEventListener(W(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,us))==null||t.call(this),ke(this,us,void 0))}setEventListener(t){var n;ke(this,Vo,t),(n=W(this,us))==null||n.call(this),ke(this,us,t(this.setOnline.bind(this)))}setOnline(t){W(this,Wo)!==t&&(ke(this,Wo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Wo)}},Wo=new WeakMap,us=new WeakMap,Vo=new WeakMap,Oj),lh=new x4;function b4(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function w4(e){return Math.min(1e3*2**e,3e4)}function _k(e){return(e??"online")==="online"?lh.isOnline():!0}var jk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wm(e){return e instanceof jk}function Ek(e){let t=!1,n=0,r=!1,i;const s=b4(),a=m=>{var x;r||(h(new jk(m)),(x=e.abort)==null||x.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>Sk.isFocused()&&(e.networkMode==="always"||lh.isOnline())&&e.canRun(),d=()=>_k(e.networkMode)&&e.canRun(),f=m=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var x;i=v=>{(r||u())&&m(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const x=n===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var j;if(r)return;const y=e.retry??(ep?0:3),b=e.retryDelay??w4,S=typeof b=="function"?b(n,v):b,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!_){h(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),p4(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}function S4(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Sn=S4(),da,Ij,Ck=(Ij=class{constructor(){He(this,da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d4(this.gcTime)&&ke(this,da,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ep?1/0:5*60*1e3))}clearGcTimeout(){W(this,da)&&(clearTimeout(W(this,da)),ke(this,da,void 0))}},da=new WeakMap,Ij),Qo,Ko,cr,sn,Mu,fa,Cr,xi,Fj,_4=(Fj=class extends Ck{constructor(t){super();He(this,Cr);He(this,Qo);He(this,Ko);He(this,cr);He(this,sn);He(this,Mu);He(this,fa);ke(this,fa,!1),ke(this,Mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,cr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Qo,E4(this.options)),this.state=t.state??W(this,Qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...W(this,Mu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,cr).remove(this)}setData(t,n){const r=m4(this.state.data,t,this.options);return Zt(this,Cr,xi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Zt(this,Cr,xi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,sn))==null?void 0:r.promise;return(i=W(this,sn))==null||i.cancel(t),n?n.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Qo))}isActive(){return this.observers.some(t=>h4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!f4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,sn)&&(W(this,fa)?W(this,sn).cancel({revert:!0}):W(this,sn).cancelRetry()),this.scheduleGc()),W(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,Cr,xi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,sn))return W(this,sn).continueRetry(),W(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ke(this,fa,!0),r.signal)})},s=()=>{const f=wk(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),ke(this,fa,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ke(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Zt(this,Cr,xi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,g,m;wm(f)&&f.silent||Zt(this,Cr,xi).call(this,{type:"error",error:f}),wm(f)||((p=(h=W(this,cr).config).onError)==null||p.call(h,f,this),(m=(g=W(this,cr).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return ke(this,sn,Ek({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,m;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){o(x);return}(p=(h=W(this,cr).config).onSuccess)==null||p.call(h,f,this),(m=(g=W(this,cr).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Zt(this,Cr,xi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Zt(this,Cr,xi).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Cr,xi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,sn).start()}},Qo=new WeakMap,Ko=new WeakMap,cr=new WeakMap,sn=new WeakMap,Mu=new WeakMap,fa=new WeakMap,Cr=new WeakSet,xi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j4(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return wm(i)&&i.revert&&W(this,Ko)?{...W(this,Ko),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,cr).notify({query:this,type:"updated",action:t})})},Fj);function j4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_k(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function E4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yr,Dj,C4=(Dj=class extends Zh{constructor(t={}){super();He(this,Yr);this.config=t,ke(this,Yr,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Kx(i,n);let a=this.get(s);return a||(a=new _4({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,Yr).has(t.queryHash)||(W(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,Yr).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Yr).get(t)}getAll(){return[...W(this,Yr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>mS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>mS(t,r)):n}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,Dj),Jr,xn,ha,Xr,Zi,Lj,P4=(Lj=class extends Ck{constructor(t){super();He(this,Xr);He(this,Jr);He(this,xn);He(this,ha);this.mutationId=t.mutationId,ke(this,xn,t.mutationCache),ke(this,Jr,[]),this.state=t.state||k4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Jr).includes(t)||(W(this,Jr).push(t),this.clearGcTimeout(),W(this,xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,Jr,W(this,Jr).filter(n=>n!==t)),this.scheduleGc(),W(this,xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():W(this,xn).remove(this))}continue(){var t;return((t=W(this,ha))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,c,u,d,f,h,p,g,m,x,v,y,b,S,_,j,k;ke(this,ha,Ek({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,F)=>{Zt(this,Xr,Zi).call(this,{type:"failed",failureCount:R,error:F})},onPause:()=>{Zt(this,Xr,Zi).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Xr,Zi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,xn).canRun(this)}));const n=this.state.status==="pending",r=!W(this,ha).canStart();try{if(!n){Zt(this,Xr,Zi).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=W(this,xn).config).onMutate)==null?void 0:s.call(i,t,this));const F=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));F!==this.state.context&&Zt(this,Xr,Zi).call(this,{type:"pending",context:F,variables:t,isPaused:r})}const R=await W(this,ha).start();return await((u=(c=W(this,xn).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,t,this.state.context)),await((p=(h=W(this,xn).config).onSettled)==null?void 0:p.call(h,R,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,R,null,t,this.state.context)),Zt(this,Xr,Zi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(x=W(this,xn).config).onError)==null?void 0:v.call(x,R,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,R,t,this.state.context)),await((_=(S=W(this,xn).config).onSettled)==null?void 0:_.call(S,void 0,R,this.state.variables,this.state.context,this)),await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,R,t,this.state.context)),R}finally{Zt(this,Xr,Zi).call(this,{type:"error",error:R})}}finally{W(this,xn).runNext(this)}}},Jr=new WeakMap,xn=new WeakMap,ha=new WeakMap,Xr=new WeakSet,Zi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{W(this,Jr).forEach(r=>{r.onMutationUpdate(t)}),W(this,xn).notify({mutation:this,type:"updated",action:t})})},Lj);function k4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qn,Uu,$j,R4=($j=class extends Zh{constructor(t={}){super();He(this,qn);He(this,Uu);this.config=t,ke(this,qn,new Map),ke(this,Uu,Date.now())}build(t,n,r){const i=new P4({mutationCache:this,mutationId:++xd(this,Uu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=zd(t),r=W(this,qn).get(n)??[];r.push(t),W(this,qn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=zd(t);if(W(this,qn).has(n)){const i=(r=W(this,qn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?W(this,qn).delete(n):W(this,qn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,qn).get(zd(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,qn).get(zd(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,qn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gS(n,r))}findAll(t={}){return this.getAll().filter(n=>gS(t,n))}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Er))))}},qn=new WeakMap,Uu=new WeakMap,$j);function zd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function xS(e){return{onFetch:(t,n)=>{var d,f,h,p,g;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=wk(t.options,t.fetchOptions),y=async(b,S,_)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};x(j);const k=await v(j),{maxPages:R}=t.options,F=_?v4:g4;return{pages:F(b.pages,k,R),pageParams:F(b.pageParams,S,R)}};if(i&&s.length){const b=i==="backward",S=b?T4:bS,_={pages:s,pageParams:a},j=S(r,_);o=await y(_,j,b)}else{const b=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:bS(r,o);if(c>0&&S==null)break;o=await y(o,S),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function bS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function T4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gt,ds,fs,Go,Yo,hs,Jo,Xo,Mj,N4=(Mj=class{constructor(e={}){He(this,gt);He(this,ds);He(this,fs);He(this,Go);He(this,Yo);He(this,hs);He(this,Jo);He(this,Xo);ke(this,gt,e.queryCache||new C4),ke(this,ds,e.mutationCache||new R4),ke(this,fs,e.defaultOptions||{}),ke(this,Go,new Map),ke(this,Yo,new Map),ke(this,hs,0)}mount(){xd(this,hs)._++,W(this,hs)===1&&(ke(this,Jo,Sk.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gt).onFocus())})),ke(this,Xo,lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gt).onOnline())})))}unmount(){var e,t;xd(this,hs)._--,W(this,hs)===0&&((e=W(this,Jo))==null||e.call(this),ke(this,Jo,void 0),(t=W(this,Xo))==null||t.call(this),ke(this,Xo,void 0))}isFetching(e){return W(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,ds).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,gt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,gt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(pS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,gt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,gt).get(r.queryHash),s=i==null?void 0:i.state.data,a=u4(t,s);if(a!==void 0)return W(this,gt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Sn.batch(()=>W(this,gt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,gt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,gt);Sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,gt),r={type:"active",...e};return Sn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Sn.batch(()=>W(this,gt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Er).catch(Er)}invalidateQueries(e={},t={}){return Sn.batch(()=>{if(W(this,gt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Sn.batch(()=>W(this,gt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,gt).build(this,t);return n.isStaleByTime(pS(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Er).catch(Er)}fetchInfiniteQuery(e){return e.behavior=xS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Er).catch(Er)}ensureInfiniteQueryData(e){return e.behavior=xS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lh.isOnline()?W(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,gt)}getMutationCache(){return W(this,ds)}getDefaultOptions(){return W(this,fs)}setDefaultOptions(e){ke(this,fs,e)}setQueryDefaults(e,t){W(this,Go).set(tu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Go).values()];let n={};return t.forEach(r=>{nu(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,Yo).set(tu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Yo).values()];let n={};return t.forEach(r=>{nu(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Gx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,gt).clear(),W(this,ds).clear()}},gt=new WeakMap,ds=new WeakMap,fs=new WeakMap,Go=new WeakMap,Yo=new WeakMap,hs=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Mj),A4=w.createContext(void 0),O4=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(A4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(this,arguments)}var gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gs||(gs={}));const wS="popstate";function I4(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Av("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ch(i)}return D4(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F4(){return Math.random().toString(36).substr(2,8)}function SS(e,t){return{usr:e.state,key:e.key,idx:t}}function Av(e,t,n,r){return n===void 0&&(n=null),ru({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jl(t):t,{state:n,key:t&&t.key||r||F4()})}function ch(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D4(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=gs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ru({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=gs.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:m.location,delta:v})}function h(x,v){o=gs.Push;let y=Av(m.location,x,v);u=d()+1;let b=SS(y,u),S=m.createHref(y);try{a.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}s&&c&&c({action:o,location:m.location,delta:1})}function p(x,v){o=gs.Replace;let y=Av(m.location,x,v);u=d();let b=SS(y,u),S=m.createHref(y);a.replaceState(b,"",S),s&&c&&c({action:o,location:m.location,delta:0})}function g(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:ch(x);return y=y.replace(/ $/,"%20"),St(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return o},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,f),c=x,()=>{i.removeEventListener(wS,f),c=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return a.go(x)}};return m}var _S;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_S||(_S={}));function L4(e,t,n){return n===void 0&&(n="/"),$4(e,t,n,!1)}function $4(e,t,n,r){let i=typeof t=="string"?jl(t):t,s=Yx(i.pathname||"/",n);if(s==null)return null;let a=kk(e);M4(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Y4(s);o=K4(a[c],u,r)}return o}function kk(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Es([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(St(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kk(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:V4(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of Rk(s.path))i(s,a,c)}),t}function Rk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Rk(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function M4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Q4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U4=/^:[\w-]+$/,z4=3,H4=2,B4=1,q4=10,W4=-2,jS=e=>e==="*";function V4(e,t){let n=e.split("/"),r=n.length;return n.some(jS)&&(r+=W4),t&&(r+=H4),n.filter(i=>!jS(i)).reduce((i,s)=>i+(U4.test(s)?z4:s===""?B4:q4),r)}function Q4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function K4(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=ES({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ES({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Es([s,f.pathname]),pathnameBase:e3(Es([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Es([s,f.pathnameBase]))}return a}function ES(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function G4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Y4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function J4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jl(e):e;return{pathname:n?n.startsWith("/")?n:X4(n,t):t,search:t3(r),hash:n3(i)}}function X4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jx(e,t){let n=Z4(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jl(e):(i=ru({},e),St(!i.pathname||!i.pathname.includes("?"),Sm("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Sm("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Sm("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=J4(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),e3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tk=["post","put","patch","delete"];new Set(Tk);const i3=["get",...Tk];new Set(i3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(this,arguments)}const Zx=w.createContext(null),s3=w.createContext(null),$s=w.createContext(null),tp=w.createContext(null),Ms=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Nk=w.createContext(null);function a3(e,t){let{relative:n}=t===void 0?{}:t;El()||St(!1);let{basename:r,navigator:i}=w.useContext($s),{hash:s,pathname:a,search:o}=Ok(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Es([r,a])),i.createHref({pathname:c,search:o,hash:s})}function El(){return w.useContext(tp)!=null}function Oa(){return El()||St(!1),w.useContext(tp).location}function Ak(e){w.useContext($s).static||w.useLayoutEffect(e)}function np(){let{isDataRoute:e}=w.useContext(Ms);return e?x3():o3()}function o3(){El()||St(!1);let e=w.useContext(Zx),{basename:t,future:n,navigator:r}=w.useContext($s),{matches:i}=w.useContext(Ms),{pathname:s}=Oa(),a=JSON.stringify(Jx(i,n.v7_relativeSplatPath)),o=w.useRef(!1);return Ak(()=>{o.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Xx(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Es([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function Ok(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext($s),{matches:i}=w.useContext(Ms),{pathname:s}=Oa(),a=JSON.stringify(Jx(i,r.v7_relativeSplatPath));return w.useMemo(()=>Xx(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function l3(e,t){return c3(e,t)}function c3(e,t,n,r){El()||St(!1);let{navigator:i}=w.useContext($s),{matches:s}=w.useContext(Ms),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Oa(),d;if(t){var f;let x=typeof t=="string"?jl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||St(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=L4(e,{pathname:p}),m=p3(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Es([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Es([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&m?w.createElement(tp.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gs.Pop}},m):m}function u3(){let e=y3(),t=r3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const d3=w.createElement(u3,null);class f3 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Ms.Provider,{value:this.props.routeContext},w.createElement(Nk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h3(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Zx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ms.Provider,{value:t},r)}function p3(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||St(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||d3,c&&(u<0&&h===0?(g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),y=()=>{let b;return p?b=m:g?b=x:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(h3,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(f3,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Ik=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ik||{}),uh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uh||{});function m3(e){let t=w.useContext(Zx);return t||St(!1),t}function g3(e){let t=w.useContext(s3);return t||St(!1),t}function v3(e){let t=w.useContext(Ms);return t||St(!1),t}function Fk(e){let t=v3(),n=t.matches[t.matches.length-1];return n.route.id||St(!1),n.route.id}function y3(){var e;let t=w.useContext(Nk),n=g3(uh.UseRouteError),r=Fk(uh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function x3(){let{router:e}=m3(Ik.UseNavigateStable),t=Fk(uh.UseNavigateStable),n=w.useRef(!1);return Ak(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,iu({fromRouteId:t},s)))},[e,t])}function Dk(e){let{to:t,replace:n,state:r,relative:i}=e;El()||St(!1);let{future:s,static:a}=w.useContext($s),{matches:o}=w.useContext(Ms),{pathname:c}=Oa(),u=np(),d=Xx(t,Jx(o,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function lr(e){St(!1)}function b3(e){let{basename:t="/",children:n=null,location:r,navigationType:i=gs.Pop,navigator:s,static:a=!1,future:o}=e;El()&&St(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:a,future:iu({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=jl(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=w.useMemo(()=>{let x=Yx(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:w.createElement($s.Provider,{value:u},w.createElement(tp.Provider,{children:n,value:m}))}function w3(e){let{children:t,location:n}=e;return l3(Ov(t),n)}new Promise(()=>{});function Ov(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Ov(r.props.children,s));return}r.type!==lr&&St(!1),!r.props.index||!r.props.children||St(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ov(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function S3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function j3(e,t){return e.button===0&&(!t||t==="_self")&&!_3(e)}const E3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C3="6";try{window.__reactRouterVersion=C3}catch{}const P3="startTransition",CS=Dy[P3];function k3(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=I4({window:i,v5Compat:!0}));let a=s.current,[o,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&CS?CS(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(b3,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const R3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=S3(t,E3),{basename:p}=w.useContext($s),g,m=!1;if(typeof u=="string"&&T3.test(u)&&(g=u,R3))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=Yx(S.pathname,p);S.origin===b.origin&&_!=null?u=_+S.search+S.hash:m=!0}catch{}let x=a3(u,{relative:i}),v=N3(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||v(b)}return w.createElement("a",Iv({},h,{href:g||x,onClick:m||s?r:y,ref:n,target:c}))});var PS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(PS||(PS={}));var kS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kS||(kS={}));function N3(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=np(),u=Oa(),d=Ok(e,{relative:a});return w.useCallback(f=>{if(j3(f,n)){f.preventDefault();let h=r!==void 0?r:ch(u)===ch(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,r,i,n,e,s,a,o])}const A3="modulepreload",O3=function(e){return"/"+e},RS={},Ju=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=O3(c),c in RS)return;RS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":A3,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},I3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ju(async()=>{const{default:r}=await Promise.resolve().then(()=>Cl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class eb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class F3 extends eb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class TS extends eb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NS extends eb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fv||(Fv={}));var D3=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class L3{constructor(t,{headers:n={},customFetch:r,region:i=Fv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=I3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return D3(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(m=>{throw new F3(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new TS(f);if(!f.ok)throw new NS(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof NS||i instanceof TS?i.context:void 0}}})}}var Fn={},tb={},rp={},Xu={},ip={},sp={},$3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cl=$3();const M3=cl.fetch,Lk=cl.fetch.bind(cl),$k=cl.Headers,U3=cl.Request,z3=cl.Response,Cl=Object.freeze(Object.defineProperty({__proto__:null,Headers:$k,Request:U3,Response:z3,default:Lk,fetch:M3},Symbol.toStringTag,{value:"Module"})),H3=z2(Cl);var ap={};Object.defineProperty(ap,"__esModule",{value:!0});let B3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ap.default=B3;var Mk=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sp,"__esModule",{value:!0});const q3=Mk(H3),W3=Mk(ap);let V3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=q3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let u=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new W3.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};sp.default=V3;var Q3=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ip,"__esModule",{value:!0});const K3=Q3(sp);let G3=class extends K3.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ip.default=G3;var Y3=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});const J3=Y3(ip);let X3=class extends J3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Xu.default=X3;var Z3=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rp,"__esModule",{value:!0});const Ql=Z3(Xu);let e5=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Ql.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ql.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ql.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ql.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ql.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rp.default=e5;var op={},lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.version=void 0;lp.version="0.0.0-automated";Object.defineProperty(op,"__esModule",{value:!0});op.DEFAULT_HEADERS=void 0;const t5=lp;op.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t5.version}`};var Uk=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tb,"__esModule",{value:!0});const n5=Uk(rp),r5=Uk(Xu),i5=op;let s5=class zk{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},i5.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new n5.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new r5.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};tb.default=s5;var Pl=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const Hk=Pl(tb);Fn.PostgrestClient=Hk.default;const Bk=Pl(rp);Fn.PostgrestQueryBuilder=Bk.default;const qk=Pl(Xu);Fn.PostgrestFilterBuilder=qk.default;const Wk=Pl(ip);Fn.PostgrestTransformBuilder=Wk.default;const Vk=Pl(sp);Fn.PostgrestBuilder=Vk.default;const Qk=Pl(ap);Fn.PostgrestError=Qk.default;var a5=Fn.default={PostgrestClient:Hk.default,PostgrestQueryBuilder:Bk.default,PostgrestFilterBuilder:qk.default,PostgrestTransformBuilder:Wk.default,PostgrestBuilder:Vk.default,PostgrestError:Qk.default};const{PostgrestClient:o5,PostgrestQueryBuilder:vne,PostgrestFilterBuilder:yne,PostgrestTransformBuilder:xne,PostgrestBuilder:bne,PostgrestError:wne}=a5;function l5(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const c5=l5(),u5="2.11.15",d5=`realtime-js/${u5}`,f5="1.0.0",Kk=1e4,h5=1e3;var jc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jc||(jc={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var kr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kr||(kr={}));var Dv;(function(e){e.websocket="websocket"})(Dv||(Dv={}));var ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ra||(ra={}));class p5{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Gk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const AS=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=m5(a,e,t,i),s),{})},m5=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?Yk(s,a):Lv(a)},Yk=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return x5(t,n)}switch(e){case Ze.bool:return g5(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return v5(t);case Ze.json:case Ze.jsonb:return y5(t);case Ze.timestamp:return b5(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Lv(t);default:return Lv(t)}},Lv=e=>e,g5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},v5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},x5=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Yk(t,o))}return e},b5=e=>typeof e=="string"?e.replace(" ","T"):e,Jk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _m{constructor(t,n,r={},i=Kk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var OS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(OS||(OS={}));class Ec{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ec.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Ec.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ec.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IS||(IS={}));var FS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(FS||(FS={}));var ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ji||(ji={}));class nb{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _m(this,kr.join,this.params,this.timeout),this.rejoinTimer=new Gk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ec(this),this.broadcastEndpointURL=Jk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(ji.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ji.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ji.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const x=h[m],{filter:{event:v,schema:y,table:b,filter:S}}=x,_=d&&d[m];if(_&&_.event===v&&_.schema===y&&_.table===b&&_.filter===S)g.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ji.SUBSCRIBED);return}}).receive("error",d=>{this.state=rn.errored,t==null||t(ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _m(this,kr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _m(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=kr;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,x,v,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:x,commit_timestamp:v,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&nb.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kr.close,{},t)}_onError(t){this._on(kr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=AS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=AS(t.columns,t.old_record)),n}}const DS=()=>{},w5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S5{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=DS,this.ref=0,this.logger=DS,this.conn=null,this.sendBuffer=[],this.serializer=new p5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Ju(async()=>{const{default:c}=await Promise.resolve().then(()=>Cl);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Dv.websocket}`,this.httpEndpoint=Jk(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=c5),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f5}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jc.connecting:return ra.Connecting;case jc.open:return ra.Open;case jc.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new nb(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:d5};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(kr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(h5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(kr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([w5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class rb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _5 extends rb{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $v extends rb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var j5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Xk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ju(async()=>{const{default:r}=await Promise.resolve().then(()=>Cl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},E5=()=>j5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ju(()=>Promise.resolve().then(()=>Cl),void 0)).Response:Response}),Mv=e=>{if(Array.isArray(e))return e.map(n=>Mv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Mv(r)}),t},C5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ia=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const jm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P5=(e,t,n)=>Ia(void 0,void 0,void 0,function*(){const r=yield E5();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new _5(jm(i),s,a))}).catch(i=>{t(new $v(jm(i),i))}):t(new $v(jm(e),e))}),k5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(C5(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Zu(e,t,n,r,i,s){return Ia(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,k5(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>P5(c,o,r))})})}function dh(e,t,n,r){return Ia(this,void 0,void 0,function*(){return Zu(e,"GET",t,n,r)})}function Ei(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return Zu(e,"POST",t,r,i,n)})}function Uv(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return Zu(e,"PUT",t,r,i,n)})}function R5(e,t,n,r){return Ia(this,void 0,void 0,function*(){return Zu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zk(e,t,n,r,i){return Ia(this,void 0,void 0,function*(){return Zu(e,"DELETE",t,r,i,n)})}var Tn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const T5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N5{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Xk(i)}uploadOrUpdate(t,n,r,i){return Tn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},LS),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Uv:Ei)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Tn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:LS.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Uv(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(Lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Tn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ei(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new rb("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Tn(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Tn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Tn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ei(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Tn(this,void 0,void 0,function*(){try{const i=yield Ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}download(t,n){return Tn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield dh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}info(t){return Tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield dh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mv(r),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}exists(t){return Tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield R5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Lt(r)&&r instanceof $v){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield Zk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Tn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},T5),n),{prefix:t||""});return{data:yield Ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const A5="2.10.4",O5={"X-Client-Info":`storage-js/${A5}`};var Ga=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class I5{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},O5),n),this.fetch=Xk(r)}listBuckets(){return Ga(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ga(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ga(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield Zk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}}class F5 extends I5{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new N5(this.url,this.headers,t,this.fetch)}}const D5="2.53.0";let ac="";typeof Deno<"u"?ac="deno":typeof document<"u"?ac="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ac="react-native":ac="node";const L5={"X-Client-Info":`supabase-js-${ac}/${D5}`},$5={headers:L5},M5={schema:"public"},U5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z5={};var H5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const B5=e=>{let t;return e?t=e:typeof fetch>"u"?t=Lk:t=fetch,(...n)=>t(...n)},q5=()=>typeof Headers>"u"?$k:Headers,W5=(e,t,n)=>{const r=B5(n),i=q5();return(s,a)=>H5(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var V5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function Q5(e){return e.endsWith("/")?e:e+"/"}function K5(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>V5(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const eR="2.71.1",lo=30*1e3,zv=3,Em=zv*lo,G5="http://localhost:9999",Y5="supabase.auth.token",J5={"X-Client-Info":`gotrue-js/${eR}`},Hv="X-Supabase-Api-Version",tR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z5=10*60*1e3;class ib extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eU extends ib{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tU(e){return Se(e)&&e.name==="AuthApiError"}class nR extends ib{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Us extends ib{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class es extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nU(e){return Se(e)&&e.name==="AuthSessionMissingError"}class Hd extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bd extends Us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qd extends Us{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rU(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class $S extends Us{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bv extends Us{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cm(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class MS extends Us{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qv extends Us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),US=` 	
\r=`.split(""),iU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<US.length;t+=1)e[US[t].charCodeAt(0)]=-2;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=t;return e})();function zS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fh[r]),t.queuedBits-=6}}function rR(e,t,n){const r=iU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function HS(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{oU(a,r,n)};for(let a=0;a<e.length;a+=1)rR(e.charCodeAt(a),i,s);return t.join("")}function sU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sU(r,t)}}function oU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function lU(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)rR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function cU(e){const t=[];return aU(e,n=>t.push(n)),new Uint8Array(t)}function uU(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>zS(i,n,r)),zS(null,n,r),t.join("")}function dU(e){return Math.round(Date.now()/1e3)+e}function fU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sr=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},iR=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function hU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const sR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ju(async()=>{const{default:r}=await Promise.resolve().then(()=>Cl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},pU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",co=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gi=async(e,t)=>{await e.removeItem(t)};class cp{constructor(){this.promise=new cp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cp.promiseConstructor=Promise;function Pm(e){const t=e.split(".");if(t.length!==3)throw new qv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!X5.test(t[r]))throw new qv("JWT not in base64url format");return{header:JSON.parse(HS(t[0])),payload:JSON.parse(HS(t[1])),signature:lU(t[2]),raw:{header:t[0],payload:t[1]}}}async function mU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gU(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function vU(e){return("0"+e.toString(16)).substr(-2)}function yU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vU).join("")}async function xU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function bU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ya(e,t,n=!1){const r=yU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await co(e,`${t}-code-verifier`,i);const s=await bU(r);return[s,r===s?"plain":"s256"]}const wU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SU(e){const t=e.headers.get(Hv);if(!t||!t.match(wU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _U(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ja(e){if(!EU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BS(e){return JSON.parse(JSON.stringify(e))}var CU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PU=[502,503,504];async function qS(e){var t;if(!pU(e))throw new Bv(ta(e),0);if(PU.includes(e.status))throw new Bv(ta(e),e.status);let n;try{n=await e.json()}catch(s){throw new nR(ta(s),s)}let r;const i=SU(e);if(i&&i.getTime()>=tR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new MS(ta(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new MS(ta(n),e.status,n.weak_password.reasons);throw new eU(ta(n),e.status||500,r)}const kU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Te(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Hv]||(s[Hv]=tR["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await RU(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function RU(e,t,n,r,i,s){const a=kU(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Bv(ta(c),0)}if(o.ok||await qS(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await qS(c)}}function bi(e){var t;let n=null;OU(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=dU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function WS(e){const t=bi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function os(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TU(e){return{data:e,error:null}}function NU(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=CU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function AU(e){return e}function OU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rm=["global","local","others"];var IU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class FU{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Rm[0]){if(Rm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rm.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:os})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=IU(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:os})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:AU});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Se(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ja(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:os})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ja(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:os})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ja(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:os})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ja(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ja(t.userId),Ja(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function VS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function DU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xa={debug:!!(globalThis&&iR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class LU extends aR{}async function $U(e,t,n){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}DU();const MU={url:G5,storageKey:Y5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function QS(e,t,n){return await n()}const Za={};class su{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=su.nextInstanceID,su.nextInstanceID+=1,this.instanceID>0&&Sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},MU),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sR(i.fetch),this.lock=i.lock||QS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Sr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$U:this.lock=QS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:iR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=VS(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Za[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Za[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=hU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Sr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),rU(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new nR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:bi}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ya(this.storage,this.storageKey)),s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:bi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bi})}else throw new Bd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:WS})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:WS})}else throw new Bd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Hd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:x,wallet:v,statement:y,options:b}=t;let S;if(Sr())if(typeof v=="object")S=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:x,error:v}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uU(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:bi});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Hd}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(Se(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await Qs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:bi});if(await Gi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Hd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Se(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bi}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ya(this.storage,this.storageKey));const{error:f}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bd("You must provide either an email or phone number.")}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:bi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ya(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:TU})}catch(s){if(Se(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new es;const{error:i}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Bd("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Em:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Qs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=km()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:os}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new es}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:os})})}catch(n){if(Se(n))return nU(n)&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new es;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ya(this.storage,this.storageKey));const{data:u,error:d}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:os});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new es;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Pm(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new es;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Sr())throw new qd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $S("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $S("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new qd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:x}=await this._getUser(s);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(tU(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=fU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ya(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Se(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Sr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await gU(async i=>(i>0&&await mU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Cm(s)&&Date.now()+a-r<lo})}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Sr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Qs(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await co(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:km()}else if(i&&!i.user&&!i.user){const a=await Qs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Gi(this.storage,this.storageKey+"-user"),await co(this.storage,this.storageKey,i)):i.user=km()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Em;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Em}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Cm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new cp;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new es;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Se(s)){const a={session:null,error:s};return Cm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await co(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=BS(i);await co(this.storage,this.storageKey,s)}else{const i=BS(n);await co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gi(this.storage,this.storageKey),await Gi(this.storage,this.storageKey+"-code-verifier"),await Gi(this.storage,this.storageKey+"-user"),this.userStorage&&await Gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${lo}ms, refresh threshold is ${zv} ticks`),i<=zv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ya(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Pm(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Z5>i)return r;const{data:s,error:a}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Pm(r);n!=null&&n.allowExpired||_U(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=jU(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,cU(`${o}.${c}`)))throw new qv("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}}su.nextInstanceID=0;const UU=su;class zU extends UU{constructor(t){super(t)}}var HU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class BU{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Q5(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:M5,realtime:z5,auth:Object.assign(Object.assign({},U5),{storageKey:u}),global:$5},f=K5(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=W5(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new o5(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new F5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new L3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return HU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new S5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qU=(e,t,n)=>new BU(e,t,n);function WU(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VU="https://wrodvaatdujbpfpvrzge.supabase.co",QU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",KU=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},J=qU(VU,QU,{auth:{storage:KU(),persistSession:!0,autoRefreshToken:!0}}),oR=w.createContext(void 0),_t=()=>{const e=w.useContext(oR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},GU=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(null),[s,a]=w.useState(!0);w.useEffect(()=>{const{data:{subscription:f}}=J.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:g,error:m}=await J.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(m||!g)return;const{data:x,error:v}=await J.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!x)return;if(x.plan_type==="freemium"){const{data:y,error:b}=await J.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!b&&y&&new Date(y.expires_at)<=new Date&&await J.auth.signOut()}}catch(g){console.error("Error checking trial status:",g)}},0),a(!1)});return J.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const o=async()=>{const{error:f}=await J.auth.signOut();if(f)throw console.error("Error signing out:",f),f},c=async(f,h)=>{const{data:p,error:g}=await J.auth.signInWithPassword({email:f,password:h});if(p!=null&&p.user&&!g)try{const{data:m,error:x}=await J.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!x&&m){const{data:v,error:y}=await J.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!y&&v&&v.plan_type==="freemium"){const{data:b,error:S}=await J.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&b&&new Date(b.expires_at)<=new Date)return await J.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:p,error:g}},u=async(f,h,p)=>{const{data:g,error:m}=await J.auth.signUp({email:f,password:h,options:{data:p}});return{data:g,error:m}},d=async()=>{const{data:f,error:h}=await J.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:h}};return l.jsx(oR.Provider,{value:{user:t,session:r,loading:s,signOut:o,signIn:c,signUp:u,signInWithGoogle:d},children:e})},lR=w.createContext(void 0),sb=()=>{const e=w.useContext(lR);if(!e)throw new Error("useUser must be used within a UserProvider");return e},YU=({children:e})=>{const{user:t}=_t(),[n,r]=w.useState(null),[i,s]=w.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await J.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u&&u.code!=="PGRST116"){console.error("Error fetching user profile:",u),r(null),s(!1);return}const{data:d}=await J.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single(),f={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:d==null?void 0:d.role};r(f)}catch(c){console.error("Error in fetchProfile:",c),r(null)}s(!1)};w.useEffect(()=>{a()},[t]);const o=async()=>{s(!0),await a()};return l.jsx(lR.Provider,{value:{userProfile:n,loading:i,refreshProfile:o},children:e})},cR=w.createContext(void 0),Hi=()=>{const e=w.useContext(cR);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},JU=({children:e})=>{const{user:t}=_t(),{userProfile:n}=sb(),[r,i]=w.useState(null),[s,a]=w.useState(!0),o=async()=>{if(!t||!(n!=null&&n.workspace_id)){i(null),a(!1);return}try{const{data:u,error:d}=await J.from("workspaces").select("*").eq("id",n.workspace_id).single();d?(console.error("Error fetching workspace:",d),i(null)):i(u)}catch(u){console.error("Error in fetchWorkspace:",u),i(null)}a(!1)};w.useEffect(()=>{o()},[t,n]);const c=async()=>{a(!0),await o()};return l.jsx(cR.Provider,{value:{currentWorkspace:r,loading:s,refreshWorkspace:c},children:e})},Fa=()=>{const{user:e}=_t(),{currentWorkspace:t}=Hi(),[n,r]=w.useState([]),[i,s]=w.useState([]);w.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await J.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(p=>p.source_name));const{data:h}=await J.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=w.useCallback(d=>!!e,[e]),o=w.useCallback(d=>!n.includes(d),[n]),c=w.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=w.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:o,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},uR=w.createContext(void 0),ed=()=>{const e=w.useContext(uR);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},XU=({children:e})=>{const{user:t}=_t(),{canUseFavorites:n}=Fa(),[r,i]=w.useState([]),[s,a]=w.useState(!1),[o,c]=w.useState(0),u=3e4,d=w.useRef(0),f=w.useCallback((v,y)=>({id:y,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=w.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),d.current=0;return}const y=Date.now();if(!(!v&&d.current&&y-d.current<u))try{a(!0);const{data:b,error:S}=await J.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!b||b.length===0){i([]),c(y),d.current=y;return}const _=b.map(j=>j.item_data?f(j.item_data,j.item_id):null).filter(Boolean);i(_),c(y),d.current=y}catch(b){console.error("Error fetching favorites:",b)}finally{a(!1)}},[t,n,f]),p=w.useCallback(async v=>{if(!(!t||!n()))try{const{error:y}=await J.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(y)throw y;i(b=>[...b,{...v,isFavorite:!0}]),c(0)}catch(y){throw console.error("Error adding to favorites:",y),y}},[t,n]),g=w.useCallback(async v=>{if(!(!t||!n()))try{i(b=>b.filter(S=>S.id!==v));const{error:y}=await J.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(y)throw await h(!0),y;c(0)}catch(y){throw console.error("Error removing from favorites:",y),y}},[t,n,h]),m=w.useMemo(()=>new Set(r.map(v=>v.id)),[r]),x=w.useCallback(v=>m.has(v),[m]);return w.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),w.useEffect(()=>{if(!t||!n())return;const v=J.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},y=>{var b,S,_;try{if(y.eventType==="INSERT"&&((b=y.new)==null?void 0:b.item_type)==="emission_factor"){const j=f(y.new.item_data,y.new.item_id);i(k=>k.some(R=>R.id===j.id)?k:[...k,j])}if(y.eventType==="DELETE"){const j=(S=y.old)==null?void 0:S.item_id;j&&i(k=>k.filter(R=>R.id!==j))}if(y.eventType==="UPDATE"&&((_=y.new)==null?void 0:_.item_type)==="emission_factor"){const j=f(y.new.item_data,y.new.item_id);i(k=>k.map(R=>R.id===j.id?j:R))}}catch(j){console.error("favorites realtime handler error",j)}}).subscribe();return()=>{J.removeChannel(v)}},[t,n,f]),l.jsx(uR.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:g,isFavorite:x,refreshFavorites:h},children:e})},ZU=Ku("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),oi=w.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ue(ZU({variant:t}),e),...n}));oi.displayName="Alert";const ez=w.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));ez.displayName="AlertTitle";const li=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",e),...t}));li.displayName="AlertDescription";const ab=Ku("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Sa:"button";return l.jsx(a,{className:ue(ab({variant:t,size:n,className:e})),ref:s,...i})});Y.displayName="Button";const dR=()=>{const{user:e}=_t(),[t,n]=w.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return w.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,o,c)=>{if(!e)return!1;try{const{data:u,error:d}=await J.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:o,workspace_name:c},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await J.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await J.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await J.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},tz=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=dR(),{toast:r}=Yt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return l.jsxs(oi,{className:"bg-orange-50 border-orange-200 mb-4",children:[l.jsx(_a,{className:"h-4 w-4 text-orange-600"}),l.jsxs(li,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-orange-800",children:[l.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",l.jsx("strong",{children:t.email})," dans le workspace"," ",l.jsx("strong",{children:t.workspace_name})]}),l.jsxs(Y,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[l.jsx(AP,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},be=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));be.displayName="Card";const Ne=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const Ae=w.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ae.displayName="CardTitle";const Ut=w.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));Ut.displayName="CardDescription";const we=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ue("p-6 pt-0",e),...t}));we.displayName="CardContent";const nz=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",e),...t}));nz.displayName="CardFooter";function rz(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,x=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=w.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,iz(i,...t)]}function iz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var sz=w.createContext(void 0);function ob(e){const t=w.useContext(sz);return e||t||"ltr"}var Tm="rovingFocusGroup.onEntryFocus",az={bubbles:!1,cancelable:!0},up="RovingFocusGroup",[Wv,fR,oz]=kx(up),[lz,hR]=rz(up,[oz]),[cz,uz]=lz(up),pR=w.forwardRef((e,t)=>l.jsx(Wv.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Wv.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(dz,{...e,ref:t})})}));pR.displayName=up;var dz=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),p=ze(t,h),g=ob(s),[m=null,x]=si({prop:a,defaultProp:o,onChange:c}),[v,y]=w.useState(!1),b=zn(u),S=fR(n),_=w.useRef(!1),[j,k]=w.useState(0);return w.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Tm,b),()=>R.removeEventListener(Tm,b)},[b]),l.jsx(cz,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:w.useCallback(R=>x(R),[x]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>k(R=>R-1),[]),children:l.jsx(ge.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{_.current=!0}),onFocus:ce(e.onFocus,R=>{const F=!_.current;if(R.target===R.currentTarget&&F&&!v){const P=new CustomEvent(Tm,az);if(R.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=S().filter(A=>A.focusable),O=I.find(A=>A.active),z=I.find(A=>A.id===m),M=[O,z,...I].filter(Boolean).map(A=>A.ref.current);vR(M,d)}}_.current=!1}),onBlur:ce(e.onBlur,()=>y(!1))})})}),mR="RovingFocusGroupItem",gR=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=ii(),c=s||o,u=uz(mR,n),d=u.currentTabStopId===c,f=fR(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return w.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),l.jsx(Wv.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(ge.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:ce(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:ce(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ce(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=pz(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(g.currentTarget);v=u.loop?mz(v,y+1):v.slice(y+1)}setTimeout(()=>vR(v))}})})})});gR.displayName=mR;var fz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pz(e,t,n){const r=hz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fz[r]}function vR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function mz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gz=pR,vz=gR,lb="Tabs",[yz,Sne]=Ui(lb,[hR]),yR=hR(),[xz,cb]=yz(lb),xR=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=ob(o),[f,h]=si({prop:r,onChange:i,defaultProp:s});return l.jsx(xz,{scope:n,baseId:ii(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(ge.div,{dir:d,"data-orientation":a,...u,ref:t})})});xR.displayName=lb;var bR="TabsList",wR=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=cb(bR,n),a=yR(n);return l.jsx(gz,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(ge.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});wR.displayName=bR;var SR="TabsTrigger",_R=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=cb(SR,n),o=yR(n),c=CR(a.baseId,r),u=PR(a.baseId,r),d=r===a.value;return l.jsx(vz,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:ce(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ce(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});_R.displayName=SR;var jR="TabsContent",ER=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=cb(jR,n),c=CR(o.baseId,r),u=PR(o.baseId,r),d=r===o.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(zi,{present:i||d,children:({present:h})=>l.jsx(ge.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});ER.displayName=jR;function CR(e,t){return`${e}-trigger-${t}`}function PR(e,t){return`${e}-content-${t}`}var bz=xR,kR=wR,RR=_R,TR=ER;const hh=bz,au=w.forwardRef(({className:e,...t},n)=>l.jsx(kR,{ref:n,className:ue("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));au.displayName=kR.displayName;const Kn=w.forwardRef(({className:e,...t},n)=>l.jsx(RR,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Kn.displayName=RR.displayName;const Gn=w.forwardRef(({className:e,...t},n)=>l.jsx(TR,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gn.displayName=TR.displayName;const Re=({src:e,alt:t,className:n})=>l.jsx("span",{role:"img","aria-label":t,className:ue("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),wz=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(xt,{to:"/signup",children:l.jsx(Y,{variant:"outline",children:"S'inscrire"})}),l.jsx(xt,{to:"/login",children:l.jsx(Y,{children:"Se connecter"})})]})]})})}),l.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",l.jsx("br",{}),"de FE le plus puissant",l.jsx("br",{}),"du marché"]}),l.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",l.jsx("br",{}),"agrégés et enrichis par nos experts."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(xt,{to:"/signup",children:l.jsx(Y,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(xt,{to:"/login",children:l.jsx(Y,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),l.jsx("div",{className:"order-1 lg:order-2",children:l.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),l.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Re,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto text-center",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",l.jsx("br",{}),"du moteur de recherche"]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:l.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",l.jsx("br",{}),"puissant et personnalisable"]}),l.jsxs(hh,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[l.jsxs(au,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[l.jsx(Kn,{value:"donnees",className:"rounded-full",children:"Données"}),l.jsx(Kn,{value:"recherche",className:"rounded-full",children:"Recherche"}),l.jsx(Kn,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),l.jsx(Kn,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),l.jsxs(Gn,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",l.jsx("br",{}),"données carbone"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",l.jsx("br",{}),"données de références internationales."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",l.jsx("br",{}),"qualité des FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",l.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),l.jsxs(Gn,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",l.jsx("br",{}),"d'utilisation"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",l.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",l.jsx("br",{}),"automatiques et tri personnalisable."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",l.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),l.jsxs(Gn,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",l.jsx("br",{}),"selon vos besoins"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",l.jsx("br",{}),"thématiques pour un accès rapide."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",l.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",l.jsx("br",{}),"base de données personnalisée."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),l.jsxs(Gn,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",l.jsx("br",{}),"la recherche de FE"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",l.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",l.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",l.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",l.jsx("br",{}),"sur une seule plateforme"]}),l.jsxs(hh,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[l.jsxs(au,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[l.jsx(Kn,{value:"standards",className:"rounded-full",children:"Datasets standards"}),l.jsx(Kn,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),l.jsx(Gn,{value:"standards",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="AIB"?l.jsx(Re,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):e==="Agribalyse"?l.jsx(Re,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):e==="BEIS"?l.jsx(Re,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):e==="Base Carbone"?l.jsx(Re,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):e==="Base Impacts"?l.jsx(Re,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):e==="CCF"?l.jsx(Re,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):e==="Climate Trace"?l.jsx(Re,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):e==="EEA"?l.jsx(Re,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):e==="EPA"?l.jsx(Re,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):e==="Exiobase"?l.jsx(Re,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(Re,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):e==="Ecobalyse"?l.jsx(Re,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):e==="Electricity Maps"?l.jsx(Re,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):e==="Ember"?l.jsx(Re,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):e==="GESPoint5"?l.jsx(Re,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):e==="GLEC"?l.jsx(Re,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):e==="Kering"?l.jsx(Re,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):e==="OMEGA TP"?l.jsx(Re,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):e==="Open CEDA"?l.jsx(Re,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):e==="PCAF"?l.jsx(Re,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})}),l.jsx(Gn,{value:"premium",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="Inies"?l.jsx(Re,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):e==="Eco-platform"?l.jsx(Re,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(Re,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",l.jsx("br",{}),"structurée et enrichie par nos",l.jsx("br",{}),"experts"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",l.jsx("br",{}),"à vos besoins"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs(be,{className:"p-8 border border-border",children:[l.jsxs(Ne,{className:"pb-4",children:[l.jsx(Ae,{className:"text-xl font-semibold",children:"STANDARD"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),l.jsxs(we,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsx(Y,{className:"w-full mt-6",children:"En savoir plus"})]})]}),l.jsxs(be,{className:"p-8 relative border border-border",children:[l.jsxs(Ne,{className:"pb-4",children:[l.jsx(Ae,{className:"text-xl font-semibold",children:"PREMIUM"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),l.jsxs(we,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Export des données"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(an,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),l.jsx(Y,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto text-center",children:l.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),l.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(xt,{to:"/signup",children:l.jsx(Y,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(xt,{to:"/login",children:l.jsx(Y,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),l.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[l.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),l.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Y,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(gL,{className:"h-4 w-4"})}),l.jsx(Y,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(OP,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[l.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),l.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[l.jsx(xt,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),l.jsx(xt,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),l.jsx(xt,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]}),Mt=w.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Mt.displayName="Input";var Sz="Label",NR=w.forwardRef((e,t)=>l.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NR.displayName=Sz;var AR=NR;const _z=Ku("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=w.forwardRef(({className:e,...t},n)=>l.jsx(AR,{ref:n,className:ue(_z(),e),...t}));Nt.displayName=AR.displayName;const OR=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const o={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return l.jsxs(Y,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${o[e]} ${a}`,children:[n?l.jsx(al,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx("span",{className:"mr-2",children:s}),i]})},IR=w.createContext(void 0),FR=()=>{const e=w.useContext(IR);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},DR=({children:e})=>{const[t,n]=w.useState({loading:{google:!1},lastError:null}),r=(a,o)=>{n(c=>({...c,loading:{...c.loading,[a]:o}}))},i=a=>{n(o=>({...o,lastError:a}))},s=()=>{i(null)};return l.jsx(IR.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},jz=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),{toast:c}=Yt(),{signIn:u,signInWithGoogle:d}=_t(),{ssoState:f,setProviderLoading:h,setLastError:p}=FR(),g=Oa();w.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){o(!0);return}try{const{data:{session:b}}=await J.auth.getSession();if(b!=null&&b.user){const{data:S}=await J.from("users").select("workspace_id").eq("user_id",b.user.id).single();if(S){const{data:_}=await J.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((_==null?void 0:_.plan_type)==="freemium"){const{data:j}=await J.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();j&&new Date(j.expires_at)<=new Date&&(o(!0),await J.auth.signOut())}}}}catch(b){console.error("Error checking trial status:",b)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),p(null);try{const y=await u(e,n);y.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:y.error.message}),p(y.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},x=async v=>{h(v,!0),p(null);try{const y=await d();y.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:y.error.message}),p(y.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(xt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Ax,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ae,{className:"text-2xl",children:"Se connecter"}),l.jsx(Ut,{children:"Connectez-vous à votre compte DataCarb"})]}),l.jsxs(we,{children:[a&&l.jsxs(oi,{variant:"destructive",className:"mb-6",children:[l.jsx(Tr,{className:"h-4 w-4"}),l.jsx(li,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),l.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"email",children:"Email"}),l.jsx(Mt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Mt,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),l.jsx(Y,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(al,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(OR,{provider:"google",onClick:()=>x("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&l.jsxs(oi,{variant:"destructive",className:"mt-4",children:[l.jsx(Tr,{className:"h-4 w-4"}),l.jsx(li,{children:f.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",l.jsx(xt,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},Ez=()=>l.jsx(DR,{children:l.jsx(jz,{})}),Cz=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[a,o]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(!1),{toast:g}=Yt(),{signUp:m,signInWithGoogle:x}=_t(),{ssoState:v,setProviderLoading:y,setLastError:b}=FR(),S=async j=>{if(j.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),b(null);try{const k=await m(e,n,{firstName:a,lastName:c,company:d||"Mon Entreprise"});k.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:k.error.message}),b(k.error.message)):(g({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{p(!1)}},_=async j=>{y(j,!0),b(null);try{const k=await x();k.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:k.error.message}),b(k.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{y(j,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(xt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Ax,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ae,{className:"text-2xl",children:"Créer un compte"}),l.jsx(Ut,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),l.jsxs(we,{children:[l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"firstName",children:"Prénom"}),l.jsx(Mt,{id:"firstName",type:"text",value:a,onChange:j=>o(j.target.value),required:!0,placeholder:"Votre prénom"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"lastName",children:"Nom"}),l.jsx(Mt,{id:"lastName",type:"text",value:c,onChange:j=>u(j.target.value),required:!0,placeholder:"Votre nom"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"company",children:"Nom de l'entreprise"}),l.jsx(Mt,{id:"company",type:"text",value:d,onChange:j=>f(j.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"email",children:"Email"}),l.jsx(Mt,{id:"email",type:"email",value:e,onChange:j=>t(j.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Mt,{id:"password",type:"password",value:n,onChange:j=>r(j.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),l.jsx(Mt,{id:"confirmPassword",type:"password",value:i,onChange:j=>s(j.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),l.jsx(Y,{type:"submit",className:"w-full",disabled:h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(al,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(OR,{provider:"google",onClick:()=>_("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&l.jsxs(oi,{variant:"destructive",className:"mt-4",children:[l.jsx(Tr,{className:"h-4 w-4"}),l.jsx(li,{children:v.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",l.jsx(xt,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},Pz=()=>l.jsx(DR,{children:l.jsx(Cz,{})}),Vv="7.16.2";function fn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ub=fn;fn.prototype._events=void 0;fn.prototype._maxListeners=void 0;fn.defaultMaxListeners=10;fn.prototype.setMaxListeners=function(e){if(!kz(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};fn.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||ou(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(n=this._events[e],LR(n))return!1;if(Li(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(ou(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};fn.prototype.addListener=function(e,t){var n;if(!Li(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Li(t.listener)?t.listener:t),this._events[e]?ou(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,ou(this._events[e])&&!this._events[e].warned&&(LR(this._maxListeners)?n=fn.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};fn.prototype.on=fn.prototype.addListener;fn.prototype.once=function(e,t){if(!Li(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};fn.prototype.removeListener=function(e,t){var n,r,i,s;if(!Li(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Li(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(ou(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};fn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Li(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};fn.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Li(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};fn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Li(t))return 1;if(t)return t.length}return 0};fn.listenerCount=function(e,t){return e.listenerCount(t)};function Li(e){return typeof e=="function"}function kz(e){return typeof e=="number"}function ou(e){return typeof e=="object"&&e!==null}function LR(e){return e===void 0}const Rz=Ra(ub);function Tz(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var $R=Tz,Nz=ub,Az=$R;function td(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}Az(td,Nz);td.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};td.prototype.getModifiedState=function(e){return this.fn(e)};td.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var Oz=td;function Iz(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function Fz(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var db={escapeFacetValue:Iz,unescapeFacetValue:Fz};function Dz(e){return typeof e=="object"&&e!==null?fb(Array.isArray(e)?[]:{},e):e}function ph(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function fb(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(ph(i)&&ph(r)?e[n]=fb(i,r):e[n]=Dz(r))}return e}function Lz(e){ph(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];ph(r)&&fb(e,r)}return e}var hb=Lz;function $z(e){return e&&Object.keys(e).length>0}var pb=$z;function Mz(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var mb=Mz;function oc(e){e=e||{},this.params=e.params||[]}oc.prototype={constructor:oc,addParams:function(e){var t=this.params.slice();return t.push(e),new oc({params:t})},removeParams:function(e){return new oc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var MR=oc;function Qv(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}Qv.prototype={constructor:Qv};var UR=Qv,Wd=hb;function Vd(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Ft={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Ft._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Ft._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),o=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(o).length>1){var c=a[0].split(o).slice(0,-1).reduce(function(d,f,h){return d.concat({attribute:s.attributes[h],value:h===0?f:[d[d.length-1].value,f].join(o)})},[]);c.forEach(function(u,d){var f=Ft._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function h(m){return s.attributes.some(function(x){return x===m.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(m,x){if(Array.isArray(x)){var v=x.filter(function(y){return!h(y)});v.length>0&&m.push(v)}return typeof x=="string"&&!h(x)&&m.push(x),m},[]),g=c[d-1];d>0?f.facetFilters=p.concat(g.attribute+":"+g.value):p.length>0?f.facetFilters=p:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Ft._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Ft._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ft._getFacetFilters(e),r=Ft._getNumericFilters(e),i=Ft._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Vd(Wd({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(o){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[o]&&e.disjunctiveFacetsRefinements[o].length>0?"disjunctive("+o+")":o})).concat(Ft._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Ft._getFacetFilters(e),r=Ft._getNumericFilters(e),i=Ft._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,Vd(Wd({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Ft._getFacetFilters(e,t,n),i=Ft._getNumericFilters(e,t),s=Ft._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return o?a.facets=Ft._getDisjunctiveHierarchicalFacetAttribute(e,o,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),Vd(Wd({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(o){if(Array.isArray(o)){var c=o.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+o)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(d){r.push(c+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(d){r.push(c+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(c+":"+f)}),r.push(d)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(c){var u=o[c]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(c),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),g,m;if(t===c){if(d.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===d.split(h).length)return;p?(m=p.split(h).length-1,d=p):(m=d.split(h).length-2,d=d.slice(0,d.lastIndexOf(h))),g=f.attributes[m]}else m=d.split(h).length-1,g=f.attributes[m];g&&r.push([g+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),o=s.split(a).length,c=i.attributes.slice(0,o+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",o=a.split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),Vd(Wd({},Ft._getHitsSearchParams(i),s))}},Uz=Ft,gb=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},nd=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function zz(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var Hz=zz;function zR(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(zR);throw new Error("The value should be a number, a parsable string or an array of those.")}var Bz=zR,qz=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},Wz=gb,Vz=pb,Qz=mb,na={addRefinement:function(t,n,r){if(na.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,Wz(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return na.clearRefinement(t,function(s,a){return n===a});var i=""+r;return na.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return na.isRefined(t,n,r)?na.removeRefinement(t,n,r):na.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return Vz(t)?{}:t;if(typeof n=="string")return Qz(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,o){var c=t[o]||[],u=c.filter(function(d){return!n(d,o,r)});return u.length!==c.length&&(i=!0),a[o]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},Kz=na,Nm=gb,HR=nd,KS=Hz,Kv=hb,Gv=pb,GS=mb,Am=Bz,Gz=qz,mt=Kz;function vb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return vb(t[r],n)}):e===t}function Yz(e,t){return HR(e,function(n){return vb(n,t)})}function Ln(e){var t=e?Ln._parseNumbers(e):{};t.userToken!==void 0&&!Gz(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=Ln.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}Ln.PARAMETERS=Object.keys(new Ln);Ln._parseNumbers=function(e){if(e instanceof Ln)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var o=s[a],c=o.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return Kv(e,t)};Ln.make=function(t){var n=new Ln(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Ln.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&Gv(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Gv(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Ln.prototype={constructor:Ln,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:mt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:mt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:mt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:mt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=Am(n);if(this.isNumericRefined(e,t,r))return this;var i=Kv({},this.numericRefinements);return i[e]=Kv({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&vb(i.val,Am(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return Gv(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return GS(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var o=r[a],c={};return o=o||{},Object.keys(o).forEach(function(u){var d=o[u]||[],f=[];d.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||f.push(h)}),f.length!==d.length&&(n=!0),c[u]=f}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:mt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:mt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:mt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:mt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:mt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:mt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:mt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:mt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:mt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Nm(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Nm(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Nm(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?mt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=Am(r),a=Yz(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=KS(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return KS(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=Ln.validate(this,t);if(n)throw n;var r=this,i=Ln._parseNumbers(t),s=Object.keys(this).reduce(function(o,c){return o[c]=r[c],o},{}),a=Object.keys(i).reduce(function(o,c){var u=o[c]!==void 0,d=i[c]!==void 0;return u&&!d?GS(o,[c]):(d&&(o[c]=i[c]),o)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return HR(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var BR=Ln,Jz=function(t){return Array.isArray(t)?t.filter(Boolean):[]},Xz=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},Zz=nd,qR=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var o=a.split(":"),c=Zz(r,function(u){return u[0]===o[0]});return o.length>1||!c?(s[0].push(o[0]),s[1].push(o[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function e6(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var t6=e6;function n6(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function r6(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var o=-1;++o<s.criteria.length;){var c=n6(s.criteria[o],a.criteria[o]);if(c)return o>=n.length?c:n[o]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var WR=r6,i6=u6,VR=db,s6=nd,a6=qR,o6=WR,l6=VR.escapeFacetValue,c6=VR.unescapeFacetValue;function u6(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=a6(e._getHierarchicalFacetSortBy(i)),d=n.every(function(p){return p.exhaustive}),f=d6(u,a,o,c,s),h=n;return o&&(h=n.slice(o.split(a).length)),h.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function d6(e,t,n,r,i){return function(a,o,c){var u=a;if(c>0){var d=0;for(u=a;d<c;){var f=u&&Array.isArray(u.data)?u.data:[];u=s6(f,function(p){return p.isRefined}),d++}}if(u){var h=Object.keys(o.data).map(function(p){return[p,o.data[p]]}).filter(function(p){var g=p[0];return f6(g,u.path||n,i,t,n,r)});u.data=o6(h.map(function(p){var g=p[0],m=p[1];return h6(m,g,t,c6(i),o.exhaustive)}),e[0],e[1])}return a}}function f6(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function h6(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:l6(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var Om=Jz,Cc=gb,QR=db,Or=nd,Kl=Xz,p6=qR,YS=t6,KR=WR,JS=QR.escapeFacetValue,GR=QR.unescapeFacetValue,m6=i6;function XS(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function Im(e,t,n){t&&t[n]&&(e.stats=t[n])}function g6(e,t){return Or(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Cs(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=Cc(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=XS(e.facets),c=XS(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var h=d[f],p=g6(e.hierarchicalFacets,f);if(p){var g=p.attributes.indexOf(f),m=Kl(e.hierarchicalFacets,function(b){return b.name===p.name});i.hierarchicalFacets[m][g]={attribute:f,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var x=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,y;x&&(y=c[f],i.disjunctiveFacets[y]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Im(i.disjunctiveFacets[y],r.facets_stats,f)),v&&(y=o[f],i.facets[y]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Im(i.facets[y],r.facets_stats,f))}}),this.hierarchicalFacets=Om(this.hierarchicalFacets),a.forEach(function(f){var h=t[u],p=h&&h.facets?h.facets:{},g=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(m){var x=p[m],v;if(g){v=Kl(e.hierarchicalFacets,function(S){return S.name===g.name});var y=Kl(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(y===-1)return;i.hierarchicalFacets[v][y].data=i.persistHierarchicalRootCount?YS(i.hierarchicalFacets[v][y].data,x):Cc(x,i.hierarchicalFacets[v][y].data)}else{v=c[m];var b=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:YS(b,x),exhaustive:h.exhaustiveFacetsCount},Im(i.disjunctiveFacets[v],h.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(GR(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),g=e.getHierarchicalRefinement(f);g.length===0||g[0].split(p).length<2||t.slice(u).forEach(function(m){var x=m&&m.facets?m.facets:{};Object.keys(x).forEach(function(v){var y=x[v],b=Kl(e.hierarchicalFacets,function(k){return k.name===h.name}),S=Kl(i.hierarchicalFacets[b],function(k){return k.attribute===v});if(S!==-1){var _={};if(g.length>0&&!i.persistHierarchicalRootCount){var j=g[0].split(p)[0];_[j]=i.hierarchicalFacets[b][S].data[j]}i.hierarchicalFacets[b][S].data=Cc(_,y,i.hierarchicalFacets[b][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=o[f];i.facets[p]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(g){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(m6(e)),this.facets=Om(this.facets),this.disjunctiveFacets=Om(this.disjunctiveFacets),this._state=e}Cs.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Or(this.facets,t)||Or(this.disjunctiveFacets,t)||Or(this.hierarchicalFacets,t)};function v6(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=Or(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=JS(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Or(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=JS(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Or(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),c=GR(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+o,""));var u=c.split(o);return u.unshift(t),YR(s,u,0),s}}function YR(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){YR(r,t,n+1)})}function JR(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return JR(e,o,n,r+1)}),s=e(i,n[r]),a=Cc({data:s},t);return a}Cs.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function y6(e,t){return t.sort(e)}function x6(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var o=t.sortRemainingBy,c;return o==="hidden"?n:(o==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(KR(r,c[0],c[1])))}function b6(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Cs.prototype.getFacetValues=function(e,t){var n=v6(this,e);if(n){var r=Cc(t,{sortBy:Cs.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return JR(function(o,c){if(r.facetOrdering){var u=b6(i,c);if(u)return x6(o,u)}if(Array.isArray(r.sortBy)){var d=p6(r.sortBy,Cs.DEFAULT_SORT);return KR(o,d[0],d[1])}else if(typeof r.sortBy=="function")return y6(r.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Cs.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return ZS(this.facets,e);if(this._state.isDisjunctiveFacet(e))return ZS(this.disjunctiveFacets,e)};function ZS(e,t){var n=Or(e,function(r){return r.name===t});return n&&n.stats}Cs.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(Fm(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(Fm(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(Fm(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(w6(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function Fm(e,t,n,r,i){var s=Or(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}function w6(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=Or(r,function(h){return h.name===t}),c=a.reduce(function(h,p){var g=h&&Or(h.data,function(m){return m.name===p});return g!==void 0?g:h},o),u=c&&c.count||0,d=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var XR=Cs,S6=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},_6=nd,j6=S6;function E6(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function C6(e,t){var n={};t.forEach(function(s){s.forEach(function(a,o){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+o,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:o,count:1})})});var r=E6(n,t.length),i=r.reduce(function(s,a){var o=_6(j6(t),function(c){return c.objectID===a.objectID});return o?s.concat(o):s},[]);return i}var P6=C6,ZR="3.26.0",k6=ub,R6=Oz,eT=db.escapeFacetValue,T6=$R,N6=hb,A6=pb,O6=mb,tT=MR,I6=UR,Is=Uz,yb=BR,Yv=XR,F6=P6,nT=ZR;function Z(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+nT+")"),this.setClient(e);var i=n||{};i.index=t,this.state=yb.make(i),this.recommendState=new tT({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}T6(Z,k6);Z.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};Z.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};Z.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};Z.prototype.recommend=function(){return this._recommend(),this};Z.prototype.getQuery=function(){var e=this.state;return Is._getHitsSearchParams(e)};Z.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Is._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new Yv(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Yv(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};Z.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=N6({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:O6(Is._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};Z.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=Is.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?d=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g,m){if(f.indexOf(g.value)>-1){p.facetHits.splice(m,1);return}g.escapedValue=eT(g.value),g.isRefined=o?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};Z.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,o;return o=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Is._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),o.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=eT(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};Z.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};Z.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};Z.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};Z.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};Z.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};Z.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};Z.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};Z.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};Z.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};Z.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};Z.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};Z.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};Z.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};Z.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};Z.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};Z.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};Z.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};Z.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};Z.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};Z.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};Z.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};Z.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};Z.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};Z.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};Z.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};Z.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};Z.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};Z.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};Z.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};Z.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};Z.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};Z.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};Z.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function rT(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}Z.prototype.setCurrentPage=rT;Z.prototype.setPage=rT;Z.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};Z.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};Z.prototype.setState=function(e){return this._change({state:yb.make(e),isPageReset:!1}),this};Z.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new yb(e),this};Z.prototype.hasRefinements=function(e){return A6(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};Z.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};Z.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};Z.prototype.hasTag=function(e){return this.state.isTagRefined(e)};Z.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};Z.prototype.getIndex=function(){return this.state.index};function iT(){return this.state.page}Z.prototype.getCurrentPage=iT;Z.prototype.getPage=iT;Z.prototype.getTags=function(){return this.state.tagRefinements};Z.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var o=s[a];t.push({value:o,operator:a,type:"numeric"})}),t};Z.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};Z.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};Z.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Is._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var c=o.getModifiedState(t),u=c.index?Is._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}};Z.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(o){var c=o.getModifiedState(e),u=Is._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};Z.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new tT);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};Z.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,o){return o!=="results"&&(a[o]=n[o]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var o=a.state,c=a.queriesCount,u=a.helper,d=i.splice(0,c);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new Yv(o,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:o})})}};Z.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(o){return i[o]===void 0}).forEach(function(o,c){s[o]||(s[o]=[]),s[o].push(c)}),Object.keys(s).forEach(function(o){var c=s[o],u=r.results[c[0]];if(c.length===1){i[o]=u;return}i[o]=Object.assign({},u,{hits:F6(n,c.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(o){a[o]=i[o]}),t.forEach(function(o){var c=o.state,u=o.helper;if(!o.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new I6(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};Z.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};Z.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};Z.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};Z.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};Z.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};Z.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};Z.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};Z.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+nT+")"),this.client=e,this)};Z.prototype.getClient=function(){return this.client};Z.prototype.derive=function(e,t){var n=new R6(this,e,t);return this.derivedHelpers.push(n),n};Z.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};Z.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var D6=Z,sT=D6,L6=MR,$6=UR,M6=BR,U6=XR;function Da(e,t,n,r){return new sT(e,t,n,r)}Da.version=ZR;Da.AlgoliaSearchHelper=sT;Da.SearchParameters=M6;Da.RecommendParameters=L6;Da.SearchResults=U6;Da.RecommendResults=$6;var z6=Da;const on=Ra(z6);var H6=0;function B6(e){e.dependsOn==="recommend"&&(e.$$id=H6++)}function bt(){}function q6(e){return Object.prototype.toString.call(e).slice(8,-1)}function Bi(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(q6(e),`).

`).concat(t))}function e1(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var W6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aT=/[&<>"']/g,V6=RegExp(aT.source);function Q6(e){return e&&V6.test(e)?e.replace(aT,function(t){return W6[t]}):e}var K6={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oT=/&(amp|quot|lt|gt|#39);/g,G6=RegExp(oT.source);function Y6(e){return e&&G6.test(e)?e.replace(oT,function(t){return K6[t]}):e}function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function J6(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function X6(e){return Jv(e)==="object"&&e!==null}function lT(e){if(!X6(e)||J6(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Z6(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}function t1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(n),!0).forEach(function(r){cT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cT(e,t,n){return t=eH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return lu(t)=="symbol"?t:String(t)}function tH(e,t){if(lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ul={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},hn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function uT(e){return Q6(e).replace(new RegExp(ul.highlightPreTag,"g"),hn.highlightPreTag).replace(new RegExp(ul.highlightPostTag,"g"),hn.highlightPostTag)}function mh(e){return lT(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return jo(jo({},t),{},cT({},n,mh(e[n])))},{}):Array.isArray(e)?e.map(mh):jo(jo({},e),{},{value:uT(e.value)})}function nH(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=Xv({},(Z6(t),t));return n._highlightResult&&(n._highlightResult=mh(n._highlightResult)),n._snippetResult&&(n._snippetResult=mh(n._snippetResult)),n}),e.__escaped=!0),e}function rH(e){return e.map(function(t){return jo(jo({},t),{},{highlighted:uT(t.highlighted)})})}function dT(e){var t=hn.highlightPreTag,n=hn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function iH(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return t=oH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e){var t=lH(e,"string");return dl(t)=="symbol"?t:String(t)}function lH(e,t){if(dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function cH(e,t){return hH(e)||fH(e,t)||dH(e,t)||uH()}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function hH(e){if(Array.isArray(e))return e}function pH(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=c[1],f=c[2],h=f===void 0?"Filter Applied":f,p=c[3],g=p===void 0?{}:p,m=c[0].split(":"),x=cH(m,2),v=x[0],y=x[1],b=typeof r=="string"?r:r(d);if(c.length===1&&dl(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!iH(n,b,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:y,payload:sH({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(b,":").concat(d)]},g),attribute:b})}};return s}function fT(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return t=gH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=vH(e,"string");return fl(t)=="symbol"?t:String(t)}function vH(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t){return SH(e)||wH(e,t)||bH(e,t)||xH()}function xH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(e,t){if(e){if(typeof e=="string")return s1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(e,t)}}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function SH(e){if(Array.isArray(e))return e}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function _H(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function hT(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&fl(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=yH(s,2),o=a[0],c=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((o==="click"||o==="conversion")&&!d)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,g=_H(h),m=g.map(function(v){return v.map(function(y){return y.objectID})}),x=g.map(function(v){return v.map(function(y){return y.__position})});return o==="view"?i.status!=="idle"?[]:g.map(function(v,y){var b;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:o,payload:Dm({eventName:d||"Hits Viewed",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,objectIDs:m[y]},f),hits:v,eventModifier:c}}):o==="click"?g.map(function(v,y){var b;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:Dm({eventName:d||"Hit Clicked",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:p,objectIDs:m[y],positions:x[y]},f),hits:v,eventModifier:c}}):o==="conversion"?g.map(function(v,y){var b;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:Dm({eventName:d||"Hit Converted",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:p,objectIDs:m[y]},f),hits:v,eventModifier:c}}):[]}function jH(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=hT({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function EH(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=hT({widgetType:n,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:r});return u.length?"data-insights-event=".concat(fT(u)):""};return i}function Yn(e){return e.$$type==="ais.index"}function Zv(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Yn).forEach(function(r){return Zv(e,r)})}var CH=Promise.resolve();function Gl(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t===null&&(t=CH.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function PH(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return PH(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function kH(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function lc(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function Ea(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function RH(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function a1(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],o=n[s]||r[s];return[a,o]}else return[e.applicationID,e.apiKey]}function pT(e){var t=hn.highlightPostTag,n=hn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(t);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var TH=new RegExp(/\w/i);function NH(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!TH.test(Y6(i.value))&&a===s?a:i.isHighlighted}function dp(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function Lm(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:lc(r)},a=Ea(i,function(p){return p.name===n}),o;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),d=function(g){return function(m){return g[m]}},f=function(g){a=a&&a.data&&Ea(Object.keys(a.data).map(d(a.data)),function(m){return m.name===u[g]})},h=0;a!==void 0&&h<u.length;++h)f(h);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function AH(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,o=t.facetsExcludes,c=o===void 0?{}:o,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,h=f===void 0?{}:f,p=t.numericRefinements,g=p===void 0?{}:p,m=t.tagRefinements,x=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var y=a[v];y.forEach(function(b){i.push(Lm(t,"facet",v,b,r.facets))})}),Object.keys(c).forEach(function(v){var y=c[v];y.forEach(function(b){i.push({type:"exclude",attribute:v,name:b,exclude:!0})})}),Object.keys(d).forEach(function(v){var y=d[v];y.forEach(function(b){i.push(Lm(t,"disjunctive",v,kH(b),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var y=h[v];y.forEach(function(b){i.push(Lm(t,"hierarchical",v,b,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var y=g[v];Object.keys(y).forEach(function(b){var S=b,_=y[S],j=Array.isArray(_)?_:[_];j.forEach(function(k){i.push({type:"numeric",attribute:v,name:"".concat(k),numericValue:k,operator:S})})})}),x.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return t=IH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=FH(e,"string");return cu(t)=="symbol"?t:String(t)}function FH(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e,t,n){return e.map(function(r,i){return l1(l1({},r),{},{__position:n*t+i+1})})}function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){LH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LH(e,t,n){return t=$H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $H(e){var t=MH(e,"string");return uu(t)=="symbol"?t:String(t)}function MH(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){return t?e.map(function(n){return u1(u1({},n),{},{__queryID:t})}):e}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(r){zH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zH(e,t,n){return t=HH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=BH(e,"string");return du(t)=="symbol"?t:String(t)}function BH(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?f1(f1({},r),s.recommendResults.results):r},{});e._recommendCache=n}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function WH(e,t){return GH(e)||KH(e,t)||QH(e,t)||VH()}function VH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return h1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function GH(e){if(Array.isArray(e))return e}function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(r){mT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mT(e,t,n){return t=YH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=JH(e,"string");return fu(t)=="symbol"?t:String(t)}function JH(e,t){if(fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,o){var c=t[o],u=c.state,d=c.requestParams,f=c.results,h=f&&u?f.map(function(p,g){return Yl({indexName:u.index||p.index},d!=null&&d[g]||p.params?{params:$m((d==null?void 0:d[g])||ZH(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,o){var c=t[o].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return Yl(Yl({},f),{},{params:$m(f.params)})}):$m(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=Yl(Yl({},e.cache),{},mT({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function ZH(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=WH(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function $m(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function m1(e){return e!==Object(e)}function gT(e,t){if(e===t)return!0;if(m1(e)||m1(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!gT(e[i],t[i]))return!1}return!0}function Je(e){return typeof e=="number"&&isFinite(e)}function vT(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var eB=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){tB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tB(e,t,n){return t=nB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nB(e){var t=rB(e,"string");return hu(t)=="symbol"?t:String(t)}function rB(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iB(e,t){if(e==null)return{};var n=sB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var aB=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=iB(n,eB);return t.setQueryParameters(r)},oB=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},lB=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},cB=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=RH(r,function(o){return o.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},uB=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},dB=function(t,n){return t.setQueryParameters({facetsRefinements:ci(ci({},t.facetsRefinements),n.facetsRefinements)})},fB=function(t,n){return t.setQueryParameters({facetsExcludes:ci(ci({},t.facetsExcludes),n.facetsExcludes)})},hB=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:ci(ci({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},pB=function(t,n){return t.setQueryParameters({numericRefinements:ci(ci({},t.numericRefinements),n.numericRefinements)})},mB=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:ci(ci({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},gB=function(t,n){var r=vT([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Pc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=mB(i,s),o=cB(a,s),c=uB(o,s),u=pB(c,s),d=hB(u,s),f=fB(d,s),h=dB(f,s),p=lB(h,s),g=gB(p,s),m=oB(g,s);return aB(m,s)})};function vB(e){return wB(e)||bB(e)||xB(e)||yB()}function yB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(e,t){if(e){if(typeof e=="string")return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}function bB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wB(e){if(Array.isArray(e))return ey(e)}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v1(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,o=Math.round((r-n)/a);return vB(Array(o)).map(function(c,u){return n+u*a})}function cc(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function y1(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function SB(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(r){_B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _B(e,t,n){return t=jB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){var t=EB(e,"string");return pu(t)=="symbol"?t:String(t)}function EB(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yT(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Qd(Qd({},t),{},{isHighlighted:!NH(e,n)})}):e.map(function(t){return Qd(Qd({},t),{},{isHighlighted:!1})})}function ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function Mm(e){return Array.isArray(e)?e:[e]}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(n),!0).forEach(function(r){xT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xT(e,t,n){return t=CB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=PB(e,"string");return mu(t)=="symbol"?t:String(t)}function PB(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kB=xr({name:"configure",connector:!0});function w1(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return Dt(Dt({},n),{},xT({},r,void 0))},{}))}var RB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bt,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return function(r){if(!r||!lT(r.searchParameters))throw new Error(kB("The `searchParameters` option expects an object."));var i={};function s(a){return function(o){var c=w1(a.state,r),u=Pc(c,new on.SearchParameters(o));r.searchParameters=o,a.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var c=o.instantSearchInstance;t(Dt(Dt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!0)},render:function(o){var c=o.instantSearchInstance;t(Dt(Dt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!1)},dispose:function(o){var c=o.state;return n(),w1(c,r)},getRenderState:function(o,c){var u,d=this.getWidgetRenderState(c);return Dt(Dt({},o),{},{configure:Dt(Dt({},d),{},{widgetParams:Dt(Dt({},d.widgetParams),{},{searchParameters:Pc(new on.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new on.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var c=o.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(o,c){var u=c.uiState;return Pc(o,new on.SearchParameters(Dt(Dt({},u.configure),r.searchParameters)))},getWidgetUiState:function(o){return Dt(Dt({},o),{},{configure:Dt(Dt({},o.configure),r.searchParameters)})}}}};function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}var S1=Object.prototype.hasOwnProperty;function hl(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&hl(e[i],t[i],n););return i===-1}if(!r||ty(e)==="object"){i=0;for(r in e)if(S1.call(e,r)&&++i&&!S1.call(t,r)||!(r in t)||!hl(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function _1(e){var t,n,r;return new on.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function j1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(n),!0).forEach(function(r){TB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TB(e,t,n){return t=NB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=AB(e,"string");return gu(t)=="symbol"?t:String(t)}function AB(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ny(e){var t=e.getHelper(),n=e.getResults()||_1(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:_1(i.helper.state);return E1(E1({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var bT=w.createContext(null);function wT(e,t){if(!e)throw new Error("Invariant failed")}function xb(){var e=w.useContext(bT);return wT(e!==null),e}var ST=w.createContext(null);function rd(){var e=w.useContext(ST);return wT(e!==null),e}var OB=w.createContext(null);function _T(){return w.useContext(OB)}var IB=w.createContext(null);function jT(){return w.useContext(IB)}function FB(e,t){return MB(e)||$B(e,t)||LB(e,t)||DB()}function DB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LB(e,t){if(e){if(typeof e=="string")return C1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C1(e,t)}}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $B(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function MB(e){if(Array.isArray(e))return e}function P1(e){var t=w.useState(function(){return e}),n=FB(t,2),r=n[0],i=n[1];return hl(r,e)||i(e),r}var UB="use",k1=Dy[UB],ET=typeof window<"u"?w.useLayoutEffect:w.useEffect,zB=w.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function CT(){return w.useContext(zB)}function HB(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,o=e.skipSuspense,c=CT(),u=c.waitForResultsRef,d=c.countRef;c.ignoreMultipleHooksWarning;var f=w.useRef(s);w.useEffect(function(){f.current=s},[s]);var h=w.useRef(r);w.useEffect(function(){h.current=r},[r]);var p=w.useRef(null),g=a&&!i.getWidgets().includes(r),m=rd();if(ET(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var y=hl(s,f.current);y||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!o){var x;k1(u.current),r.$$type!=="ais.dynamicWidgets"&&(x=m.helper)!==null&&x!==void 0&&x.lastResults&&k1(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var BB=["skipSuspense"],qB=["instantSearchInstance","widgetParams"],WB=["widgetParams"];function VB(e,t){return YB(e)||GB(e,t)||KB(e,t)||QB()}function QB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KB(e,t){if(e){if(typeof e=="string")return R1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R1(e,t)}}function R1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function YB(e){if(Array.isArray(e))return e}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){JB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JB(e,t,n){return t=XB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(e){var t=ZB(e,"string");return vu(t)=="symbol"?t:String(t)}function ZB(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(e,t){if(e==null)return{};var n=e8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function di(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=Um(n,BB),a=_T(),o=jT(),c=rd(),u=xb(),d=P1(t),f=P1(s),h=w.useRef(!0),p=w.useRef(null),g=w.useRef(c.status),m=w.useMemo(function(){var S=e(function(_,j){if(j){h.current=!0;return}if(h.current){var k=_.instantSearchInstance;_.widgetParams;var R=Um(_,qB);(!hl(R,p.current,function(F,P){return(F==null?void 0:F.constructor)===Function&&(P==null?void 0:P.constructor)===Function})||k.status!==g.current)&&(b(R),p.current=R,g.current=k.status)}},function(){h.current=!1});return N1(N1({},S(d)),f)},[e,d,f]),x=w.useState(function(){if(m.getWidgetRenderState){var S,_=u.getHelper(),j=u.getWidgetUiState({})[u.getIndexId()];_.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,_.state,{uiState:j}))||_.state;var k=ny(u),R=k.results,F=k.scopedResults,P=k.recommendResults,I=m.getWidgetRenderState({helper:_,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&P&&o?P[o.recommendIdx.current++]:R,scopedResults:F,state:_.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});I.widgetParams;var O=Um(I,WB);return O}return{}}),v=VB(x,2),y=v[0],b=v[1];return HB({widget:m,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),y}function t8(e,t){return di(RB,{searchParameters:e},t)}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function A1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(n),!0).forEach(function(r){r8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r8(e,t,n){return t=i8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i8(e){var t=s8(e,"string");return yu(t)=="symbol"?t:String(t)}function s8(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bb(e){return t8(n8({},e),{$$widgetType:"ais.configure"}),null}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var a8=["initialSearchParameters"],o8=["initialRecommendParameters"];function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(r){Eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eo(e,t,n){return t=l8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8(e){var t=c8(e,"string");return xu(t)=="symbol"?t:String(t)}function c8(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PT(e){return h8(e)||f8(e)||d8(e)||u8()}function u8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(e,t){if(e){if(typeof e=="string")return ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(e,t)}}function f8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h8(e){if(Array.isArray(e))return ry(e)}function ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kT(e,t){if(e==null)return{};var n=p8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Jl=xr({name:"index-widget"});function RT(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function Xl(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Yn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function Zl(e,t){var n=t.initialSearchParameters,r=kT(t,a8);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||Yn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function I1(e,t){var n=t.initialRecommendParameters,r=kT(t,o8);return e.reduce(function(i,s){return!Yn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function TT(e){var t=e.filter(Yn);t.length!==0&&t.forEach(function(n){var r=n.getHelper();RT(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),TT(n.getWidgets())})}function NT(e){var t=e.filter(Yn);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(PT(NT(r.getWidgets()))))},[])}var m8=function(t){if(t===void 0||t.indexName===void 0)throw new Error(Jl("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},o=null,c=null,u=null,d=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=d)!==null&&m!==void 0&&m.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(m){var x;return m.dependsOn!=="recommend"||Yn(m)||m.$$id===void 0?this.getResults():(x=u)!==null&&x!==void 0&&x.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),x;return m?x=m.getWidgets():n.length===0?x=this.getWidgets():x=[this],NT(x)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?o._createURL(Eo({},i,m(a))):o._createURL(Eo({},i,Xl(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var x=this;if(!Array.isArray(m))throw new Error(Jl("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(Jl("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){Yn(v)||(o&&v.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,B6(v))}),s=s.concat(m),o&&m.length&&(RT(u,{state:Zl(s,{uiState:a,initialSearchParameters:u.state}),recommendState:I1(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var y=v.getRenderState(o.renderState[x.getIndexId()]||{},cc(o,x,o._initialUiState));zm({renderState:y,instantSearchInstance:o,parent:x})}}),m.forEach(function(v){v.init&&v.init(cc(o,x,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(m){var x=this;if(!Array.isArray(m))throw new Error(Jl("The `removeWidgets` method expects an array of widgets."));if(m.some(function(_){return typeof _.dispose!="function"}))throw new Error(Jl("The widget definition expects a `dispose` method."));if(s=s.filter(function(_){return m.indexOf(_)===-1}),s.forEach(function(_){Yn(_)||(o&&_.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:_.dependsOn==="recommend"?h=!0:p=!0)}),o&&m.length){var v=m.reduce(function(_,j){var k=j.dispose({helper:u,state:_.cleanedSearchState,recommendState:_.cleanedRecommendState,parent:x});return k instanceof on.RecommendParameters?_.cleanedRecommendState=k:k&&(_.cleanedSearchState=k),_},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),y=v.cleanedSearchState,b=v.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?Zl(s,{uiState:a,initialSearchParameters:new on.SearchParameters({index:this.getIndexName()})}):Zl(s,{uiState:Xl(s,{searchParameters:y,helper:u}),initialSearchParameters:y});a=Xl(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=b,s.length&&o.scheduleSearch()}return this},init:function(m){var x=this,v,y=m.instantSearchInstance,b=m.parent,S=m.uiState;if(u===null){o=y,c=b,a=S[i]||{};var _=y.mainHelper,j=Zl(s,{uiState:a,initialSearchParameters:new on.SearchParameters({index:n})}),k=I1(s,{uiState:a,initialRecommendParameters:new on.RecommendParameters});u=on({},j.index,j),u.recommendState=k,u.search=function(){return y.onStateChange?(y.onStateChange({uiState:y.mainIndex.getWidgetUiState({}),setUiState:function(O){return y.setUiState(O,!1)}}),_):_.search()},u.searchWithoutTriggeringOnStateChange=function(){return _.search()},u.searchForFacetValues=function(I,O,z,N){var M=u.state.setQueryParameters(N);return _.searchForFacetValues(I,O,z,M)},d=_.derive(function(){return Pc.apply(void 0,[_.state].concat(PT(SB(x))))},function(){return x.getHelper().recommendState});var R=(v=y._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(R!=null&&R.results){var F=new on.SearchResults(new on.SearchParameters(R.state),R.results);d.lastResults=F,u.lastResults=F}if(R!=null&&R.recommendResults){var P=new on.RecommendResults(new on.RecommendParameters({params:R.recommendResults.params}),R.recommendResults.results);d.lastRecommendResults=P,u.lastRecommendResults=P}u.on("change",function(I){var O=I.isPageReset;O&&TT(s)}),d.on("search",function(){y.scheduleStalledRender()}),d.on("result",function(I){var O=I.results;y.scheduleRender(),u.lastResults=O,f=O==null?void 0:O._state}),d.on("recommend:result",function(I){var O=I.recommend;y.scheduleRender(),u.lastRecommendResults=O.results}),s.forEach(function(I){if(I.getRenderState){var O=I.getRenderState(y.renderState[x.getIndexId()]||{},cc(y,x,S));zm({renderState:O,instantSearchInstance:y,parent:x})}}),s.forEach(function(I){I.init&&I.init(cc(y,x,S))}),u.on("change",function(I){var O=I.state,z=I._uiState;a=Xl(s,{searchParameters:O,helper:u},z||{}),y.onStateChange||y.onInternalStateChange()}),R&&y.scheduleRender(),h&&(y._hasRecommendWidget=!0),p&&(y._hasSearchWidget=!0)}},render:function(m){var x,v=this,y=m.instantSearchInstance;y.status==="error"&&!y.mainHelper.hasPendingRequests()&&f&&u.setState(f);var b=this.getResults()||(x=d)!==null&&x!==void 0&&x.lastRecommendResults?s:s.filter(Yn);b=b.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:y}):!0}),b.forEach(function(S){if(S.getRenderState){var _=S.getRenderState(y.renderState[v.getIndexId()]||{},y1(y,v,S));zm({renderState:_,instantSearchInstance:y,parent:v})}}),b.forEach(function(S){S.render&&S.render(y1(y,v,S))})},dispose:function(){var m=this,x,v;s.forEach(function(y){y.dispose&&u&&y.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),o=null,c=null,(x=u)===null||x===void 0||x.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(m){return s.filter(Yn).reduce(function(x,v){return v.getWidgetUiState(x)},Zr(Zr({},m),{},Eo({},i,Zr(Zr({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,x){var v=x.uiState;return Zl(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=Xl(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var x=typeof m=="function"?m(a):m;o.setUiState(function(v){return Zr(Zr({},v),{},Eo({},i,x))})}}};function zm(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Zr(Zr({},n.renderState),{},Eo({},i,Zr(Zr({},n.renderState[i]),t)))}function g8(e,t){return b8(e)||x8(e,t)||y8(e,t)||v8()}function v8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(e,t){if(e){if(typeof e=="string")return F1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F1(e,t)}}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function b8(e){if(Array.isArray(e))return e}function w8(){var e=w.useReducer(function(r){return r+1},0),t=g8(e,2),n=t[1];return n}var S8="ais",fp=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(S8,"-").concat(t).concat(s).concat(a)}},_8=fp("Highlight");function j8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=dp(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=_8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(hn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(hn.highlightPostTag,"g"),"</".concat(r,">"))}var E8=fp("ReverseHighlight");function C8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=dp(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=E8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=dT(yT(pT(d)));return h.replace(new RegExp(hn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(hn.highlightPostTag,"g"),"</".concat(r,">"))}var P8=fp("Snippet");function k8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=dp(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=P8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(hn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(hn.highlightPostTag,"g"),"</".concat(r,">"))}var R8=fp("ReverseSnippet");function T8(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=dp(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=R8({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=dT(yT(pT(d)));return h.replace(new RegExp(hn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(hn.highlightPostTag,"g"),"</".concat(r,">"))}function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function N8(e){var t=e.method,n=e.payload;if(iy(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=fT(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function A8(e,t){return N8({method:e,payload:t})}function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}var O8="_ALGOLIA";function I8(e){if(!((typeof document>"u"?"undefined":sy(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function F8(){return I8(O8)}function D8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){L8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L8(e,t,n){return t=$8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e){var t=M8(e,"string");return bu(t)=="symbol"?t:String(t)}function M8(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wi(e,t){return H8(e)||z8(e,t)||AT(e,t)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function H8(e){if(Array.isArray(e))return e}function B8(e){return V8(e)||W8(e)||AT(e)||q8()}function q8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(e,t){if(e){if(typeof e=="string")return ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(e,t)}}function W8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V8(e){if(Array.isArray(e))return ay(e)}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OT="2.17.2",Q8="https://cdn.jsdelivr.net/npm/search-insights@".concat(OT,"/dist/search-insights.min.js");function L1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,o=a===void 0?!1:a,c=t;!t&&t!==null&&ls(function(d){var f=d.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(c=f[h]),c||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];f[h].queue.push(g)},f[h].version=OT,f[h].shouldAddScript=!0),c=f[h])});var u=c||bt;return function(d){var f=d.instantSearchInstance,h=f.middleware.filter(function(F){return F.instance.$$type==="ais.insights"&&F.instance.$$internal}).map(function(F){return F.creator});f.unuse.apply(f,B8(h));var p=a1(f.client),g=wi(p,2),m=g[0],x=g[1],v=void 0,y=void 0,b=void 0,S=u.queue;if(Array.isArray(S)){var _=["setUserToken","init"].map(function(F){var P=Ea(S.slice().reverse(),function(z){var N=wi(z,1),M=N[0];return M===F})||[],I=wi(P,2),O=I[1];return O}),j=wi(_,2);y=j[0],v=j[1]}u("getUserToken",null,function(F,P){b=M1(P)}),(n||!$1(u))&&u("init",Ks({appId:m,apiKey:x,partial:!0},n));var k,R;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var P="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var I=document.createElement("script");I.async=!0,I.src=Q8,I.onerror=function(){f.emit("error",new Error(P))},document.body.appendChild(I),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(P))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),R=f.mainHelper;var P=u.queue;if(Array.isArray(P)){var I=["setUserToken","init"].map(function(ie){var X=Ea(P.slice().reverse(),function(me){var oe=wi(me,1),ye=oe[0];return ye===ie})||[],ee=wi(X,2),se=ee[1];return se}),O=wi(I,2);y=O[0],v=O[1]}k=K8(f),o||R.overrideStateWithoutTriggeringChangeEvent(Ks(Ks({},R.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var z=function(X){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se=M1(X);if(!se)return;var me=R.state.userToken;function oe(){R.overrideStateWithoutTriggeringChangeEvent(Ks(Ks({},R.state),{},{userToken:se})),me&&me!==X&&f.scheduleSearch()}ee?oe():setTimeout(oe,0)};function N(ie){z(ie,!0),u("setUserToken",ie)}var M=void 0,A=F8();if(A)M=A;else{var D="anonymous-".concat(D8());M=D}var E,L=k.userToken;if(n!=null&&n.userToken&&(E=n.userToken),E)N(E);else if(L)N(L);else if(b)N(b);else if(y)N(y);else if(M){var C;if(N(M),n!=null&&n.useCookie||(C=v)!==null&&C!==void 0&&C.useCookie){var $;G8(M,(n==null?void 0:n.cookieDuration)||(($=v)===null||$===void 0?void 0:$.cookieDuration))}}u("onUserTokenChange",function(ie){return z(ie,!0)},{immediate:!0});var H=u;$1(u)&&(H=function(X,ee){var se=a1(f.client),me=wi(se,2),oe=me[0],ye=me[1],Ee={headers:{"X-Algolia-Application-Id":oe,"X-Algolia-API-Key":ye}};return u(X,ee,Ee)});var T=new Set,te;f.mainHelper.derivedHelpers[0].on("result",function(ie){var X=ie.results;X&&(!X.queryID||X.queryID!==te)&&(te=X.queryID,T.clear())}),f.sendEventToInsights=function(ie){if(r)r(ie,H);else if(ie.insightsMethod){if(ie.insightsMethod==="viewedObjectIDs"){var X=ie.payload,ee=X.objectIDs.filter(function(se){return!T.has(se)});if(ee.length===0)return;ee.forEach(function(se){return T.add(se)}),X.objectIDs=ee}ie.payload.algoliaSource=["instantsearch"],o&&ie.payload.algoliaSource.push("instantsearch-automatic"),ie.eventModifier==="internal"&&ie.payload.algoliaSource.push("instantsearch-internal"),H(ie.insightsMethod,ie.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=bt,R&&k&&(R.overrideStateWithoutTriggeringChangeEvent(Ks(Ks({},R.state),k)),f.scheduleSearch())}}}}function K8(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function G8(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function $1(e){var t=(e.version||"").split(".").map(Number),n=wi(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,o=r===1&&i>=10;return s||a||o}function M1(e){if(e)return typeof e=="number"?e.toString():e}function IT(e,t,n){var r=cc(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&IT(i.getWidgets(),t,n)})}function Y8(){return ls(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function J8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,IT(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var X8=String.prototype.replace,Z8=/%20/g,Hm={RFC1738:"RFC1738",RFC3986:"RFC3986"},wb={default:Hm.RFC3986,formatters:{RFC1738:function(e){return X8.call(e,Z8,"+")},RFC3986:function(e){return String(e)}},RFC1738:Hm.RFC1738,RFC3986:Hm.RFC3986},eq=wb,Bm=Object.prototype.hasOwnProperty,ia=Array.isArray,Wr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),tq=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(ia(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},FT=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},nq=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(ia(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Bm.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return ia(t)&&!ia(n)&&(i=FT(t,r)),ia(t)&&ia(n)?(n.forEach(function(s,a){if(Bm.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var o=n[a];return Bm.call(s,a)?s[a]=e(s[a],o,r):s[a]=o,s},i)},rq=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},iq=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},sq=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===eq.RFC1738&&(u===40||u===41)){o+=a.charAt(c);continue}if(u<128){o=o+Wr[u];continue}if(u<2048){o=o+(Wr[192|u>>6]+Wr[128|u&63]);continue}if(u<55296||u>=57344){o=o+(Wr[224|u>>12]+Wr[128|u>>6&63]+Wr[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),o+=Wr[240|u>>18]+Wr[128|u>>12&63]+Wr[128|u>>6&63]+Wr[128|u&63]}return o},aq=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return tq(n),t},oq=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},lq=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},cq=function(t,n){return[].concat(t,n)},uq=function(t,n){if(ia(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},DT={arrayToObject:FT,assign:rq,combine:cq,compact:aq,decode:iq,encode:sq,isBuffer:lq,isRegExp:oq,maybeMap:uq,merge:nq},oy=DT,kc=wb,dq=Object.prototype.hasOwnProperty,U1={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},ca=Array.isArray,fq=String.prototype.split,hq=Array.prototype.push,LT=function(e,t){hq.apply(e,ca(t)?t:[t])},pq=Date.prototype.toISOString,z1=kc.default,qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:oy.encode,encodeValuesOnly:!1,format:z1,formatter:kc.formatters[z1],indices:!1,serializeDate:function(t){return pq.call(t)},skipNulls:!1,strictNullHandling:!1},mq=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},gq=function e(t,n,r,i,s,a,o,c,u,d,f,h,p,g){var m=t;if(typeof o=="function"?m=o(n,m):m instanceof Date?m=d(m):r==="comma"&&ca(m)&&(m=oy.maybeMap(m,function(I){return I instanceof Date?d(I):I})),m===null){if(i)return a&&!p?a(n,qt.encoder,g,"key",f):n;m=""}if(mq(m)||oy.isBuffer(m)){if(a){var x=p?n:a(n,qt.encoder,g,"key",f);if(r==="comma"&&p){for(var v=fq.call(String(m),","),y="",b=0;b<v.length;++b)y+=(b===0?"":",")+h(a(v[b],qt.encoder,g,"value",f));return[h(x)+"="+y]}return[h(x)+"="+h(a(m,qt.encoder,g,"value",f))]}return[h(n)+"="+h(String(m))]}var S=[];if(typeof m>"u")return S;var _;if(r==="comma"&&ca(m))_=[{value:m.length>0?m.join(",")||null:void 0}];else if(ca(o))_=o;else{var j=Object.keys(m);_=c?j.sort(c):j}for(var k=0;k<_.length;++k){var R=_[k],F=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(!(s&&F===null)){var P=ca(m)?typeof r=="function"?r(n,R):n:n+(u?"."+R:"["+R+"]");LT(S,e(F,P,r,i,s,a,o,c,u,d,f,h,p,g))}}return S},vq=function(t){if(!t)return qt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||qt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=kc.default;if(typeof t.format<"u"){if(!dq.call(kc.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=kc.formatters[r],s=qt.filter;return(typeof t.filter=="function"||ca(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:qt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?qt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:qt.charsetSentinel,delimiter:typeof t.delimiter>"u"?qt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:qt.encode,encoder:typeof t.encoder=="function"?t.encoder:qt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:qt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:qt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:qt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:qt.strictNullHandling}},yq=function(e,t){var n=e,r=vq(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ca(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o;t&&t.arrayFormat in U1?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var c=U1[o];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||LT(a,gq(n[d],d,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},pl=DT,ly=Object.prototype.hasOwnProperty,xq=Array.isArray,Bt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},bq=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},$T=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},wq="utf8=%26%2310003%3B",Sq="utf8=%E2%9C%93",_q=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),o=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===Sq?u="utf-8":a[c]===wq&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var d=a[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,g;h===-1?(p=n.decoder(d,Bt.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),Bt.decoder,u,"key"),g=pl.maybeMap($T(d.slice(h+1),n),function(m){return n.decoder(m,Bt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=bq(g)),d.indexOf("[]=")>-1&&(g=xq(g)?[g]:g),ly.call(r,p)?r[p]=pl.combine(r[p],g):r[p]=g}return r},jq=function(e,t,n,r){for(var i=r?t:$T(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},Eq=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,d=[];if(u){if(!r.plainObjects&&ly.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(c=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&ly.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),jq(d,n,r,i)}},Cq=function(t){if(!t)return Bt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Bt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Bt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Bt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Bt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Bt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Bt.comma,decoder:typeof t.decoder=="function"?t.decoder:Bt.decoder,delimiter:typeof t.delimiter=="string"||pl.isRegExp(t.delimiter)?t.delimiter:Bt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Bt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Bt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Bt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Bt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Bt.strictNullHandling}},Pq=function(e,t){var n=Cq(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?_q(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],c=Eq(o,r[o],n,typeof e=="string");i=pl.merge(i,c,n)}return pl.compact(i)},kq=yq,Rq=Pq,Tq=wb,Nq={formats:Tq,parse:Rq,stringify:kq};const H1=Ra(Nq);function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function Aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MT(r.key),r)}}function Iq(e,t,n){return t&&Oq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vn(e,t,n){return t=MT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MT(e){var t=Fq(e,"string");return wu(t)=="symbol"?t:String(t)}function Fq(e,t){if(wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B1=function(t){t&&(window.document.title=t)},Dq=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,o=t.parseURL,c=t.getLocation,u=t.start,d=t.dispose,f=t.push,h=t.cleanUrlOnDispose;Aq(this,e),vn(this,"$$type","ais.browser"),vn(this,"windowTitle",void 0),vn(this,"writeDelay",void 0),vn(this,"_createURL",void 0),vn(this,"parseURL",void 0),vn(this,"getLocation",void 0),vn(this,"writeTimer",void 0),vn(this,"_onPopState",void 0),vn(this,"inPopState",!1),vn(this,"isDisposed",!1),vn(this,"latestAcknowledgedHistory",0),vn(this,"_start",void 0),vn(this,"_dispose",void 0),vn(this,"_push",void 0),vn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=c,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,ls(function(p){var g=p.window,m=n.windowTitle&&n.windowTitle(n.read());B1(m),n.latestAcknowledgedHistory=g.history.length})}return Iq(e,[{key:"read",value:function(){return this.parseURL({qsModule:H1,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;ls(function(i){var s=i.window,a=r.createURL(n),o=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){B1(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},ls(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:H1,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,ls(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return ls(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function Lq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,x=g.routeState,v=g.location,y=v.protocol,b=v.hostname,S=v.port,_=S===void 0?"":S,j=v.pathname,k=v.hash,R=m.stringify(x),F=_===""?"":":".concat(_);return R?"".concat(y,"//").concat(b).concat(F).concat(j,"?").concat(R).concat(k):"".concat(y,"//").concat(b).concat(F).concat(j).concat(k)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,x=g.location;return m.parse(x.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,o=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return ls(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,d=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new Dq({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:u,start:d,dispose:f,push:h,cleanUrlOnDispose:p})}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var $q=["configure"];function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){cy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cy(e,t,n){return t=Mq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=Uq(e,"string");return Su(t)=="symbol"?t:String(t)}function Uq(e,t){if(Su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zq(e,t){if(e==null)return{};var n=Hq(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function W1(e){e.configure;var t=zq(e,$q);return t}function Bq(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return Kd(Kd({},n),{},cy({},r,W1(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return Kd(Kd({},n),{},cy({},r,W1(t[r])))},{})}}}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){UT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UT(e,t,n){return t=qq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Wq(e,"string");return _u(t)=="symbol"?t:String(t)}function Wq(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?Lq():n,i=t.stateMapping,s=i===void 0?Bq():i,a=t.$$internal,o=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function d(p){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(p).reduce(function(v,y){return Gd(Gd({},v),{},UT({},y,p[y]))},g),x=s.stateToRoute(m);return r.createURL(x)}u._createURL=d;var f=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var m=g.uiState,x=s.stateToRoute(m);(f===void 0||!gT(f,x))&&(r.write(x),f=x)},subscribe:function(){u._initialUiState=Gd(Gd({},h),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function Qq(e,t){return e.toLocaleString(t)}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kq(e,t,n){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=Yq(e,"string");return ju(t)=="symbol"?t:String(t)}function Yq(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e){var t=e.numberLocale;return{formatNumber:function(r,i){return Qq(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(j8(yi(yi({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(C8(yi(yi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(k8(yi(yi({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(T8(yi(yi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,o=s.payload;return i(A8(a,yi({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Xq="4.79.2";function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){Ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zT(r.key),r)}}function t9(e,t,n){return t&&e9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(e,t)}function r9(e){var t=s9();return function(){var r=gh(e),i;if(t){var s=gh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return i9(this,i)}}function i9(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(e)}function Ue(e,t,n){return t=zT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zT(e){var t=a9(e,"string");return ml(t)=="symbol"?t:String(t)}function a9(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wr=xr({name:"instantsearch"});function o9(){return"#"}var HT={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},l9=function(e){n9(n,e);var t=r9(n);function n(r){var i;Zq(this,n),i=t.call(this),Ue($e(i),"client",void 0),Ue($e(i),"indexName",void 0),Ue($e(i),"compositionID",void 0),Ue($e(i),"insightsClient",void 0),Ue($e(i),"onStateChange",null),Ue($e(i),"future",void 0),Ue($e(i),"helper",void 0),Ue($e(i),"mainHelper",void 0),Ue($e(i),"mainIndex",void 0),Ue($e(i),"started",void 0),Ue($e(i),"templatesConfig",void 0),Ue($e(i),"renderState",{}),Ue($e(i),"_stalledSearchDelay",void 0),Ue($e(i),"_searchStalledTimer",void 0),Ue($e(i),"_initialUiState",void 0),Ue($e(i),"_initialResults",void 0),Ue($e(i),"_manuallyResetScheduleSearch",!1),Ue($e(i),"_resetScheduleSearch",void 0),Ue($e(i),"_createURL",void 0),Ue($e(i),"_searchFunction",void 0),Ue($e(i),"_mainHelperSearch",void 0),Ue($e(i),"_hasSearchWidget",!1),Ue($e(i),"_hasRecommendWidget",!1),Ue($e(i),"_insights",void 0),Ue($e(i),"middleware",[]),Ue($e(i),"sendEventToInsights",void 0),Ue($e(i),"status","idle"),Ue($e(i),"error",void 0),Ue($e(i),"scheduleSearch",Gl(function(){i.started&&i.mainHelper.search()})),Ue($e(i),"scheduleRender",Gl(function(){var O,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(O=i.mainHelper)!==null&&O!==void 0&&O.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,z&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:$e(i)}),i.emit("render")})),Ue($e(i),"onInternalStateChange",Gl(function(){var O=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(z){var N=z.instance;N.onStateChange({uiState:O})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,c=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,h=f===void 0?null:f,p=r.insights,g=p===void 0?void 0:p,m=r.searchFunction,x=r.stalledSearchDelay,v=x===void 0?200:x,y=r.searchClient,b=y===void 0?null:y,S=r.insightsClient,_=S===void 0?null:S,j=r.onStateChange,k=j===void 0?null:j,R=r.future,F=R===void 0?qm(qm({},HT),r.future||{}):R;if(b===null)throw new Error(wr("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(Xq,")")),_&&typeof _!="function")throw new Error(wr("The `insightsClient` option should be a function."));if(i.client=b,i.future=F,i.insightsClient=_,i.indexName=a,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=m8({indexName:i.compositionID||i.indexName}),i.onStateChange=k,i.started=!1,i.templatesConfig={helpers:Jq({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=o9,i._initialUiState=d,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=bt,h){var P=typeof h=="boolean"?{}:h;P.$$internal=!0,i.use(Vq(P))}if(g){var I=typeof g=="boolean"?{}:g;I.$$internal=!0,i.use(L1(I))}return Y8()&&i.use(J8({$$internal:!0})),i}return t9(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var c=a.map(function(u){var d=qm({$$type:"__unknown__",$$internal:!1,subscribe:bt,started:bt,unsubscribe:bt,onStateChange:bt},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(wr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(wr("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(Yn))throw new Error(wr("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(wr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(wr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(wr("The `start` method has already been called once."));var s=this.mainHelper||on(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(bt)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=on(a,c.state.index,c.state);return u.once("search",function(d){var f=d.state;c.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;c.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,h){return f[h]=d[h],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){XH(this.client,this._initialResults),qH(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Gl(bt),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:Gl(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});c&&i.use(L1({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(wr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(u){Zv(typeof u=="function"?u(o):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(Zv(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(wr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(wr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(Rz),BT={exports:{}},qT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=w;function c9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u9=typeof Object.is=="function"?Object.is:c9,d9=gl.useState,f9=gl.useEffect,h9=gl.useLayoutEffect,p9=gl.useDebugValue;function m9(e,t){var n=t(),r=d9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return h9(function(){i.value=n,i.getSnapshot=t,Wm(i)&&s({inst:i})},[e,n,t]),f9(function(){return Wm(i)&&s({inst:i}),e(function(){Wm(i)&&s({inst:i})})},[e]),p9(n),n}function Wm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!u9(e,n)}catch{return!0}}function g9(e,t){return t()}var v9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g9:m9;qT.useSyncExternalStore=gl.useSyncExternalStore!==void 0?gl.useSyncExternalStore:v9;BT.exports=qT;var y9=BT.exports,x9={};function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){b9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b9(e,t,n){return t=w9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=S9(e,"string");return Eu(t)=="symbol"?t:String(t)}function S9(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J1=["react (".concat(w.version,")"),"react-instantsearch (".concat(Vv,")"),"react-instantsearch-core (".concat(Vv,")")],X1="react-instantsearch-server (".concat(Vv,")"),_9=function(t){return t?"next.js (".concat(t,")"):null};function j9(e){var t=w8(),n=_T(),r=jT(),i=CT(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,o=w.useRef(e),c=n||a||s,u=w.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new l9(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(y){y()}),d._schedule.queue=[]},0)},d._schedule.queue=[],c&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),Z1(e.searchClient,[].concat(J1,[n&&X1,_9(E9())])),c&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,h=o.current;if(h.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),o.current=e),h.searchClient!==e.searchClient&&(Z1(e.searchClient,[].concat(J1,[n&&X1])),f.mainHelper.setClient(e.searchClient).search(),o.current=e),h.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,o.current=e),h.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,o.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;f._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,o.current=e}hl(h.future,e.future)||(f.future=Y1(Y1({},HT),e.future),o.current=e)}var g=w.useRef(null),m=y9.useSyncExternalStore(w.useCallback(function(){var x=u.current;return g.current===null?x.started||(x.start(),t()):(clearTimeout(g.current),x._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){x.dispose()}clearTimeout(x._schedule.timer),g.current=setTimeout(v),x._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function Z1(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function E9(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=x9)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var C9=["children"];function P9(e,t){if(e==null)return{};var n=k9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WT(e){var t=e.children,n=P9(e,C9),r=j9(n);return r.started?q.createElement(ST.Provider,{value:r},q.createElement(bT.Provider,{value:r.mainIndex},t,q.createElement(R9,{search:r}))):null}function R9(e){var t=e.search;return w.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function T9(e){return I9(e)||O9(e)||A9(e)||N9()}function N9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9(e,t){if(e){if(typeof e=="string")return dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(e,t)}}function O9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I9(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return t=D9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=L9(e,"string");return Cu(t)=="symbol"?t:String(t)}function L9(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t_=xr({name:"clear-refinements",connector:!0}),$9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,t_()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,o=i.excludedAttributes,c=o===void 0?["query"]:o,u=i.transformItems,d=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(t_("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:bt,createURL:function(){return""},attributesToClear:[]},h=function(){return f.refine()},p=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var x=m.instantSearchInstance;t(eo(eo({},this.getWidgetRenderState(m)),{},{instantSearchInstance:x}),!0)},render:function(m){var x=m.instantSearchInstance;t(eo(eo({},this.getWidgetRenderState(m)),{},{instantSearchInstance:x}),!1)},dispose:function(){n()},getRenderState:function(m,x){return eo(eo({},m),{},{clearRefinements:this.getWidgetRenderState(x)})},getWidgetRenderState:function(m){var x=m.createURL,v=m.scopedResults,y=m.results;f.attributesToClear=v.reduce(function(S,_){return S.concat(M9({scopedResult:_,includedAttributes:a,excludedAttributes:c,transformItems:d,results:y}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var _=S.helper,j=S.items;_.setState(e1({helper:_,attributesToClear:j})).search()})},f.createURL=function(){return x(Pc.apply(void 0,T9(f.attributesToClear.map(function(S){var _=S.helper,j=S.items;return e1({helper:_,attributesToClear:j})}))))};var b=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:b,hasRefinements:b,refine:h,createURL:p,widgetParams:r}}}}};function M9(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(vT(AH(t.results,t.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return n.length===0||n.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function U9(e,t){return di($9,e,t)}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(r){VT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VT(e,t,n){return t=z9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=H9(e,"string");return Pu(t)=="symbol"?t:String(t)}function H9(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B9=xr({name:"hits",connector:!0});const q9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,B9()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,o=i.transformItems,c=o===void 0?function(f){return f}:o,u,d;return{$$type:"ais.hits",init:function(h){t(Yi(Yi({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(Yi(Yi({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return Yi(Yi({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,g,m,x=h.results,v=h.helper,y=h.instantSearchInstance;if(u||(u=jH({instantSearchInstance:y,helper:v,widgetType:this.$$type})),d||(d=EH({helper:v,widgetType:this.$$type,instantSearchInstance:y})),!x)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&x.hits.length>0&&(x.hits=nH(x.hits));var b=DH(x.hits,x.page,x.hitsPerPage),S=UH(b,x.queryID),_=c(S,{results:x}),j=(p=x.renderingContent)===null||p===void 0||(g=p.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:_,items:_,results:x,banner:j,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(ul).reduce(function(g,m){return Yi(Yi({},g),{},VT({},m,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(ul):h}}}};function hp(e,t){return di(q9,e,t)}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function W9(e){return G9(e)||K9(e)||Q9(e)||V9()}function V9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9(e,t){if(e){if(typeof e=="string")return fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(e,t)}}function K9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G9(e){if(Array.isArray(e))return fy(e)}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return t=J9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J9(e){var t=X9(e,"string");return ku(t)=="symbol"?t:String(t)}function X9(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yd=xr({name:"hits-per-page",connector:!0}),Z9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,Yd()),function(r){var i=r||{},s=i.items,a=i.transformItems,o=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error(Yd("The `items` option expects an array of objects."));var c=s,u=c.filter(function(p){return p.default===!0});if(u.length===0)throw new Error(Yd("A default value must be specified in `items`."));if(u.length>1)throw new Error(Yd("More than one default value is specified in `items`."));var d=u[0],f=function(g){var m=g.hitsPerPage;return c.map(function(x){return Vr(Vr({},x),{},{isRefined:Number(x.value)===Number(m)})})},h={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,x=g.createURL,v=g.getWidgetUiState,y=g.helper;return function(b){return x(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!b&&b!==0?void 0:b),helper:y})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,x=g.instantSearchInstance,v=c.some(function(y){return Number(m.hitsPerPage)===Number(y.value)});v||(c=[{value:"",label:""}].concat(W9(c))),t(Vr(Vr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:x}),!0)},render:function(g){var m=g.instantSearchInstance;t(Vr(Vr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return Vr(Vr({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,x=g.results,v=g.createURL,y=g.helper,b=x?x.nbHits>0:!1;return{items:o(f(m),{results:x}),refine:h.getRefine(y),createURL:h.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:y}),hasNoResults:!b,canRefine:b,widgetParams:r}},getWidgetUiState:function(g,m){var x=m.searchParameters,v=x.hitsPerPage;return v===void 0||v===d.value?g:Vr(Vr({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var x=m.uiState;return g.setQueryParameters({hitsPerPage:x.hitsPerPage||d.value})}}}};function eW(e,t){return di(Z9,e,t)}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function tW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QT(r.key),r)}}function rW(e,t,n){return t&&nW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vm(e,t,n){return t=QT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QT(e){var t=iW(e,"string");return Ru(t)=="symbol"?t:String(t)}function iW(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sW=function(){function e(t){tW(this,e),Vm(this,"currentPage",void 0),Vm(this,"total",void 0),Vm(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return rW(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return v1({end:n});var a=this.calculatePaddingLeft(r,i,n,s),o=s-a,c=r-a,u=r+o;return v1({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=lW(e,"string");return Tu(t)=="symbol"?t:String(t)}function lW(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cW=xr({name:"pagination",connector:!0}),uW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,cW()),function(r){var i=r||{},s=i.totalPages,a=i.padding,o=a===void 0?3:a,c=new sW({currentPage:0,total:0,padding:o}),u={};function d(f){var h=f.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(Qr(Qr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(Qr(Qr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var g=p.searchParameters,m=g.page||0;return m?Qr(Qr({},h),{},{page:m+1}):h},getWidgetSearchParameters:function(h,p){var g=p.uiState,m=g.page?g.page-1:0;return h.setQueryParameter("page",m)},getWidgetRenderState:function(h){var p=h.results,g=h.helper,m=h.state,x=h.createURL;u.refine||(u.refine=function(b){g.setPage(b),g.search()}),u.createURL||(u.createURL=function(b){return x(function(S){return Qr(Qr({},S),{},{page:b+1})})});var v=m.page||0,y=d(p||{nbPages:0});return c.currentPage=v,c.total=y,{createURL:u.createURL,refine:u.refine,canRefine:y>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:y,pages:p?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return Qr(Qr({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function Sb(e,t){return di(uW,e,t)}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(r){jf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jf(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return Nu(t)=="symbol"?t:String(t)}function fW(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(e,t){return gW(e)||mW(e,t)||pW(e,t)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(e,t){if(e){if(typeof e=="string")return a_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(e,t)}}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function gW(e){if(Array.isArray(e))return e}var Qm=xr({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),vW="ais.range";function o_(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var yW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,Qm()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,o=i.min,c=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error(Qm("The `attribute` option is required."));if(Je(o)&&Je(c)&&o>c)throw new Error(Qm("The `max` option can't be lower than `min`."));var f=function(b){return Number(Number(b).toFixed(d))},h={from:function(b){return b.toLocaleString()},to:function(b){return f(b).toLocaleString()}},p=function(b,S,_,j){var k=b.state,R=S.min,F=S.max,P=k.getNumericRefinement(a,">=")||[],I=to(P,1),O=I[0],z=k.getNumericRefinement(a,"<=")||[],N=to(z,1),M=N[0],A=_===void 0||_==="",D=j===void 0||j==="",E=o_({min:A?void 0:parseFloat(_),max:D?void 0:parseFloat(j),precision:d}),L=E.min,C=E.max,$;!Je(o)&&R===L?$=void 0:Je(o)&&A?$=o:$=L;var H;!Je(c)&&F===C?H=void 0:Je(c)&&D?H=c:H=C;var T=$===void 0,te=Je(R)&&R<=$,ie=T||Je($)&&(!Je(R)||te),X=H===void 0,ee=Je(H)&&F>=H,se=X||Je(H)&&(!Je(F)||ee),me=O!==$,oe=M!==H;return(me||oe)&&ie&&se?(k=k.removeNumericRefinement(a),Je($)&&(k=k.addNumericRefinement(a,">=",$)),Je(H)&&(k=k.addNumericRefinement(a,"<=",H)),k.resetPage()):null},g=function(b){return function(){if(arguments.length===1){b.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(y){var b;Je(o)?b=o:Je(y.min)?b=y.min:b=0;var S;return Je(c)?S=c:Je(y.max)?S=y.max:S=0,o_({min:b,max:S,precision:d})}function x(y){var b=y.getNumericRefinement(a,">=")||[],S=to(b,1),_=S[0],j=y.getNumericRefinement(a,"<=")||[],k=to(j,1),R=k[0],F=Je(_)?_:-1/0,P=Je(R)?R:1/0;return[F,P]}function v(y,b){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],_=to(S,2),j=_[0],k=_[1],R=p(y,b,j,k);R&&y.setState(R).search()}}return{$$type:vW,init:function(b){t(nn(nn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!0)},render:function(b){t(nn(nn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!1)},getRenderState:function(b,S){return nn(nn({},b),{},{range:nn(nn({},b.range),{},jf({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(b){var S=b.results,_=b.helper,j=b.instantSearchInstance,k=S&&S.disjunctiveFacets||[],R=Ea(k,function(z){return z.name===a}),F=R&&R.stats||{min:void 0,max:void 0},P=m(F),I=x(_),O;return S?O=v(_,P):O=v(_,{min:void 0,max:void 0}),{refine:O,canRefine:P.min!==P.max,format:h,range:P,sendEvent:g(j),widgetParams:nn(nn({},r),{},{precision:d}),start:I}},dispose:function(b){var S=b.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(b,S){var _=S.searchParameters,j=_.getNumericRefinements(a),k=j[">="],R=k===void 0?[]:k,F=j["<="],P=F===void 0?[]:F;return R.length===0&&P.length===0?b:nn(nn({},b),{},{range:nn(nn({},b.range),{},jf({},a,"".concat(R,":").concat(P)))})},getWidgetSearchParameters:function(b,S){var _=S.uiState,j=b.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:nn(nn({},b.numericRefinements),{},jf({},a,{}))});Je(o)&&(j=j.addNumericRefinement(a,">=",o)),Je(c)&&(j=j.addNumericRefinement(a,"<=",c));var k=_.range&&_.range[a];if(!k||k.indexOf(":")===-1)return j;var R=k.split(":").map(parseFloat),F=to(R,2),P=F[0],I=F[1];return Je(P)&&(!Je(o)||o<P)&&(j=j.removeNumericRefinement(a,">="),j=j.addNumericRefinement(a,">=",P)),Je(I)&&(!Je(c)||I<c)&&(j=j.removeNumericRefinement(a,"<="),j=j.addNumericRefinement(a,"<=",I)),j}}}};function xW(e,t){return di(yW,e,t)}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var bW=["name","escapedValue"],wW=["escapedValue","value"];function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){uc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uc(e,t,n){return t=SW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=_W(e,"string");return Au(t)=="symbol"?t:String(t)}function _W(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_(e,t){if(e==null)return{};var n=jW(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Jd=xr({name:"refinement-list",connector:!0}),u_=["isRefined","count:desc","name:asc"],EW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,Jd()),function(r){var i=r||{},s=i.attribute,a=i.operator,o=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,d=i.showMore,f=d===void 0?!1:d,h=i.showMoreLimit,p=h===void 0?20:h,g=i.sortBy,m=g===void 0?u_:g,x=i.escapeFacetValues,v=x===void 0?!0:x,y=i.transformItems,b=y===void 0?function(D){return D}:y;if(!s)throw new Error(Jd("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(Jd('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&p<=u)throw new Error(Jd("`showMoreLimit` should be greater than `limit`."));var S=function(E){var L=E.name,C=E.escapedValue,$=c_(E,bW);return Xe(Xe({},$),{},{value:C,label:L,highlighted:L})},_,j=[],k=!0,R,F,P=!1,I=function(){};function O(){I()}function z(D,E){return function(){P=!P,E.render(D)}}function N(){return P?p:u}var M=function(){return function(){}},A=function(E,L){return function(C){return function($){var H=C.instantSearchInstance,T=C.results;if($===""&&j)t(Xe(Xe({},L.getWidgetRenderState(Xe(Xe({},C),{},{results:_}))),{},{instantSearchInstance:H}),!1);else{var te={highlightPreTag:v?ul.highlightPreTag:hn.highlightPreTag,highlightPostTag:v?ul.highlightPostTag:hn.highlightPostTag};E.searchForFacetValues(s,$,Math.min(N(),100),te).then(function(ie){var X=v?rH(ie.facetHits):ie.facetHits,ee=b(X.map(function(se){var me=se.escapedValue,oe=se.value,ye=c_(se,wW);return Xe(Xe({},ye),{},{value:me,label:oe})}),{results:T});t(Xe(Xe({},L.getWidgetRenderState(Xe(Xe({},C),{},{results:_}))),{},{items:ee,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:H}),!1)})}}}};return{$$type:"ais.refinementList",init:function(E){t(Xe(Xe({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!0)},render:function(E){t(Xe(Xe({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!1)},getRenderState:function(E,L){return Xe(Xe({},E),{},{refinementList:Xe(Xe({},E.refinementList),{},uc({},s,this.getWidgetRenderState(L)))})},getWidgetRenderState:function(E){var L=this,C=E.results,$=E.state,H=E.createURL,T=E.instantSearchInstance,te=E.helper,ie=[],X=[];if((!F||!R||!M)&&(F=pH({instantSearchInstance:T,helper:te,attribute:s,widgetType:this.$$type}),R=function(Pt){F("click:internal",Pt),te.toggleFacetRefinement(s,Pt).search()},M=A(te,this)),C){var ee=C.getFacetValues(s,{sortBy:m,facetOrdering:m===u_});X=ee&&Array.isArray(ee)?ee:[],ie=b(X.slice(0,N()).map(S),{results:C});var se=$.maxValuesPerFacet,me=N();k=se>me?X.length<=me:X.length<me,_=C,j=ie,E.results&&(I=z(E,this))}var oe=M&&M(E),ye=P&&j.length>u,Ee=f&&!k,pt=ye||Ee;return{createURL:function(Pt){return H(function(lt){return L.getWidgetUiState(lt,{searchParameters:$.resetPage().toggleFacetRefinement(s,Pt),helper:te})})},items:ie,refine:R,searchForItems:oe,isFromSearch:!1,canRefine:ie.length>0,widgetParams:r,isShowingMore:P,canToggleShowMore:pt,toggleShowMore:O,sendEvent:F,hasExhaustiveItems:k}},dispose:function(E){var L=E.state;n();var C=L.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?C.removeFacet(s):C.removeDisjunctiveFacet(s)},getWidgetUiState:function(E,L){var C=L.searchParameters,$=o==="or"?C.getDisjunctiveRefinements(s):C.getConjunctiveRefinements(s);return CW(Xe(Xe({},E),{},{refinementList:Xe(Xe({},E.refinementList),{},uc({},s,$))}),s)},getWidgetSearchParameters:function(E,L){var C=L.uiState,$=o==="or";if(E.isHierarchicalFacet(s)||$&&E.isConjunctiveFacet(s)||!$&&E.isDisjunctiveFacet(s))return E;var H=C.refinementList&&C.refinementList[s],T=$?E.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):E.addFacet(s).removeFacetRefinement(s),te=T.maxValuesPerFacet||0,ie=Math.max(te,f?p:u),X=T.setQueryParameter("maxValuesPerFacet",ie);if(!H){var ee=$?"disjunctiveFacetsRefinements":"facetsRefinements";return X.setQueryParameters(uc({},ee,Xe(Xe({},X[ee]),{},uc({},s,[]))))}return H.reduce(function(se,me){return $?se.addDisjunctiveFacetRefinement(s,me):se.addFacetRefinement(s,me)},X)}}}};function CW(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function PW(e,t){return di(EW,e,t)}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=TW(e,"string");return Ou(t)=="symbol"?t:String(t)}function TW(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NW=xr({name:"search-box",connector:!0}),AW=function(t,n){return n(t)},OW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,NW()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?AW:s,o,c;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(Ji(Ji({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(Ji(Ji({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return Ji(Ji({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,h=d.instantSearchInstance,p=d.state;return o||(o=function(m){a(m,function(x){return f.setQuery(x).search()})},c=function(){f.setQuery("").search()}),{query:p.query||"",refine:o,clear:c,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(d,f){var h=f.searchParameters,p=h.query||"";return p===""||d&&d.query===p?d:Ji(Ji({},d),{},{query:p})},getWidgetSearchParameters:function(d,f){var h=f.uiState;return d.setQueryParameter("query",h.query||"")}}}};function _b(e,t){return di(OW,e,t)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){IW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IW(e,t,n){return t=FW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=DW(e,"string");return Iu(t)=="symbol"?t:String(t)}function DW(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LW=xr({name:"stats",connector:!0}),$W=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,LW()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(no(no({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(no(no({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return no(no({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function pp(e,t){return di($W,e,t)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){Ef(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ef(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=UW(e,"string");return Fu(t)=="symbol"?t:String(t)}function UW(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zW(e,t){return WW(e)||qW(e,t)||BW(e,t)||HW()}function HW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(e,t){if(e){if(typeof e=="string")return p_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(e,t)}}function p_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function WW(e){if(Array.isArray(e))return e}var m_=xr({name:"toggle-refinement",connector:!0}),KT="ais.toggleRefinement",VW=function(t){var n=t.instantSearchInstance,r=t.helper,i=t.attribute,s=t.on,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];if(u.length===1){n.sendEventToInsights(u[0]);return}var f=u[1],h=u[2],p=h===void 0?"Filter Applied":h,g=u[0].split(":"),m=zW(g,2),x=m[0],v=m[1];if(!(x!=="click"||s===void 0)&&!f){var y;n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:KT,eventType:x,eventModifier:v,payload:{eventName:p,index:((y=r.lastResults)===null||y===void 0?void 0:y.index)||r.state.index,filters:s.map(function(b){return"".concat(i,":").concat(b)})},attribute:i})}};return a},QW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;return Bi(t,m_()),function(r){var i=r||{},s=i.attribute,a=i.on,o=a===void 0?!0:a,c=i.off;if(!s)throw new Error(m_("The `attribute` option is required."));var u=c!==void 0,d=Mm(o).map(lc),f=u?Mm(c).map(lc):void 0,h,p=function(x){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},y=v.isRefined;y?(d.forEach(function(b){return x.removeDisjunctiveFacetRefinement(s,b)}),u&&f.forEach(function(b){return x.addDisjunctiveFacetRefinement(s,b)})):(h("click:internal",y),u&&f.forEach(function(b){return x.removeDisjunctiveFacetRefinement(s,b)}),d.forEach(function(b){return x.addDisjunctiveFacetRefinement(s,b)})),x.search()}},g={createURLFactory:function(x,v){var y=v.state,b=v.createURL,S=v.getWidgetUiState,_=v.helper;return function(){y=y.resetPage();var j=x?d:f;j&&j.forEach(function(R){y=y.removeDisjunctiveFacetRefinement(s,R)});var k=x?f:d;return k&&k.forEach(function(R){y=y.addDisjunctiveFacetRefinement(s,R)}),b(function(R){return S(R,{searchParameters:y,helper:_})})}}};return{$$type:KT,init:function(x){var v=x.instantSearchInstance;t(Nn(Nn({},this.getWidgetRenderState(x)),{},{instantSearchInstance:v}),!0)},render:function(x){var v=x.instantSearchInstance;t(Nn(Nn({},this.getWidgetRenderState(x)),{},{instantSearchInstance:v}),!1)},dispose:function(x){var v=x.state;return n(),v.removeDisjunctiveFacet(s)},getRenderState:function(x,v){return Nn(Nn({},x),{},{toggleRefinement:Nn(Nn({},x.toggleRefinement),{},Ef({},s,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(x){var v=x.state,y=x.helper,b=x.results,S=x.createURL,_=x.instantSearchInstance,j=b?d.every(function(N){return v.isDisjunctiveFacetRefined(s,N)}):d.every(function(N){return v.isDisjunctiveFacetRefined(s,N)}),k={isRefined:j,count:0},R={isRefined:u&&!j,count:0};if(b){var F=Mm(f||!1),P=b.getFacetValues(s,{})||[],I=d.map(function(N){return Ea(P,function(M){var A=M.escapedValue;return A===lc(String(N))})}).filter(function(N){return N!==void 0}),O=u?F.map(function(N){return Ea(P,function(M){var A=M.escapedValue;return A===lc(String(N))})}).filter(function(N){return N!==void 0}):[];k={isRefined:I.length?I.every(function(N){return N.isRefined}):!1,count:I.reduce(function(N,M){return N+M.count},0)||null},R={isRefined:O.length?O.every(function(N){return N.isRefined}):!1,count:O.reduce(function(N,M){return N+M.count},0)||P.reduce(function(N,M){var A=M.count;return N+A},0)}}h||(h=VW({instantSearchInstance:_,attribute:s,on:d,helper:y}));var z=j?R:k;return{value:{name:s,isRefined:j,count:b?z.count:null,onFacetValue:k,offFacetValue:R},createURL:g.createURLFactory(j,{state:v,createURL:S,helper:y,getWidgetUiState:this.getWidgetUiState}),sendEvent:h,canRefine:!!(b&&z.count),refine:p(y),widgetParams:r}},getWidgetUiState:function(x,v){var y=v.searchParameters,b=d&&d.every(function(_){return y.isDisjunctiveFacetRefined(s,_)});if(!b){var S;return(S=x.toggle)===null||S===void 0||delete S[s],x}return Nn(Nn({},x),{},{toggle:Nn(Nn({},x.toggle),{},Ef({},s,b))})},getWidgetSearchParameters:function(x,v){var y=v.uiState;if(x.isHierarchicalFacet(s)||x.isConjunctiveFacet(s))return x;var b=x.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s),S=!!(y.toggle&&y.toggle[s]);return S?(d&&d.forEach(function(_){b=b.addDisjunctiveFacetRefinement(s,_)}),b):u?(f&&f.forEach(function(_){b=b.addDisjunctiveFacetRefinement(s,_)}),b):b.setQueryParameters({disjunctiveFacetsRefinements:Nn(Nn({},x.disjunctiveFacetsRefinements),{},Ef({},s,[]))})}}}};function KW(e,t){return di(QW,e,t)}function GW(e,t){return ZW(e)||XW(e,t)||JW(e,t)||YW()}function YW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return g_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,t)}}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function ZW(e){if(Array.isArray(e))return e}function e7(){var e=rd(),t=xb(),n=w.useState(function(){var a=ny(t);return{results:a.results,scopedResults:a.scopedResults}}),r=GW(n,2),i=r[0],s=r[1];return w.useEffect(function(){function a(){var o=t.getResults();if(o!==null)s({results:o,scopedResults:t.getScopedResults()});else if(e.mainIndex.getIndexName().length===0){var c=e.mainIndex.getWidgets().find(Yn);c&&s({results:ny(t).results,scopedResults:c.getScopedResults()})}}return e.addListener("render",a),a(),function(){e.removeListener("render",a)}},[e,t]),i}function v_(e,t){return i7(e)||r7(e,t)||n7(e,t)||t7()}function t7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7(e,t){if(e){if(typeof e=="string")return y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(e,t)}}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function i7(e){if(Array.isArray(e))return e}function s7(){var e=rd(),t=xb(),n=t.getIndexId(),r=w.useState(function(){return e.getUiState()}),i=v_(r,2),s=i[0],a=i[1],o=s[n],c=w.useState(function(){return e.renderState}),u=v_(c,2),d=u[0],f=u[1],h=d[n]||{},p=w.useCallback(function(m){e.setUiState(m)},[e]),g=w.useCallback(function(m){t.setIndexUiState(m)},[t]);return w.useEffect(function(){function m(){a(e.getUiState()),f(e.renderState)}return e.addListener("render",m),m(),function(){e.removeListener("render",m)}},[e]),{uiState:s,setUiState:p,indexUiState:o,setIndexUiState:g,renderState:d,indexRenderState:h}}function a7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.catchError,n=rd(),r=s7(),i=r.uiState,s=r.setUiState,a=r.indexUiState,o=r.setIndexUiState,c=r.renderState,u=r.indexRenderState,d=e7(),f=d.results,h=d.scopedResults,p=w.useCallback(function(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];return n.use.apply(n,x),function(){n.unuse.apply(n,x)}},[n]),g=w.useCallback(function(){n.refresh()},[n]);return ET(function(){if(t){var m=function(){};return n.addListener("error",m),function(){return n.removeListener("error",m)}}return function(){}},[n,t]),{results:f,scopedResults:h,uiState:i,setUiState:s,indexUiState:a,setIndexUiState:o,renderState:c,indexRenderState:u,addMiddlewares:p,refresh:g,status:n.status,error:n.error}}const id=()=>{const{user:e}=_t(),[t,n]=w.useState(!1),[r,i]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:o}=await J.rpc("is_supra_admin",{user_uuid:e.id});o?(console.error("Error checking supra admin status:",o),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},La=()=>{_t();const{userProfile:e}=sb(),{isSupraAdmin:t}=id(),n=t||(e==null?void 0:e.role)==="admin",r=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin",o=t||(e==null?void 0:e.role)==="admin",c=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:n,canExport:r,canCopyToClipboard:i,canAddToFavorites:s,canManageUsers:a,canManageWorkspace:o,canDeleteData:c,canAddUsers:a,role:e==null?void 0:e.role,planType:e==null?void 0:e.plan_type}},o7={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},l7=()=>{const{user:e}=_t(),{planType:t,isSupraAdmin:n}=La(),r=w.useCallback(async()=>{if(!e)return;const i=n?"premium":t||"freemium",s=o7[i];try{const{data:a,error:o}=await J.from("search_quotas").select("*").eq("user_id",e.id).single();if(o&&o.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",o);return}const{error:c}=await J.from("search_quotas").upsert({user_id:e.id,plan_type:i,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return w.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},mp=()=>{const{user:e}=_t(),[t,n]=w.useState(null),[r,i]=w.useState(!0),[s,a]=w.useState(null),{syncUserQuotas:o}=l7(),c=w.useCallback(async()=>{if(!e){i(!1);return}i(!0),a(null),await o();try{const{data:v,error:y}=await J.from("search_quotas").select("*").eq("user_id",e.id).single();if(y&&y.code!=="PGRST116"){a(y.message);return}if(v)n(v);else{const{data:b,error:S}=await J.from("search_quotas").insert({user_id:e.id,plan_type:"freemium",exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(S){a(S.message);return}n(b)}}catch(v){a(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}},[e,o]),u=w.useRef(null);w.useEffect(()=>{c()},[c]),w.useEffect(()=>{if(!e)return;const v=J.channel("quota-updates").on("postgres_changes",{event:"*",schema:"public",table:"search_quotas",filter:`user_id=eq.${e.id}`},y=>{y.eventType==="UPDATE"&&y.new&&n(y.new)}).subscribe(y=>{});return u.current=v,()=>{u.current&&(J.removeChannel(u.current),u.current=null)}},[e]);const d=t?t.exports_limit===null||t.exports_used<t.exports_limit:!1,f=t?t.clipboard_copies_limit===null||t.clipboard_copies_used<t.clipboard_copies_limit:!1,h=t?t.favorites_limit===null||t.favorites_used<t.favorites_limit:!1,p=t?!d||!f||!h:!1,g=w.useCallback(async(v=1)=>{if(!e||!t||t.exports_limit===null)return;const{error:y}=await J.from("search_quotas").update({exports_used:t.exports_used+v}).eq("user_id",e.id);if(y)throw y;n(b=>b?{...b,exports_used:b.exports_used+v}:null)},[e,t]),m=w.useCallback(async(v=1)=>{if(!e||!t||t.clipboard_copies_limit===null)return;const{error:y}=await J.from("search_quotas").update({clipboard_copies_used:t.clipboard_copies_used+v}).eq("user_id",e.id);if(y)throw y;n(b=>b?{...b,clipboard_copies_used:b.clipboard_copies_used+v}:null)},[e,t]),x=w.useCallback(async()=>{if(!e||!t||t.favorites_limit===null)return;const{error:v}=await J.from("search_quotas").update({favorites_used:t.favorites_used+1}).eq("user_id",e.id);if(v)throw v;n(y=>y?{...y,favorites_used:y.favorites_used+1}:null)},[e,t]);return{quotaData:t,isLoading:r,error:s,canExport:d,canCopyToClipboard:f,canAddToFavorites:h,isAtLimit:p,incrementExport:g,incrementClipboardCopy:m,incrementFavorite:x,reloadQuota:c}},ts="ef_all",Co=!1,yn={ENABLE_CACHE:!0,ENABLE_DEDUPLICATION:!0,ENABLE_BATCHING:!0,ENABLE_SMART_THROTTLING:!0,ENABLE_SMART_SUGGESTIONS:!0,ENABLE_AUTO_TUNING:!0,ENABLE_PERFORMANCE_MONITORING:!0,DEBUG_PERFORMANCE:Co,CACHE_TTL_MS:5*60*1e3,MAX_CACHE_SIZE:1e3,THROTTLE_REQUESTS_PER_SECOND:5,DEBOUNCE_DELAY_MS:300,BATCH_DELAY_MS:50,MAX_BATCH_SIZE:10};class c7{constructor(){pe(this,"cache",new Map);pe(this,"metrics",{requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0});pe(this,"requestTimestamps",[]);pe(this,"baseTTL",5*60*1e3);pe(this,"maxCacheSize",1e3)}generateCacheKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:o=0}=t,c=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${s}:${n}:${r}:${c}:${a}:${o}`}calculateAdaptiveTTL(t){var i;const n=t.query||"",r=t.filters||((i=t.facetFilters)==null?void 0:i.length)>0;return n.length>6&&r?this.baseTTL*2:n.length<3?this.baseTTL*.5:this.baseTTL}updateMetrics(){const n=Date.now()-60*1e3;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n),this.metrics.requestsPerMinute=this.requestTimestamps.length;const r=this.metrics.totalRequests;this.metrics.cacheHitRate=r>0?this.metrics.savedRequests/r*100:0}evictOldEntries(){if(this.cache.size<=this.maxCacheSize)return;const n=Array.from(this.cache.entries()).sort((i,s)=>{const a=i[1].accessCount/(Date.now()-i[1].lastAccess),o=s[1].accessCount/(Date.now()-s[1].lastAccess);return a-o}),r=Math.floor(this.cache.size*.2);for(let i=0;i<r;i++)this.cache.delete(n[i][0])}get(t){const n=this.generateCacheKey(t),r=this.cache.get(n);if(this.metrics.totalRequests++,this.requestTimestamps.push(Date.now()),!r)return this.updateMetrics(),null;const i=Date.now();return i-r.timestamp>r.ttl?(this.cache.delete(n),this.updateMetrics(),null):(r.accessCount++,r.lastAccess=i,this.metrics.savedRequests++,this.updateMetrics(),r)}set(t,n,r="all"){const i=this.generateCacheKey(t),s=this.calculateAdaptiveTTL(t),a=Date.now(),o={key:i,data:n,timestamp:a,origin:r,ttl:s,accessCount:1,lastAccess:a};this.cache.set(i,o),this.evictOldEntries()}invalidateBySource(t){var n,r;for(const[i,s]of this.cache.entries())(r=(n=s.data)==null?void 0:n.results)!=null&&r.some(a=>{var o;return(o=a.hits)==null?void 0:o.some(c=>c.Source===t)})&&this.cache.delete(i)}invalidateByOrigin(t){for(const[n,r]of this.cache.entries())(r.origin===t||r.origin==="all")&&this.cache.delete(n)}clear(){this.cache.clear(),this.metrics={requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0}}getMetrics(){return this.updateMetrics(),{...this.metrics}}autoTune(){const t=this.getMetrics();t.cacheHitRate<30&&(this.baseTTL=Math.min(this.baseTTL*1.2,15*60*1e3)),t.duplicateRequests>50&&(this.maxCacheSize=Math.min(this.maxCacheSize*1.1,2e3)),t.requestsPerMinute>100&&(this.baseTTL=Math.max(this.baseTTL*.8,2*60*1e3))}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,baseTTL:this.baseTTL,metrics:this.getMetrics(),entries:Array.from(this.cache.values()).map(t=>({key:t.key,age:Date.now()-t.timestamp,accessCount:t.accessCount,ttl:t.ttl}))}}}const Vt=new c7;class u7{constructor(){pe(this,"pendingRequests",new Map);pe(this,"requestQueue",new Map);pe(this,"timeout",5e3)}generateRequestKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:o=0,indexName:c=""}=t,u=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${c}:${s}:${n}:${r}:${u}:${a}:${o}`}cleanupExpiredRequests(){const t=Date.now();for(const[n,r]of this.pendingRequests.entries())t-r.timestamp>this.timeout&&(this.pendingRequests.delete(n),this.requestQueue.delete(n))}async deduplicateRequest(t,n){this.cleanupExpiredRequests();const r=this.generateRequestKey(t),i=this.pendingRequests.get(r);if(i)return i.requestCount++,this.requestQueue.has(r)||this.requestQueue.set(r,[]),this.requestQueue.get(r).push(t),i.promise;const s=n(),a=Date.now();return this.pendingRequests.set(r,{promise:s,timestamp:a,requestCount:1}),s.finally(()=>{this.pendingRequests.delete(r),this.requestQueue.delete(r)}),s}getDuplicationStats(){const t={activePendingRequests:this.pendingRequests.size,totalDuplicatedRequests:0,mostDuplicatedKeys:[]};for(const[n,r]of this.pendingRequests.entries())t.totalDuplicatedRequests+=r.requestCount-1;return t.mostDuplicatedKeys=Array.from(this.pendingRequests.entries()).map(([n,r])=>({key:n,count:r.requestCount})).sort((n,r)=>r.count-n.count).slice(0,10),t}batchSimilarRequests(t){const n=new Map;for(const r of t){const i=this.generateBatchKey(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}generateBatchKey(t){const{origin:n="all",indexName:r="",query:i=""}=t,s=i.substring(0,3);return`${r}:${n}:${s}`}clear(){this.pendingRequests.clear(),this.requestQueue.clear()}}const Km=new u7,GT=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function YT(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function d7(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},o=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},o.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function Fo(e,t,n){const r={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""},i=e||r,s=t||r,o={...i||s||r},c=new Set,u=[],d=g=>{for(const m of g||[]){const x=String((m==null?void 0:m.objectID)??"");c.has(x)||(c.add(x),u.push(m))}};d(i==null?void 0:i.hits),d(s==null?void 0:s.hits),o.hits=u;const f=g=>typeof(g==null?void 0:g.nbHits)=="number"?g.nbHits:(Array.isArray(g==null?void 0:g.hits)?g.hits:[]).length,h=n!=null&&n.sumNbHits?f(i)+f(s):f(i);o.nbHits=typeof h=="number"&&isFinite(h)?h:0;const p=g=>{if(!g||typeof g!="string")return;const m=g.match(/(?:^|&)hitsPerPage=(\d+)(?:&|$)/);if(!m)return;const x=Number(m[1]);return Number.isFinite(x)?x:void 0};if(n!=null&&n.sumNbHits){const g=p(i==null?void 0:i.params)||p(s==null?void 0:s.params)||20;o.nbPages=Math.ceil((o.nbHits||0)/g),o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0;const m=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:0,x=typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;o.processingTimeMS=Math.max(m,x)}else o.nbPages=typeof(i==null?void 0:i.nbPages)=="number"?i.nbPages:typeof(s==null?void 0:s.nbPages)=="number"?s.nbPages:0,o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0,o.processingTimeMS=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;return o.facets=d7(i==null?void 0:i.facets,s==null?void 0:s.facets),o.facets_stats=(i==null?void 0:i.facets_stats)||(s==null?void 0:s.facets_stats)||null,o}function f7(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}function x_(e,t){const n="(access_level:standard OR variant:full)",r=e&&e.length?`(${e.map(o=>`Source:"${o.replace(/\"/g,'\\"').replace(/"/g,'\\"')}"`).join(" OR ")})`:"",i="(access_level:standard)",s=r?`${i} OR ${r}`:i;return`(${n}) AND (${s})`}function b_(e,t){return(e?`workspace_id:${e}`:"workspace_id:_none_")+""}class h7{async search(t){try{const{data:{session:n}}=await J.auth.getSession();if(!(n!=null&&n.access_token))throw new Error("No authentication token");return{results:await Promise.all(t.map(async i=>{const s=await fetch("/functions/v1/algolia-search-proxy",{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){const a=await s.text();throw new Error(`Search proxy error: ${a}`)}return await s.json()}))}}catch(n){throw console.error("Proxy search client error:",n),n}}async singleSearch(t){const{results:n}=await this.search([t]);return n[0]}}const p7=new h7,Do=e=>({search:async t=>{const n=t.map(r=>{var i;return{...r.params,searchType:e,query:((i=r.params)==null?void 0:i.query)||""}});return p7.search(n)}});function m7(){function e(t){return new Promise(n=>{let r=new XMLHttpRequest;r.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>r.setRequestHeader(o,t.headers[o]));let i=(o,c)=>setTimeout(()=>{r.abort(),n({status:0,content:c,isTimedOut:!0})},o),s=i(t.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(t.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(t.data)})}return{send:e}}function g7(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(o){r().setItem(n,JSON.stringify(o))}function a(){const o=e.timeToLive?e.timeToLive*1e3:null,c=i(),u=Object.fromEntries(Object.entries(c).filter(([,f])=>f.timestamp!==void 0));if(s(u),!o)return;const d=Object.fromEntries(Object.entries(u).filter(([,f])=>{const h=new Date().getTime();return!(f.timestamp+o<h)}));s(d)}return{get(o,c,u={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(o)])).then(d=>Promise.all([d?d.value:c(),d!==void 0])).then(([d,f])=>Promise.all([d,f||u.miss(d)])).then(([d])=>d)},set(o,c){return Promise.resolve().then(()=>{const u=i();return u[JSON.stringify(o)]={timestamp:new Date().getTime(),value:c},r().setItem(n,JSON.stringify(u)),c})},delete(o){return Promise.resolve().then(()=>{const c=i();delete c[JSON.stringify(o)],r().setItem(n,JSON.stringify(c))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function v7(){return{get(e,t,n={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function dc(e){const t=[...e.caches],n=t.shift();return n===void 0?v7():{get(r,i,s={miss:()=>Promise.resolve()}){return n.get(r,i,s).catch(()=>dc({caches:t}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>dc({caches:t}).set(r,i))},delete(r){return n.delete(r).catch(()=>dc({caches:t}).delete(r))},clear(){return n.clear().catch(()=>dc({caches:t}).clear())}}}function Gm(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then(o=>i.miss(o)).then(()=>a)},set(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function y7(e){const t={value:`Algolia for JavaScript (${e})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return t.value.indexOf(r)===-1&&(t.value=`${t.value}${r}`),t}};return t}function x7(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function b7({algoliaAgents:e,client:t,version:n}){const r=y7(n).add({segment:t,version:n});return e.forEach(i=>r.add(i)),r}function w7(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var w_=2*60*1e3;function S_(e,t="up"){const n=Date.now();function r(){return t==="up"||Date.now()-n>w_}function i(){return t==="timed out"&&Date.now()-n<=w_}return{...e,status:t,lastUpdate:n,isUp:r,isTimedOut:i}}var JT=class extends Error{constructor(t,n){super(t);pe(this,"name","AlgoliaError");n&&(this.name=n)}},XT=class extends JT{constructor(t,n,r){super(t,r);pe(this,"stackTrace");this.stackTrace=n}},S7=class extends XT{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},hy=class extends XT{constructor(t,n,r,i="ApiError"){super(t,r,i);pe(this,"status");this.status=n}},_7=class extends JT{constructor(t,n){super(t,"DeserializationError");pe(this,"response");this.response=n}},j7=class extends hy{constructor(t,n,r,i){super(t,n,i,"DetailedApiError");pe(this,"error");this.error=r}};function E7(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}function C7(e,t,n){const r=P7(n);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return r.length&&(i+=`?${r}`),i}function P7(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function k7(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}function R7(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}function T7(e){try{return JSON.parse(e.content)}catch(t){throw new _7(t.message,e)}}function N7({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new j7(r.message,t,r.error,n):new hy(r.message,t,n)}catch{}return new hy(e,t,n)}function A7({isTimedOut:e,status:t}){return!e&&~~t===0}function O7({isTimedOut:e,status:t}){return e||A7({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function I7({status:e}){return~~(e/100)===2}function F7(e){return e.map(t=>ZT(t))}function ZT(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function D7({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:c,responsesCache:u}){async function d(p){const g=await Promise.all(p.map(b=>t.get(b,()=>Promise.resolve(S_(b))))),m=g.filter(b=>b.isUp()),x=g.filter(b=>b.isTimedOut()),v=[...m,...x];return{hosts:v.length>0?v:p,getTimeout(b,S){return(x.length===0&&b===0?1:x.length+3+b)*S}}}async function f(p,g,m=!0){const x=[],v=k7(p,g),y=R7(n,p.headers,g.headers),b=p.method==="GET"?{...p.data,...g.data}:{},S={...i,...p.queryParameters,...b};if(s.value&&(S["x-algolia-agent"]=s.value),g&&g.queryParameters)for(const F of Object.keys(g.queryParameters))!g.queryParameters[F]||Object.prototype.toString.call(g.queryParameters[F])==="[object Object]"?S[F]=g.queryParameters[F]:S[F]=g.queryParameters[F].toString();let _=0;const j=async(F,P)=>{const I=F.pop();if(I===void 0)throw new S7(F7(x));const O={...a,...g.timeouts},z={data:v,headers:y,method:p.method,url:C7(I,p.path,S),connectTimeout:P(_,O.connect),responseTimeout:P(_,m?O.read:O.write)},N=A=>{const D={request:z,response:A,host:I,triesLeft:F.length};return x.push(D),D},M=await o.send(z);if(O7(M)){const A=N(M);return M.isTimedOut&&_++,r.info("Retryable failure",ZT(A)),await t.set(I,S_(I,M.isTimedOut?"timed out":"down")),j(F,P)}if(I7(M))return T7(M);throw N(M),N7(M,x)},k=e.filter(F=>F.accept==="readWrite"||(m?F.accept==="read":F.accept==="write")),R=await d(k);return j([...R.hosts].reverse(),R.getTimeout)}function h(p,g={}){const m=p.useReadTransporter||p.method==="GET";if(!m)return f(p,g,m);const x=()=>f(p,g);if((g.cacheable||p.cacheable)!==!0)return x();const y={request:p,requestOptions:g,transporter:{queryParameters:i,headers:n}};return u.get(y,()=>c.get(y,()=>c.set(y,x()).then(b=>Promise.all([c.delete(y),b]),b=>Promise.all([c.delete(y),Promise.reject(b)])).then(([b,S])=>S)),{miss:b=>u.set(y,b)})}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:h,requestsCache:c,responsesCache:u}}var eN="5.35.0";function L7(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(E7([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function $7({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=x7(e,t,n),a=D7({hosts:L7(e),...i,algoliaAgent:b7({algoliaAgents:r,client:"Lite",version:eN}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(o,c){a.algoliaAgent.add({segment:o,version:c})},setClientApiKey({apiKey:o}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=o:a.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,c){return this.search(o,c)},searchForFacets(o,c){return this.search(o,c)},customPost({path:o,parameters:c,body:u},d){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:c||{},headers:{},data:u||{}};return a.request(g,d)},getRecommendations(o,c){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)},search(o,c){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:g,...m})=>m.type==="facet"?{...m,...g,type:"facet"}:{...m,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)}}}function Lo(e,t,n){return $7({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:w7(),requester:m7(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Gm(),requestsCache:Gm({serializable:!1}),hostsCache:dc({caches:[g7({key:`${eN}-${e}`}),Gm()]}),...n})}const Ym="6BGAS85TYS",Jm="e06b7614aaff866708fbd2872de90d37";class M7{constructor(t,n=[]){pe(this,"clients",null);pe(this,"initPromise",null);pe(this,"requestQueue",[]);pe(this,"batchTimer",null);pe(this,"batchDelay",50);pe(this,"maxBatchSize",10);this.workspaceId=t,this.assignedSources=n,this.initializeClients()}async initializeClients(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)?this.clients={fullPublic:Lo(Ym,Jm),fullPrivate:Lo(Ym,Jm),teaser:Lo(Ym,Jm)}:this.clients={fullPublic:Do("fullPublic"),fullPrivate:Do("fullPrivate"),teaser:Do("teaserPublic")}})(),this.initPromise)}async search(t,n={}){await this.initializeClients();const{enableCache:r=!0,enableDeduplication:i=!0,enableBatching:s=!0,forceRefresh:a=!1,timeout:o=5e3}=n,c=this.cleanRequests(t);return s&&!a&&c.length===1?this.addToBatch(c[0]):this.processRequests(c,{enableCache:r,enableDeduplication:i,forceRefresh:a,timeout:o})}cleanRequests(t){return t.map(n=>({...n,params:Object.fromEntries(Object.entries(n.params||{}).filter(([r])=>GT.includes(r)))}))}async addToBatch(t){return new Promise((n,r)=>{if(t.resolve=n,t.reject=r,this.requestQueue.push(t),this.requestQueue.length>=this.maxBatchSize){this.processBatch();return}this.scheduleBatch()})}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.batchDelay))}async processBatch(){if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.length===0)return;const t=this.requestQueue.splice(0,this.maxBatchSize);try{const n=await this.processRequests(t.map(r=>({...r,resolve:void 0,reject:void 0})));t.forEach((r,i)=>{const s=r.resolve;s&&s({results:[n.results[i]]})})}catch(n){t.forEach(r=>{const i=r.reject;i&&i(n)})}this.requestQueue.length>0&&this.scheduleBatch()}async processRequests(t,n={}){const{enableCache:r=!0,enableDeduplication:i=!0,forceRefresh:s=!1}=n,a=[];for(const o of t){if(r&&!s){const c=Vt.get(o);if(c){a.push(c.data);continue}}if(i){const c=await Km.deduplicateRequest(o,()=>this.executeSingleRequest(o));a.push(c),r&&Vt.set(o,c,o.origin)}else{const c=await this.executeSingleRequest(o);a.push(c),r&&Vt.set(o,c,o.origin)}}return{results:a}}async executeSingleRequest(t){if(!this.clients)throw new Error("Clients not initialized");const n=t.origin||"all",r={...t.params||{}},i=YT(r.facetFilters);switch(n){case"public":return this.searchPublicOnly(r,i);case"private":return this.searchPrivateOnly(r,i);default:return this.searchFederated(r,i)}}async searchPublicOnly(t,n){const r=x_(this.assignedSources),i={indexName:"ef_all",params:{...t,facetFilters:[["scope:public"],...n||[]],filters:this.combineFilters(t.filters,r)}},[s,a]=await Promise.all([this.clients.fullPublic.search([i]),this.clients.teaser.search([i])]);return Fo(s.results[0],a.results[0])}async searchPrivateOnly(t,n){const r=b_(this.workspaceId),i={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...n||[]],filters:this.combineFilters(t.filters,r)}};return(await this.clients.fullPrivate.search([i])).results[0]}async searchFederated(t,n){const r=x_(this.assignedSources),i=b_(this.workspaceId),s={indexName:"ef_all",params:{...t,facetFilters:[["scope:public"],...n||[]],filters:this.combineFilters(t.filters,r)}},a={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...n||[]],filters:this.combineFilters(t.filters,i)}},[o,c,u]=await Promise.all([this.clients.fullPublic.search([s]),this.clients.fullPrivate.search([a]),this.clients.teaser.search([s])]),d=Fo(o.results[0],u.results[0]);return Fo(d,c.results[0],{sumNbHits:!0})}combineFilters(...t){const n=t.filter(r=>r&&r.trim().length>0);if(n.length!==0)return n.length===1?n[0]:n.map(r=>`(${r})`).join(" AND ")}getPerformanceMetrics(){return{cache:Vt.getMetrics(),deduplication:Km.getDuplicationStats(),queueSize:this.requestQueue.length,clientsInitialized:!!this.clients}}invalidateCache(t,n){t?Vt.invalidateBySource(t):n?Vt.invalidateByOrigin(n):Vt.clear()}optimize(){Vt.autoTune()}dispose(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue=[],Vt.clear(),Km.clear()}}const tN=(e,t=[])=>new M7(e,t);class U7{constructor(t){pe(this,"metrics");pe(this,"requestTimes",[]);pe(this,"requestTimestamps",[]);pe(this,"uniqueUsers",new Set);pe(this,"searchTerms",new Map);pe(this,"maxHistorySize",1e3);pe(this,"metricsRetentionTime",24*60*60*1e3);pe(this,"alertConfig");pe(this,"alertCallbacks",[]);this.alertConfig={errorRateThreshold:5,responseTimeThreshold:2e3,cacheHitRateThreshold:70,requestRateThreshold:100,...t},this.metrics=this.initializeMetrics(),this.startPeriodicCalculations()}initializeMetrics(){return{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,p95ResponseTime:0,p99ResponseTime:0,cacheHitRate:0,cacheMissRate:0,cacheSize:0,duplicateRequestsAvoided:0,deduplicationRate:0,throttledRequests:0,debouncedRequests:0,totalRequestsSaved:0,estimatedCostSavings:0,searchesPerMinute:0,uniqueUsers:0,topSearchTerms:[],lastUpdated:Date.now()}}recordRequest(t,n,r,i,s=!1){if(this.metrics.totalRequests++,n?this.metrics.successfulRequests++:this.metrics.failedRequests++,s||(this.requestTimes.push(t),this.limitArraySize(this.requestTimes)),this.requestTimestamps.push(Date.now()),this.limitArraySize(this.requestTimestamps),r&&this.uniqueUsers.add(r),i&&i.trim()){const a=i.trim().toLowerCase();this.searchTerms.set(a,(this.searchTerms.get(a)||0)+1)}this.updateDerivedMetrics(),this.checkAlerts()}recordSaving(t,n=1){switch(t){case"cache":break;case"deduplication":this.metrics.duplicateRequestsAvoided+=n;break;case"throttling":this.metrics.throttledRequests+=n;break;case"debouncing":this.metrics.debouncedRequests+=n;break}this.metrics.totalRequestsSaved+=n,this.updateDerivedMetrics()}updateDerivedMetrics(){const t=Date.now();if(this.requestTimes.length>0){const a=[...this.requestTimes].sort((o,c)=>o-c);this.metrics.averageResponseTime=a.reduce((o,c)=>o+c,0)/a.length,this.metrics.p95ResponseTime=a[Math.floor(a.length*.95)]||0,this.metrics.p99ResponseTime=a[Math.floor(a.length*.99)]||0}const n=this.metrics.totalRequests;if(n>0){const a=this.metrics.totalRequestsSaved+this.metrics.duplicateRequestsAvoided;this.metrics.cacheHitRate=a/n*100,this.metrics.cacheMissRate=100-this.metrics.cacheHitRate}this.metrics.totalRequests>0&&(this.metrics.deduplicationRate=this.metrics.duplicateRequestsAvoided/this.metrics.totalRequests*100);const r=t-60*1e3,i=this.requestTimestamps.filter(a=>a>r);this.metrics.searchesPerMinute=i.length,this.metrics.uniqueUsers=this.uniqueUsers.size,this.metrics.topSearchTerms=Array.from(this.searchTerms.entries()).sort((a,o)=>o[1]-a[1]).slice(0,10).map(([a])=>a);const s=.01;this.metrics.estimatedCostSavings=this.metrics.totalRequestsSaved*s,this.metrics.lastUpdated=t}checkAlerts(){const t=[],n=this.metrics.failedRequests/this.metrics.totalRequests*100;n>this.alertConfig.errorRateThreshold&&t.push({type:"error_rate",severity:"high",message:`Taux d'erreur élevé: ${n.toFixed(1)}%`,threshold:this.alertConfig.errorRateThreshold,current:n}),this.metrics.averageResponseTime>this.alertConfig.responseTimeThreshold&&t.push({type:"response_time",severity:"medium",message:`Temps de réponse élevé: ${this.metrics.averageResponseTime.toFixed(0)}ms`,threshold:this.alertConfig.responseTimeThreshold,current:this.metrics.averageResponseTime}),this.metrics.cacheHitRate<this.alertConfig.cacheHitRateThreshold&&t.push({type:"cache_hit_rate",severity:"medium",message:`Taux de cache faible: ${this.metrics.cacheHitRate.toFixed(1)}%`,threshold:this.alertConfig.cacheHitRateThreshold,current:this.metrics.cacheHitRate}),this.metrics.searchesPerMinute>this.alertConfig.requestRateThreshold&&t.push({type:"request_rate",severity:"low",message:`Taux de requêtes élevé: ${this.metrics.searchesPerMinute} req/min`,threshold:this.alertConfig.requestRateThreshold,current:this.metrics.searchesPerMinute}),t.forEach(r=>{this.alertCallbacks.forEach(i=>{try{i(r)}catch(s){console.error("Error in alert callback:",s)}})})}generateRecommendations(){const t=[];this.metrics.cacheHitRate<60&&t.push({type:"cache",priority:"high",title:"Améliorer le taux de cache",description:`Le taux de cache actuel est de ${this.metrics.cacheHitRate.toFixed(1)}%, ce qui est sous-optimal.`,impact:"Réduction significative des requêtes Algolia",action:"Augmenter le TTL du cache et implémenter un cache préfixe plus agressif",estimatedSavings:this.calculateCacheSavings()}),this.metrics.averageResponseTime>1e3&&t.push({type:"architecture",priority:"medium",title:"Optimiser les temps de réponse",description:`Le temps de réponse moyen est de ${this.metrics.averageResponseTime.toFixed(0)}ms.`,impact:"Amélioration de l'expérience utilisateur",action:"Implémenter plus de parallélisme et optimiser les requêtes",estimatedSavings:0}),this.metrics.deduplicationRate<30&&t.push({type:"architecture",priority:"medium",title:"Améliorer la déduplication",description:`Seulement ${this.metrics.deduplicationRate.toFixed(1)}% des requêtes sont dédupliquées.`,impact:"Réduction des requêtes redondantes",action:"Améliorer les clés de déduplication et augmenter la fenêtre de déduplication",estimatedSavings:this.calculateDeduplicationSavings()}),this.metrics.searchesPerMinute>200&&t.push({type:"indexing",priority:"low",title:"Optimiser la structure d'index",description:"Volume de recherches élevé détecté.",impact:"Amélioration des performances générales",action:"Réviser la structure des index et les attributs de recherche",estimatedSavings:0});const n={critical:0,high:1,medium:2,low:3};return t.sort((r,i)=>n[r.priority]-n[i.priority])}calculateCacheSavings(){const n=this.metrics.totalRequestsSaved,r=this.metrics.totalRequests*80/100-n;return Math.max(0,r*.01)}calculateDeduplicationSavings(){const n=this.metrics.duplicateRequestsAvoided,r=this.metrics.totalRequests*50/100-n;return Math.max(0,r*.01)}autoTune(){const t={cacheAdjustments:{},throttlingAdjustments:{},debounceAdjustments:{}};return this.metrics.cacheHitRate<50&&(t.cacheAdjustments={increaseTTL:!0,newTTL:Math.min(6e5,3e5*1.5),increaseMaxSize:!0,newMaxSize:Math.min(2e3,1e3*1.2)}),this.metrics.searchesPerMinute>150&&(t.throttlingAdjustments={reduceMaxRequestsPerSecond:!0,newMaxRequestsPerSecond:Math.max(3,5*.8),increaseBurstAllowance:!1}),this.metrics.averageResponseTime>1500&&(t.debounceAdjustments={increaseDelay:!0,newBaseDelay:Math.min(500,300*1.3),newMaxDelay:Math.min(1500,1e3*1.2)}),t}limitArraySize(t){t.length>this.maxHistorySize&&t.splice(0,t.length-this.maxHistorySize)}startPeriodicCalculations(){setInterval(()=>{this.updateDerivedMetrics(),this.cleanOldData()},3e4)}cleanOldData(){const t=Date.now()-this.metricsRetentionTime;this.requestTimestamps=this.requestTimestamps.filter(n=>n>t);for(const[n,r]of this.searchTerms.entries())r<2&&this.searchTerms.delete(n)}getMetrics(){return{...this.metrics}}onAlert(t){this.alertCallbacks.push(t)}offAlert(t){const n=this.alertCallbacks.indexOf(t);n>-1&&this.alertCallbacks.splice(n,1)}reset(){this.metrics=this.initializeMetrics(),this.requestTimes=[],this.requestTimestamps=[],this.uniqueUsers.clear(),this.searchTerms.clear()}exportMetrics(){return{metrics:this.getMetrics(),recommendations:this.generateRecommendations(),autoTuneSettings:this.autoTune(),rawData:{requestTimes:[...this.requestTimes],requestTimestamps:[...this.requestTimestamps],searchTerms:Object.fromEntries(this.searchTerms),uniqueUsersCount:this.uniqueUsers.size}}}}const On=new U7;function z7(e,t=[]){const[n,r]=w.useState(null);return w.useEffect(()=>{let i=!1;async function s(){if(!i){const a=tN(e,t);r(a)}}return s(),()=>{i=!0,n&&n.dispose()}},[e,JSON.stringify(t)]),n}const nN=w.createContext(null),H7=()=>{const e=w.useContext(nN);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},gp=w.createContext(null),B7=()=>{const e=w.useContext(gp);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},rN=()=>w.useContext(gp),q7=({children:e})=>{const[t,n]=w.useState("all");return l.jsx(gp.Provider,{value:{origin:t,setOrigin:n},children:e})},W7=({children:e})=>{const t=mp(),{currentWorkspace:n}=Hi(),{assignedSources:r}=Fa(),i=z7(n==null?void 0:n.id,r),[s,a]=w.useState("all"),o=w.useRef("all");w.useEffect(()=>{o.current=s},[s]);const c=w.useRef(n==null?void 0:n.id);w.useEffect(()=>{c.current=n==null?void 0:n.id},[n==null?void 0:n.id]);const u=w.useRef(null);i&&!u.current&&(u.current={search:async f=>{var g,m;const h=Date.now();let p=!0;try{const x=f.map(y=>({...y,origin:o.current,params:{...y.params,_search_context:{workspace_id:c.current,origin:o.current,timestamp:Date.now()}}}));return await i.search(x,{enableCache:!0,enableDeduplication:!0,enableBatching:!0})}catch{p=!1;const v={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(f||[]).map(()=>v)}}finally{const x=Date.now()-h;On.recordRequest(x,p,c.current,((m=(g=f==null?void 0:f[0])==null?void 0:g.params)==null?void 0:m.query)||"",!1)}}});const d=i?u.current:null;return l.jsx(nN.Provider,{value:t,children:l.jsx(gp.Provider,{value:{origin:s,setOrigin:a},children:d?l.jsx(WT,{searchClient:d,indexName:ts,future:{preserveSharedStateOnUnmount:!0},children:e}):l.jsx("div",{})})})};class iN{constructor(t={}){pe(this,"requestTimestamps",[]);pe(this,"burstTokens");pe(this,"lastRequestTime",0);pe(this,"consecutiveRequests",0);pe(this,"config");this.config={maxRequestsPerSecond:5,maxRequestsPerMinute:60,burstAllowance:10,adaptiveThrottling:!0,...t},this.burstTokens=this.config.burstAllowance}async throttle(t){const n=Date.now();this.cleanOldTimestamps(n);const r=this.calculateDelay(n);r>0&&await this.sleep(r),this.recordRequest(n+r);try{const i=await t();return this.consecutiveRequests++,i}catch(i){throw this.consecutiveRequests=0,i}}calculateDelay(t){const n=t-1e3,r=t-6e4,i=this.requestTimestamps.filter(a=>a>n).length,s=this.requestTimestamps.filter(a=>a>r).length;if(i>=this.config.maxRequestsPerSecond){if(this.burstTokens>0)return this.burstTokens--,0;const a=this.requestTimestamps.filter(o=>o>n).sort()[0];return Math.max(0,1e3-(t-a))}if(s>=this.config.maxRequestsPerMinute){const a=this.requestTimestamps.filter(o=>o>r).sort()[0];return Math.max(0,6e4-(t-a))}if(this.config.adaptiveThrottling&&this.consecutiveRequests>10){const a=t-this.lastRequestTime;if(a<100)return 100-a}return 0}cleanOldTimestamps(t){const n=t-6e4;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n);const r=t-this.lastRequestTime;r>5e3&&(this.burstTokens=Math.min(this.config.burstAllowance,this.burstTokens+Math.floor(r/1e3)),this.consecutiveRequests=0)}recordRequest(t){this.requestTimestamps.push(t),this.lastRequestTime=t}sleep(t){return new Promise(n=>setTimeout(n,t))}getStats(){const t=Date.now(),n=t-1e3,r=t-6e4;return{requestsLastSecond:this.requestTimestamps.filter(i=>i>n).length,requestsLastMinute:this.requestTimestamps.filter(i=>i>r).length,burstTokensAvailable:this.burstTokens,consecutiveRequests:this.consecutiveRequests,config:this.config}}}class sN{constructor(t={}){pe(this,"timers",new Map);pe(this,"requestCounts",new Map);pe(this,"config");this.config={baseDelay:300,maxDelay:1e3,adaptiveDelay:!0,cancelOnNewRequest:!0,...t}}debounce(t,n,r){return new Promise((i,s)=>{this.config.cancelOnNewRequest&&this.timers.has(t)&&(clearTimeout(this.timers.get(t)),this.timers.delete(t));const a=r||this.calculateAdaptiveDelay(t);this.requestCounts.set(t,(this.requestCounts.get(t)||0)+1);const o=setTimeout(async()=>{this.timers.delete(t),this.requestCounts.delete(t);try{const c=await n();i(c)}catch(c){s(c)}},a);this.timers.set(t,o)})}calculateAdaptiveDelay(t){if(!this.config.adaptiveDelay)return this.config.baseDelay;const n=this.requestCounts.get(t)||0,r=Math.min(1+n*.2,3),i=this.config.baseDelay*r;return Math.min(i,this.config.maxDelay)}debounceSearch(t,n,r={}){const{isTyping:i=!1,hasFilters:s=!1}=r;let a=this.config.baseDelay;t.length<3?a=150:t.length>6&&s?a=500:i&&(a=200);const o=`search:${t}:${s}`;return this.debounce(o,n,a)}clear(t){if(t){const n=this.timers.get(t);n&&(clearTimeout(n),this.timers.delete(t),this.requestCounts.delete(t))}else{for(const n of this.timers.values())clearTimeout(n);this.timers.clear(),this.requestCounts.clear()}}getStats(){return{activeTimers:this.timers.size,totalRequests:Array.from(this.requestCounts.values()).reduce((t,n)=>t+n,0),requestsByKey:Object.fromEntries(this.requestCounts),config:this.config}}}class V7{constructor(t,n){pe(this,"throttler");pe(this,"debouncer");pe(this,"requestQueue",[]);pe(this,"processing",!1);this.throttler=new iN(t),this.debouncer=new sN(n)}async optimizedRequest(t,n,r={}){const{debounce:i=!0,throttle:s=!0,priority:a=2,context:o={}}=r;let c=n;if(s){const u=c;c=()=>this.throttler.throttle(u)}return i?this.debouncer.debounceSearch(t,c,o):new Promise((u,d)=>{this.requestQueue.push({fn:c,resolve:u,reject:d,priority:a}),this.requestQueue.sort((f,h)=>f.priority-h.priority),this.processQueue()})}async processQueue(){if(!(this.processing||this.requestQueue.length===0)){for(this.processing=!0;this.requestQueue.length>0;){const{fn:t,resolve:n,reject:r}=this.requestQueue.shift();try{const i=await t();n(i)}catch(i){r(i)}}this.processing=!1}}getStats(){return{throttler:this.throttler.getStats(),debouncer:this.debouncer.getStats(),queueSize:this.requestQueue.length,processing:this.processing}}clear(){this.debouncer.clear(),this.requestQueue=[],this.processing=!1}}new iN;new sN;const Q7=new V7;class K7{constructor(){pe(this,"prefixCache",new Map);pe(this,"recentSearchCache",new Map);pe(this,"maxCacheSize",500);pe(this,"prefixCacheTTL",10*60*1e3);pe(this,"minPrefixLength",1);pe(this,"maxSuggestions",8);pe(this,"client",null);pe(this,"context",null);this.startCacheCleanup()}updateContext(t){this.contextChanged(t)&&(this.prefixCache.clear(),this.client&&this.client.dispose(),this.client=tN(t.workspaceId,t.assignedSources)),this.context=t}contextChanged(t){return this.context?this.context.workspaceId!==t.workspaceId||this.context.origin!==t.origin||JSON.stringify(this.context.assignedSources)!==JSON.stringify(t.assignedSources):!0}async getSuggestions(t,n=this.maxSuggestions){if(!this.context||!this.client)throw new Error("Context not initialized. Call updateContext() first.");const r=t.trim();if(r.length===0)return this.getRecentSearchSuggestions();if(r.length<this.minPrefixLength)return this.fetchDirectSuggestions(r,n);const i=this.findCachedSuggestions(r,n);return i||this.fetchAndCacheSuggestions(r,n)}findCachedSuggestions(t,n){let r=null,i=0;for(const[a,o]of this.prefixCache.entries())t.startsWith(a)&&a.length>i&&(Date.now()-o.timestamp<=this.prefixCacheTTL?(r=o,i=a.length):this.prefixCache.delete(a));if(!r)return null;const s=r.suggestions.filter(a=>a.label.toLowerCase().includes(t.toLowerCase()));return s.length>=n||r.isComplete?this.rankSuggestions(s,t).slice(0,n):null}async fetchAndCacheSuggestions(t,n){const r=Math.min(t.length,3),i=t.substring(0,r),s=`suggestions:${i}:${this.context.origin}`,a=await Q7.optimizedRequest(s,()=>this.fetchDirectSuggestions(t,n*2),{debounce:!0,throttle:!0,priority:1,context:{isTyping:!0,hasFilters:!1}});return this.cacheByPrefix(i,a,t),this.rankSuggestions(a,t).slice(0,n)}async fetchDirectSuggestions(t,n){const{origin:r}=this.context,i=[],s=new Set;try{const a=[];if((r==="all"||r==="public")&&a.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],typoTolerance:"strict"},origin:"public"}),(r==="all"||r==="private")&&a.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],typoTolerance:"strict"},origin:"private"}),a.length===0)return[];const o=await this.client.search(a,{enableCache:!0,enableDeduplication:!0,enableBatching:!1});for(const c of o.results)if(c!=null&&c.hits)for(const u of c.hits){const d=u.Nom_fr||u.Nom_en||"";if(!d||s.has(d))continue;s.add(d);const f={label:d,isPrivate:u.scope==="private",source:u.Source,objectID:u.objectID,relevanceScore:this.calculateRelevanceScore(u,t),category:u.Secteur_fr||u.Secteur_en||"Autres"};i.push(f)}return i}catch(a){return console.error("Error fetching suggestions:",a),[]}}calculateRelevanceScore(t,n){var c;const r=n.toLowerCase();let i=0;const s=(t.Nom_fr||t.Nom_en||"").toLowerCase();return s.startsWith(r)?i+=100:s.includes(r)&&(i+=50),(t.Description_fr||t.Description_en||"").toLowerCase().includes(r)&&(i+=25),["ADEME","Base Carbone","GHG Protocol"].includes(t.Source)&&(i+=10),((c=this.context)==null?void 0:c.origin)==="public"&&t.scope==="private"&&(i-=20),i}rankSuggestions(t,n){return t.sort((r,i)=>{const s=r.label.toLowerCase().startsWith(n.toLowerCase()),a=i.label.toLowerCase().startsWith(n.toLowerCase());return s&&!a?-1:!s&&a?1:(i.relevanceScore||0)-(r.relevanceScore||0)})}cacheByPrefix(t,n,r){if(t.length<this.minPrefixLength||n.length===0)return;const i={prefix:t,suggestions:n,timestamp:Date.now(),totalCount:n.length,isComplete:n.length<this.maxSuggestions*2};this.prefixCache.set(t,i),this.evictOldCacheEntries()}getRecentSearchSuggestions(){var n;return(((n=this.context)==null?void 0:n.recentSearches)||[]).slice(0,5).map(r=>({label:r,isPrivate:!1,category:"Recherches récentes"}))}evictOldCacheEntries(){if(this.prefixCache.size<=this.maxCacheSize)return;const n=Array.from(this.prefixCache.entries()).sort(([,i],[,s])=>{const a=Date.now()-i.timestamp,o=Date.now()-s.timestamp,c=i.totalCount/(a/1e3),u=s.totalCount/(o/1e3);return c-u}),r=Math.floor(this.prefixCache.size*.2);for(let i=0;i<r;i++)this.prefixCache.delete(n[i][0])}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[n,r]of this.prefixCache.entries())t-r.timestamp>this.prefixCacheTTL&&this.prefixCache.delete(n)},5*60*1e3)}getCacheStats(){const t=Date.now(),n=Array.from(this.prefixCache.values()).filter(r=>t-r.timestamp<=this.prefixCacheTTL);return{totalEntries:this.prefixCache.size,validEntries:n.length,averageAge:n.length>0?n.reduce((r,i)=>r+(t-i.timestamp),0)/n.length:0,totalSuggestionsCached:n.reduce((r,i)=>r+i.totalCount,0),averageSuggestionsPerPrefix:n.length>0?n.reduce((r,i)=>r+i.totalCount,0)/n.length:0}}async preloadPopularPrefixes(t){const n=new Set;for(const r of t)if(r.length>=this.minPrefixLength)for(let i=this.minPrefixLength;i<=Math.min(r.length,4);i++)n.add(r.substring(0,i));for(const r of n)if(!this.prefixCache.has(r))try{await this.fetchAndCacheSuggestions(r,this.maxSuggestions*2),await new Promise(i=>setTimeout(i,100))}catch(i){console.warn(`Failed to preload prefix ${r}:`,i)}}clear(){this.prefixCache.clear(),this.recentSearchCache.clear(),this.client&&(this.client.dispose(),this.client=null),this.context=null}}const Pi=new K7,aN=()=>{const{user:e}=_t(),{currentWorkspace:t}=Hi(),n=w.useCallback(async(i,s,a)=>{if(e)try{const{error:o}=await J.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:i,search_filters:s,results_count:a});o&&console.error("Error recording search history:",o)}catch(o){console.error("Error recording search history:",o)}},[e,t]),r=w.useCallback(async()=>{if(!e)return[];try{const{data:i,error:s}=await J.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(s)throw s;return[...new Set((i==null?void 0:i.map(o=>o.search_query))||[])].slice(0,3)}catch(i){return console.error("Error fetching recent searches:",i),[]}},[e]);return{recordSearch:n,getRecentSearches:r}},G7=(e,t="all",n={})=>{const{maxSuggestions:r=8,enablePreloading:i=!0,debounceDelay:s=150,showRecentSearches:a=!0}=n,{currentWorkspace:o}=Hi(),{assignedSources:c}=Fa(),{recentSearches:u}=aN(),[d,f]=w.useState([]),[h,p]=w.useState(!1),[g,m]=w.useState(null),x=w.useRef(null),v=w.useRef(""),y=w.useRef(0);w.useEffect(()=>{Pi.updateContext({workspaceId:o==null?void 0:o.id,assignedSources:c,origin:t,recentSearches:a?u:[],userLanguage:"fr"})},[o==null?void 0:o.id,c,t,u,a]),w.useEffect(()=>{i&&u.length>0&&Pi.preloadPopularPrefixes(u.slice(0,10))},[i,u]);const b=w.useCallback(async F=>{const P=++y.current;try{p(!0),m(null);const I=await Pi.getSuggestions(F,r);P===y.current&&f(I)}catch(I){P===y.current&&(m(I.message||"Erreur lors de la récupération des suggestions"),f([]))}finally{P===y.current&&p(!1)}},[r]),S=w.useCallback(F=>{if(x.current&&clearTimeout(x.current),F.trim().length===0){b(F);return}let P=s;F.length<3?P=Math.max(100,s*.5):F.length>6&&(P=Math.min(300,s*1.5)),x.current=setTimeout(()=>{b(F)},P)},[b,s]);w.useEffect(()=>(e!==v.current&&(v.current=e,S(e)),()=>{x.current&&clearTimeout(x.current)}),[e,S]),w.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const _=w.useCallback(()=>{f([]),m(null),p(!1),x.current&&(clearTimeout(x.current),x.current=null)},[]),j=w.useCallback(()=>{b(e)},[e,b]),k=w.useCallback(()=>Pi.getCacheStats(),[]),R=w.useCallback(F=>{Pi.getSuggestions(F,r)},[r]);return{suggestions:d,loading:h,error:g,clearSuggestions:_,refreshSuggestions:j,getCacheStats:k,preloadSuggestions:R,hasResults:d.length>0,isEmpty:!h&&d.length===0&&e.trim().length>0,isRecentSearches:d.length>0&&d.every(F=>F.category==="Recherches récentes")}},Y7=(e,t="all",n={})=>{const{showCategories:r=!0,groupByCategory:i=!1,highlightMatches:s=!0,...a}=n,{suggestions:o,loading:c,error:u,...d}=G7(e,t,a),f=w.useRef({suggestions:[],groupedSuggestions:{},highlightedSuggestions:[]});return w.useEffect(()=>{const h=s?o.map(g=>({...g,highlightedLabel:J7(g.label,e)})):o,p=i?Z7(h):{};f.current={suggestions:o,groupedSuggestions:p,highlightedSuggestions:h}},[o,e,i,s]),{suggestions:f.current.suggestions,groupedSuggestions:f.current.groupedSuggestions,highlightedSuggestions:f.current.highlightedSuggestions,loading:c,error:u,...d}};function J7(e,t){if(!t.trim())return e;const n=new RegExp(`(${X7(t)})`,"gi");return e.replace(n,"<mark>$1</mark>")}function X7(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z7(e){return e.reduce((t,n)=>{const r=n.category||"Autres";return t[r]||(t[r]=[]),t[r].push(n),t},{})}const eV=Ku("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:e,variant:t,...n}){return l.jsx("div",{className:ue(eV({variant:t}),e),...n})}const tV=()=>{const{query:e,refine:t}=_b(),{nbHits:n}=pp();hp();const{highlightedSuggestions:r,groupedSuggestions:i,loading:s,isRecentSearches:a,getCacheStats:o}=Y7(e,c,{maxSuggestions:8,enablePreloading:!0,showCategories:!0,groupByCategory:!0,highlightMatches:!0}),{origin:c}=B7(),{recordSearch:u}=aN(),[d,f]=w.useState(!1),h=w.useRef(null);q.useEffect(()=>{console.log("[OptimizedSearchBox] render",{origin:c,query:e,suggestions:r.length,isRecentSearches:a,cacheStats:o()})},[c,e,r,a,o]),w.useEffect(()=>{const x=v=>{h.current&&!h.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const p=()=>{t(""),f(!1)},g=x=>{t(x),f(!1),u(x,{},0)},m=()=>{e.trim()&&u(e,{},n||0),f(!1)};return l.jsx("div",{className:"space-y-4",ref:h,children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(nh,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),l.jsx(Mt,{type:"text",value:e,onChange:x=>{t(x.target.value),f(x.target.value.length>0)},onKeyDown:x=>{x.key==="Enter"&&m()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&l.jsx("button",{onClick:p,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:l.jsx(Dx,{className:"h-6 w-6"})})]}),l.jsx(Y,{variant:"hero",onClick:m,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),d&&r.length>0&&l.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[s&&l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[l.jsx(rh,{className:"h-3 w-3 animate-pulse"}),"Recherche optimisée..."]}),a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(th,{className:"h-3 w-3"}),"Recherches récentes"]}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:r.map((x,v)=>l.jsxs("button",{onClick:()=>g(x.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(th,{className:"h-3 w-3 text-indigo-950/60"}),x.label]},`recent-${v}`))})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[l.jsx(rh,{className:"h-3 w-3"}),"Suggestions intelligentes (",r.length,")"]}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:Object.keys(i).length>0?Object.entries(i).map(([x,v])=>l.jsxs("div",{children:[x!=="Autres"&&l.jsx("div",{className:"px-4 py-2 text-xs text-indigo-950/50 bg-gray-50 font-montserrat",children:x}),v.map((y,b)=>l.jsxs("button",{onClick:()=>g(y.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:y.highlightedLabel||y.label}}),y.isPrivate&&l.jsx(Be,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),y.source&&l.jsx(Be,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:y.source})]},`${x}-${b}`))]},x)):r.map((x,v)=>l.jsxs("button",{onClick:()=>g(x.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:x.highlightedLabel||x.label}}),x.isPrivate&&l.jsx(Be,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),x.source&&l.jsx(Be,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:x.source})]},`suggestion-${v}`))})]})]})]})})};function __(e,[t,n]){return Math.min(n,Math.max(t,e))}var Xm=0;function oN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j_()),document.body.insertAdjacentElement("beforeend",e[1]??j_()),Xm++,()=>{Xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xm--}},[])}function j_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zm="focusScope.autoFocusOnMount",eg="focusScope.autoFocusOnUnmount",E_={bubbles:!1,cancelable:!0},nV="FocusScope",jb=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=w.useState(null),u=zn(i),d=zn(s),f=w.useRef(null),h=ze(t,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let m=function(b){if(p.paused||!o)return;const S=b.target;o.contains(S)?f.current=S:ns(f.current,{select:!0})},x=function(b){if(p.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||ns(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&ns(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(v);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[r,o,p.paused]),w.useEffect(()=>{if(o){P_.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(Zm,E_);o.addEventListener(Zm,u),o.dispatchEvent(v),v.defaultPrevented||(rV(lV(lN(o)),{select:!0}),document.activeElement===m&&ns(o))}return()=>{o.removeEventListener(Zm,u),setTimeout(()=>{const v=new CustomEvent(eg,E_);o.addEventListener(eg,d),o.dispatchEvent(v),v.defaultPrevented||ns(m??document.body,{select:!0}),o.removeEventListener(eg,d),P_.remove(p)},0)}}},[o,u,d,p]);const g=w.useCallback(m=>{if(!n&&!r||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const y=m.currentTarget,[b,S]=iV(y);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&ns(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&ns(S,{select:!0})):v===y&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(ge.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});jb.displayName=nV;function rV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ns(r,{select:t}),document.activeElement!==n)return}function iV(e){const t=lN(e),n=C_(t,e),r=C_(t.reverse(),e);return[n,r]}function lN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function C_(e,t){for(const n of e)if(!sV(n,{upTo:t}))return n}function sV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aV(e){return e instanceof HTMLInputElement&&"select"in e}function ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aV(e)&&t&&e.select()}}var P_=oV();function oV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=k_(e,t),e.unshift(t)},remove(t){var n;e=k_(e,t),(n=e[0])==null||n.resume()}}}function k_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function lV(e){return e.filter(t=>t.tagName!=="A")}function Eb(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ro=new WeakMap,Xd=new WeakMap,Zd={},tg=0,cN=function(e){return e&&(e.host||cN(e.parentNode))},uV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dV=function(e,t,n,r){var i=uV(t,Array.isArray(e)?e:[e]);Zd[n]||(Zd[n]=new WeakMap);var s=Zd[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(ro.get(h)||0)+1,x=(s.get(h)||0)+1;ro.set(h,m),s.set(h,x),a.push(h),m===1&&g&&Xd.set(h,!0),x===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),tg++,function(){a.forEach(function(f){var h=ro.get(f)-1,p=s.get(f)-1;ro.set(f,h),s.set(f,p),h||(Xd.has(f)||f.removeAttribute(r),Xd.delete(f)),p||f.removeAttribute(n)}),tg--,tg||(ro=new WeakMap,ro=new WeakMap,Xd=new WeakMap,Zd={})}},uN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=cV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),dV(r,i,n,"aria-hidden")):function(){return null}},ti=function(){return ti=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ti.apply(this,arguments)};function dN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fV(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Cf="right-scroll-bar-position",Pf="width-before-scroll-bar",hV="with-scroll-bars-hidden",pV="--removed-body-scroll-bar-size";function ng(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mV(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var gV=typeof window<"u"?w.useLayoutEffect:w.useEffect,R_=new WeakMap;function vV(e,t){var n=mV(null,function(r){return e.forEach(function(i){return ng(i,r)})});return gV(function(){var r=R_.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||ng(o,null)}),s.forEach(function(o){i.has(o)||ng(o,a)})}R_.set(n,e)},[e]),n}function yV(e){return e}function xV(e,t){t===void 0&&(t=yV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function bV(e){e===void 0&&(e={});var t=xV(null);return t.options=ti({async:!0,ssr:!1},e),t}var fN=function(e){var t=e.sideCar,n=dN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ti({},n))};fN.isSideCarExport=!0;function wV(e,t){return e.useMedium(t),fN}var hN=bV(),rg=function(){},vp=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:rg,onWheelCapture:rg,onTouchMoveCapture:rg}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,b=dN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=vV([n,t]),j=ti(ti({},b),i);return w.createElement(w.Fragment,null,d&&w.createElement(S,{sideCar:hN,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:y}),a?w.cloneElement(w.Children.only(o),ti(ti({},j),{ref:_})):w.createElement(v,ti({},j,{className:c,ref:_}),o))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:Pf,zeroRight:Cf};var SV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _V(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SV();return t&&e.setAttribute("nonce",t),e}function jV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_V())&&(jV(t,n),EV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PV=function(){var e=CV();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pN=function(){var e=PV(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},kV={left:0,top:0,right:0,gap:0},ig=function(e){return parseInt(e||"",10)||0},RV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ig(n),ig(r),ig(i)]},TV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kV;var t=RV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},NV=pN(),$o="data-scroll-locked",AV=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat($o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($o,`] {
    `).concat(pV,": ").concat(o,`px;
  }
`)},T_=function(){var e=parseInt(document.body.getAttribute($o)||"0",10);return isFinite(e)?e:0},OV=function(){w.useEffect(function(){return document.body.setAttribute($o,(T_()+1).toString()),function(){var e=T_()-1;e<=0?document.body.removeAttribute($o):document.body.setAttribute($o,e.toString())}},[])},IV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;OV();var s=w.useMemo(function(){return TV(i)},[i]);return w.createElement(NV,{styles:AV(s,!t,i,n?"":"!important")})},py=!1;if(typeof window<"u")try{var ef=Object.defineProperty({},"passive",{get:function(){return py=!0,!0}});window.addEventListener("test",ef,ef),window.removeEventListener("test",ef,ef)}catch{py=!1}var io=py?{passive:!1}:!1,FV=function(e){return e.tagName==="TEXTAREA"},mN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FV(e)&&n[t]==="visible")},DV=function(e){return mN(e,"overflowY")},LV=function(e){return mN(e,"overflowX")},N_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gN(e,r);if(i){var s=vN(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$V=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gN=function(e,t){return e==="v"?DV(t):LV(t)},vN=function(e,t){return e==="v"?$V(t):MV(t)},UV=function(e,t){return e==="h"&&t==="rtl"?-1:1},zV=function(e,t,n,r,i){var s=UV(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=vN(e,o),g=p[0],m=p[1],x=p[2],v=m-x-s*g;(g||v)&&gN(e,o)&&(f+=v,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},tf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A_=function(e){return[e.deltaX,e.deltaY]},O_=function(e){return e&&"current"in e?e.current:e},HV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qV=0,so=[];function WV(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(qV++)[0],s=w.useState(pN)[0],a=w.useRef(e);w.useEffect(function(){a.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=fV([e.lockRef.current],(e.shards||[]).map(O_),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=tf(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-v[0],S="deltaY"in m?m.deltaY:y[1]-v[1],_,j=m.target,k=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var R=N_(k,j);if(!R)return!0;if(R?_=k:(_=k==="v"?"h":"v",R=N_(k,j)),!R)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=_),!_)return!0;var F=r.current||_;return zV(F,x,m,F==="h"?b:S,!0)},[]),c=w.useCallback(function(m){var x=m;if(!(!so.length||so[so.length-1]!==s)){var v="deltaY"in x?A_(x):tf(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&HV(_.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(O_).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=b.length>0?o(x,b[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(m,x,v,y){var b={name:m,delta:x,target:v,should:y,shadowParent:VV(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=w.useCallback(function(m){n.current=tf(m),r.current=void 0},[]),f=w.useCallback(function(m){u(m.type,A_(m),m.target,o(m,e.lockRef.current))},[]),h=w.useCallback(function(m){u(m.type,tf(m),m.target,o(m,e.lockRef.current))},[]);w.useEffect(function(){return so.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,io),document.addEventListener("touchmove",c,io),document.addEventListener("touchstart",d,io),function(){so=so.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,io),document.removeEventListener("touchmove",c,io),document.removeEventListener("touchstart",d,io)}},[]);var p=e.removeScrollBar,g=e.inert;return w.createElement(w.Fragment,null,g?w.createElement(s,{styles:BV(i)}):null,p?w.createElement(IV,{gapMode:e.gapMode}):null)}function VV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QV=wV(hN,WV);var Cb=w.forwardRef(function(e,t){return w.createElement(vp,ti({},e,{ref:t,sideCar:QV}))});Cb.classNames=vp.classNames;var KV=[" ","Enter","ArrowUp","ArrowDown"],GV=[" ","Enter"],sd="Select",[yp,xp,YV]=kx(sd),[kl,_ne]=Ui(sd,[YV,Kh]),bp=Kh(),[JV,zs]=kl(sd),[XV,ZV]=kl(sd),yN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=bp(t),[x,v]=w.useState(null),[y,b]=w.useState(null),[S,_]=w.useState(!1),j=ob(u),[k=!1,R]=si({prop:r,defaultProp:i,onChange:s}),[F,P]=si({prop:a,defaultProp:o,onChange:c}),I=w.useRef(null),O=x?g||!!x.closest("form"):!0,[z,N]=w.useState(new Set),M=Array.from(z).map(A=>A.props.value).join(";");return l.jsx(lk,{...m,children:l.jsxs(JV,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:ii(),value:F,onValueChange:P,open:k,onOpenChange:R,dir:j,triggerPointerDownPosRef:I,disabled:h,children:[l.jsx(yp.Provider,{scope:t,children:l.jsx(XV,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(A=>{N(D=>new Set(D).add(A))},[]),onNativeOptionRemove:w.useCallback(A=>{N(D=>{const E=new Set(D);return E.delete(A),E})},[]),children:n})}),O?l.jsxs(BN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:A=>P(A.target.value),disabled:h,form:g,children:[F===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},M):null]})})};yN.displayName=sd;var xN="SelectTrigger",bN=w.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=bp(n),a=zs(xN,n),o=a.disabled||r,c=ze(t,a.onTriggerChange),u=xp(n),d=w.useRef("touch"),[f,h,p]=qN(m=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===a.value),y=WN(x,m,v);y!==void 0&&a.onValueChange(y.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(ck,{asChild:!0,...s,children:l.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":HN(a.value)?"":void 0,...i,ref:c,onClick:ce(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:ce(i.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ce(i.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&KV.includes(m.key)&&(g(),m.preventDefault())})})})});bN.displayName=xN;var wN="SelectValue",SN=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=zs(wN,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=ze(t,c.onValueNodeChange);return Gt(()=>{u(d)},[u,d]),l.jsx(ge.span,{...o,ref:f,style:{pointerEvents:"none"},children:HN(c.value)?l.jsx(l.Fragment,{children:a}):s})});SN.displayName=wN;var eQ="SelectIcon",_N=w.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(ge.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});_N.displayName=eQ;var tQ="SelectPortal",jN=e=>l.jsx(zh,{asChild:!0,...e});jN.displayName=tQ;var Ca="SelectContent",EN=w.forwardRef((e,t)=>{const n=zs(Ca,e.__scopeSelect),[r,i]=w.useState();if(Gt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Aa.createPortal(l.jsx(CN,{scope:e.__scopeSelect,children:l.jsx(yp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(PN,{...e,ref:t})});EN.displayName=Ca;var _r=10,[CN,Hs]=kl(Ca),nQ="SelectContentImpl",PN=w.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x,...v}=e,y=zs(Ca,n),[b,S]=w.useState(null),[_,j]=w.useState(null),k=ze(t,ee=>S(ee)),[R,F]=w.useState(null),[P,I]=w.useState(null),O=xp(n),[z,N]=w.useState(!1),M=w.useRef(!1);w.useEffect(()=>{if(b)return uN(b)},[b]),oN();const A=w.useCallback(ee=>{const[se,...me]=O().map(Ee=>Ee.ref.current),[oe]=me.slice(-1),ye=document.activeElement;for(const Ee of ee)if(Ee===ye||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===se&&_&&(_.scrollTop=0),Ee===oe&&_&&(_.scrollTop=_.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ye))return},[O,_]),D=w.useCallback(()=>A([R,b]),[A,R,b]);w.useEffect(()=>{z&&D()},[z,D]);const{onOpenChange:E,triggerPointerDownPosRef:L}=y;w.useEffect(()=>{if(b){let ee={x:0,y:0};const se=oe=>{var ye,Ee;ee={x:Math.abs(Math.round(oe.pageX)-(((ye=L.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((Ee=L.current)==null?void 0:Ee.y)??0))}},me=oe=>{ee.x<=10&&ee.y<=10?oe.preventDefault():b.contains(oe.target)||E(!1),document.removeEventListener("pointermove",se),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",me,{capture:!0})}}},[b,E,L]),w.useEffect(()=>{const ee=()=>E(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[E]);const[C,$]=qN(ee=>{const se=O().filter(ye=>!ye.disabled),me=se.find(ye=>ye.ref.current===document.activeElement),oe=WN(se,ee,me);oe&&setTimeout(()=>oe.ref.current.focus())}),H=w.useCallback((ee,se,me)=>{const oe=!M.current&&!me;(y.value!==void 0&&y.value===se||oe)&&(F(ee),oe&&(M.current=!0))},[y.value]),T=w.useCallback(()=>b==null?void 0:b.focus(),[b]),te=w.useCallback((ee,se,me)=>{const oe=!M.current&&!me;(y.value!==void 0&&y.value===se||oe)&&I(ee)},[y.value]),ie=r==="popper"?my:kN,X=ie===my?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x}:{};return l.jsx(CN,{scope:n,content:b,viewport:_,onViewportChange:j,itemRefCallback:H,selectedItem:R,onItemLeave:T,itemTextRefCallback:te,focusSelectedItem:D,selectedItemText:P,position:r,isPositioned:z,searchRef:C,children:l.jsx(Cb,{as:Sa,allowPinchZoom:!0,children:l.jsx(jb,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ce(i,ee=>{var se;(se=y.trigger)==null||se.focus({preventScroll:!0}),ee.preventDefault()}),children:l.jsx(Vu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(ie,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...v,...X,onPlaced:()=>N(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ce(v.onKeyDown,ee=>{const se=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!se&&ee.key.length===1&&$(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let oe=O().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ye=ee.target,Ee=oe.indexOf(ye);oe=oe.slice(Ee+1)}setTimeout(()=>A(oe)),ee.preventDefault()}})})})})})})});PN.displayName=nQ;var rQ="SelectItemAlignedPosition",kN=w.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=zs(Ca,n),a=Hs(Ca,n),[o,c]=w.useState(null),[u,d]=w.useState(null),f=ze(t,k=>d(k)),h=xp(n),p=w.useRef(!1),g=w.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=a,b=w.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&x&&v){const k=s.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(s.dir!=="rtl"){const ye=P.left-R.left,Ee=F.left-ye,pt=k.left-Ee,Ct=k.width+pt,Pt=Math.max(Ct,R.width),lt=window.innerWidth-_r,sr=__(Ee,[_r,Math.max(_r,lt-Pt)]);o.style.minWidth=Ct+"px",o.style.left=sr+"px"}else{const ye=R.right-P.right,Ee=window.innerWidth-F.right-ye,pt=window.innerWidth-k.right-Ee,Ct=k.width+pt,Pt=Math.max(Ct,R.width),lt=window.innerWidth-_r,sr=__(Ee,[_r,Math.max(_r,lt-Pt)]);o.style.minWidth=Ct+"px",o.style.right=sr+"px"}const I=h(),O=window.innerHeight-_r*2,z=m.scrollHeight,N=window.getComputedStyle(u),M=parseInt(N.borderTopWidth,10),A=parseInt(N.paddingTop,10),D=parseInt(N.borderBottomWidth,10),E=parseInt(N.paddingBottom,10),L=M+A+z+E+D,C=Math.min(x.offsetHeight*5,L),$=window.getComputedStyle(m),H=parseInt($.paddingTop,10),T=parseInt($.paddingBottom,10),te=k.top+k.height/2-_r,ie=O-te,X=x.offsetHeight/2,ee=x.offsetTop+X,se=M+A+ee,me=L-se;if(se<=te){const ye=I.length>0&&x===I[I.length-1].ref.current;o.style.bottom="0px";const Ee=u.clientHeight-m.offsetTop-m.offsetHeight,pt=Math.max(ie,X+(ye?T:0)+Ee+D),Ct=se+pt;o.style.height=Ct+"px"}else{const ye=I.length>0&&x===I[0].ref.current;o.style.top="0px";const pt=Math.max(te,M+m.offsetTop+(ye?H:0)+X)+me;o.style.height=pt+"px",m.scrollTop=se-te+m.offsetTop}o.style.margin=`${_r}px 0`,o.style.minHeight=C+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,x,v,s.dir,r]);Gt(()=>b(),[b]);const[S,_]=w.useState();Gt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=w.useCallback(k=>{k&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return l.jsx(sQ,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ge.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kN.displayName=rQ;var iQ="SelectPopperPosition",my=w.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=_r,...s}=e,a=bp(n);return l.jsx(uk,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=iQ;var[sQ,Pb]=kl(Ca,{}),gy="SelectViewport",RN=w.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Hs(gy,n),a=Pb(gy,n),o=ze(t,s.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(yp.Slot,{scope:n,children:l.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ce(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-_r*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(m,x);if(v<g){const y=v+p,b=Math.min(g,y),S=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});RN.displayName=gy;var TN="SelectGroup",[aQ,oQ]=kl(TN),lQ=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ii();return l.jsx(aQ,{scope:n,id:i,children:l.jsx(ge.div,{role:"group","aria-labelledby":i,...r,ref:t})})});lQ.displayName=TN;var NN="SelectLabel",AN=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=oQ(NN,n);return l.jsx(ge.div,{id:i.id,...r,ref:t})});AN.displayName=NN;var vh="SelectItem",[cQ,ON]=kl(vh),IN=w.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=zs(vh,n),c=Hs(vh,n),u=o.value===r,[d,f]=w.useState(s??""),[h,p]=w.useState(!1),g=ze(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,i)}),m=ii(),x=w.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(cQ,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:w.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(yp.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(ge.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:ce(a.onFocus,()=>p(!0)),onBlur:ce(a.onBlur,()=>p(!1)),onClick:ce(a.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:ce(a.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:ce(a.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:ce(a.onPointerMove,y=>{var b;x.current=y.pointerType,i?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ce(a.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(GV.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});IN.displayName=vh;var fc="SelectItemText",FN=w.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=zs(fc,n),o=Hs(fc,n),c=ON(fc,n),u=ZV(fc,n),[d,f]=w.useState(null),h=ze(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Gt(()=>(m(g),()=>x(g)),[m,x,g]),l.jsxs(l.Fragment,{children:[l.jsx(ge.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Aa.createPortal(s.children,a.valueNode):null]})});FN.displayName=fc;var DN="SelectItemIndicator",LN=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ON(DN,n).isSelected?l.jsx(ge.span,{"aria-hidden":!0,...r,ref:t}):null});LN.displayName=DN;var vy="SelectScrollUpButton",$N=w.forwardRef((e,t)=>{const n=Hs(vy,e.__scopeSelect),r=Pb(vy,e.__scopeSelect),[i,s]=w.useState(!1),a=ze(t,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(UN,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});$N.displayName=vy;var yy="SelectScrollDownButton",MN=w.forwardRef((e,t)=>{const n=Hs(yy,e.__scopeSelect),r=Pb(yy,e.__scopeSelect),[i,s]=w.useState(!1),a=ze(t,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(UN,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});MN.displayName=yy;var UN=w.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Hs("SelectScrollButton",n),a=w.useRef(null),o=xp(n),c=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Gt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ce(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ce(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ce(i.onPointerLeave,()=>{c()})})}),uQ="SelectSeparator",zN=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ge.div,{"aria-hidden":!0,...r,ref:t})});zN.displayName=uQ;var xy="SelectArrow",dQ=w.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=bp(n),s=zs(xy,n),a=Hs(xy,n);return s.open&&a.position==="popper"?l.jsx(dk,{...i,...r,ref:t}):null});dQ.displayName=xy;function HN(e){return e===""||e===void 0}var BN=w.forwardRef((e,t)=>{const{value:n,...r}=e,i=w.useRef(null),s=ze(t,i),a=Eb(n);return w.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),l.jsx(Qu,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});BN.displayName="BubbleSelect";function qN(e){const t=zn(e),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function WN(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=fQ(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function fQ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hQ=yN,VN=bN,pQ=SN,mQ=_N,gQ=jN,QN=EN,vQ=RN,KN=AN,GN=IN,yQ=FN,xQ=LN,YN=$N,JN=MN,XN=zN;const Ir=hQ,Fr=pQ,mr=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(VN,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(mQ,{asChild:!0,children:l.jsx(Gu,{className:"h-4 w-4 opacity-50"})})]}));mr.displayName=VN.displayName;const ZN=w.forwardRef(({className:e,...t},n)=>l.jsx(YN,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Ix,{className:"h-4 w-4"})}));ZN.displayName=YN.displayName;const eA=w.forwardRef(({className:e,...t},n)=>l.jsx(JN,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Gu,{className:"h-4 w-4"})}));eA.displayName=JN.displayName;const gr=w.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(gQ,{children:l.jsxs(QN,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(ZN,{}),l.jsx(vQ,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(eA,{})]})}));gr.displayName=QN.displayName;const bQ=w.forwardRef(({className:e,...t},n)=>l.jsx(KN,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));bQ.displayName=KN.displayName;const dt=w.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(GN,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(xQ,{children:l.jsx(Ox,{className:"h-4 w-4"})})}),l.jsx(yQ,{children:t})]}));dt.displayName=GN.displayName;const wQ=w.forwardRef(({className:e,...t},n)=>l.jsx(XN,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));wQ.displayName=XN.displayName;var kb="Checkbox",[SQ,jne]=Ui(kb),[_Q,jQ]=SQ(kb),tA=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),g=ze(t,S=>p(S)),m=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,y]=si({prop:i,defaultProp:s,onChange:u}),b=w.useRef(v);return w.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const _=()=>y(b.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[h,y]),l.jsxs(_Q,{scope:n,state:v,disabled:o,children:[l.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Ps(v)?"mixed":v,"aria-required":a,"data-state":iA(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onKeyDown:ce(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ce(e.onClick,S=>{y(_=>Ps(_)?!0:!_),x&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),x&&l.jsx(EQ,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ps(s)?!1:s})]})});tA.displayName=kb;var nA="CheckboxIndicator",rA=w.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=jQ(nA,n);return l.jsx(zi,{present:r||Ps(s.state)||s.state===!0,children:l.jsx(ge.span,{"data-state":iA(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});rA.displayName=nA;var EQ=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=w.useRef(null),o=Eb(n),c=qx(t);w.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Ps(n),p.call(d,Ps(n)?!1:n),d.dispatchEvent(g)}},[o,n,r]);const u=w.useRef(Ps(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ps(e){return e==="indeterminate"}function iA(e){return Ps(e)?"indeterminate":e?"checked":"unchecked"}var sA=tA,CQ=rA;const $i=w.forwardRef(({className:e,...t},n)=>l.jsx(sA,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(CQ,{className:ue("flex items-center justify-center text-current"),children:l.jsx(Ox,{className:"h-4 w-4"})})}));$i.displayName=sA.displayName;const yh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>(Hi(),e?l.jsxs("div",{className:ue("relative",n),children:[l.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:l.jsxs("div",{className:"text-center space-y-2",children:[i&&l.jsxs(Be,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[l.jsx(Yc,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&l.jsxs(Y,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[l.jsx(vL,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):l.jsx(l.Fragment,{children:t})),aA=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=mp(),{canExport:s}=La(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unité donnée d'activité"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Périmètre_fr||u.Périmètre_en||u.Périmètre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),o=w.useCallback(async(u,d="emission_factors")=>{if(!s)return bn.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return bn.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return bn.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return bn.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const g=[["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],...f.map(v=>{var y,b;return[v.nom||"","",v.description||"","",((y=v.fe)==null?void 0:y.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((b=v.date)==null?void 0:b.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(y=>`"${String(y).replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");return x.href=URL.createObjectURL(m),x.download=`${d}.csv`,x.click(),URL.revokeObjectURL(x.href),bn.success(`${f.length} facteur(s) d'émission exporté(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),bn.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=w.useCallback(async u=>{if(u.length===0)return bn.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return bn.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return bn.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],h=d.map(m=>{var x,v;return[m.nom||"","",m.description||"","",((x=m.fe)==null?void 0:x.toString())||"",m.uniteActivite||"","",m.source||"",m.secteur||"","",m.sousSecteur||"","",m.localisation||"","",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"","",m.contributeur||"",m.commentaires||"",""]}),g=[f,...h].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),bn.success(`${d.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),bn.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:o,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function PQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TQ={};function I_(e,t){return(TQ.jsx?RQ:kQ).test(e)}const NQ=/[ \t\n\f\r]/g;function AQ(e){return typeof e=="object"?e.type==="text"?F_(e.value):!1:F_(e)}function F_(e){return e.replace(NQ,"")===""}class ad{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ad.prototype.normal={};ad.prototype.property={};ad.prototype.space=void 0;function oA(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ad(n,r,t)}function by(e){return e.toLowerCase()}class Hn{constructor(t,n){this.attribute=n,this.property=t}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let OQ=0;const je=$a(),jt=$a(),wy=$a(),K=$a(),et=$a(),Mo=$a(),Bn=$a();function $a(){return 2**++OQ}const Sy=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:jt,commaOrSpaceSeparated:Bn,commaSeparated:Mo,number:K,overloadedBoolean:wy,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),sg=Object.keys(Sy);class Rb extends Hn{constructor(t,n,r,i){let s=-1;if(super(t,n),D_(this,"space",i),typeof r=="number")for(;++s<sg.length;){const a=sg[s];D_(this,sg[s],(r&Sy[a])===Sy[a])}}}Rb.prototype.defined=!0;function D_(e,t,n){n&&(e[t]=n)}function Rl(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Rb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[by(r)]=r,n[by(s.attribute)]=r}return new ad(t,n,e.space)}const lA=Rl({properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:et,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:K,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:et,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:jt,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function cA(e,t){return t in e?e[t]:t}function uA(e,t){return cA(e,t.toLowerCase())}const IQ=Rl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mo,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:et,autoFocus:je,autoPlay:je,blocking:et,capture:null,charSet:null,checked:je,cite:null,className:et,cols:K,colSpan:null,content:null,contentEditable:jt,controls:je,controlsList:et,coords:K|Mo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:wy,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:et,height:K,hidden:wy,high:K,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:et,itemRef:et,itemScope:je,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:K,pattern:null,ping:et,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:et,required:je,reversed:je,rows:K,rowSpan:K,sandbox:et,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:jt,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:uA}),FQ=Rl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Bn,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mo,g2:Mo,glyphName:Mo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:cA}),dA=Rl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),fA=Rl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uA}),hA=Rl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),DQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},LQ=/[A-Z]/g,L_=/-[a-z]/g,$Q=/^data[-\w.:]+$/i;function MQ(e,t){const n=by(t);let r=t,i=Hn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$Q.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(L_,zQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!L_.test(s)){let a=s.replace(LQ,UQ);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Rb}return new i(r,t)}function UQ(e){return"-"+e.toLowerCase()}function zQ(e){return e.charAt(1).toUpperCase()}const HQ=oA([lA,IQ,dA,fA,hA],"html"),Tb=oA([lA,FQ,dA,fA,hA],"svg");function BQ(e){return e.join(" ").trim()}var Nb={},$_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qQ=/\n/g,WQ=/^\s*/,VQ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,QQ=/^:\s*/,KQ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GQ=/^[;\s]*/,YQ=/^\s+|\s+$/g,JQ=`
`,M_="/",U_="*",sa="",XQ="comment",ZQ="declaration",eK=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(qQ);m&&(n+=m.length);var x=g.lastIndexOf(JQ);r=~x?g.length-x:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var x=m[0];return i(x),e=e.slice(x.length),m}}function u(){c(WQ)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=s();if(!(M_!=e.charAt(0)||U_!=e.charAt(1))){for(var m=2;sa!=e.charAt(m)&&(U_!=e.charAt(m)||M_!=e.charAt(m+1));)++m;if(m+=2,sa===e.charAt(m-1))return o("End of comment missing");var x=e.slice(2,m-2);return r+=2,i(x),e=e.slice(m),r+=2,g({type:XQ,comment:x})}}function h(){var g=s(),m=c(VQ);if(m){if(f(),!c(QQ))return o("property missing ':'");var x=c(KQ),v=g({type:ZQ,property:z_(m[0].replace($_,sa)),value:x?z_(x[0].replace($_,sa)):sa});return c(GQ),v}}function p(){var g=[];d(g);for(var m;m=h();)m!==!1&&(g.push(m),d(g));return g}return u(),p()};function z_(e){return e?e.replace(YQ,sa):sa}var tK=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.default=rK;var nK=tK(eK);function rK(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,nK.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.camelCase=void 0;var iK=/^--[a-zA-Z0-9_-]+$/,sK=/-([a-z])/g,aK=/^[^-]+$/,oK=/^-(webkit|moz|ms|o|khtml)-/,lK=/^-(ms)-/,cK=function(e){return!e||aK.test(e)||iK.test(e)},uK=function(e,t){return t.toUpperCase()},H_=function(e,t){return"".concat(t,"-")},dK=function(e,t){return t===void 0&&(t={}),cK(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(lK,H_):e=e.replace(oK,H_),e.replace(sK,uK))};wp.camelCase=dK;var fK=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hK=fK(Nb),pK=wp;function _y(e,t){var n={};return!e||typeof e!="string"||(0,hK.default)(e,function(r,i){r&&i&&(n[(0,pK.camelCase)(r,t)]=i)}),n}_y.default=_y;var mK=_y;const gK=Ra(mK),pA=mA("end"),Ab=mA("start");function mA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function vK(e){const t=Ab(e),n=pA(e);if(t&&n)return{start:t,end:n}}function Rc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?B_(e.position):"start"in e||"end"in e?B_(e):"line"in e||"column"in e?jy(e):""}function jy(e){return q_(e&&e.line)+":"+q_(e&&e.column)}function B_(e){return jy(e&&e.start)+"-"+jy(e&&e.end)}function q_(e){return e&&typeof e=="number"?e:1}class pn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Rc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}pn.prototype.file="";pn.prototype.name="";pn.prototype.reason="";pn.prototype.message="";pn.prototype.stack="";pn.prototype.column=void 0;pn.prototype.line=void 0;pn.prototype.ancestors=void 0;pn.prototype.cause=void 0;pn.prototype.fatal=void 0;pn.prototype.place=void 0;pn.prototype.ruleId=void 0;pn.prototype.source=void 0;const Ob={}.hasOwnProperty,yK=new Map,xK=/[A-Z]/g,bK=new Set(["table","tbody","thead","tfoot","tr"]),wK=new Set(["td","th"]),gA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function SK(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=TK(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=RK(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Tb:HQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=vA(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function vA(e,t,n){if(t.type==="element")return _K(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return jK(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return CK(e,t,n);if(t.type==="mdxjsEsm")return EK(e,t);if(t.type==="root")return PK(e,t,n);if(t.type==="text")return kK(e,t)}function _K(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Tb,e.schema=i),e.ancestors.push(t);const s=xA(e,t.tagName,!1),a=NK(e,t);let o=Fb(e,t);return bK.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!AQ(c):!0})),yA(e,a,s,t),Ib(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function jK(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Du(e,t.position)}function EK(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Du(e,t.position)}function CK(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Tb,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:xA(e,t.name,!0),a=AK(e,t),o=Fb(e,t);return yA(e,a,s,t),Ib(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function PK(e,t,n){const r={};return Ib(r,Fb(e,t)),e.create(t,e.Fragment,r,n)}function kK(e,t){return t.value}function yA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ib(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function RK(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function TK(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=Ab(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function NK(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ob.call(t.properties,i)){const s=OK(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&wK.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function AK(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Du(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Du(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Fb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:yK;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=vA(e,s,a);o!==void 0&&n.push(o)}return n}function OK(e,t,n){const r=MQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PQ(n):BQ(n)),r.property==="style"){let i=typeof n=="object"?n:IK(e,String(n));return e.stylePropertyNameCase==="css"&&(i=FK(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?DQ[r.property]||r.property:r.attribute,n]}}function IK(e,t){try{return gK(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=gA+"#cannot-parse-style-attribute",i}}function xA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=I_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=I_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ob.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Du(e)}function Du(e,t){const n=new pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=gA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function FK(e){const t={};let n;for(n in e)Ob.call(e,n)&&(t[DK(n)]=e[n]);return t}function DK(e){let t=e.replace(xK,LK);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function LK(e){return"-"+e.toLowerCase()}const ag={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$K={};function Db(e,t){const n=$K,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bA(e,r,i)}function bA(e,t,n){if(MK(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return W_(e.children,t,n)}return Array.isArray(e)?W_(e,t,n):""}function W_(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=bA(e[i],t,n);return r.join("")}function MK(e){return!!(e&&typeof e=="object")}const V_=document.createElement("i");function Lb(e){const t="&"+e+";";V_.innerHTML=t;const n=V_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function er(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function fr(e,t){return e.length>0?(er(e,e.length,0,t),e):t}const Q_={}.hasOwnProperty;function wA(e){const t={};let n=-1;for(;++n<e.length;)UK(t,e[n]);return t}function UK(e,t){let n;for(n in t){const i=(Q_.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Q_.call(i,a)||(i[a]=[]);const o=s[a];zK(i[a],Array.isArray(o)?o:o?[o]:[])}}}function zK(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);er(e,0,0,r)}function SA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Dr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _n=Bs(/[A-Za-z]/),cn=Bs(/[\dA-Za-z]/),HK=Bs(/[#-'*+\--9=?A-Z^-~]/);function xh(e){return e!==null&&(e<32||e===127)}const Ey=Bs(/\d/),BK=Bs(/[\dA-Fa-f]/),qK=Bs(/[!-/:-@[-`{-~]/);function he(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const Sp=Bs(new RegExp("\\p{P}|\\p{S}","u")),Pa=Bs(/\s/);function Bs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Tl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&cn(e.charCodeAt(n+1))&&cn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function De(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Oe(c)?(e.enter(n),o(c)):t(c)}function o(c){return Oe(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const WK={tokenize:VK};function VK(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return he(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const QK={tokenize:KK},K_={tokenize:GK};function KK(e){const t=this,n=[];let r=0,i,s,a;return o;function o(b){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const S=t.events.length;let _=S,j;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){j=t.events[_][1].end;break}v(r);let k=S;for(;k<t.events.length;)t.events[k][1].end={...j},k++;return er(t.events,_+1,0,t.events.slice(S)),t.events.length=k,u(b)}return o(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(K_,d,f)(b)}function d(b){return i&&y(),v(r),h(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(b)}function h(b){return t.containerState={},e.attempt(K_,p,g)(b)}function p(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function g(b){if(b===null){i&&y(),v(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(b)}function m(b){if(b===null){x(e.exit("chunkFlow"),!0),v(0),e.consume(b);return}return he(b)?(e.consume(b),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(b),m)}function x(b,S){const _=t.sliceStream(b);if(S&&_.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(_),t.parser.lazy[b.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const k=t.events.length;let R=k,F,P;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(F){P=t.events[R][1].end;break}F=!0}for(v(r),j=k;j<t.events.length;)t.events[j][1].end={...P},j++;er(t.events,R+1,0,t.events.slice(k)),t.events.length=j}}function v(b){let S=n.length;for(;S-- >b;){const _=n[S];t.containerState=_[1],_[0].exit.call(t,e)}n.length=b}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function GK(e,t,n){return De(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vl(e){if(e===null||Ge(e)||Pa(e))return 1;if(Sp(e))return 2}function _p(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Cy={name:"attention",resolveAll:YK,tokenize:JK};function YK(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};G_(f,-c),G_(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=fr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=fr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=fr(u,_p(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=fr(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=fr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,er(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function JK(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=vl(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=vl(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(c)}}function G_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const XK={name:"autolink",tokenize:ZK};function ZK(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return _n(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||cn(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||cn(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||xh(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):HK(p)?(e.consume(p),u):n(p)}function d(p){return cn(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||cn(p))&&r++<63){const g=p===45?h:f;return e.consume(p),g}return n(p)}}const od={partial:!0,tokenize:eG};function eG(e,t,n){return r;function r(s){return Oe(s)?De(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||he(s)?t(s):n(s)}}const _A={continuation:{tokenize:nG},exit:rG,name:"blockQuote",tokenize:tG};function tG(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Oe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function nG(e,t,n){const r=this;return i;function i(a){return Oe(a)?De(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(_A,t,n)(a)}}function rG(e){e.exit("blockQuote")}const jA={name:"characterEscape",tokenize:iG};function iG(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return qK(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const EA={name:"characterReference",tokenize:sG};function sG(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=cn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=BK,d):(e.enter("characterReferenceValue"),s=7,a=Ey,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===cn&&!Lb(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const Y_={partial:!0,tokenize:oG},J_={concrete:!0,name:"codeFenced",tokenize:aG};function aG(e,t,n){const r=this,i={partial:!0,tokenize:_};let s=0,a=0,o;return c;function c(j){return u(j)}function u(j){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,o=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===o?(a++,e.consume(j),d):a<3?n(j):(e.exit("codeFencedFenceSequence"),Oe(j)?De(e,f,"whitespace")(j):f(j))}function f(j){return j===null||he(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(Y_,m,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||he(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):Oe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,p,"whitespace")(j)):j===96&&j===o?n(j):(e.consume(j),h)}function p(j){return j===null||he(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||he(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===o?n(j):(e.consume(j),g)}function m(j){return e.attempt(i,S,x)(j)}function x(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return s>0&&Oe(j)?De(e,y,"linePrefix",s+1)(j):y(j)}function y(j){return j===null||he(j)?e.check(Y_,m,S)(j):(e.enter("codeFlowValue"),b(j))}function b(j){return j===null||he(j)?(e.exit("codeFlowValue"),y(j)):(e.consume(j),b)}function S(j){return e.exit("codeFenced"),t(j)}function _(j,k,R){let F=0;return P;function P(M){return j.enter("lineEnding"),j.consume(M),j.exit("lineEnding"),I}function I(M){return j.enter("codeFencedFence"),Oe(M)?De(j,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):O(M)}function O(M){return M===o?(j.enter("codeFencedFenceSequence"),z(M)):R(M)}function z(M){return M===o?(F++,j.consume(M),z):F>=a?(j.exit("codeFencedFenceSequence"),Oe(M)?De(j,N,"whitespace")(M):N(M)):R(M)}function N(M){return M===null||he(M)?(j.exit("codeFencedFence"),k(M)):R(M)}}}function oG(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const og={name:"codeIndented",tokenize:cG},lG={partial:!0,tokenize:uG};function cG(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),De(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):he(u)?e.attempt(lG,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||he(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function uG(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):De(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):he(a)?i(a):n(a)}}const dG={name:"codeText",previous:hG,resolve:fG,tokenize:pG};function fG(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function hG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pG(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):he(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||he(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class mG{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ec(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ec(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ec(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ec(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ec(this.left,n.reverse())}}}function ec(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function CA(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new mG(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,gG(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return er(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function gG(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,g=0,m=0;const x=[m];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,x.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const v=o.slice(x[h],x[h+1]),y=s.pop();c.push([y,y+v.length-1]),e.splice(y,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const vG={resolve:xG,tokenize:bG},yG={partial:!0,tokenize:wG};function xG(e){return CA(e),e}function bG(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):he(o)?e.check(yG,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wG(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),De(e,s,"linePrefix")}function s(a){if(a===null||he(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function PA(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||xh(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||he(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!d&&(v===null||v===41||Ge(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||xh(v)?n(v):(e.consume(v),v===92?x:m)}function x(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function kA(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):he(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||he(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Oe(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function RA(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):he(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),De(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||he(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function Tc(e,t){let n;return r;function r(i){return he(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Oe(i)?De(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const SG={name:"definition",tokenize:jG},_G={partial:!0,tokenize:EG};function jG(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return kA.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Dr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Ge(p)?Tc(e,u)(p):u(p)}function u(p){return PA(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(_G,f,f)(p)}function f(p){return Oe(p)?De(e,h,"whitespace")(p):h(p)}function h(p){return p===null||he(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function EG(e,t,n){return r;function r(o){return Ge(o)?Tc(e,i)(o):n(o)}function i(o){return RA(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Oe(o)?De(e,a,"whitespace")(o):a(o)}function a(o){return o===null||he(o)?t(o):n(o)}}const CG={name:"hardBreakEscape",tokenize:PG};function PG(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return he(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const kG={name:"headingAtx",resolve:RG,tokenize:TG};function RG(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},er(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function TG(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Ge(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||he(d)?(e.exit("atxHeading"),t(d)):Oe(d)?De(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Ge(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const NG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X_=["pre","script","style","textarea"],AG={concrete:!0,name:"htmlFlow",resolveTo:FG,tokenize:DG},OG={partial:!0,tokenize:$G},IG={partial:!0,tokenize:LG};function FG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function DG(e,t,n){const r=this;let i,s,a,o,c;return u;function u(T){return d(T)}function d(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),f}function f(T){return T===33?(e.consume(T),h):T===47?(e.consume(T),s=!0,m):T===63?(e.consume(T),i=3,r.interrupt?t:C):_n(T)?(e.consume(T),a=String.fromCharCode(T),x):n(T)}function h(T){return T===45?(e.consume(T),i=2,p):T===91?(e.consume(T),i=5,o=0,g):_n(T)?(e.consume(T),i=4,r.interrupt?t:C):n(T)}function p(T){return T===45?(e.consume(T),r.interrupt?t:C):n(T)}function g(T){const te="CDATA[";return T===te.charCodeAt(o++)?(e.consume(T),o===te.length?r.interrupt?t:O:g):n(T)}function m(T){return _n(T)?(e.consume(T),a=String.fromCharCode(T),x):n(T)}function x(T){if(T===null||T===47||T===62||Ge(T)){const te=T===47,ie=a.toLowerCase();return!te&&!s&&X_.includes(ie)?(i=1,r.interrupt?t(T):O(T)):NG.includes(a.toLowerCase())?(i=6,te?(e.consume(T),v):r.interrupt?t(T):O(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):s?y(T):b(T))}return T===45||cn(T)?(e.consume(T),a+=String.fromCharCode(T),x):n(T)}function v(T){return T===62?(e.consume(T),r.interrupt?t:O):n(T)}function y(T){return Oe(T)?(e.consume(T),y):P(T)}function b(T){return T===47?(e.consume(T),P):T===58||T===95||_n(T)?(e.consume(T),S):Oe(T)?(e.consume(T),b):P(T)}function S(T){return T===45||T===46||T===58||T===95||cn(T)?(e.consume(T),S):_(T)}function _(T){return T===61?(e.consume(T),j):Oe(T)?(e.consume(T),_):b(T)}function j(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),c=T,k):Oe(T)?(e.consume(T),j):R(T)}function k(T){return T===c?(e.consume(T),c=null,F):T===null||he(T)?n(T):(e.consume(T),k)}function R(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Ge(T)?_(T):(e.consume(T),R)}function F(T){return T===47||T===62||Oe(T)?b(T):n(T)}function P(T){return T===62?(e.consume(T),I):n(T)}function I(T){return T===null||he(T)?O(T):Oe(T)?(e.consume(T),I):n(T)}function O(T){return T===45&&i===2?(e.consume(T),A):T===60&&i===1?(e.consume(T),D):T===62&&i===4?(e.consume(T),$):T===63&&i===3?(e.consume(T),C):T===93&&i===5?(e.consume(T),L):he(T)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(OG,H,z)(T)):T===null||he(T)?(e.exit("htmlFlowData"),z(T)):(e.consume(T),O)}function z(T){return e.check(IG,N,H)(T)}function N(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),M}function M(T){return T===null||he(T)?z(T):(e.enter("htmlFlowData"),O(T))}function A(T){return T===45?(e.consume(T),C):O(T)}function D(T){return T===47?(e.consume(T),a="",E):O(T)}function E(T){if(T===62){const te=a.toLowerCase();return X_.includes(te)?(e.consume(T),$):O(T)}return _n(T)&&a.length<8?(e.consume(T),a+=String.fromCharCode(T),E):O(T)}function L(T){return T===93?(e.consume(T),C):O(T)}function C(T){return T===62?(e.consume(T),$):T===45&&i===2?(e.consume(T),C):O(T)}function $(T){return T===null||he(T)?(e.exit("htmlFlowData"),H(T)):(e.consume(T),$)}function H(T){return e.exit("htmlFlow"),t(T)}}function LG(e,t,n){const r=this;return i;function i(a){return he(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function $G(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(od,t,n)}}const MG={name:"htmlText",tokenize:UG};function UG(e,t,n){const r=this;let i,s,a;return o;function o(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),_):C===63?(e.consume(C),b):_n(C)?(e.consume(C),R):n(C)}function u(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),s=0,g):_n(C)?(e.consume(C),y):n(C)}function d(C){return C===45?(e.consume(C),p):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),h):he(C)?(a=f,D(C)):(e.consume(C),f)}function h(C){return C===45?(e.consume(C),p):f(C)}function p(C){return C===62?A(C):C===45?h(C):f(C)}function g(C){const $="CDATA[";return C===$.charCodeAt(s++)?(e.consume(C),s===$.length?m:g):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),x):he(C)?(a=m,D(C)):(e.consume(C),m)}function x(C){return C===93?(e.consume(C),v):m(C)}function v(C){return C===62?A(C):C===93?(e.consume(C),v):m(C)}function y(C){return C===null||C===62?A(C):he(C)?(a=y,D(C)):(e.consume(C),y)}function b(C){return C===null?n(C):C===63?(e.consume(C),S):he(C)?(a=b,D(C)):(e.consume(C),b)}function S(C){return C===62?A(C):b(C)}function _(C){return _n(C)?(e.consume(C),j):n(C)}function j(C){return C===45||cn(C)?(e.consume(C),j):k(C)}function k(C){return he(C)?(a=k,D(C)):Oe(C)?(e.consume(C),k):A(C)}function R(C){return C===45||cn(C)?(e.consume(C),R):C===47||C===62||Ge(C)?F(C):n(C)}function F(C){return C===47?(e.consume(C),A):C===58||C===95||_n(C)?(e.consume(C),P):he(C)?(a=F,D(C)):Oe(C)?(e.consume(C),F):A(C)}function P(C){return C===45||C===46||C===58||C===95||cn(C)?(e.consume(C),P):I(C)}function I(C){return C===61?(e.consume(C),O):he(C)?(a=I,D(C)):Oe(C)?(e.consume(C),I):F(C)}function O(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,z):he(C)?(a=O,D(C)):Oe(C)?(e.consume(C),O):(e.consume(C),N)}function z(C){return C===i?(e.consume(C),i=void 0,M):C===null?n(C):he(C)?(a=z,D(C)):(e.consume(C),z)}function N(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ge(C)?F(C):(e.consume(C),N)}function M(C){return C===47||C===62||Ge(C)?F(C):n(C)}function A(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function D(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),E}function E(C){return Oe(C)?De(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),a(C)}}const $b={name:"labelEnd",resolveAll:qG,resolveTo:WG,tokenize:VG},zG={tokenize:QG},HG={tokenize:KG},BG={tokenize:GG};function qG(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&er(e,0,e.length,n),e}function WG(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=fr(o,e.slice(s+1,s+r+3)),o=fr(o,[["enter",d,t]]),o=fr(o,_p(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=fr(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=fr(o,e.slice(a+1)),o=fr(o,[["exit",c,t]]),er(e,s,e.length,o),e}function VG(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Dr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(zG,d,a?d:f)(h):h===91?e.attempt(HG,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(BG,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function QG(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ge(f)?Tc(e,s)(f):s(f)}function s(f){return f===41?d(f):PA(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ge(f)?Tc(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?RA(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Ge(f)?Tc(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function KG(e,t,n){const r=this;return i;function i(o){return kA.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Dr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function GG(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const YG={name:"labelStartImage",resolveAll:$b.resolveAll,tokenize:JG};function JG(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const XG={name:"labelStartLink",resolveAll:$b.resolveAll,tokenize:ZG};function ZG(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const lg={name:"lineEnding",tokenize:eY};function eY(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),De(e,t,"linePrefix")}}const kf={name:"thematicBreak",tokenize:tY};function tY(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||he(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Oe(u)?De(e,o,"whitespace")(u):o(u))}}const An={continuation:{tokenize:sY},exit:oY,name:"list",tokenize:iY},nY={partial:!0,tokenize:lY},rY={partial:!0,tokenize:aY};function iY(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Ey(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(kf,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Ey(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(od,r.interrupt?n:d,e.attempt(nY,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Oe(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function sY(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(od,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Oe(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(rY,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(e,e.attempt(An,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function aY(e,t,n){const r=this;return De(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function oY(e){e.exit(this.containerState.type)}function lY(e,t,n){const r=this;return De(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Oe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Z_={name:"setextUnderline",resolveTo:cY,tokenize:uY};function cY(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function uY(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Oe(u)?De(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||he(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const dY={tokenize:fY};function fY(e){const t=this,n=e.attempt(od,r,e.attempt(this.parser.constructs.flowInitial,i,De(e,e.attempt(this.parser.constructs.flow,i,e.attempt(vG,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const hY={resolveAll:NA()},pY=TA("string"),mY=TA("text");function TA(e){return{resolveAll:NA(e==="text"?gY:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function NA(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function gY(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const vY={42:An,43:An,45:An,48:An,49:An,50:An,51:An,52:An,53:An,54:An,55:An,56:An,57:An,62:_A},yY={91:SG},xY={[-2]:og,[-1]:og,32:og},bY={35:kG,42:kf,45:[Z_,kf],60:AG,61:Z_,95:kf,96:J_,126:J_},wY={38:EA,92:jA},SY={[-5]:lg,[-4]:lg,[-3]:lg,33:YG,38:EA,42:Cy,60:[XK,MG],91:XG,92:[CG,jA],93:$b,95:Cy,96:dG},_Y={null:[Cy,hY]},jY={null:[42,95]},EY={null:[]},CY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jY,contentInitial:yY,disable:EY,document:vY,flow:bY,flowInitial:xY,insideSpan:_Y,string:wY,text:SY},Symbol.toStringTag,{value:"Module"}));function PY(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:k(_),check:k(j),consume:y,enter:b,exit:S,interrupt:k(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(I){return a=fr(a,I),x(),a[a.length-1]!==null?[]:(R(t,0),u.events=_p(s,u.events,u),u.events)}function h(I,O){return RY(p(I),O)}function p(I){return kY(a,I)}function g(){const{_bufferIndex:I,_index:O,line:z,column:N,offset:M}=r;return{_bufferIndex:I,_index:O,line:z,column:N,offset:M}}function m(I){i[I.line]=I.column,P()}function x(){let I;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(I){d=d(I)}function y(I){he(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,P()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function b(I,O){const z=O||{};return z.type=I,z.start=g(),u.events.push(["enter",z,u]),o.push(z),z}function S(I){const O=o.pop();return O.end=g(),u.events.push(["exit",O,u]),O}function _(I,O){R(I,O.from)}function j(I,O){O.restore()}function k(I,O){return z;function z(N,M,A){let D,E,L,C;return Array.isArray(N)?H(N):"tokenize"in N?H([N]):$(N);function $(X){return ee;function ee(se){const me=se!==null&&X[se],oe=se!==null&&X.null,ye=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return H(ye)(se)}}function H(X){return D=X,E=0,X.length===0?A:T(X[E])}function T(X){return ee;function ee(se){return C=F(),L=X,X.partial||(u.currentConstruct=X),X.name&&u.parser.constructs.disable.null.includes(X.name)?ie():X.tokenize.call(O?Object.assign(Object.create(u),O):u,c,te,ie)(se)}}function te(X){return I(L,C),M}function ie(X){return C.restore(),++E<D.length?T(D[E]):A}}}function R(I,O){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&er(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function F(){const I=g(),O=u.previous,z=u.currentConstruct,N=u.events.length,M=Array.from(o);return{from:N,restore:A};function A(){r=I,u.previous=O,u.currentConstruct=z,u.events.length=N,o=M,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kY(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function RY(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function TY(e){const r={constructs:wA([CY,...(e||{}).extensions||[]]),content:i(WK),defined:[],document:i(QK),flow:i(dY),lazy:{},string:i(pY),text:i(mY)};return r;function i(s){return a;function a(o){return PY(r,s,o)}}}function NY(e){for(;!CA(e););return e}const ej=/[\0\t\n\r]/g;function AY(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(ej.lastIndex=f,u=ej.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const OY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IY(e){return e.replace(OY,FY)}function FY(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return SA(n.slice(s?2:1),s?16:10)}return Lb(n)||e}const AA={}.hasOwnProperty;function DY(e,t,n){return typeof t!="string"&&(n=t,t=void 0),LY(n)(NY(TY(n).document().write(AY()(e,t,!0))))}function LY(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ct),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Pt),blockQuote:s(oe),characterEscape:F,characterReference:F,codeFenced:s(ye),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ye,a),codeText:s(Ee,a),codeTextData:F,data:F,codeFlowValue:F,definition:s(pt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Ct),hardBreakEscape:s(lt),hardBreakTrailing:s(lt),htmlFlow:s(sr,a),htmlFlowData:F,htmlText:s(sr,a),htmlTextData:F,image:s(qs),label:a,link:s(ct),listItem:s(Nl),listItemValue:h,listOrdered:s(ar,f),listUnordered:s(ar),paragraph:s(Ce),reference:T,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Pt),strong:s(re),thematicBreak:s(Pe)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:me,autolinkProtocol:se,blockQuote:c(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:X,characterReference:ee,codeFenced:c(x),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:P,codeIndented:c(v),codeText:c(M),codeTextData:P,data:P,definition:c(),definitionDestinationString:S,definitionLabelString:y,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(z),htmlFlowData:P,htmlText:c(N),htmlTextData:P,image:c(D),label:L,labelText:E,lineEnding:I,link:c(A),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:te,resourceDestinationString:C,resourceTitleString:$,resource:H,setextHeading:c(R),setextHeadingLineSequence:k,setextHeadingText:j,strong:c(),thematicBreak:c()}};OA(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let V={type:"root",children:[]};const de={stack:[V],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},ve=[];let Le=-1;for(;++Le<B.length;)if(B[Le][1].type==="listOrdered"||B[Le][1].type==="listUnordered")if(B[Le][0]==="enter")ve.push(Le);else{const kt=ve.pop();Le=i(B,kt,Le)}for(Le=-1;++Le<B.length;){const kt=t[B[Le][0]];AA.call(kt,B[Le][1].type)&&kt[B[Le][1].type].call(Object.assign({sliceSerialize:B[Le][2].sliceSerialize},de),B[Le][1])}if(de.tokenStack.length>0){const kt=de.tokenStack[de.tokenStack.length-1];(kt[1]||tj).call(de,void 0,kt[0])}for(V.position={start:Xi(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Xi(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)V=t.transforms[Le](V)||V;return V}function i(B,V,de){let ve=V-1,Le=-1,kt=!1,or,Pn,hi,kn;for(;++ve<=de;){const We=B[ve];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Le++:Le--,kn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(or&&!kn&&!Le&&!hi&&(hi=ve),kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kn=void 0}if(!Le&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Le===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(or){let zr=ve;for(Pn=void 0;zr--;){const fe=B[zr];if(fe[1].type==="lineEnding"||fe[1].type==="lineEndingBlank"){if(fe[0]==="exit")continue;Pn&&(B[Pn][1].type="lineEndingBlank",kt=!0),fe[1].type="lineEnding",Pn=zr}else if(!(fe[1].type==="linePrefix"||fe[1].type==="blockQuotePrefix"||fe[1].type==="blockQuotePrefixWhitespace"||fe[1].type==="blockQuoteMarker"||fe[1].type==="listItemIndent"))break}hi&&(!Pn||hi<Pn)&&(or._spread=!0),or.end=Object.assign({},Pn?B[Pn][1].start:We[1].end),B.splice(Pn||ve,0,["exit",or,We[2]]),ve++,de++}if(We[1].type==="listItemPrefix"){const zr={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};or=zr,B.splice(ve,0,["enter",zr,We[2]]),ve++,de++,hi=void 0,kn=!0}}}return B[V][1]._spread=kt,de}function s(B,V){return de;function de(ve){o.call(this,B(ve),ve),V&&V.call(this,ve)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,V,de){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([V,de||void 0]),B.position={start:Xi(V.start),end:void 0}}function c(B){return V;function V(de){B&&B.call(this,de),u.call(this,de)}}function u(B,V){const de=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==B.type&&(V?V.call(this,B,ve[0]):(ve[1]||tj).call(this,B,ve[0]));else throw new Error("Cannot close `"+B.type+"` ("+Rc({start:B.start,end:B.end})+"): it’s not open");de.position.end=Xi(B.end)}function d(){return Db(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),V=this.stack[this.stack.length-1];V.lang=B}function g(){const B=this.resume(),V=this.stack[this.stack.length-1];V.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B.replace(/(\r?\n|\r)$/g,"")}function y(B){const V=this.resume(),de=this.stack[this.stack.length-1];de.label=V,de.identifier=Dr(this.sliceSerialize(B)).toLowerCase()}function b(){const B=this.resume(),V=this.stack[this.stack.length-1];V.title=B}function S(){const B=this.resume(),V=this.stack[this.stack.length-1];V.url=B}function _(B){const V=this.stack[this.stack.length-1];if(!V.depth){const de=this.sliceSerialize(B).length;V.depth=de}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function k(B){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function F(B){const de=this.stack[this.stack.length-1].children;let ve=de[de.length-1];(!ve||ve.type!=="text")&&(ve=Fe(),ve.position={start:Xi(B.start),end:void 0},de.push(ve)),this.stack.push(ve)}function P(B){const V=this.stack.pop();V.value+=this.sliceSerialize(B),V.position.end=Xi(B.end)}function I(B){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=V.children[V.children.length-1];de.position.end=Xi(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(F.call(this,B),P.call(this,B))}function O(){this.data.atHardBreak=!0}function z(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function N(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function M(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function A(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=V,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function D(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=V,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function E(B){const V=this.sliceSerialize(B),de=this.stack[this.stack.length-2];de.label=IY(V),de.identifier=Dr(V).toLowerCase()}function L(){const B=this.stack[this.stack.length-1],V=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const ve=B.children;de.children=ve}else de.alt=V}function C(){const B=this.resume(),V=this.stack[this.stack.length-1];V.url=B}function $(){const B=this.resume(),V=this.stack[this.stack.length-1];V.title=B}function H(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function te(B){const V=this.resume(),de=this.stack[this.stack.length-1];de.label=V,de.identifier=Dr(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function ie(B){this.data.characterReferenceType=B.type}function X(B){const V=this.sliceSerialize(B),de=this.data.characterReferenceType;let ve;de?(ve=SA(V,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=Lb(V);const Le=this.stack[this.stack.length-1];Le.value+=ve}function ee(B){const V=this.stack.pop();V.position.end=Xi(B.end)}function se(B){P.call(this,B);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(B)}function me(B){P.call(this,B);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(B)}function oe(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ct(){return{type:"emphasis",children:[]}}function Pt(){return{type:"heading",depth:0,children:[]}}function lt(){return{type:"break"}}function sr(){return{type:"html",value:""}}function qs(){return{type:"image",title:null,url:"",alt:null}}function ct(){return{type:"link",title:null,url:"",children:[]}}function ar(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Nl(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function Fe(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function Xi(e){return{line:e.line,column:e.column,offset:e.offset}}function OA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OA(e,r):$Y(e,r)}}function $Y(e,t){let n;for(n in t)if(AA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function tj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rc({start:t.start,end:t.end})+") is still open")}function MY(e){const t=this;t.parser=n;function n(r){return DY(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UY(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zY(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function HY(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function BY(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qY(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WY(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Tl(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function VY(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QY(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function IA(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function KY(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IA(e,t);const i={src:Tl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function GY(e,t){const n={src:Tl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function YY(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function JY(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IA(e,t);const i={href:Tl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function XY(e,t){const n={href:Tl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ZY(e,t,n){const r=e.all(t),i=n?eJ(n):FA(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function eJ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=FA(n[r])}return t}function FA(e){const t=e.spread;return t??e.children.length>1}function tJ(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function nJ(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rJ(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function iJ(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sJ(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Ab(t.children[1]),c=pA(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function aJ(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function oJ(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const nj=9,rj=32;function lJ(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(ij(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(ij(t.slice(i),i>0,!1)),s.join("")}function ij(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===nj||s===rj;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===nj||s===rj;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function cJ(e,t){const n={type:"text",value:lJ(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function uJ(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const dJ={blockquote:UY,break:zY,code:HY,delete:BY,emphasis:qY,footnoteReference:WY,heading:VY,html:QY,imageReference:KY,image:GY,inlineCode:YY,linkReference:JY,link:XY,listItem:ZY,list:tJ,paragraph:nJ,root:rJ,strong:iJ,table:sJ,tableCell:oJ,tableRow:aJ,text:cJ,thematicBreak:uJ,toml:nf,yaml:nf,definition:nf,footnoteDefinition:nf};function nf(){}const DA=-1,jp=0,Nc=1,bh=2,Mb=3,Ub=4,zb=5,Hb=6,LA=7,$A=8,sj=typeof self=="object"?self:globalThis,fJ=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case jp:case DA:return n(a,i);case Nc:{const o=n([],i);for(const c of a)o.push(r(c));return o}case bh:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case Mb:return n(new Date(a),i);case Ub:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case zb:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case Hb:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case LA:{const{name:o,message:c}=a;return n(new sj[o](c),i)}case $A:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new sj[s](a),i)};return r},aj=e=>fJ(new Map,e)(0),ao="",{toString:hJ}={},{keys:pJ}=Object,tc=e=>{const t=typeof e;if(t!=="object"||!e)return[jp,t];const n=hJ.call(e).slice(8,-1);switch(n){case"Array":return[Nc,ao];case"Object":return[bh,ao];case"Date":return[Mb,ao];case"RegExp":return[Ub,ao];case"Map":return[zb,ao];case"Set":return[Hb,ao];case"DataView":return[Nc,n]}return n.includes("Array")?[Nc,n]:n.includes("Error")?[LA,n]:[bh,n]},rf=([e,t])=>e===jp&&(t==="function"||t==="symbol"),mJ=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=tc(a);switch(o){case jp:{let d=a;switch(c){case"bigint":o=$A,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([DA],a)}return i([o,d],a)}case Nc:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case bh:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of pJ(a))(e||!rf(tc(a[h])))&&d.push([s(h),s(a[h])]);return f}case Mb:return i([o,a.toISOString()],a);case Ub:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case zb:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(rf(tc(h))||rf(tc(p))))&&d.push([s(h),s(p)]);return f}case Hb:{const d=[],f=i([o,d],a);for(const h of a)(e||!rf(tc(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},oj=(e,{json:t,lossy:n}={})=>{const r=[];return mJ(!(t||n),!!t,new Map,r)(e),r},wh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?aj(oj(e,t)):structuredClone(e):(e,t)=>aj(oj(e,t));function gJ(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function vJ(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function yJ(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||gJ,r=e.options.footnoteBackLabel||vJ,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Tl(f.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let y=typeof n=="string"?n:n(c,p);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const y=x.children[x.children.length-1];y&&y.type==="text"?y.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...wh(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ep=function(e){if(e==null)return SJ;if(typeof e=="function")return Cp(e);if(typeof e=="object")return Array.isArray(e)?xJ(e):bJ(e);if(typeof e=="string")return wJ(e);throw new Error("Expected function, string, or object as test")};function xJ(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ep(e[n]);return Cp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function bJ(e){const t=e;return Cp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function wJ(e){return Cp(t);function t(n){return n&&n.type===e}}function Cp(e){return t;function t(n,r,i){return!!(_J(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function SJ(){return!0}function _J(e){return e!==null&&typeof e=="object"&&"type"in e}const MA=[],jJ=!0,Py=!1,EJ="skip";function UA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Ep(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=MA,g,m,x;if((!t||s(c,u,d[d.length-1]||void 0))&&(p=CJ(n(c,d)),p[0]===Py))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==EJ)for(m=(r?v.children.length:-1)+a,x=d.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(g=o(y,m,x)(),g[0]===Py)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function CJ(e){return Array.isArray(e)?e:typeof e=="number"?[jJ,e]:e==null?MA:[e]}function Bb(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),UA(e,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const ky={}.hasOwnProperty,PJ={};function kJ(e,t){const n=t||PJ,r=new Map,i=new Map,s=new Map,a={...dJ,...n.handlers},o={all:u,applyData:TJ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:RJ,wrap:AJ};return Bb(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(ky.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:m,...x}=d,v=wh(x);return v.children=o.all(d),v}return wh(d)}return(o.options.unknownHandler||NJ)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=lj(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=lj(m.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function RJ(e,t){e.position&&(t.position=vK(e))}function TJ(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,wh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function NJ(e,t){const n=t.data||{},r="value"in t&&!(ky.call(n,"hProperties")||ky.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AJ(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function lj(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function cj(e,t){const n=kJ(e,t),r=n.one(e,void 0),i=yJ(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function OJ(e,t){return e&&"run"in e?async function(n,r){const i=cj(n,{file:r,...t});await e.run(i,r)}:function(n,r){return cj(n,{file:r,...e||t})}}function uj(e){if(e)throw e}var Rf=Object.prototype.hasOwnProperty,zA=Object.prototype.toString,dj=Object.defineProperty,fj=Object.getOwnPropertyDescriptor,hj=function(t){return typeof Array.isArray=="function"?Array.isArray(t):zA.call(t)==="[object Array]"},pj=function(t){if(!t||zA.call(t)!=="[object Object]")return!1;var n=Rf.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Rf.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Rf.call(t,i)},mj=function(t,n){dj&&n.name==="__proto__"?dj(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},gj=function(t,n){if(n==="__proto__")if(Rf.call(t,n)){if(fj)return fj(t,n).value}else return;return t[n]},IJ=function e(){var t,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=gj(o,n),i=gj(t,n),o!==i&&(d&&i&&(pj(i)||(s=hj(i)))?(s?(s=!1,a=r&&hj(r)?r:[]):a=r&&pj(r)?r:{},mj(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&mj(o,{name:n,newValue:i}));return o};const cg=Ra(IJ);function Ry(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function FJ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?DJ(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function DJ(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Gr={basename:LJ,dirname:$J,extname:MJ,join:UJ,sep:"/"};function LJ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ld(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function $J(e){if(ld(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function MJ(e){ld(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function UJ(...e){let t=-1,n;for(;++t<e.length;)ld(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":zJ(n)}function zJ(e){ld(e);const t=e.codePointAt(0)===47;let n=HJ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function HJ(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ld(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const BJ={cwd:qJ};function qJ(){return"/"}function Ty(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WJ(e){if(typeof e=="string")e=new URL(e);else if(!Ty(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return VJ(e)}function VJ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ug=["history","path","basename","stem","extname","dirname"];class HA{constructor(t){let n;t?Ty(t)?n={path:t}:typeof t=="string"||QJ(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":BJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ug.length;){const s=ug[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)ug.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Gr.basename(this.path):void 0}set basename(t){fg(t,"basename"),dg(t,"basename"),this.path=Gr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gr.dirname(this.path):void 0}set dirname(t){vj(this.basename,"dirname"),this.path=Gr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gr.extname(this.path):void 0}set extname(t){if(dg(t,"extname"),vj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ty(t)&&(t=WJ(t)),fg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gr.basename(this.path,this.extname):void 0}set stem(t){fg(t,"stem"),dg(t,"stem"),this.path=Gr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new pn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dg(e,t){if(e&&e.includes(Gr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gr.sep+"`")}function fg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function QJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const KJ=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},GJ={}.hasOwnProperty;class qb extends KJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=FJ()}copy(){const t=new qb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(cg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(mg("data",this.frozen),this.namespace[t]=n,this):GJ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(mg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=sf(t),r=this.parser||this.Parser;return hg("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),hg("process",this.parser||this.Parser),pg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=sf(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,g=r.stringify(p,h);XJ(g)?h.value=g:h.result=g,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),hg("processSync",this.parser||this.Parser),pg("processSync",this.compiler||this.Compiler),this.process(t,i),xj("processSync","process",n),r;function i(s,a){n=!0,uj(s),r=a}}run(t,n,r){yj(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=sf(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),xj("runSync","run",r),i;function s(a,o){uj(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=sf(n),i=this.compiler||this.Compiler;return pg("stringify",i),yj(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(mg("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=cg(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const m=r[h][1];Ry(m)&&Ry(p)&&(p=cg(!0,m,p)),r[h]=[u,p,...g]}}}}const YJ=new qb().freeze();function hg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function mg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yj(e){if(!Ry(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function xj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function sf(e){return JJ(e)?e:new HA(e)}function JJ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function XJ(e){return typeof e=="string"||ZJ(e)}function ZJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bj=[],wj={allowDangerousHtml:!0},tX=/^(https?|ircs?|mailto|xmpp)$/i,nX=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uo(e){const t=rX(e),n=iX(e);return sX(t.runSync(t.parse(n),n),e)}function rX(e){const t=e.rehypePlugins||bj,n=e.remarkPlugins||bj,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...wj}:wj;return YJ().use(MY).use(n).use(OJ,r).use(t)}function iX(e){const t=e.children||"",n=new HA;return typeof t=="string"&&(n.value=t),n}function sX(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||aX;for(const d of nX)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+eX+d.id,void 0);return Bb(e,u),SK(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in ag)if(Object.hasOwn(ag,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],m=ag[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function aX(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||tX.test(e.slice(0,t))?e:""}function Sj(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function oX(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function lX(e,t,n){const i=Ep((n||{}).ignore||[]),s=cX(t);let a=-1;for(;++a<s.length;)UA(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=s[a][0],p=s[a][1];let g=0;const x=f.children.indexOf(u);let v=!1,y=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const S=b.index,_={index:b.index,input:b.input,stack:[...d,u]};let j=p(...b,_);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=S+1:(g!==S&&y.push({type:"text",value:u.value.slice(g,S)}),Array.isArray(j)?y.push(...j):j&&y.push(j),g=S+b[0].length,v=!0),!h.global)break;b=h.exec(u.value)}return v?(g<u.value.length&&y.push({type:"text",value:u.value.slice(g)}),f.children.splice(x,1,...y)):y=[u],x+y.length}}function cX(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([uX(i[0]),dX(i[1])])}return t}function uX(e){return typeof e=="string"?new RegExp(oX(e),"g"):e}function dX(e){return typeof e=="function"?e:function(){return e}}const gg="phrasing",vg=["autolink","link","image","label"];function fX(){return{transforms:[xX],enter:{literalAutolink:pX,literalAutolinkEmail:yg,literalAutolinkHttp:yg,literalAutolinkWww:yg},exit:{literalAutolink:yX,literalAutolinkEmail:vX,literalAutolinkHttp:mX,literalAutolinkWww:gX}}}function hX(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gg,notInConstruct:vg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gg,notInConstruct:vg},{character:":",before:"[ps]",after:"\\/",inConstruct:gg,notInConstruct:vg}]}}function pX(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function yg(e){this.config.enter.autolinkProtocol.call(this,e)}function mX(e){this.config.exit.autolinkProtocol.call(this,e)}function gX(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function vX(e){this.config.exit.autolinkEmail.call(this,e)}function yX(e){this.exit(e)}function xX(e){lX(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,bX],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wX]],{ignore:["link","linkReference"]})}function bX(e,t,n,r,i){let s="";if(!BA(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!SX(n)))return!1;const a=_X(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function wX(e,t,n,r){return!BA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function SX(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function _X(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Sj(e,"(");let s=Sj(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function BA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Pa(n)||Sp(n))&&(!t||n!==47)}qA.peek=AX;function jX(){this.buffer()}function EX(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function CX(){this.buffer()}function PX(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function kX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Dr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function RX(e){this.exit(e)}function TX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Dr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function NX(e){this.exit(e)}function AX(){return"["}function qA(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function OX(){return{enter:{gfmFootnoteCallString:jX,gfmFootnoteCall:EX,gfmFootnoteDefinitionLabelString:CX,gfmFootnoteDefinition:PX},exit:{gfmFootnoteCallString:kX,gfmFootnoteCall:RX,gfmFootnoteDefinitionLabelString:TX,gfmFootnoteDefinition:NX}}}function IX(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?WA:FX))),u(),c}}function FX(e,t,n){return t===0?e:WA(e,t,n)}function WA(e,t,n){return(n?"":"    ")+e}const DX=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];VA.peek=zX;function LX(){return{canContainEols:["delete"],enter:{strikethrough:MX},exit:{strikethrough:UX}}}function $X(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:DX}],handlers:{delete:VA}}}function MX(e){this.enter({type:"delete",children:[]},e)}function UX(e){this.exit(e)}function VA(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function zX(){return"~"}function HX(e){return e.length}function BX(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||HX,s=[],a=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const m=[],x=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const y=qX(e[d][v]);if(n.alignDelimiters!==!1){const b=i(y);x[v]=b,(c[v]===void 0||b>c[v])&&(c[v]=b)}m.push(y)}a[d]=m,o[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=_j(r[f]);else{const m=_j(r);for(;++f<u;)s[f]=m}f=-1;const h=[],p=[];for(;++f<u;){const m=s[f];let x="",v="";m===99?(x=":",v=":"):m===108?x=":":m===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,c[f]-x.length-v.length);const b=x+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=x.length+y+v.length,y>c[f]&&(c[f]=y),p[f]=y),h[f]=b}a.splice(1,0,h),o.splice(1,0,p),d=-1;const g=[];for(;++d<a.length;){const m=a[d],x=o[d];f=-1;const v=[];for(;++f<u;){const y=m[f]||"";let b="",S="";if(n.alignDelimiters!==!1){const _=c[f]-(x[f]||0),j=s[f];j===114?b=" ".repeat(_):j===99?_%2?(b=" ".repeat(_/2+.5),S=" ".repeat(_/2-.5)):(b=" ".repeat(_/2),S=b):S=" ".repeat(_)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(b),v.push(y),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function qX(e){return e==null?"":String(e)}function _j(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function WX(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),VX);return i(),a}function VX(e,t,n){return">"+(n?"":" ")+e}function QX(e,t){return jj(e,t.inConstruct,!0)&&!jj(e,t.notInConstruct,!1)}function jj(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Ej(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&QX(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function KX(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function GX(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function YX(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function JX(e,t,n,r){const i=YX(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(GX(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(s,XX);return f(),h}const o=n.createTracker(r),c=i.repeat(Math.max(KX(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),u(),d}function XX(e,t,n){return(n?"":"    ")+e}function Wb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ZX(e,t,n,r){const i=Wb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),a(),u}function eZ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Lu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Sh(e,t,n){const r=vl(e),i=vl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}QA.peek=tZ;function QA(e,t,n,r){const i=eZ(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Sh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Lu(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Sh(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+Lu(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function tZ(e,t,n){return n.options.emphasis||"*"}function nZ(e,t){let n=!1;return Bb(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Py}),!!((!e.depth||e.depth<3)&&Db(e)&&(t.options.setext||n))}function rZ(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(nZ(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Lu(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),o(),u}KA.peek=iZ;function KA(e){return e.value||""}function iZ(){return"<"}GA.peek=sZ;function GA(e,t,n,r){const i=Wb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),a(),u}function sZ(){return"!"}YA.peek=aZ;function YA(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function aZ(){return"!"}JA.peek=oZ;function JA(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function oZ(){return"`"}function XA(e,t){const n=Db(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ZA.peek=lZ;function ZA(e,t,n,r){const i=Wb(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,c;if(XA(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),o(),u}function lZ(e,t,n){return XA(e,n)?"<":"["}eO.peek=cZ;function eO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function cZ(){return"["}function Vb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function uZ(e){const t=Vb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function dZ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function fZ(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?dZ(n):Vb(n);const o=e.ordered?a==="."?")":".":uZ(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),tO(n)===a&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function hZ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function pZ(e,t,n,r){const i=hZ(n);let s=n.bulletCurrent||Vb(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return c(),u;function d(f,h,p){return h?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function mZ(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const gZ=Ep(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vZ(e,t,n,r){return(e.children.some(function(a){return gZ(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function yZ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}nO.peek=xZ;function nO(e,t,n,r){const i=yZ(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Sh(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Lu(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Sh(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+Lu(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function xZ(e,t,n){return n.options.strong||"*"}function bZ(e,t,n,r){return n.safe(e.value,r)}function wZ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function SZ(e,t,n){const r=(tO(n)+(n.options.ruleSpaces?" ":"")).repeat(wZ(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rO={blockquote:WX,break:Ej,code:JX,definition:ZX,emphasis:QA,hardBreak:Ej,heading:rZ,html:KA,image:GA,imageReference:YA,inlineCode:JA,link:ZA,linkReference:eO,list:fZ,listItem:pZ,paragraph:mZ,root:vZ,strong:nO,text:bZ,thematicBreak:SZ};function _Z(){return{enter:{table:jZ,tableData:Cj,tableHeader:Cj,tableRow:CZ},exit:{codeText:PZ,table:EZ,tableData:xg,tableHeader:xg,tableRow:xg}}}function jZ(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function EZ(e){this.exit(e),this.data.inTable=void 0}function CZ(e){this.enter({type:"tableRow",children:[]},e)}function xg(e){this.exit(e)}function Cj(e){this.enter({type:"tableCell",children:[]},e)}function PZ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,kZ));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function kZ(e,t){return t==="|"?t:e}function RZ(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:o}};function a(p,g,m,x){return u(d(p,m,x),p.align)}function o(p,g,m,x){const v=f(p,m,x),y=u([v]);return y.slice(0,y.indexOf(`
`))}function c(p,g,m,x){const v=m.enter("tableCell"),y=m.enter("phrasing"),b=m.containerPhrasing(p,{...x,before:s,after:s});return y(),v(),b}function u(p,g){return BX(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(p,g,m){const x=p.children;let v=-1;const y=[],b=g.enter("table");for(;++v<x.length;)y[v]=f(x[v],g,m);return b(),y}function f(p,g,m){const x=p.children;let v=-1;const y=[],b=g.enter("tableRow");for(;++v<x.length;)y[v]=c(x[v],p,g,m);return b(),y}function h(p,g,m){let x=rO.inlineCode(p,g,m);return m.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function TZ(){return{exit:{taskListCheckValueChecked:Pj,taskListCheckValueUnchecked:Pj,paragraph:AZ}}}function NZ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:OZ}}}function Pj(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function AZ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function OZ(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let c=rO.listItem(e,t,n,{...r,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function IZ(){return[fX(),OX(),LX(),_Z(),TZ()]}function FZ(e){return{extensions:[hX(),IX(e),$X(),RZ(e),NZ()]}}const DZ={tokenize:HZ,partial:!0},iO={tokenize:BZ,partial:!0},sO={tokenize:qZ,partial:!0},aO={tokenize:WZ,partial:!0},LZ={tokenize:VZ,partial:!0},oO={name:"wwwAutolink",tokenize:UZ,previous:cO},lO={name:"protocolAutolink",tokenize:zZ,previous:uO},qi={name:"emailAutolink",tokenize:MZ,previous:dO},fi={};function $Z(){return{text:fi}}let Gs=48;for(;Gs<123;)fi[Gs]=qi,Gs++,Gs===58?Gs=65:Gs===91&&(Gs=97);fi[43]=qi;fi[45]=qi;fi[46]=qi;fi[95]=qi;fi[72]=[qi,lO];fi[104]=[qi,lO];fi[87]=[qi,oO];fi[119]=[qi,oO];function MZ(e,t,n){const r=this;let i,s;return a;function a(f){return!Ny(f)||!dO.call(r,r.previous)||Qb(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return Ny(f)?(e.consume(f),o):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(LZ,d,u)(f):f===45||f===95||cn(f)?(s=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return s&&i&&_n(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function UZ(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!cO.call(r,r.previous)||Qb(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(DZ,e.attempt(iO,e.attempt(sO,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function zZ(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&uO.call(r,r.previous)&&!Qb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(_n(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):n(f)}function u(f){return f===null||xh(f)||Ge(f)||Pa(f)||Sp(f)?n(f):e.attempt(iO,e.attempt(sO,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function HZ(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function BZ(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(aO,c,o)(u):u===null||Ge(u)||Pa(u)||u!==45&&Sp(u)?c(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function qZ(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(aO,t,s)(a):a===null||Ge(a)||Pa(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function WZ(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Ge(o)||Pa(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Ge(o)||Pa(o)?t(o):r(o)}function s(o){return _n(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):_n(o)?(e.consume(o),a):n(o)}}function VZ(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return cn(s)?n(s):t(s)}}function cO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ge(e)}function uO(e){return!_n(e)}function dO(e){return!(e===47||Ny(e))}function Ny(e){return e===43||e===45||e===46||e===95||cn(e)}function Qb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const QZ={tokenize:tee,partial:!0};function KZ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:XZ,continuation:{tokenize:ZZ},exit:eee}},text:{91:{name:"gfmFootnoteCall",tokenize:JZ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:GZ,resolveTo:YZ}}}}function GZ(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const u=Dr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function YZ(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function JZ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||Ge(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Dr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ge(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function XZ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(a>999||g===93&&!o||g===null||g===91||Ge(g))return n(g);if(g===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=Dr(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ge(g)||(o=!0),a++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),De(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function ZZ(e,t,n){return e.check(od,t,e.attempt(QZ,t,n))}function eee(e){e.exit("gfmFootnoteDefinition")}function tee(e,t,n){const r=this;return De(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function nee(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},h=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&er(h,h.length,0,_p(p,a.slice(u+1,c),o)),er(h,h.length,0,[["exit",f,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),er(a,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const u=this.previous,d=this.events;let f=0;return h;function h(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=vl(u);if(g===126)return f>1?c(g):(a.consume(g),f++,p);if(f<2&&!n)return c(g);const x=a.exit("strikethroughSequenceTemporary"),v=vl(g);return x._open=!v||v===2&&!!m,x._close=!m||m===2&&!!v,o(g)}}}class ree{constructor(){this.map=[]}add(t,n,r){iee(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function iee(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function see(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function aee(){return{flow:{null:{name:"table",tokenize:oee,resolveAll:lee}}}}function oee(e,t,n){const r=this;let i=0,s=0,a;return o;function o(P){let I=r.events.length-1;for(;I>-1;){const N=r.events[I][1].type;if(N==="lineEnding"||N==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,z=O==="tableHead"||O==="tableRow"?j:c;return z===j&&r.parser.lazy[r.now().line]?n(P):z(P)}function c(P){return e.enter("tableHead"),e.enter("tableRow"),u(P)}function u(P){return P===124||(a=!0,s+=1),d(P)}function d(P){return P===null?n(P):he(P)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),p):n(P):Oe(P)?De(e,d,"whitespace")(P):(s+=1,a&&(a=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||Ge(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?h:f)}function h(P){return P===92||P===124?(e.consume(P),f):f(P)}function p(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),a=!1,Oe(P)?De(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):g(P))}function g(P){return P===45||P===58?x(P):P===124?(a=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),m):_(P)}function m(P){return Oe(P)?De(e,x,"whitespace")(P):x(P)}function x(P){return P===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),v):P===45?(s+=1,v(P)):P===null||he(P)?S(P):_(P)}function v(P){return P===45?(e.enter("tableDelimiterFiller"),y(P)):_(P)}function y(P){return P===45?(e.consume(P),y):P===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(P))}function b(P){return Oe(P)?De(e,S,"whitespace")(P):S(P)}function S(P){return P===124?g(P):P===null||he(P)?!a||i!==s?_(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):_(P)}function _(P){return n(P)}function j(P){return e.enter("tableRow"),k(P)}function k(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),k):P===null||he(P)?(e.exit("tableRow"),t(P)):Oe(P)?De(e,k,"whitespace")(P):(e.enter("data"),R(P))}function R(P){return P===null||P===124||Ge(P)?(e.exit("data"),k(P)):(e.consume(P),P===92?F:R)}function F(P){return P===92||P===124?(e.consume(P),R):R(P)}}function lee(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,u,d,f;const h=new ree;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,c!==0&&(kj(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=af(h,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=af(h,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(o=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],f=af(h,t,s,i,n,f)):a[1]!==0&&(f=af(h,t,a,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&kj(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=see(t.events,n))}return e}function af(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},uo(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=uo(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=uo(t.events,n[2]),d=uo(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,m=n[3]-n[2]-1;e.add(g,m,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},uo(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function kj(e,t,n,r,i){const s=[],a=uo(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function uo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const cee={name:"tasklistCheck",tokenize:dee};function uee(){return{text:{91:cee}}}function dee(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Ge(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return he(c)?t(c):Oe(c)?e.check({tokenize:fee},t,n)(c):n(c)}}function fee(e,t,n){return De(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function hee(e){return wA([$Z(),KZ(),nee(e),aee(),uee()])}const pee={};function zo(e){const t=this,n=e||pee,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(hee(n)),s.push(IZ()),a.push(FZ(n))}const bg={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},fO=()=>{const[e,t]=w.useState({}),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const{data:a,error:o}=await J.storage.from("source-logos").list();if(o){console.error("❌ Error fetching source logos:",o),t(bg);return}const c={...bg};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=J.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[f]=d.publicUrl}}t(c)}catch(a){console.error("❌ Error in fetchLogos:",a),t(bg)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),o=Object.keys(e).find(c=>c.toLowerCase()===a);return o?e[o]:null},loading:n,logos:e}},mee=()=>{var n;const{items:e,refine:t}=eW({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),l.jsxs(Ir,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[l.jsx(mr,{className:"w-auto",children:l.jsx(Fr,{})}),l.jsx(gr,{children:e.map(r=>l.jsx(dt,{value:String(r.value),children:r.label},r.value))})]})]})},gee=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),l.jsxs(Ir,{value:t,onValueChange:e,children:[l.jsx(mr,{className:"w-auto min-w-[140px]",children:l.jsx(Fr,{})}),l.jsx(gr,{children:n.map(r=>l.jsx(dt,{value:r.value,children:r.label},r.value))})]})]})},vee=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=Sb();if(t<=1)return null;const s=[],a=5;let o=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,o+a-1);c-o<a-1&&(o=Math.max(0,c-a+1));for(let u=o;u<=c;u++)s.push(u);return l.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[l.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[l.jsx(PP,{className:"h-4 w-4"}),"Précédent"]}),o>0&&l.jsxs(l.Fragment,{children:[l.jsx(Y,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),o>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>l.jsx(Y,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&l.jsxs(l.Fragment,{children:[c<t-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),l.jsx(Y,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),l.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",l.jsx(kP,{className:"h-4 w-4"})]})]})},yee=()=>{const{query:e}=_b(),{hits:t}=hp();return t.length===0&&e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(nh,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("p",{children:"Suggestions :"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),l.jsx("li",{children:"• Essayez des termes plus généraux"}),l.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(nh,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),l.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},xee=()=>{const{hits:e}=hp(),[t,n]=q.useState(new Set),[r,i]=q.useState(new Set),[s,a]=q.useState("relevance"),{addToFavorites:o,removeFromFavorites:c,isFavorite:u}=ed(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:h}=Fa();La();const{toast:p}=Yt();_t(),H7();const{getSourceLogo:g}=fO(),{handleExport:m,handleCopyToClipboard:x}=aA(),v="fr",y=q.useCallback((A,D)=>D==="relevance"?A:[...A].sort((E,L)=>{switch(D){case"fe_asc":return(E.FE||0)-(L.FE||0);case"fe_desc":return(L.FE||0)-(E.FE||0);case"date_desc":return(L.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(L.Date||0);case"nom_asc":{const C=E.Nom_fr||"",$=L.Nom_fr||"";return C.localeCompare($,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const C=E.Nom_fr||"";return(L.Nom_fr||"").localeCompare(C,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(E.Source||"").localeCompare(L.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:b}=xW({attribute:"FE",precision:2}),S=q.useMemo(()=>{const A=L=>{if(typeof L=="object"&&(L==null?void 0:L._type)==="Number"){const C=String(L.value);if(C==="-Infinity"||C==="Infinity"||C==="NaN")return;const $=parseFloat(L.value);return Number.isFinite($)?$:void 0}if(typeof L=="number")return Number.isFinite(L)?L:void 0};let D,E;if(b&&Array.isArray(b)){const L=A(b[0]),C=A(b[1]);typeof L=="number"&&(D=L),typeof C=="number"&&(E=C)}return D===void 0&&E===void 0?e:e.filter(L=>{const C=typeof L.FE=="number"?L.FE:Number(L.FE);return!(!Number.isFinite(C)||D!==void 0&&C<D||E!==void 0&&C>E)})},[e,b]),_=q.useMemo(()=>y(S,s),[S,s,y]),j=A=>{a(A)},k=A=>{const D=new Set(t);D.has(A)?D.delete(A):D.add(A),n(D)},R=(A,D)=>{const E=(()=>{switch(D){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[D]}})(),L=A._highlightResult||{};for(const C of E){const $=L[C];if($!=null&&$.value)return{__html:$.value};const H=A[C];if(H)return{__html:H}}return{__html:""}},F=A=>{const D=new Set(r);D.has(A)?D.delete(A):D.add(A),i(D)},P=()=>{r.size===_.length?i(new Set):i(new Set(_.map(A=>A.objectID)))},I=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const A=_.filter(E=>r.has(E.objectID));await x(A)&&i(new Set)},O=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const A=_.filter(E=>r.has(E.objectID));await m(A,"facteurs_emissions_recherche")&&i(new Set)},z=A=>({id:A.objectID,nom:A.Nom_fr||"",description:A.Description_fr||"",fe:A.FE,uniteActivite:A.Unite_fr||"",source:A.Source,secteur:A.Secteur_fr||"",sousSecteur:A["Sous-secteur_fr"]||"",localisation:A.Localisation_fr||"",date:A.Date,incertitude:A.Incertitude,perimetre:A.Périmètre_fr||"",contributeur:A.Contributeur||"",commentaires:A.Commentaires_fr||""}),N=async A=>{const D=z(A);u(A.objectID)?await c(A.objectID):await o(D)},M=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const D=_.filter(E=>r.has(E.objectID)).filter(E=>!u(E.objectID));if(D.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(D.map(E=>o(z(E)))),p({title:"Favoris mis à jour",description:`${D.length} élément${D.length>1?"s":""} ajouté${D.length>1?"s":""} aux favoris`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(yee,{}),_.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($i,{checked:r.size===_.length&&_.length>0,onCheckedChange:P,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===_.length&&_.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&l.jsxs(Be,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Y,{onClick:I,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[l.jsx(RP,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),l.jsxs(Y,{onClick:M,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(Sv,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),l.jsxs(Y,{onClick:O,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[l.jsx(Fx,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[_.length," résultat",_.length>1?"s":""," affiché",_.length>1?"s":""]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(gee,{onSortChange:j,currentSort:s}),l.jsx(mee,{})]})]}),l.jsx("div",{className:"space-y-4",children:_.map(A=>{const D=t.has(A.objectID),E=u(A.objectID);d(A.Source);const L=f(A.Source),C=!!A.workspace_id||A.import_type==="imported";return l.jsx(be,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:l.jsx(we,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx($i,{checked:r.has(A.objectID),onCheckedChange:()=>F(A.objectID),onClick:$=>$.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:R(A,"Nom")}),C&&l.jsx(Be,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),h()&&N(A)},disabled:!h(),className:`${E?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?l.jsx(Sv,{className:`h-4 w-4 ${E?"fill-current":""}`}):l.jsx(NP,{className:"h-4 w-4"})}),l.jsx(Y,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),k(A.objectID)},children:D?l.jsx(Ix,{className:"h-4 w-4"}):l.jsx(Gu,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(yh,{isBlurred:L,showBadge:!0,children:l.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[A.FE?(typeof A.FE=="number"?parseFloat(A.FE.toFixed(4)):parseFloat(parseFloat(String(A.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(yh,{isBlurred:L,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(A,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(A.Périmètre_fr||A.Périmètre_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:A.Périmètre_fr||A.Périmètre_en})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[g(A.Source)&&l.jsx("img",{src:g(A.Source),alt:`Logo ${A.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(A,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(A.Localisation_fr||A.Localisation_en)&&l.jsx(Be,{variant:"secondary",children:A.Localisation_fr||A.Localisation_en}),A.Date&&l.jsx(Be,{variant:"outline",children:A.Date}),(A.Secteur_fr||A.Secteur_en)&&l.jsx(Be,{variant:"outline",children:A.Secteur_fr||A.Secteur_en}),(A["Sous-secteur_fr"]||A["Sous-secteur_en"])&&l.jsx(Be,{variant:"outline",children:A["Sous-secteur_fr"]||A["Sous-secteur_en"]})]}),D&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(A.Description_fr||A.Description_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:A.Description_fr||A.Description_en})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:R(A,"Secteur")})]}),A.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:A.Incertitude})]}),A.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:A.Contributeur})})]}),(A.Commentaires_fr||A.Commentaires_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:A.Commentaires_fr||A.Commentaires_en})})]})]})]})]})})})},A.objectID)})}),l.jsx(vee,{})]})]})};var Kb="Switch",[bee,Ene]=Ui(Kb),[wee,See]=bee(Kb),hO=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=w.useState(null),g=ze(t,b=>p(b)),m=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,y]=si({prop:i,defaultProp:s,onChange:u});return l.jsxs(wee,{scope:n,checked:v,disabled:o,children:[l.jsx(ge.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":gO(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onClick:ce(e.onClick,b=>{y(S=>!S),x&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),x&&l.jsx(_ee,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});hO.displayName=Kb;var pO="SwitchThumb",mO=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=See(pO,n);return l.jsx(ge.span,{"data-state":gO(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});mO.displayName=pO;var _ee=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=w.useRef(null),a=Eb(n),o=qx(t);return w.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[a,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gO(e){return e?"checked":"unchecked"}var vO=hO,jee=mO;const yO=w.forwardRef(({className:e,...t},n)=>l.jsx(vO,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(jee,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yO.displayName=vO.displayName;var Gb="Collapsible",[Eee,Cne]=Ui(Gb),[Cee,Yb]=Eee(Gb),xO=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[c=!1,u]=si({prop:r,defaultProp:i,onChange:a});return l.jsx(Cee,{scope:n,disabled:s,contentId:ii(),open:c,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),children:l.jsx(ge.div,{"data-state":Xb(c),"data-disabled":s?"":void 0,...o,ref:t})})});xO.displayName=Gb;var bO="CollapsibleTrigger",wO=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Yb(bO,n);return l.jsx(ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Xb(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ce(e.onClick,i.onOpenToggle)})});wO.displayName=bO;var Jb="CollapsibleContent",SO=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Yb(Jb,e.__scopeCollapsible);return l.jsx(zi,{present:n||i.open,children:({present:s})=>l.jsx(Pee,{...r,ref:t,present:s})})});SO.displayName=Jb;var Pee=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=Yb(Jb,n),[o,c]=w.useState(r),u=w.useRef(null),d=ze(t,u),f=w.useRef(0),h=f.current,p=w.useRef(0),g=p.current,m=a.open||o,x=w.useRef(m),v=w.useRef();return w.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),Gt(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,p.current=b.width,x.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(r)}},[a.open,r]),l.jsx(ge.div,{"data-state":Xb(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&i})});function Xb(e){return e?"open":"closed"}var kee=xO;const _O=kee,jO=wO,EO=SO,Ys=({attribute:e,title:t,searchable:n=!1,limit:r=10})=>{const{items:i,refine:s,searchForItems:a,canToggleShowMore:o,isShowingMore:c,toggleShowMore:u}=PW({attribute:e,limit:r}),[d,f]=q.useState(""),[h,p]=q.useState(i);q.useEffect(()=>{d||p(i)},[i,d]);const g=q.useMemo(()=>e==="Date"?[...i].sort((x,v)=>{const y=parseInt(x.label);return parseInt(v.label)-y}):i,[i,e]),m=q.useMemo(()=>d?h.filter(x=>x.label.toLowerCase().includes(d.toLowerCase())):g,[g,h,d]);return i.length===0?null:l.jsxs(_O,{defaultOpen:!0,children:[l.jsx(jO,{asChild:!0,children:l.jsxs(Y,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 hover:bg-white hover:text-indigo-950",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:t}),l.jsx(TP,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsxs(EO,{className:"space-y-2 mt-2",children:[n&&l.jsx(Mt,{type:"search",placeholder:`Rechercher ${t.toLowerCase()}...`,value:d,onChange:x=>{const v=x.target.value;f(v),a(v)},className:"w-full px-3 py-1 text-sm"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:m.map(x=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($i,{id:`${e}-${x.value}`,checked:x.isRefined,onCheckedChange:()=>s(x.value),className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("label",{htmlFor:`${e}-${x.value}`,className:"flex-1 text-sm cursor-pointer flex justify-between",children:[l.jsx("span",{className:x.isRefined?"font-medium":"",children:x.label}),l.jsxs("span",{className:"text-muted-foreground",children:["(",x.count,")"]})]})]},x.value))}),o&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:u,className:"w-full",children:c?"Voir moins":"Voir plus"})]})]})},Ree=()=>{const{canRefine:e,refine:t}=U9();return e?l.jsxs(Y,{variant:"ghost",size:"sm",onClick:t,className:"text-indigo-950 hover:text-indigo-800 font-montserrat bg-white hover:bg-white",children:[l.jsx(yL,{className:"w-4 h-4 mr-1"}),"RÉINITIALISER LES FILTRES"]}):null},Tee=()=>{const{value:e,refine:t}=KW({attribute:"Date",on:[2022,2023,2024,2025]});return l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-border",children:[l.jsx(yO,{checked:e.isRefined,onCheckedChange:()=>t(e),id:"recent-data",className:"data-[state=checked]:bg-indigo-950"}),l.jsx("label",{htmlFor:"recent-data",className:"text-sm font-medium cursor-pointer font-montserrat text-indigo-950",children:"Données récentes (< 3 ans)"})]})},Nee=()=>{const e=rN(),t=(e==null?void 0:e.origin)??"all",n=(e==null?void 0:e.setOrigin)??(()=>{}),{refine:r}=Sb(),i=q.useMemo(()=>t==="all"?void 0:[`origin:${t}`],[t]);return q.useEffect(()=>{r(0)},[t,r]),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Y,{size:"sm",variant:t==="all"?"default":"outline",onClick:()=>{n("all"),r(0)},children:"Tous"}),l.jsx(Y,{size:"sm",variant:t==="public"?"default":"outline",onClick:()=>{n("public"),r(0)},children:"Base commune"}),l.jsx(Y,{size:"sm",variant:t==="private"?"default":"outline",onClick:()=>{n("private"),r(0)},children:"Base personnelle"})]}),l.jsx(bb,{ruleContexts:i})]})},CO=()=>{const[e,t]=q.useState("fr"),n=q.useMemo(()=>e==="fr"?["Nom_fr","Description_fr","Commentaires_fr","Secteur_fr","Sous-secteur_fr","Périmètre_fr","Localisation_fr"]:["Nom_en","Description_en","Commentaires_en","Secteur_en","Sous-secteur_en","Périmètre_en","Localisation_en"],[e]);q.useMemo(()=>[[`languages:${e}`]],[e]);const r=q.useMemo(()=>`languages:${e}`,[e]);return l.jsxs(be,{className:"bg-background border border-border",children:[l.jsxs(Ne,{className:"pb-3",children:[l.jsx(Ae,{className:"text-lg font-montserrat text-indigo-950",children:"FILTRER PAR :"}),l.jsx(Ree,{})]}),l.jsxs(we,{className:"space-y-6",children:[l.jsx(bb,{filters:r,restrictSearchableAttributes:n}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Langue"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Y,{size:"sm",variant:e==="fr"?"default":"outline",onClick:()=>t("fr"),children:"FR"}),l.jsx(Y,{size:"sm",variant:e==="en"?"default":"outline",onClick:()=>t("en"),children:"EN"})]})]}),l.jsxs(_O,{defaultOpen:!0,children:[l.jsx(jO,{asChild:!0,children:l.jsxs(Y,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 bg-transparent hover:bg-transparent",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:"Données récentes"}),l.jsx(TP,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsx(EO,{className:"space-y-4 mt-4",children:l.jsx(Tee,{})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),l.jsx(Nee,{})]}),l.jsx(Ys,{attribute:e==="fr"?"Unite_fr":"Unite_en",title:"Unité",searchable:!0,limit:500}),l.jsx(Ys,{attribute:e==="fr"?"Périmètre_fr":"Périmètre_en",title:"Périmètre",searchable:!0,limit:500}),l.jsx(Ys,{attribute:"Source",title:"Source",searchable:!0,limit:500}),l.jsx(Ys,{attribute:"Date",title:"Date",limit:500}),l.jsx(Ys,{attribute:e==="fr"?"Localisation_fr":"Localisation_en",title:"Localisation",searchable:!0,limit:500}),l.jsx(Ys,{attribute:e==="fr"?"Secteur_fr":"Secteur_en",title:"Secteur",searchable:!0,limit:500}),l.jsx(Ys,{attribute:e==="fr"?"Sous-secteur_fr":"Sous-secteur_en",title:"Sous-secteur",searchable:!0,limit:500})]})]})},Aee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=pp();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):l.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},Oee=()=>{const{user:e}=_t(),{currentWorkspace:t}=Hi(),[n,r]=w.useState(null),[i,s]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:o,error:c}=await J.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",c),s(!1);return}let u=o;if(!o){const{data:g,error:m}=await J.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la création de la période d'essai:",m),s(!1);return}u=g}const d=new Date(u.expires_at),f=new Date,h=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),p=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(o){console.error("Erreur lors du chargement de la période d'essai:",o)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function Iee(e,t=[]){let n=[];function r(s,a){const o=w.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,x=w.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=w.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,Fee(i,...t)]}function Fee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Zb="Progress",e0=100,[Dee,Pne]=Iee(Zb),[Lee,$ee]=Dee(Zb),PO=w.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Mee,...a}=e;(i||i===0)&&!Rj(i)&&console.error(Uee(`${i}`,"Progress"));const o=Rj(i)?i:e0;r!==null&&!Tj(r,o)&&console.error(zee(`${r}`,"Progress"));const c=Tj(r,o)?r:null,u=_h(c)?s(c,o):void 0;return l.jsx(Lee,{scope:n,value:c,max:o,children:l.jsx(ge.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":_h(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":TO(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});PO.displayName=Zb;var kO="ProgressIndicator",RO=w.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=$ee(kO,n);return l.jsx(ge.div,{"data-state":TO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});RO.displayName=kO;function Mee(e,t){return`${Math.round(e/t*100)}%`}function TO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _h(e){return typeof e=="number"}function Rj(e){return _h(e)&&!isNaN(e)&&e>0}function Tj(e,t){return _h(e)&&!isNaN(e)&&e<=t&&e>=0}function Uee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${e0}\`.`}function zee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${e0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NO=PO,Hee=RO;const Ho=w.forwardRef(({className:e,value:t,...n},r)=>l.jsx(NO,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(Hee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ho.displayName=NO.displayName;const Bee=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=Oee();if(t||!n)return null;if(!e||!r)return l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[l.jsx(Tr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[l.jsx(th,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),l.jsxs(Be,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),l.jsx(Ho,{value:s,className:"h-2"})]})]})},qee=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=w.useState(!1);if(t)return l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return l.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[l.jsx(Tr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,o=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,h=o===null?0:a/o*100,p=u===null?0:c/u*100,g=f===null?0:d/f*100,m=()=>s==="premium"?l.jsx(Yc,{className:"h-4 w-4"}):s==="standard"?l.jsx(rh,{className:"h-4 w-4"}):null,x=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>o===null?"Illimitées ∞":o===0?"Non disponible":`${a} / ${o}`,y=()=>u===null?"Illimitées ∞":`${c} / ${u}`,b=()=>f===null?"Illimitées ∞":`${d} / ${f}`,S=s==="premium"||s==="standard";return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),l.jsx("span",{className:"whitespace-nowrap",children:x()}),n&&l.jsx(Xc,{className:"h-3 w-3 text-destructive"}),l.jsx(Gu,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(Bee,{})}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",x()]}),m()]}),n&&l.jsxs(Be,{variant:"destructive",className:"text-xs",children:[l.jsx(Xc,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),l.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),l.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&o!==null&&o>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),l.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:y()})]}),!S&&u!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),l.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:b()})]}),!S&&f!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:l.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},ga=()=>{const{user:e,signOut:t}=_t(),{isSupraAdmin:n}=id(),{canUseFavorites:r}=Fa(),{quotaData:i,isLoading:s,isAtLimit:a}=mp(),o=np(),c=async()=>{await t(),o("/")};return l.jsx("nav",{className:"border-b border-border bg-background",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(xt,{to:e?"/search":"/",className:"flex items-center",children:l.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),l.jsx("div",{className:"flex items-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block",children:l.jsx(qee,{quotaData:i,isLoading:s,isAtLimit:a})}),l.jsx(xt,{to:"/search",children:l.jsx(Y,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?l.jsx(xt,{to:"/favoris",children:l.jsx(Y,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):l.jsxs(Y,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(NP,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&l.jsx(xt,{to:"/import",children:l.jsx(Y,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),l.jsx(xt,{to:"/settings",children:l.jsx(Y,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),l.jsx(Y,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):l.jsxs(l.Fragment,{children:[l.jsx(xt,{to:"/signup",children:l.jsx(Y,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),l.jsx(xt,{to:"/login",children:l.jsx(Y,{children:"Se connecter"})})]})})]})})})},Wee=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-full max-w-6xl",children:l.jsx(tV,{})})})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(CO,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(bb,{hitsPerPage:36}),l.jsx(Aee,{}),l.jsx(xee,{})]})]})})]}),Vee=()=>l.jsx(W7,{children:l.jsx(Wee,{})}),wg="6BGAS85TYS",Sg="e06b7614aaff866708fbd2872de90d37";function Qee(e){const[t,n]=w.useState(null);return w.useEffect(()=>{let r=!1;async function i(){if(typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)){r||n({fullPublic:Lo(wg,Sg),fullPrivate:Lo(wg,Sg),teaser:Lo(wg,Sg)});return}r||n({fullPublic:Do("fullPublic"),fullPrivate:Do("fullPrivate"),teaser:Do("teaserPublic")})}return i(),()=>{r=!0}},[e]),t}const _g=e=>({...e,search:t=>{const n=(t||[]).map(r=>({...r,params:Object.fromEntries(Object.entries(r.params||{}).filter(([i])=>GT.includes(i)))}));return e.search(n)}}),Kee=w.createContext(null),Gee=({children:e,favoriteIds:t=[]})=>{const n=mp(),{currentWorkspace:r}=Hi();Fa();const i=Qee(r==null?void 0:r.id),s=rN(),a=w.useRef("all");w.useEffect(()=>{s!=null&&s.origin&&(a.current=s.origin)},[s==null?void 0:s.origin]);const o=(...x)=>{},c=w.useRef(t);w.useEffect(()=>{c.current=t},[t]);const u=w.useRef(null),d=w.useRef(null),f=w.useRef(null);w.useEffect(()=>{i?(u.current=_g(i.fullPublic),d.current=_g(i.fullPrivate),f.current=_g(i.teaser)):(u.current=null,d.current=null,f.current=null)},[i]);const h=w.useRef(r==null?void 0:r.id);w.useEffect(()=>{h.current=r==null?void 0:r.id},[r==null?void 0:r.id]);const p=w.useRef(null);i&&!p.current&&(p.current={search:async x=>{var v,y,b;try{const S=u.current,_=d.current,j=f.current;if(!S||!_)return{results:[]};const k=h.current,R=a.current,F=[],P=[],I=[],O=(...D)=>{const E=D.filter(H=>typeof H=="string"&&H.trim().length>0).map(H=>H.trim());if(E.length===0)return;if(E.length===1)return E[0];const L=E.filter(H=>/\sOR\s/.test(H)),C=E.filter(H=>!/\sOR\s/.test(H));return[...L,...C].map(H=>`(${H})`).join(" AND ")};for(const D of x||[]){const E={...D.params||{}},L=YT(E.facetFilters),C=R,$=f7(c.current),T=k?`workspace_id:${k}`:"workspace_id:_none_";C==="public"?(F.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:public"],...L||[]],filters:O(E.filters,$)}}),I.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:public"],...L||[]],filters:O(E.filters,$)}})):C==="private"?P.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:private"],...L||[]],filters:O(E.filters,T,$)}}):(F.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:public"],...L||[]],filters:O(E.filters,$)}}),I.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:public"],...L||[]],filters:O(E.filters,$)}}),P.push({...D,indexName:ts,params:{...E,facetFilters:[["scope:private"],...L||[]],filters:O(E.filters,T,$)}}))}const[z,N,M]=await Promise.all([S.search(F),_.search(P),(j==null?void 0:j.search(I))??Promise.resolve({results:[]})]),A=[];for(let D=0,E=0,L=0,C=0;D<(x||[]).length;D++){const $=((v=(x||[])[D])==null?void 0:v.params)||{},H=R;if(H==="public"){const T=z.results[E];E++;const te=(y=M.results)==null?void 0:y[C];C++,A.push(Fo(T,te))}else if(H==="private"){const T=N.results[L];L+=1,A.push(T)}else{const T=z.results[E];E++;const te=(b=M.results)==null?void 0:b[C];C++;const ie=Fo(T,te),X=N.results[L];L++,A.push(Fo(ie,X,{sumNbHits:!0}))}}return{results:A}}catch{const _={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(x||[]).map(()=>_)}}}});const g=i?p.current:null;if(!g)return null;const m=({favoriteIds:x})=>{const{refresh:v}=a7(),y=w.useRef(null);return w.useEffect(()=>{y.current!==x&&(c.current=x,y.current=x,v())},[x,v]),null};return l.jsx(Kee.Provider,{value:n,children:l.jsxs(WT,{searchClient:g,indexName:ts,future:{preserveSharedStateOnUnmount:!0},children:[l.jsx(m,{favoriteIds:t}),e]})})},Yee=({favoriteIds:e=[]})=>{const{query:t,refine:n}=_b();pp();const r=()=>{n("")},i=()=>{};return l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(nh,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),l.jsx(Mt,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&l.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l.jsx(Dx,{className:"h-5 w-5"})})]}),l.jsx(Y,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},AO=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=La(),{role:s}=i;return t&&(!s||!t.includes(s))?l.jsx(l.Fragment,{children:r}):n&&!i[n]?l.jsx(l.Fragment,{children:r}):l.jsx(l.Fragment,{children:e})},Jee=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:o})=>{const{hits:c}=hp(),[u,d]=w.useState("relevance"),[f,h]=w.useState(new Set),p=q.useCallback((E,L)=>L==="relevance"?E:[...E].sort((C,$)=>{switch(L){case"fe_asc":return(C.FE||0)-($.FE||0);case"fe_desc":return($.FE||0)-(C.FE||0);case"date_desc":return($.Date||0)-(C.Date||0);case"date_asc":return(C.Date||0)-($.Date||0);case"nom_asc":{const H=C.Nom_fr||C.Nom_en||C.Nom||"",T=$.Nom_fr||$.Nom_en||$.Nom||"";return H.localeCompare(T,"fr",{numeric:!0,sensitivity:"base"})}case"nom_desc":{const H=C.Nom_fr||C.Nom_en||C.Nom||"";return($.Nom_fr||$.Nom_en||$.Nom||"").localeCompare(H,"fr",{numeric:!0,sensitivity:"base"})}case"source_asc":return(C.Source||"").localeCompare($.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=q.useMemo(()=>p(c,u),[c,u,p]),m=E=>{d(E)},x=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:y,refine:b}=Sb(),{removeFromFavorites:S,isFavorite:_}=ed();La();const{getSourceLogo:j}=fO(),{shouldBlurPremiumContent:k}=Fa(),R=g.length>0&&g.every(E=>e.has(E.objectID)),F=E=>{n(E)},P=E=>{const L=new Set(f);L.has(E)?L.delete(E):L.add(E),h(L)},I=(E,L)=>{const C=(()=>{switch(L){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[L]}})(),$=E._highlightResult||{};for(const H of C){const T=$[H];if(T!=null&&T.value)return{__html:T.value};const te=E[H];if(te)return{__html:te}}return{__html:""}},O=async E=>{try{await S(E.objectID),bn.success("Retiré des favoris")}catch{bn.error("Erreur lors de la suppression du favori")}},z=E=>({id:E.objectID,nom:E.Nom_fr||E.Nom_en||E.Nom||"",description:E.Description_fr||E.Description_en||E.Description||"",fe:E.FE,uniteActivite:E.Unite_fr||E.Unite_en||E["Unité donnée d'activité"]||"",source:E.Source,secteur:E.Secteur_fr||E.Secteur_en||E.Secteur||"",sousSecteur:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]||"",localisation:E.Localisation_fr||E.Localisation_en||E.Localisation||"",date:E.Date,incertitude:E.Incertitude,perimetre:E.Périmètre_fr||E.Périmètre_en||E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires_fr||E.Commentaires_en||E.Commentaires||""}),N=()=>{if(r){const L=g.filter(C=>e.has(C.objectID)).map(z);r(L)}},M=()=>{if(i){const L=g.filter(C=>e.has(C.objectID)).map(z);i(L)}},A=()=>{if(s){const E=Array.from(e);s(E)}},D=E=>!!E.workspace_id||E.import_type==="imported";return g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affiché",g.length>1?"s":""]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),l.jsxs(Ir,{value:u,onValueChange:m,children:[l.jsx(mr,{className:"w-auto min-w-[140px]",children:l.jsx(Fr,{})}),l.jsx(gr,{children:x.map(E=>l.jsx(dt,{value:E.value,children:E.label},E.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($i,{id:"select-all",checked:R,onCheckedChange:F}),l.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",g.length,")"]})]}),e.size>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Y,{variant:"outline",size:"sm",onClick:M,children:[l.jsx(RP,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),l.jsx(AO,{requirePermission:"canExport",children:l.jsxs(Y,{variant:"outline",size:"sm",onClick:N,children:[l.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),l.jsxs(Y,{variant:"destructive",size:"sm",onClick:A,children:[l.jsx(qh,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),l.jsx("div",{className:"space-y-4",children:g.map(E=>{const L=f.has(E.objectID);_(E.objectID);const C=k(E.Source);return l.jsx(be,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:l.jsx(we,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx($i,{checked:e.has(E.objectID),onCheckedChange:()=>t(E.objectID),onClick:$=>$.stopPropagation(),className:"mt-1 cursor-pointer"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:I(E,"Nom")}),D(E)&&l.jsx(Be,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),O(E)},className:"text-red-500 hover:text-red-600",children:l.jsx(Sv,{className:"h-4 w-4 fill-current"})}),l.jsx(Y,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),P(E.objectID)},children:L?l.jsx(Ix,{className:"h-4 w-4"}):l.jsx(Gu,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(yh,{isBlurred:C,children:l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[E.FE?(typeof E.FE=="number"?parseFloat(E.FE.toFixed(4)):parseFloat(parseFloat(String(E.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(yh,{isBlurred:C,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:I(E,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(E.Périmètre_fr||E.Périmètre_en||E.Périmètre)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:E.Périmètre_fr||E.Périmètre_en||E.Périmètre})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[j(E.Source)&&l.jsx("img",{src:j(E.Source),alt:`Logo ${E.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:I(E,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(E.Localisation_fr||E.Localisation_en||E.Localisation)&&l.jsx(Be,{variant:"secondary",children:E.Localisation_fr||E.Localisation_en||E.Localisation}),E.Date&&l.jsx(Be,{variant:"outline",children:E.Date}),(E.Secteur_fr||E.Secteur_en||E.Secteur)&&l.jsx(Be,{variant:"outline",children:E.Secteur_fr||E.Secteur_en||E.Secteur}),(E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"])&&l.jsx(Be,{variant:"outline",children:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]})]}),L&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[E.Description_fr||E.Description_en?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:E.Description_fr||E.Description_en})})]}):null,l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:I(E,"Secteur")})]}),E.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:E.Incertitude})]}),E.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:E.Contributeur})})]}),E.Commentaires_fr||E.Commentaires_en?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Uo,{remarkPlugins:[zo],components:{a:({href:$,children:H,...T})=>l.jsx("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...T,children:H}),p:({children:$,...H})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...H,children:$})},children:E.Commentaires_fr||E.Commentaires_en})})]}):null]})]})]})})})},E.objectID)})}),y>1&&(()=>{let L=Math.max(0,v-Math.floor(2.5)),C=Math.min(y-1,L+5-1);C-L<4&&(L=Math.max(0,C-5+1));const $=[];for(let H=L;H<=C;H++)$.push(H);return l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[l.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>b(v-1),disabled:v===0,children:[l.jsx(PP,{className:"w-4 h-4"}),"Précédent"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[L>0&&l.jsx(Y,{variant:v===0?"default":"outline",size:"sm",onClick:()=>b(0),className:"w-10",children:"1"},"first-page"),L>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),$.map(H=>l.jsx(Y,{variant:H===v?"default":"outline",size:"sm",onClick:()=>b(H),className:"w-10",children:H+1},`page-${H}`)),C<y-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),C<y-1&&l.jsx(Y,{variant:y-1===v?"default":"outline",size:"sm",onClick:()=>b(y-1),className:"w-10",children:y},"last-page")]}),l.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>b(v+1),disabled:v>=y-1,children:["Suivant",l.jsx(kP,{className:"w-4 h-4"})]})]})})()]})},Xee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=pp();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):l.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},Zee=({favoriteIds:e})=>{const[t,n]=w.useState(new Set),{favorites:r,removeFromFavorites:i}=ed(),{handleExport:s,handleCopyToClipboard:a}=aA(),o=g=>{n(m=>{const x=new Set(m);return x.has(g)?x.delete(g):x.add(g),x})},c=g=>{if(g){const m=r.map(x=>x.id);n(new Set(m))}else n(new Set)},u=async g=>{await a(g)},d=async g=>{await s(g,"facteurs_emissions_favoris")},f=async g=>{try{for(const m of g)await i(m);n(new Set),bn.success(`${g.length} élément${g.length>1?"s":""} retiré${g.length>1?"s":""} des favoris`)}catch{bn.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(g=>g.source))].filter(Boolean),p=[...new Set(r.map(g=>g.localisation))].filter(Boolean);return[...new Set(r.map(g=>g.date.toString()))].filter(Boolean).sort((g,m)=>parseInt(m)-parseInt(g)),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsx("section",{className:"py-12 px-4 bg-background border-b",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsx(Yee,{favoriteIds:e})}),l.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:r.length}),l.jsx("span",{children:"favoris au total"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:h.length}),l.jsx("span",{children:"sources"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:p.length}),l.jsx("span",{children:"localisations"})]})]})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),l.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(CO,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(Xee,{}),l.jsx(Jee,{selectedItems:t,onItemSelect:o,onSelectAll:c,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},ete=()=>{const{favorites:e}=ed(),t=w.useMemo(()=>e.map(n=>n.id),[e]);return l.jsx(q7,{children:l.jsx(Gee,{favoriteIds:t,children:l.jsx(Zee,{favoriteIds:t})})})},tte=()=>{const[e,t]=w.useState(null),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(0),[d,f]=w.useState("idle"),[h,p]=w.useState(null),[g,m]=w.useState("idle"),{toast:x}=Yt(),{user:v}=_t(),{currentWorkspace:y}=Hi(),{canImportData:b}=La(),{addToFavorites:S}=ed(),_=()=>{const P=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],I=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],O=[P.join(","),I.join(",")].join(`
`),z=new Blob([O],{type:"text/csv"}),N=URL.createObjectURL(z),M=document.createElement("a");M.href=N,M.download="template_facteurs_emissions_bilingue.csv",M.click(),URL.revokeObjectURL(N)},j=P=>{var O;const I=(O=P.target.files)==null?void 0:O[0];I&&I.type==="text/csv"?(t(I),f("idle"),p(null)):x({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},k=P=>{const I=P.split(`
`).filter(N=>N.trim());if(I.length===0)return[];const O=I[0].split(",").map(N=>N.trim().replace(/"/g,"")),z=[];for(let N=1;N<I.length;N++){const M=I[N].split(",").map(A=>A.trim().replace(/"/g,""));if(M.length===O.length){const A={};O.forEach((D,E)=>{A[D]=M[E]}),z.push(A)}}return z},R=async()=>{if(!e||!n.trim()){x({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!y||!v){x({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!b){x({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}o(!0),f("uploading"),u(0);try{const P=await e.text();u(25);const I=k(P);if(u(50),f("processing"),I.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:O,error:z}=await J.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:v.id,workspace_id:y.id,uploaded_by:v.id}).select().single();if(z)throw new Error(`Erreur lors de la création du dataset: ${z.message}`);u(75);try{await J.from("fe_sources").upsert({source_name:O.name,access_level:"standard",is_global:!1},{onConflict:"source_name"}),await J.from("fe_source_workspace_assignments").upsert({source_name:O.name,workspace_id:y.id,assigned_by:v.id},{onConflict:"source_name,workspace_id"})}catch(D){console.warn("Erreur assignation source au workspace:",D)}const N=I.map(D=>({workspace_id:y.id,dataset_id:O.id,Nom:D.nom||D.name||"Sans nom",Nom_en:D.nom_en||D.name_en||null,Description:D.description||"",Description_en:D.description_en||null,FE:parseFloat((D.fe||D.factor||"0").toString().replace(",",".")),"Unité donnée d'activité":D.unite||D.unit||"",Unite_en:D.unite_en||D.unit_en||null,Source:O.name,Secteur:D.secteur||D.sector||"Non spécifié",Secteur_en:D.secteur_en||D.sector_en||null,"Sous-secteur":D.categorie||D.category||"Non spécifié","Sous-secteur_en":D.categorie_en||D.category_en||null,Localisation:D.localisation||D.location||"Non spécifié",Localisation_en:D.localisation_en||D.location_en||null,Date:parseInt((D.date||new Date().getFullYear().toString()).toString()),Incertitude:D.incertitude||D.uncertainty||"",Périmètre:D.perimetre||D.perimeter||null,Périmètre_en:D.perimetre_en||D.perimeter_en||null,Contributeur:D.contributeur||D.contributor||null,Commentaires:D.commentaires||D.comments||null,Commentaires_en:D.commentaires_en||D.comments_en||null})),{data:M,error:A}=await J.from("emission_factors").insert(N).select();if(A)throw new Error(`Erreur lors de l'insertion: ${A.message}`);try{m("indexing"),await J.functions.invoke("db-webhooks",{body:[{type:"INSERT",table:"public:fe_sources",record:{source_name:O.name}}]}),m("success")}catch{m("error")}if(i&&M&&M.length>0)try{let D=0;for(const E of M)try{const L={id:E.id,nom:E.Nom||"",description:E.Description||"",fe:E.FE||0,uniteActivite:E["Unité donnée d'activité"]||"",source:E.Source||"",secteur:E.Secteur||"",sousSecteur:E["Sous-secteur"]||"",localisation:E.Localisation||"",date:E.Date||new Date().getFullYear(),incertitude:E.Incertitude||"",perimetre:E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires||""};await S(L),D++}catch(L){console.warn("Erreur ajout favori:",L)}D>0&&x({title:"Favoris ajoutés",description:`${D} éléments ajoutés aux favoris.`})}catch(D){console.warn("Erreur ajout favoris global:",D)}u(100),f("success"),p({success:(M==null?void 0:M.length)||0,errors:[]}),x({title:"Import réussi",description:`${(M==null?void 0:M.length)||0} facteurs d'émissions importés avec succès.`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const D=document.getElementById("file-upload");D&&(D.value="")},3e3)}catch(P){console.error("Import error:",P),f("error"),p({success:0,errors:[P instanceof Error?P.message:"Erreur inconnue"]}),x({variant:"destructive",title:"Erreur d'import",description:P instanceof Error?P.message:"Une erreur est survenue lors de l'import."})}finally{o(!1)}},F=()=>{switch(d){case"success":return l.jsx(an,{className:"w-5 h-5 text-green-500"});case"error":return l.jsx(Tr,{className:"w-5 h-5 text-red-500"});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[l.jsx(Zw,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),l.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),l.jsxs(AO,{requirePermission:"canImportData",fallback:l.jsx(be,{className:"mb-6",children:l.jsx(we,{className:"pt-6",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Tr,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[l.jsxs(be,{className:"mb-6",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center",children:[l.jsx(Fx,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),l.jsx(Ut,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),l.jsxs(we,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(mL,{className:"w-8 h-8 text-muted-foreground mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),l.jsx(Y,{onClick:_,variant:"outline",children:"Télécharger"})]}),l.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center",children:["Importer votre dataset",F()]}),l.jsx(Ut,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),l.jsxs(we,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"dataset-name",children:"Nom du dataset"}),l.jsx(Mt,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:P=>r(P.target.value),disabled:a})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"file-upload",children:"Fichier CSV"}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[l.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:j,className:"hidden",disabled:a}),e?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Ox,{className:"w-8 h-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:e.name}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):l.jsxs("div",{children:[l.jsx(Zw,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),l.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des données..."]}),l.jsxs("span",{children:[c,"%"]})]}),l.jsx(Ho,{value:c,className:"w-full"})]}),h&&l.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?l.jsxs("div",{className:"flex items-center",children:[l.jsx(an,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Tr,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),l.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((P,I)=>l.jsxs("li",{children:["• ",P]},I))})]})}),g!=="idle"&&l.jsxs("div",{className:"mt-3 p-3 rounded-lg border bg-muted/30",children:[g==="indexing"&&l.jsx("div",{className:"text-sm text-muted-foreground",children:"Indexation Algolia en cours…"}),g==="success"&&l.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[l.jsx(an,{className:"w-4 h-4 mr-2"})," Indexation Algolia terminée"]}),g==="error"&&l.jsxs("div",{className:"flex items-center text-sm text-red-700",children:[l.jsx(Tr,{className:"w-4 h-4 mr-2"})," Échec de l'indexation Algolia (non bloquant)"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($i,{id:"add-favorites",checked:i,onCheckedChange:P=>s(P),disabled:a}),l.jsx(Nt,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),l.jsx(Y,{onClick:R,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),l.jsx(be,{className:"mt-6",children:l.jsx(we,{className:"pt-6",children:l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var t0="Dialog",[OO,IO]=Ui(t0),[nte,Ur]=OO(t0),FO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=w.useRef(null),c=w.useRef(null),[u=!1,d]=si({prop:r,defaultProp:i,onChange:s});return l.jsx(nte,{scope:t,triggerRef:o,contentRef:c,contentId:ii(),titleId:ii(),descriptionId:ii(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};FO.displayName=t0;var DO="DialogTrigger",LO=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ur(DO,n),s=ze(t,i.triggerRef);return l.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":i0(i.open),...r,ref:s,onClick:ce(e.onClick,i.onOpenToggle)})});LO.displayName=DO;var n0="DialogPortal",[rte,$O]=OO(n0,{forceMount:void 0}),MO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Ur(n0,t);return l.jsx(rte,{scope:t,forceMount:n,children:w.Children.map(r,a=>l.jsx(zi,{present:n||s.open,children:l.jsx(zh,{asChild:!0,container:i,children:a})}))})};MO.displayName=n0;var jh="DialogOverlay",UO=w.forwardRef((e,t)=>{const n=$O(jh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ur(jh,e.__scopeDialog);return s.modal?l.jsx(zi,{present:r||s.open,children:l.jsx(ite,{...i,ref:t})}):null});UO.displayName=jh;var ite=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ur(jh,n);return l.jsx(Cb,{as:Sa,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(ge.div,{"data-state":i0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ka="DialogContent",zO=w.forwardRef((e,t)=>{const n=$O(ka,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ur(ka,e.__scopeDialog);return l.jsx(zi,{present:r||s.open,children:s.modal?l.jsx(ste,{...i,ref:t}):l.jsx(ate,{...i,ref:t})})});zO.displayName=ka;var ste=w.forwardRef((e,t)=>{const n=Ur(ka,e.__scopeDialog),r=w.useRef(null),i=ze(t,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return uN(s)},[]),l.jsx(HO,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,s=>s.preventDefault())})}),ate=w.forwardRef((e,t)=>{const n=Ur(ka,e.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return l.jsx(HO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),HO=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Ur(ka,n),c=w.useRef(null),u=ze(t,c);return oN(),l.jsxs(l.Fragment,{children:[l.jsx(jb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Vu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":i0(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(lte,{titleId:o.titleId}),l.jsx(ute,{contentRef:c,descriptionId:o.descriptionId})]})]})}),r0="DialogTitle",BO=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ur(r0,n);return l.jsx(ge.h2,{id:i.titleId,...r,ref:t})});BO.displayName=r0;var qO="DialogDescription",WO=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ur(qO,n);return l.jsx(ge.p,{id:i.descriptionId,...r,ref:t})});WO.displayName=qO;var VO="DialogClose",QO=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ur(VO,n);return l.jsx(ge.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>i.onOpenChange(!1))})});QO.displayName=VO;function i0(e){return e?"open":"closed"}var KO="DialogTitleWarning",[ote,GO]=jD(KO,{contentName:ka,titleName:r0,docsSlug:"dialog"}),lte=({titleId:e})=>{const t=GO(KO),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cte="DialogDescriptionWarning",ute=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GO(cte).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},dte=FO,fte=LO,hte=MO,pte=UO,mte=zO,gte=BO,vte=WO,YO=QO,JO="AlertDialog",[yte,kne]=Ui(JO,[IO]),Wi=IO(),XO=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wi(t);return l.jsx(dte,{...r,...n,modal:!0})};XO.displayName=JO;var xte="AlertDialogTrigger",ZO=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wi(n);return l.jsx(fte,{...i,...r,ref:t})});ZO.displayName=xte;var bte="AlertDialogPortal",e2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wi(t);return l.jsx(hte,{...r,...n})};e2.displayName=bte;var wte="AlertDialogOverlay",t2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wi(n);return l.jsx(pte,{...i,...r,ref:t})});t2.displayName=wte;var Bo="AlertDialogContent",[Ste,_te]=yte(Bo),n2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Wi(n),a=w.useRef(null),o=ze(t,a),c=w.useRef(null);return l.jsx(ote,{contentName:Bo,titleName:r2,docsSlug:"alert-dialog",children:l.jsx(Ste,{scope:n,cancelRef:c,children:l.jsxs(mte,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:ce(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Px,{children:r}),l.jsx(Ete,{contentRef:a})]})})})});n2.displayName=Bo;var r2="AlertDialogTitle",i2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wi(n);return l.jsx(gte,{...i,...r,ref:t})});i2.displayName=r2;var s2="AlertDialogDescription",a2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wi(n);return l.jsx(vte,{...i,...r,ref:t})});a2.displayName=s2;var jte="AlertDialogAction",o2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wi(n);return l.jsx(YO,{...i,...r,ref:t})});o2.displayName=jte;var l2="AlertDialogCancel",c2=w.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=_te(l2,n),s=Wi(n),a=ze(t,i);return l.jsx(YO,{...s,...r,ref:a})});c2.displayName=l2;var Ete=({contentRef:e})=>{const t=`\`${Bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bo}\` by passing a \`${s2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Cte=XO,Pte=ZO,kte=e2,u2=t2,d2=n2,f2=o2,h2=c2,p2=i2,m2=a2;const g2=Cte,v2=Pte,Rte=kte,y2=w.forwardRef(({className:e,...t},n)=>l.jsx(u2,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));y2.displayName=u2.displayName;const s0=w.forwardRef(({className:e,...t},n)=>l.jsxs(Rte,{children:[l.jsx(y2,{}),l.jsx(d2,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));s0.displayName=d2.displayName;const a0=({className:e,...t})=>l.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});a0.displayName="AlertDialogHeader";const o0=({className:e,...t})=>l.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});o0.displayName="AlertDialogFooter";const l0=w.forwardRef(({className:e,...t},n)=>l.jsx(p2,{ref:n,className:ue("text-lg font-semibold",e),...t}));l0.displayName=p2.displayName;const c0=w.forwardRef(({className:e,...t},n)=>l.jsx(m2,{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));c0.displayName=m2.displayName;const u0=w.forwardRef(({className:e,...t},n)=>l.jsx(f2,{ref:n,className:ue(ab(),e),...t}));u0.displayName=f2.displayName;const d0=w.forwardRef(({className:e,...t},n)=>l.jsx(h2,{ref:n,className:ue(ab({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));d0.displayName=h2.displayName;const Tte=()=>{const{user:e,signOut:t}=_t(),{userProfile:n}=sb(),{currentWorkspace:r}=Hi(),i=La(),{toast:s}=Yt(),[a,o]=w.useState(!1),c=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),l.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center",children:[l.jsx(Sf,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),l.jsx(Ut,{children:"Informations générales sur votre compte"})]}),l.jsx(we,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),l.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),l.jsx("div",{className:"mt-1",children:l.jsx(Be,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),l.jsx("div",{className:"mt-1",children:l.jsx(Be,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center",children:[l.jsx(uL,{className:"mr-2 h-5 w-5"}),"Workspace"]}),l.jsx(Ut,{children:"Informations sur votre espace de travail"})]}),l.jsx(we,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),l.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),l.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),i.isSupraAdmin&&l.jsxs(be,{className:"border-primary/20",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center text-primary",children:[l.jsx(_a,{className:"mr-2 h-5 w-5"}),"Administration"]}),l.jsx(Ut,{children:"Outils d'administration (Supra Admin uniquement)"})]}),l.jsx(we,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(Y,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[l.jsx(fL,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center",children:[l.jsx(xL,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),l.jsx(Ut,{children:"Gérez votre session et vos données"})]}),l.jsx(we,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(g2,{open:a,onOpenChange:o,children:[l.jsx(v2,{asChild:!0,children:l.jsxs(Y,{variant:"outline",className:"flex items-center justify-center",children:[l.jsx(AP,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),l.jsxs(s0,{children:[l.jsxs(a0,{children:[l.jsx(l0,{children:"Confirmer la déconnexion"}),l.jsx(c0,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),l.jsxs(o0,{children:[l.jsx(d0,{children:"Annuler"}),l.jsx(u0,{onClick:c,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&l.jsx(be,{className:"border-orange-200 bg-orange-50",children:l.jsx(we,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Yc,{className:"h-5 w-5 text-orange-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),l.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function Nte(){const{user:e}=_t(),[t,n]=w.useState({}),[r,i]=w.useState(!1),s=async()=>{i(!0);try{const{data:{session:a},error:o}=await J.auth.getSession();n(c=>{var u,d;return{...c,session:{exists:!!a,userId:(u=a==null?void 0:a.user)==null?void 0:u.id,email:(d=a==null?void 0:a.user)==null?void 0:d.email,accessToken:a!=null&&a.access_token?"Present":"Missing",error:o==null?void 0:o.message}}})}catch(a){n(o=>({...o,session:{error:a instanceof Error?a.message:String(a)}}))}i(!1)};return l.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsx(Ae,{children:"Auth Context Info"})}),l.jsxs(we,{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsx(Ae,{children:"Session Test"})}),l.jsxs(we,{className:"space-y-4",children:[l.jsx(Y,{onClick:s,disabled:r,children:"Test Session"}),t.session&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(t.session,null,2)})]})]}),l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsx(Ae,{children:"All Debug Info"})}),l.jsx(we,{children:l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(t,null,2)})})]})]})]})}const cd=w.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ue("w-full caption-bottom text-sm",e),...t})}));cd.displayName="Table";const ud=w.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:ue("[&_tr]:border-b",e),...t}));ud.displayName="TableHeader";const dd=w.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:ue("[&_tr:last-child]:border-0",e),...t}));dd.displayName="TableBody";const Ate=w.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ate.displayName="TableFooter";const tr=w.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tr.displayName="TableRow";const at=w.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableHead";const Qe=w.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableCell";const Ote=w.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));Ote.displayName="TableCaption";function $u({className:e,...t}){return l.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",e),...t})}async function Tf(e){const{data:t,error:n}=await J.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function Ite(e,t=1,n=25){const{data:r,error:i}=await J.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function x2(e,t){const{data:n,error:r}=await J.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function Fte(e,t,n){const{data:r,error:i}=await J.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function Dte(e){const{error:t}=await J.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function Lte(e){const{error:t}=await J.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function $te(e,t){const{data:n,error:r}=await J.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Mte(e,t){const{data:n,error:r}=await J.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Ute(e,t,n){const{data:r,error:i}=await J.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const zte=()=>{const[e,t]=w.useState("paid"),[n,r]=w.useState([]),[i,s]=w.useState(!0),[a,o]=w.useState(null),[c,u]=w.useState(null),{toast:d}=Yt();w.useEffect(()=>{(async()=>{try{s(!0);const g=await Tf(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const f=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",h=async(g,m)=>{try{await x2(g,m),d({title:"Plan mis à jour",description:`Nouveau plan: ${m}`});const x=await Tf(e);r(x),o(null)}catch(x){console.error(x),d({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await Dte(g),d({title:"Entreprise supprimée",description:m});const x=await Tf(e);r(x)}catch(x){console.error(x),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(Gc,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Ir,{value:e,onValueChange:g=>t(g),children:[l.jsx(mr,{className:"w-40",children:l.jsx(Fr,{placeholder:"Filtre"})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"paid",children:"Payantes"}),l.jsx(dt,{value:"freemium",children:"Freemium"}),l.jsx(dt,{value:"all",children:"Toutes"})]})]})})]})}),l.jsx(we,{children:i?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>l.jsx($u,{className:"h-12 w-full"},m))}):l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsxs(tr,{children:[l.jsx(at,{children:"Entreprise"}),l.jsx(at,{children:"Propriétaire"}),l.jsx(at,{children:"Plan"}),l.jsx(at,{children:"Utilisateurs"}),l.jsx(at,{children:"Créée le"}),l.jsx(at,{children:"Actions"})]})}),l.jsxs(dd,{children:[n.map(g=>l.jsxs(tr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("div",{children:g.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),l.jsx(Qe,{children:g.owner_email}),l.jsx(Qe,{children:l.jsx(Be,{variant:f(g.plan_type),children:g.plan_type})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(EL,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dL,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),l.jsx(Qe,{children:l.jsx("div",{className:"flex items-center gap-2",children:a===g.id?l.jsxs(l.Fragment,{children:[l.jsxs(Ir,{value:g.plan_type,onValueChange:m=>h(g.id,m),children:[l.jsx(mr,{className:"w-32",children:l.jsx(Fr,{})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"freemium",children:"Freemium"}),l.jsx(dt,{value:"standard",children:"Standard"}),l.jsx(dt,{value:"premium",children:"Premium"})]})]}),l.jsx(Y,{variant:"outline",size:"sm",onClick:()=>o(null),children:"Annuler"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(g.id),children:[l.jsx(bL,{className:"h-4 w-4 mr-2"}),"Modifier"]}),l.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:c===g.id,children:c===g.id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(qh,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&l.jsx(tr,{children:l.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},Hte=()=>{const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(1),[a]=w.useState(25),[o,c]=w.useState(0),[u,d]=w.useState("all"),[f,h]=w.useState(!0),[p,g]=w.useState(null),[m,x]=w.useState(null),[v,y]=w.useState(null),{toast:b}=Yt(),{startImpersonation:S}=dR();w.useEffect(()=>{_(),j()},[]),w.useEffect(()=>{j()},[u,i]);const _=async()=>{try{const N=await Tf("all");r((N||[]).map(M=>({id:M.id,name:M.name})))}catch(N){console.error("Error fetching workspaces:",N)}},j=async()=>{try{h(!0);const{items:N,total:M}=await Ite(u,i,a);t(N),c(M)}catch(N){console.error("Error fetching contacts:",N)}finally{h(!1)}},k=N=>{switch(N){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},R=N=>{switch(N){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},F=N=>{switch(N){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return N}},P=async(N,M)=>{g(`plan-${N.workspace_id}`);try{const A=await x2(N.workspace_id,M);b({title:"Plan du workspace mis à jour",description:`Plan changé vers ${M}. ${(A==null?void 0:A.updatedUsers)??0} utilisateur(s) mis à jour.`}),await j()}catch(A){console.error("Error updating workspace plan:",A),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{g(null)}},I=async(N,M)=>{g(`role-${N.user_id}`);try{await Fte(N.user_id,N.workspace_id,M),b({title:"Rôle mis à jour",description:`Rôle changé vers ${M}`}),await j()}catch(A){console.error("Error updating user role:",A),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{g(null)}},O=async N=>{y(N.user_id);try{if(await S(N.user_id,N.email||"",N.workspace_id,N.company_name||""))b({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${N.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(M){console.error("Error starting impersonation:",M),b({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{y(null)}},z=async(N,M)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${M}" ? Cette action est irréversible et supprimera toutes les données associées.`)){x(N);try{await Lte(N),b({title:"Contact supprimé",description:`Le contact "${M}" a été supprimé avec succès.`}),j()}catch(A){console.error("Error deleting contact:",A),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{x(null)}}};return f?l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(Sf,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),l.jsx(we,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx($u,{className:"h-10 w-full"}),[...Array(5)].map((N,M)=>l.jsx($u,{className:"h-12 w-full"},M))]})})]}):l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(Sf,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",l.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{_(),j()},className:"ml-auto",children:[l.jsx(Jc,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),l.jsxs(we,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",o," résultats"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Y,{variant:"outline",size:"sm",onClick:()=>s(N=>Math.max(1,N-1)),disabled:i===1,children:"Précédent"}),l.jsx(Y,{variant:"outline",size:"sm",onClick:()=>s(N=>N+1),disabled:i*a>=o,children:"Suivant"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs(Ir,{value:u,onValueChange:d,children:[l.jsx(mr,{className:"w-64",children:l.jsx(Fr,{placeholder:"Filtrer par entreprise"})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"all",children:"Toutes les entreprises"}),n.map(N=>l.jsx(dt,{value:N.id,children:N.name},N.id))]})]})}),l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsxs(tr,{children:[l.jsx(at,{children:"Contact"}),l.jsx(at,{children:"Email"}),l.jsx(at,{children:"Entreprise"}),l.jsx(at,{children:"Plan"}),l.jsx(at,{children:"Rôle"}),l.jsx(at,{children:"Ajouté le"}),l.jsx(at,{children:"Actions"})]})}),l.jsxs(dd,{children:[e.map(N=>l.jsxs(tr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sf,{className:"h-4 w-4 text-muted-foreground"}),N.first_name||N.last_name?`${N.first_name} ${N.last_name}`.trim():"Nom non renseigné"]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(OP,{className:"h-4 w-4 text-muted-foreground"}),N.email]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"}),N.company_name]})}),l.jsx(Qe,{children:l.jsx(Be,{variant:k(N.company_plan||"freemium"),children:N.company_plan})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_a,{className:"h-4 w-4"}),l.jsx(Be,{variant:R(N.role),children:F(N.role)})]})}),l.jsx(Qe,{children:new Date(N.created_at).toLocaleDateString("fr-FR")}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Y,{variant:"secondary",size:"sm",onClick:()=>O(N),disabled:v===N.user_id||(p==null?void 0:p.includes(N.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===N.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):l.jsx(_L,{className:"h-4 w-4"})}),l.jsxs(Ir,{value:N.company_plan||"freemium",onValueChange:M=>P(N,M),disabled:p===`plan-${N.workspace_id}`,children:[l.jsx(mr,{className:"w-24",children:l.jsx(Fr,{})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"freemium",children:"Freemium"}),l.jsx(dt,{value:"standard",children:"Standard"}),l.jsx(dt,{value:"premium",children:"Premium"})]})]}),l.jsxs(Ir,{value:N.role,onValueChange:M=>I(N,M),disabled:p===`role-${N.user_id}`,children:[l.jsx(mr,{className:"w-32",children:l.jsx(Fr,{})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"admin",children:"Administrateur"}),l.jsx(dt,{value:"gestionnaire",children:"Gestionnaire"}),l.jsx(dt,{value:"lecteur",children:"Lecteur"})]})]}),l.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>z(N.user_id,N.email||""),disabled:m===N.user_id||(p==null?void 0:p.includes(N.user_id)),children:m===N.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(qh,{className:"h-4 w-4"})}),(p===`plan-${N.workspace_id}`||p===`role-${N.user_id}`)&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},N.id)),e.length===0&&l.jsx(tr,{children:l.jsx(Qe,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},b2=q.createContext(void 0),Bte=({children:e})=>{const[t,n]=q.useState([]),[r,i]=q.useState(!0),s=q.useRef(0),a=q.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await J.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);q.useEffect(()=>{a(!0)},[a]),q.useEffect(()=>{const c=J.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{a(!0)}).subscribe();return()=>{J.removeChannel(c)}},[a]);const o=q.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return l.jsx(b2.Provider,{value:o,children:e})};function w2(){const e=q.useContext(b2);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const qte=()=>{const[e,t]=w.useState([]),[n,r]=w.useState({}),{toast:i}=Yt(),{sources:s,refresh:a,loading:o}=w2();w.useEffect(()=>{const p=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const c=w.useCallback(async(p,g)=>{r(m=>({...m,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${g}`);const{error:m}=await J.from("fe_sources").update({access_level:g}).eq("source_name",p);if(m)throw m;console.log(`✅ Successfully updated source ${p} to ${g}`);try{await J.rpc("refresh_ef_all_for_source",{p_source:p})}catch(x){console.warn("Refresh ef_all failed (tier updated in DB):",x)}r(x=>({...x,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${g}`}),setTimeout(()=>{r(x=>({...x,[p]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error("💥 Error updating source tier:",m),r(x=>({...x,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:m instanceof Error?m.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=o,d=p=>p==="premium"?"default":"secondary",f=p=>p==="premium"?Yc:_a,h=p=>{const g=n[p.source];return g!=null&&g.loading?l.jsxs(l.Fragment,{children:[l.jsx(al,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):g!=null&&g.success?l.jsxs(l.Fragment,{children:[l.jsx(an,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?l.jsxs(l.Fragment,{children:[l.jsx(Yc,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(_a,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),l.jsx(we,{children:l.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,g)=>l.jsx($u,{className:"h-12 w-full"},g))})})]}):l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",l.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[l.jsx(Jc,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),l.jsx(we,{children:l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsxs(tr,{children:[l.jsx(at,{children:"Source"}),l.jsx(at,{children:"Niveau actuel"}),l.jsx(at,{children:"Facteurs Standard"}),l.jsx(at,{children:"Facteurs Premium"}),l.jsx(at,{children:"Total"}),l.jsx(at,{children:"Actions"})]})}),l.jsxs(dd,{children:[e.map(p=>{const g=f(p.current_tier),m=n[p.source];return l.jsxs(tr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),l.jsx(Qe,{children:l.jsxs(Be,{variant:d(p.current_tier),children:[l.jsx(g,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),l.jsx(Qe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),l.jsx(Qe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),l.jsx(Qe,{children:l.jsx("span",{className:"font-medium",children:p.total_count})}),l.jsx(Qe,{children:l.jsx(Y,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:h(p)})})]},p.source)}),e.length===0&&l.jsx(tr,{children:l.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},Wte=()=>{const[e,t]=w.useState([]),{sources:n,refresh:r}=w2(),[i,s]=w.useState([]),[a,o]=w.useState(!0),[c,u]=w.useState(""),[d,f]=w.useState(new Set),[h,p]=w.useState({}),{toast:g}=Yt(),m=b=>b==="premium"?"default":"secondary",x=w.useCallback(async()=>{const{data:b,error:S}=await J.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(S)throw S;const _=((b==null?void 0:b.data)||[]).map(j=>({id:j.id,name:j.name,plan_type:j.plan_type}));t(_),!c&&_.length&&u(_[0].id)},[c]),v=w.useCallback(async b=>{if(!b){f(new Set);return}const{data:S,error:_}=await J.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",b);if(_)throw _;f(new Set((S||[]).map(j=>j.source_name)))},[]);w.useEffect(()=>{s(n||[])},[n]),w.useEffect(()=>{(async()=>{try{o(!0),await x()}catch(b){console.error(b),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{o(!1)}})()},[x,g]),w.useEffect(()=>{(async()=>{try{c&&(o(!0),await v(c))}catch(b){console.error(b)}finally{o(!1)}})()},[c,v]),w.useEffect(()=>{if(!c)return;const b=J.channel(`fsw-${c}`).on("postgres_changes",{event:"*",schema:"public",table:"fe_source_workspace_assignments",filter:`workspace_id=eq.${c}`},()=>{v(c).catch(()=>{})}).subscribe();return()=>{J.removeChannel(b)}},[c,v]);const y=w.useCallback(async(b,S)=>{if(c){p(_=>({..._,[b]:!0}));try{S?(await $te(b,c),f(_=>new Set(_).add(b))):(await Mte(b,c),f(_=>{const j=new Set(_);return j.delete(b),j}))}catch(_){console.error(_),g({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(_=>({..._,[b]:!1}))}}},[c,g]);return a?l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(Gc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),l.jsx(we,{children:l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((b,S)=>l.jsx($u,{className:"h-12 w-full"},S))})})]}):l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(Gc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",l.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[l.jsx(Jc,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),l.jsx(Y,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const b=i.filter(F=>F.access_level==="premium").map(F=>F.source_name),S=i.filter(F=>F.access_level==="standard").map(F=>F.source_name),_=b.filter(F=>d.has(F)),j=b.filter(F=>!d.has(F)),k=[...S,..._],R=j;await Ute(c,k,R),g({title:"Synchronisation réussie",description:`Assignés: ${k.length} • Désassignés: ${R.length}`}),await v(c)}catch(b){console.error(b),g({title:"Erreur",description:(b==null?void 0:b.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),l.jsxs(we,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(Ir,{value:c,onValueChange:u,children:[l.jsx(mr,{className:"w-96",children:l.jsx(Fr,{placeholder:"Sélectionner un workspace"})}),l.jsx(gr,{children:e.map(b=>l.jsx(dt,{value:b.id,children:b.name},b.id))})]})})}),l.jsxs(cd,{children:[l.jsx(ud,{children:l.jsxs(tr,{children:[l.jsx(at,{children:"Source"}),l.jsx(at,{children:"Access level"}),l.jsx(at,{children:"Activer"}),l.jsx(at,{children:"Désactiver"})]})}),l.jsxs(dd,{children:[i.map(b=>{const S=b.access_level==="standard"||d.has(b.source_name),_=!!h[b.source_name],j=b.access_level==="premium";return l.jsxs(tr,{children:[l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:b.source_name})]})}),l.jsx(Qe,{children:l.jsx(Be,{variant:m(b.access_level),children:b.access_level})}),l.jsx(Qe,{children:_?l.jsx(al,{className:"h-4 w-4 animate-spin"}):l.jsx($i,{checked:S,onCheckedChange:()=>j&&y(b.source_name,!0),disabled:!c||!j})}),l.jsx(Qe,{children:_?l.jsx(al,{className:"h-4 w-4 animate-spin"}):l.jsx($i,{checked:!S,onCheckedChange:()=>j&&y(b.source_name,!1),disabled:!c||!j})})]},b.source_name)}),i.length===0&&l.jsx(tr,{children:l.jsx(Qe,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},Vte=()=>{const[e,t]=q.useState("access");return l.jsxs(hh,{value:e,onValueChange:n=>t(n),className:"w-full",children:[l.jsxs(au,{children:[l.jsx(Kn,{value:"access",children:"Accès aux sources"}),l.jsx(Kn,{value:"assignments",children:"Assignations"})]}),l.jsx("div",{className:"mt-4"}),e==="access"&&l.jsx(Gn,{value:"access",asChild:!0,children:l.jsx("div",{children:l.jsx(qte,{})})}),e==="assignments"&&l.jsx(Gn,{value:"assignments",asChild:!0,children:l.jsx("div",{children:l.jsx(Wte,{})})})]})},Qte=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(!1),{toast:c}=Yt(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=p.charAt(Math.floor(Math.random()*p.length));r(g)},d=async h=>{h.preventDefault(),o(!0);try{const{data:{session:p}}=await J.auth.getSession();if(!p){c({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succès",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{o(!1)}},f=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return l.jsxs(be,{className:"w-full max-w-md",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(jL,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),l.jsx(Ut,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),l.jsx(we,{children:l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"email",children:"Email"}),l.jsx(Mt,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"password",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mt,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),l.jsx(Y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?l.jsx(hL,{className:"h-4 w-4"}):l.jsx(pL,{className:"h-4 w-4"})})]}),l.jsx(Y,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&l.jsx(oi,{children:l.jsxs(li,{children:["Force du mot de passe: ",f(n)?"✅ Fort":"❌ Faible",!f(n)&&l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),l.jsx(Y,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},Kte=()=>{const[e,t]=w.useState(!1),{toast:n}=Yt(),r=async()=>{t(!0);try{const{data:{session:i}}=await J.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return l.jsxs(be,{className:"w-full max-w-md",children:[l.jsxs(Ne,{children:[l.jsxs(Ae,{className:"flex items-center gap-2",children:[l.jsx(qh,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),l.jsx(Ut,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),l.jsxs(we,{children:[l.jsxs(oi,{className:"mb-4",children:[l.jsx(Xc,{className:"h-4 w-4"}),l.jsx(li,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),l.jsxs(g2,{children:[l.jsx(v2,{asChild:!0,children:l.jsx(Y,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),l.jsxs(s0,{children:[l.jsxs(a0,{children:[l.jsx(l0,{children:"Confirmer le nettoyage"}),l.jsx(c0,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),l.jsxs(o0,{children:[l.jsx(d0,{children:"Annuler"}),l.jsx(u0,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},Gte=()=>{const{toast:e}=Yt(),{isSupraAdmin:t}=id(),[n,r]=q.useState(null),[i,s]=q.useState(!1),[a,o]=q.useState(0),[c,u]=q.useState(null),[d,f]=q.useState([]),[h,p]=q.useState(!1),[g,m]=q.useState([]),[x,v]=q.useState(!1),[y,b]=q.useState("idle"),[S,_]=q.useState(null),j=()=>{const z=["ID","Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],N=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],M=[z.join(","),N.join(",")].join(`
`),A=new Blob([M],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(A),E=document.createElement("a");E.href=D,E.download="template_import_emission_factors_bilingue.csv",E.click(),URL.revokeObjectURL(D)},k=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),o(0),console.log("🔍 Analyse filename original:",{name:n.name,length:n.name.length,charCodes:n.name.split("").map(A=>`${A}(${A.charCodeAt(0)})`),hasNonAscii:/[^\x00-\x7F]/.test(n.name),hasSpaces:n.name.includes(" "),hasDashes:n.name.includes("-"),hasSpecialChars:/[^a-zA-Z0-9.-]/.test(n.name)});let z=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);z.endsWith(".csv")||(z=z.replace(/\.[^.]*$/,"")+".csv");const N=`${Date.now()}_${z}`;console.log("🔍 Debug transformation complète:",{"1_original":n.name,"2_clean":z,"3_finalPath":N,"4_pathLength":N.length,"5_onlyAllowedChars":/^[a-z0-9_.]+$/.test(N)});const{error:M}=await J.storage.from("imports").upload(N,n,{upsert:!0});if(M)throw M;u(N),o(100),p(!1),f([]),e({title:"Upload terminé",description:N})}catch(z){e({variant:"destructive",title:"Erreur upload",description:z.message||String(z)})}finally{s(!1)}},R=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:z,error:N}=await J.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!0}});if(N)throw N;const M=((z==null?void 0:z.sources)||[]).map($=>({name:$.name,count:$.count,access_level:$.access_level||"standard",is_global:typeof $.is_global=="boolean"?$.is_global:!0}));f(M),p(!0),e({title:"Analyse terminée",description:`${(z==null?void 0:z.processed)||0} lignes valides; ${M.length} sources détectées`});const A=Number(z==null?void 0:z.processed)||M.reduce(($,H)=>$+(Number(H.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${M.length} — Lignes valides: ${A}`))return;const E={};M.forEach($=>{E[$.name]={access_level:$.access_level,is_global:$.is_global}}),b("importing"),_("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:L,error:C}=await J.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:E}});if(C)throw C;e({title:"Import lancé",description:`Job: ${(L==null?void 0:L.import_id)||"en file"}`}),b("success"),_("Import terminé. Indexation Algolia effectuée par source."),await P()}catch(z){e({variant:"destructive",title:"Erreur import",description:z.message||String(z)}),b("error"),_(z!=null&&z.message?String(z.message):"Erreur lors de l'import.")}},F=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const z={};d.forEach(A=>{z[A.name]={access_level:A.access_level,is_global:A.is_global}}),b("importing"),_("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:N,error:M}=await J.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:z}});if(M)throw M;e({title:"Import lancé",description:`Job: ${(N==null?void 0:N.import_id)||"en file"}`}),b("success"),_("Import terminé. Indexation Algolia effectuée par source."),await P()}catch(z){e({variant:"destructive",title:"Erreur import",description:z.message||String(z)}),b("error"),_(z!=null&&z.message?String(z.message):"Erreur lors de l'import.")}},P=q.useCallback(async()=>{try{v(!0);const{data:z,error:N}=await J.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(N)throw N;const M=(z||[]).map(A=>({id:A.id,status:A.status,processed:A.records_processed??null,failed:A.records_failed??null,created_at:A.created_at}));m(M)}catch{}finally{v(!1)}},[]);if(q.useEffect(()=>{P();const z=setInterval(P,5e3);return()=>clearInterval(z)},[P]),!t)return null;const I=z=>f(N=>N.map(M=>({...M,access_level:z}))),O=z=>f(N=>N.map(M=>({...M,is_global:z})));return l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:"Import de la base de facteurs (FR/EN)"}),l.jsx(Ut,{children:"L\\'indexation Algolia est automatique via Webhook après import. • Étape 1: Uploader le fichier vers le Storage. • Étape 2: Analyser pour détecter les sources et préparer le mapping (Standard/Premium, Global oui/non). • Étape 3: Importer. La synchronisation Algolia par source s\\'exécute automatiquement."})]}),l.jsxs(we,{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Y,{variant:"secondary",onClick:j,children:"Télécharger le template CSV"})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nt,{children:"Fichier CSV"}),l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ea,{children:"Sélectionnez le CSV complet exporté depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportées."})]})})]}),l.jsx(Mt,{type:"file",accept:".csv,text/csv",onChange:z=>{var N;return r(((N=z.target.files)==null?void 0:N[0])||null)}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx(Y,{onClick:k,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),l.jsx(ea,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),c&&l.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx(Y,{onClick:R,disabled:!c,children:"Analyser puis Importer"})}),l.jsx(ea,{children:"Analyse le CSV et propose immédiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),h&&d.length>0&&l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx(Y,{variant:"secondary",onClick:F,children:"Importer avec ce mapping"})}),l.jsx(ea,{children:"Utilise le mapping affiché ci-dessous sans relancer l'analyse."})]})})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nt,{children:"Sources détectées (après analyse)"}),l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ea,{children:"Choisissez l\\'accès par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),d.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),l.jsxs(Ir,{onValueChange:z=>I(z),children:[l.jsx(mr,{className:"w-40",children:l.jsx(Fr,{placeholder:"Accès"})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"standard",children:"Standard"}),l.jsx(dt,{value:"premium",children:"Premium"})]})]}),l.jsx(Y,{variant:"outline",size:"sm",onClick:()=>O(!0),children:"Global: Oui"}),l.jsx(Y,{variant:"outline",size:"sm",onClick:()=>O(!1),children:"Global: Non"})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Source"}),l.jsx("th",{className:"p-2 text-right",children:"Lignes"}),l.jsx("th",{className:"p-2 text-left",children:"Accès"}),l.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),l.jsx("tbody",{children:d.map((z,N)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:z.name}),l.jsx("td",{className:"p-2 text-right",children:z.count}),l.jsx("td",{className:"p-2",children:l.jsxs(Ir,{value:z.access_level,onValueChange:M=>f(A=>A.map((D,E)=>E===N?{...D,access_level:M}:D)),children:[l.jsx(mr,{className:"w-36",children:l.jsx(Fr,{})}),l.jsxs(gr,{children:[l.jsx(dt,{value:"standard",children:"Standard"}),l.jsx(dt,{value:"premium",children:"Premium"})]})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:z.is_global,onChange:M=>f(A=>A.map((D,E)=>E===N?{...D,is_global:M.target.checked}:D))}),l.jsx("span",{children:"Global"})]})})]},z.name))})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nt,{children:"Historique des imports"}),l.jsx(Zs,{children:l.jsxs(Qa,{children:[l.jsx(Ka,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ea,{children:"Liste des imports récents et leur statut."})]})})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Date"}),l.jsx("th",{className:"p-2 text-left",children:"Statut"}),l.jsx("th",{className:"p-2 text-right",children:"Traitées"}),l.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),l.jsx("tbody",{children:x?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map(z=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(z.created_at).toLocaleString()}),l.jsx("td",{className:"p-2",children:z.status??"-"}),l.jsx("td",{className:"p-2 text-right",children:z.processed??"-"}),l.jsx("td",{className:"p-2 text-right",children:z.failed??"-"})]},z.id))})]})})]}),y!=="idle"&&l.jsxs("div",{className:"space-y-2 p-4 border rounded-md",children:[y==="importing"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:S}),l.jsx("div",{className:"w-full h-2 bg-muted rounded-md overflow-hidden",children:l.jsx("div",{className:"h-2 w-2/3 bg-primary animate-pulse"})})]}),y==="success"&&l.jsx("div",{className:"text-sm text-green-700",children:S}),y==="error"&&l.jsx("div",{className:"text-sm text-red-700",children:S})]})]})]})},Yte=()=>{const{toast:e}=Yt(),{isSupraAdmin:t}=id(),[n,r]=w.useState(!1),[i,s]=w.useState([]),[a,o]=w.useState([]),c=async()=>{try{r(!0);const{data:d,error:f}=await J.storage.listBuckets();if(f)throw new Error(`Erreur buckets: ${f.message}`);s(d||[]),o([]),e({title:"Diagnostic terminé",description:`${(d==null?void 0:d.length)||0} buckets trouvés`})}catch(d){e({variant:"destructive",title:"Erreur diagnostic",description:d.message})}finally{r(!1)}},u=async()=>{try{r(!0);const{data:{user:d}}=await J.auth.getUser(),{data:f,error:h}=await J.rpc("is_supra_admin",{user_uuid:d==null?void 0:d.id});if(console.log("🔍 Supra admin check:",{supraAdminCheck:f,roleError:h}),h)throw new Error(`Erreur vérification supra admin: ${h.message}`);if(!f)throw new Error("Utilisateur non supra admin - permissions insuffisantes");const p=`test,upload
1,working`,g=new Blob([p],{type:"text/csv"}),m=`test_${Date.now()}.csv`;console.log("🔍 Tentative upload:",{fileName:m,fileSize:g.size});const{data:x,error:v}=await J.storage.from("imports").upload(m,g);if(v)throw console.error("🔍 Erreur upload détaillée:",v),v;console.log("🔍 Upload réussi:",x),e({title:"Test upload réussi !",description:`Fichier ${m} uploadé avec succès`}),await J.storage.from("imports").remove([m])}catch(d){console.error("🔍 Erreur complète:",d),e({variant:"destructive",title:"Test upload échoué",description:d.message})}finally{r(!1)}};return t?l.jsxs(be,{children:[l.jsx(Ne,{children:l.jsx(Ae,{children:"🔧 Diagnostic Storage - Bucket Imports"})}),l.jsxs(we,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx(Y,{onClick:c,disabled:n,children:n?"Diagnostic...":"Vérifier Buckets"}),l.jsx(Y,{onClick:u,disabled:n,variant:"outline",children:"Test Upload"})]}),i.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Buckets Storage:"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map(d=>l.jsxs(Be,{variant:d.id==="imports"?"default":"secondary",children:[d.id," ",d.public?"(public)":"(privé)"]},d.id))})]}),a.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Politiques Storage Imports:"}),l.jsx("div",{className:"text-sm space-y-1",children:a.map((d,f)=>l.jsxs("div",{className:"p-2 bg-muted rounded",children:[l.jsx("strong",{children:d.policyname}),": ",d.cmd]},f))})]}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-2",children:[l.jsx("div",{children:l.jsx("strong",{children:"Diagnostic de l'erreur 400 Bad Request:"})}),i.find(d=>d.id==="imports")?l.jsx("div",{className:"bg-green-50 p-2 rounded text-green-700",children:"✅ Bucket 'imports' trouvé ! Le problème vient d'ailleurs."}):l.jsx("div",{className:"bg-red-50 p-2 rounded text-red-700",children:"❌ Bucket 'imports' manquant ! C'est la cause du problème."}),l.jsx("div",{children:l.jsx("strong",{children:"Solutions pour créer le bucket 'imports':"})}),l.jsxs("div",{className:"bg-blue-50 p-3 rounded space-y-2",children:[l.jsx("div",{children:l.jsx("strong",{children:"Option 1: Via Supabase Dashboard"})}),l.jsxs("ol",{className:"list-decimal list-inside text-xs space-y-1 ml-2",children:[l.jsxs("li",{children:["Aller sur ",l.jsx("a",{href:"https://supabase.com/dashboard/project/wrodvaatdujbpfpvrzge/storage/buckets",target:"_blank",className:"text-blue-600 underline",children:"dashboard.supabase.com"})]}),l.jsx("li",{children:"Section Storage → Buckets"}),l.jsx("li",{children:'Cliquer "New bucket"'}),l.jsxs("li",{children:["Nom: ",l.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"imports"})]}),l.jsxs("li",{children:["Public: ",l.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"Non"})]}),l.jsxs("li",{children:["File size limit: ",l.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"50MB"})]}),l.jsxs("li",{children:["Allowed MIME types: ",l.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"text/csv"})]})]}),l.jsx("div",{className:"mt-2",children:l.jsx("strong",{children:"Option 2: Politiques Storage (CRITIQUE)"})}),l.jsx("div",{className:"bg-gray-800 text-gray-100 p-2 rounded text-xs font-mono",children:`-- Si le bucket existe mais erreur 400, exécuter ces politiques:
CREATE POLICY "Supra admins can upload imports" 
ON storage.objects FOR INSERT 
WITH CHECK (bucket_id = 'imports' AND is_supra_admin());

CREATE POLICY "Supra admins can read imports" 
ON storage.objects FOR SELECT 
USING (bucket_id = 'imports' AND is_supra_admin());`}),l.jsx("div",{className:"mt-2",children:l.jsx("strong",{children:"Option 3: Test manuel via Dashboard"})}),l.jsx("div",{className:"text-xs",children:"Allez dans Storage → Files → imports et essayez d'upload un fichier directement depuis le dashboard pour vérifier les permissions."})]})]})]})]}):null},Jte=()=>{const[e,t]=w.useState(null),[n,r]=w.useState([]),[i,s]=w.useState([]);w.useState(!1);const[a,o]=w.useState(!0),c=w.useCallback(async()=>{try{o(!0);const m=On.getMetrics();t(m);const x=On.generateRecommendations();r(x)}catch(m){console.error("Error loading performance data:",m)}finally{o(!1)}},[]);w.useEffect(()=>{c();const m=setInterval(c,3e4),x=v=>{s(y=>[v,...y.slice(0,9)])};return On.onAlert(x),()=>{clearInterval(m),On.offAlert(x)}},[c]);const u=w.useCallback(async()=>{const m=On.autoTune();m.cacheAdjustments.increaseTTL&&console.log("Applying cache adjustments:",m.cacheAdjustments),m.throttlingAdjustments.reduceMaxRequestsPerSecond&&console.log("Applying throttling adjustments:",m.throttlingAdjustments),m.debounceAdjustments.increaseDelay&&console.log("Applying debounce adjustments:",m.debounceAdjustments),await c()},[c]),d=w.useCallback(()=>{On.reset(),Vt.clear(),Pi.clear(),s([]),c()},[c]);if(a||!e)return l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Jc,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Chargement des métriques..."})]});const f=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(1)}K`:m.toString(),h=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(m),p=m=>{switch(m){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},g=()=>e.totalRequests===0?100:e.successfulRequests/e.totalRequests*100;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Performance Algolia"}),l.jsx("p",{className:"text-gray-600",children:"Monitoring et optimisation en temps réel"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Y,{onClick:c,variant:"outline",children:[l.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Actualiser"]}),l.jsxs(Y,{onClick:u,variant:"outline",children:[l.jsx(rh,{className:"h-4 w-4 mr-2"}),"Auto-tuning"]}),l.jsx(Y,{onClick:d,variant:"destructive",children:"Reset"})]})]}),i.length>0&&l.jsxs(oi,{className:"border-orange-200 bg-orange-50",children:[l.jsx(Xc,{className:"h-4 w-4"}),l.jsxs(li,{children:[l.jsxs("strong",{children:[i.length," alerte(s) active(s)"]}),l.jsx("div",{className:"mt-2 space-y-1",children:i.slice(0,3).map((m,x)=>l.jsxs("div",{className:"text-sm",children:["• ",m.message]},x))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(be,{children:[l.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ae,{className:"text-sm font-medium",children:"Requêtes totales"}),l.jsx(wL,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(we,{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.totalRequests)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(e.searchesPerMinute)," par minute"]})]})]}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ae,{className:"text-sm font-medium",children:"Taux de succès"}),l.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(we,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[g().toFixed(1),"%"]}),l.jsx(Ho,{value:g(),className:"mt-2"})]})]}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ae,{className:"text-sm font-medium",children:"Temps de réponse"}),l.jsx(th,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(we,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResponseTime.toFixed(0),"ms"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",e.p95ResponseTime.toFixed(0),"ms"]})]})]}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ae,{className:"text-sm font-medium",children:"Économies"}),l.jsx(SL,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(we,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h(e.estimatedCostSavings)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(e.totalRequestsSaved)," requêtes économisées"]})]})]})]}),l.jsxs(hh,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(au,{children:[l.jsx(Kn,{value:"overview",children:"Vue d'ensemble"}),l.jsx(Kn,{value:"cache",children:"Cache"}),l.jsx(Kn,{value:"recommendations",children:"Recommandations"}),l.jsx(Kn,{value:"details",children:"Détails"})]}),l.jsx(Gn,{value:"overview",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:"Performance du Cache"}),l.jsx(Ut,{children:"Efficacité du système de cache"})]}),l.jsx(we,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Taux de hit"}),l.jsxs("span",{className:"font-bold",children:[e.cacheHitRate.toFixed(1),"%"]})]}),l.jsx(Ho,{value:e.cacheHitRate}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Déduplication"}),l.jsxs("span",{className:"font-bold",children:[e.deduplicationRate.toFixed(1),"%"]})]}),l.jsx(Ho,{value:e.deduplicationRate})]})})]}),l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:"Termes de recherche populaires"}),l.jsx(Ut,{children:"Les recherches les plus fréquentes"})]}),l.jsx(we,{children:l.jsx("div",{className:"space-y-2",children:e.topSearchTerms.slice(0,5).map((m,x)=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:m}),l.jsxs(Be,{variant:"secondary",children:["#",x+1]})]},x))})})]})]})}),l.jsx(Gn,{value:"cache",className:"space-y-4",children:l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:"Statistiques du cache"}),l.jsx(Ut,{children:"Détails de performance du système de cache"})]}),l.jsx(we,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[e.cacheHitRate.toFixed(1),"%"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux de hit"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.cacheSize)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Entrées en cache"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.duplicateRequestsAvoided)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Doublons évités"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.throttledRequests)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Requêtes throttlées"})]})]})})]})}),l.jsx(Gn,{value:"recommendations",className:"space-y-4",children:l.jsxs("div",{className:"space-y-4",children:[n.map((m,x)=>l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ae,{className:"text-lg",children:m.title}),l.jsx(Be,{variant:p(m.priority),children:m.priority})]}),l.jsx(Ut,{children:m.description})]}),l.jsx(we,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Impact:"})," ",m.impact]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Action recommandée:"})," ",m.action]}),m.estimatedSavings&&m.estimatedSavings>0&&l.jsxs("div",{children:[l.jsx("strong",{children:"Économies estimées:"})," ",h(m.estimatedSavings)]})]})})]},x)),n.length===0&&l.jsx(be,{children:l.jsx(we,{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(an,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Système optimisé"}),l.jsx("p",{className:"text-muted-foreground",children:"Aucune recommandation d'optimisation pour le moment."})]})})})]})}),l.jsx(Gn,{value:"details",className:"space-y-4",children:l.jsxs(be,{children:[l.jsxs(Ne,{children:[l.jsx(Ae,{children:"Métriques détaillées"}),l.jsx(Ut,{children:"Données complètes de performance"})]}),l.jsx(we,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes réussies:"})," ",f(e.successfulRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes échouées:"})," ",f(e.failedRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"P99 temps de réponse:"})," ",e.p99ResponseTime.toFixed(0),"ms"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Utilisateurs uniques:"})," ",f(e.uniqueUsers)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes debouncées:"})," ",f(e.debouncedRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Dernière MAJ:"})," ",new Date(e.lastUpdated).toLocaleTimeString()]})]})})]})})]})]})},Xte=()=>{const{user:e}=_t(),{isSupraAdmin:t,loading:n}=id();Yt();const[r,i]=w.useState(!1);return w.useEffect(()=>{i(!1)},[e,t]),n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(oi,{className:"max-w-2xl mx-auto",children:[l.jsx(Xc,{className:"h-4 w-4"}),l.jsx(li,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(ga,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[l.jsx(_a,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),l.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Be,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),l.jsx(Be,{variant:"outline",children:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),l.jsx(zte,{})]}),l.jsx(Hte,{}),l.jsx(Bte,{children:l.jsx(Vte,{})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Performance Algolia"}),l.jsx(Jte,{})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Yte,{}),l.jsx(Gte,{})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsx(Qte,{}),l.jsx(Kte,{})]})]})]}),l.jsxs(be,{className:"mt-6",children:[l.jsx(Ne,{children:l.jsx(Ae,{children:"Informations de debug"})}),l.jsx(we,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",e.id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},Zte=()=>{const e=Oa();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ene=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),[a,o]=w.useState(null),{toast:c}=Yt(),u=np(),d=async f=>{f.preventDefault(),s(!0),o(null);try{const{error:h}=await J.auth.signInWithPassword({email:e,password:n});h?(o(h.message),c({variant:"destructive",title:"Erreur de connexion",description:h.message})):(c({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{o("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(xt,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[l.jsx(Ax,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(be,{children:[l.jsxs(Ne,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(_a,{className:"text-white w-6 h-6"})}),l.jsx(Ae,{className:"text-2xl",children:"Connexion Développeur"}),l.jsx(Ut,{children:"Accès administrateur pour le développement et la maintenance"})]}),l.jsxs(we,{children:[l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Tr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),l.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"email",children:"Email administrateur"}),l.jsx(Mt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Mt,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),l.jsx(Y,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&l.jsxs(oi,{variant:"destructive",className:"mt-4",children:[l.jsx(Tr,{className:"h-4 w-4"}),l.jsx(li,{children:a})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},tne=new N4,oo=({children:e})=>{const{user:t,loading:n}=_t();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(Dk,{to:"/login",replace:!0})},jg=({children:e})=>{const{user:t,loading:n}=_t();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(Dk,{to:"/search",replace:!0}):l.jsx(l.Fragment,{children:e})},nne=()=>l.jsx(O4,{client:tne,children:l.jsx(GU,{children:l.jsx(YU,{children:l.jsx(JU,{children:l.jsx(XU,{children:l.jsxs(Zs,{children:[l.jsx(o$,{}),l.jsx(D$,{}),l.jsx(k3,{children:l.jsxs("div",{className:"min-h-screen",children:[l.jsx(tz,{}),l.jsxs(w3,{children:[l.jsx(lr,{path:"/",element:l.jsx(wz,{})}),l.jsx(lr,{path:"/login",element:l.jsx(jg,{children:l.jsx(Ez,{})})}),l.jsx(lr,{path:"/signup",element:l.jsx(jg,{children:l.jsx(Pz,{})})}),l.jsx(lr,{path:"/dev",element:l.jsx(jg,{children:l.jsx(ene,{})})}),l.jsx(lr,{path:"/search",element:l.jsx(oo,{children:l.jsx(Vee,{})})}),l.jsx(lr,{path:"/favoris",element:l.jsx(oo,{children:l.jsx(ete,{})})}),l.jsx(lr,{path:"/import",element:l.jsx(oo,{children:l.jsx(tte,{})})}),l.jsx(lr,{path:"/settings",element:l.jsx(oo,{children:l.jsx(Tte,{})})}),l.jsx(lr,{path:"/debug",element:l.jsx(oo,{children:l.jsx(Nte,{})})}),l.jsx(lr,{path:"/admin",element:l.jsx(oo,{children:l.jsx(Xte,{})})}),l.jsx(lr,{path:"*",element:l.jsx(Zte,{})})]})]})})]})})})})})}),hc={cache:{enabled:yn.ENABLE_CACHE,ttlMs:yn.CACHE_TTL_MS,maxSize:yn.MAX_CACHE_SIZE,autoTuning:yn.ENABLE_AUTO_TUNING},throttling:{enabled:yn.ENABLE_SMART_THROTTLING,requestsPerSecond:yn.THROTTLE_REQUESTS_PER_SECOND,burstAllowance:10,adaptiveThrottling:!0},debouncing:{enabled:!0,baseDelayMs:yn.DEBOUNCE_DELAY_MS,maxDelayMs:1e3,adaptiveDelay:!0},batching:{enabled:yn.ENABLE_BATCHING,delayMs:yn.BATCH_DELAY_MS,maxBatchSize:yn.MAX_BATCH_SIZE},monitoring:{enabled:yn.ENABLE_PERFORMANCE_MONITORING,alertThresholds:{errorRatePercent:5,responseTimeMs:2e3,cacheHitRatePercent:70,requestRatePerMinute:100},metricsRetentionHours:24},suggestions:{enabled:yn.ENABLE_SMART_SUGGESTIONS,maxSuggestions:8,prefixCacheEnabled:!0,preloadingEnabled:!0}};({...hc,cache:{...hc.cache,ttlMs:2*60*1e3},throttling:{...hc.throttling},monitoring:{...hc.monitoring}});const rne=()=>hc,ine=e=>{const t=[];return e.cache.ttlMs<=0&&t.push("Cache TTL doit être positif"),e.cache.maxSize<=0&&t.push("Taille maximale du cache doit être positive"),e.throttling.requestsPerSecond<=0&&t.push("Taux de throttling doit être positif"),e.debouncing.baseDelayMs<0&&t.push("Délai de debouncing doit être non-négatif"),e.batching.maxBatchSize<=0&&t.push("Taille maximale de batch doit être positive"),e.suggestions.maxSuggestions<=0&&t.push("Nombre maximum de suggestions doit être positif"),(e.monitoring.alertThresholds.errorRatePercent<0||e.monitoring.alertThresholds.errorRatePercent>100)&&t.push("Seuil d'erreur doit être entre 0 et 100%"),t},sne=()=>{var i;const e=rne(),t=typeof navigator<"u"?navigator.userAgent:"",n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=typeof navigator<"u"&&"connection"in navigator&&((i=navigator.connection)==null?void 0:i.effectiveType)==="slow-2g";return n||r?{...e,cache:{...e.cache,ttlMs:e.cache.ttlMs*1.5,maxSize:Math.floor(e.cache.maxSize*.7)},debouncing:{...e.debouncing,baseDelayMs:Math.floor(e.debouncing.baseDelayMs*1.5)},batching:{...e.batching,delayMs:e.batching.delayMs*2,maxBatchSize:Math.floor(e.batching.maxBatchSize*1.5)}}:e},Si=sne(),ane=ine(Si);ane.length>0;class one{constructor(){pe(this,"initialized",!1);pe(this,"initPromise",null)}async initialize(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this.performInitialization(),this.initPromise)}async performInitialization(){console.log("🚀 Initialisation du système Algolia optimisé...");try{Si.monitoring.enabled&&this.initializeMonitoring(),Si.cache.enabled&&this.initializeCache(),Si.cache.autoTuning&&this.startAutoTuning(),Si.suggestions.preloadingEnabled&&await this.preloadCommonData(),this.setupAlerts(),this.recordSuccessfulInit(),this.initialized=!0,console.log("✅ Système Algolia optimisé initialisé avec succès"),yn.DEBUG_PERFORMANCE}catch(t){console.error("❌ Erreur lors de l'initialisation Algolia:",t),this.initialized=!0}}initializeMonitoring(){On.onAlert(t=>{console.warn(`🚨 Alerte Algolia [${t.severity}]:`,t.message),this.sendToMonitoringService(t)})}initializeCache(){Vt.autoTune()}startAutoTuning(){setInterval(()=>{try{const t=On.autoTune();Vt.autoTune(),yn.DEBUG_PERFORMANCE}catch(t){console.warn("⚠️ Erreur auto-tuning:",t)}},5*60*1e3)}async preloadCommonData(){try{const t=["électricité","transport","chauffage","gaz","fioul","bois","eau","déchets"];Pi.updateContext({origin:"all",assignedSources:[],recentSearches:t.slice(0,3)}),await Pi.preloadPopularPrefixes(t),yn.DEBUG_PERFORMANCE}catch(t){console.warn("⚠️ Erreur préchargement:",t)}}setupAlerts(){setInterval(()=>{const t=On.getMetrics();Vt.getCacheStats(),t.cacheHitRate<Si.monitoring.alertThresholds.cacheHitRatePercent&&console.warn(`⚠️ Cache hit rate faible: ${t.cacheHitRate.toFixed(1)}%`),t.averageResponseTime>Si.monitoring.alertThresholds.responseTimeMs&&console.warn(`⚠️ Temps de réponse élevé: ${t.averageResponseTime.toFixed(0)}ms`);const n=t.failedRequests/Math.max(t.totalRequests,1)*100;n>Si.monitoring.alertThresholds.errorRatePercent&&console.warn(`⚠️ Taux d'erreur élevé: ${n.toFixed(1)}%`),t.cacheHitRate<30&&Vt.autoTune()},2*60*1e3)}recordSuccessfulInit(){On.recordRequest(0,!0,"system","algolia_optimization_init")}sendToMonitoringService(t){typeof window<"u"&&"fetch"in window&&fetch("/api/monitoring/algolia-alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert:t,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href})}).catch(n=>{console.warn("Erreur envoi monitoring:",n)})}getStatus(){return{initialized:this.initialized,config:Si,metrics:this.initialized?On.getMetrics():null,cacheStats:this.initialized?Vt.getCacheStats():null}}async restart(){console.log("🔄 Redémarrage du système Algolia optimisé..."),this.initialized=!1,this.initPromise=null,On.reset(),Vt.clear(),Pi.clear(),await this.initialize()}forceOptimization(){if(!this.initialized)return;console.log("🚀 Optimisation forcée du système Algolia...");const t=On.autoTune();Vt.autoTune(),console.log("✅ Optimisation appliquée:",t)}}const Nj=new one;typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Nj.initialize()}):Nj.initialize());try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}ZC(document.getElementById("root")).render(l.jsx(nne,{}));
