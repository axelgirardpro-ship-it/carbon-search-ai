var TT=Object.defineProperty;var Rx=e=>{throw TypeError(e)};var OT=(e,t,n)=>t in e?TT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var oa=(e,t,n)=>OT(e,typeof t!="symbol"?t+"":t,n),gh=(e,t,n)=>t.has(e)||Rx("Cannot "+n);var W=(e,t,n)=>(gh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?Rx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ve=(e,t,n,r)=>(gh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(gh(e,t,"access private method"),n);var cu=(e,t,n,r)=>({set _(i){ve(e,t,i,n)},get _(){return W(e,t,r)}});function AT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ys(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var x1={exports:{}},df={},b1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),FT=Symbol.for("react.portal"),$T=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),LT=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),UT=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),HT=Symbol.for("react.memo"),WT=Symbol.for("react.lazy"),Nx=Symbol.iterator;function VT(e){return e===null||typeof e!="object"?null:(e=Nx&&e[Nx]||e["@@iterator"],typeof e=="function"?e:null)}var w1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S1=Object.assign,j1={};function Eo(e,t,n){this.props=e,this.context=t,this.refs=j1,this.updater=n||w1}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _1(){}_1.prototype=Eo.prototype;function Xg(e,t,n){this.props=e,this.context=t,this.refs=j1,this.updater=n||w1}var Zg=Xg.prototype=new _1;Zg.constructor=Xg;S1(Zg,Eo.prototype);Zg.isPureReactComponent=!0;var Tx=Array.isArray,P1=Object.prototype.hasOwnProperty,ev={current:null},E1={key:!0,ref:!0,__self:!0,__source:!0};function C1(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)P1.call(t,r)&&!E1.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Uc,type:e,key:s,ref:a,props:i,_owner:ev.current}}function qT(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function KT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ox=/\/+/g;function vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KT(""+e.key):t.toString(36)}function Gu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Uc:case FT:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+vh(a,0):r,Tx(i)?(n="",e!=null&&(n=e.replace(Ox,"$&/")+"/"),Gu(i,t,n,"",function(u){return u})):i!=null&&(tv(i)&&(i=qT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ox,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Tx(e))for(var o=0;o<e.length;o++){s=e[o];var c=r+vh(s,o);a+=Gu(s,t,n,c,i)}else if(c=VT(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=r+vh(s,o++),a+=Gu(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function uu(e,t,n){if(e==null)return e;var r=[],i=0;return Gu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function QT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Ju={transition:null},GT={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:ev};function k1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:uu,forEach:function(e,t,n){uu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uu(e,function(){t++}),t},toArray:function(e){return uu(e,function(t){return t})||[]},only:function(e){if(!tv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Eo;we.Fragment=$T;we.Profiler=LT;we.PureComponent=Xg;we.StrictMode=DT;we.Suspense=BT;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;we.act=k1;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=S1({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ev.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)P1.call(t,c)&&!E1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Uc,type:e.type,key:i,ref:s,props:r,_owner:a}};we.createContext=function(e){return e={$$typeof:UT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MT,_context:e},e.Consumer=e};we.createElement=C1;we.createFactory=function(e){var t=C1.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:zT,render:e}};we.isValidElement=tv;we.lazy=function(e){return{$$typeof:WT,_payload:{_status:-1,_result:e},_init:QT}};we.memo=function(e,t){return{$$typeof:HT,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Ju.transition;Ju.transition={};try{e()}finally{Ju.transition=t}};we.unstable_act=k1;we.useCallback=function(e,t){return Jt.current.useCallback(e,t)};we.useContext=function(e){return Jt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};we.useEffect=function(e,t){return Jt.current.useEffect(e,t)};we.useId=function(){return Jt.current.useId()};we.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Jt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};we.useRef=function(e){return Jt.current.useRef(e)};we.useState=function(e){return Jt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Jt.current.useTransition()};we.version="18.3.1";b1.exports=we;var b=b1.exports;const H=Ys(b),nv=AT({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=b,YT=Symbol.for("react.element"),XT=Symbol.for("react.fragment"),ZT=Object.prototype.hasOwnProperty,eO=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tO={key:!0,ref:!0,__self:!0,__source:!0};function R1(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ZT.call(t,r)&&!tO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:YT,type:e,key:s,ref:a,props:i,_owner:eO.current}}df.Fragment=XT;df.jsx=R1;df.jsxs=R1;x1.exports=df;var l=x1.exports,N1={exports:{}},Cn={},T1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,$){var E=P.length;P.push($);e:for(;0<E;){var L=E-1>>>1,z=P[L];if(0<i(z,$))P[L]=$,P[E]=z,E=L;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],E=P.pop();if(E!==$){P[0]=E;e:for(var L=0,z=P.length,N=z>>>1;L<N;){var te=2*(L+1)-1,ne=P[te],J=te+1,Y=P[J];if(0>i(ne,E))J<z&&0>i(Y,ne)?(P[L]=Y,P[J]=E,L=J):(P[L]=ne,P[te]=E,L=te);else if(J<z&&0>i(Y,E))P[L]=Y,P[J]=E,L=J;else break e}}return $}function i(P,$){var E=P.sortIndex-$.sortIndex;return E!==0?E:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=P)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function S(P){if(m=!1,y(P),!g)if(n(c)!==null)g=!0,T(j);else{var $=n(u);$!==null&&M(S,$.startTime-P)}}function j(P,$){g=!1,m&&(m=!1,v(R),R=-1),p=!0;var E=h;try{for(y($),f=n(c);f!==null&&(!(f.expirationTime>$)||P&&!F());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var z=L(f.expirationTime<=$);$=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),y($)}else r(c);f=n(c)}if(f!==null)var N=!0;else{var te=n(u);te!==null&&M(S,te.startTime-$),N=!1}return N}finally{f=null,h=E,p=!1}}var _=!1,C=null,R=-1,I=5,D=-1;function F(){return!(e.unstable_now()-D<I)}function O(){if(C!==null){var P=e.unstable_now();D=P;var $=!0;try{$=C(!0,P)}finally{$?U():(_=!1,C=null)}}else _=!1}var U;if(typeof x=="function")U=function(){x(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,A=k.port2;k.port1.onmessage=O,U=function(){A.postMessage(null)}}else U=function(){w(O,0)};function T(P){C=P,_||(_=!0,U())}function M(P,$){R=w(function(){P(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var E=h;h=$;try{return P()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=h;h=P;try{return $()}finally{h=E}},e.unstable_scheduleCallback=function(P,$,E){var L=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?L+E:L):E=L,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=E+z,P={id:d++,callback:$,priorityLevel:P,startTime:E,expirationTime:z,sortIndex:-1},E>L?(P.sortIndex=E,t(u,P),n(c)===null&&P===n(u)&&(m?(v(R),R=-1):m=!0,M(S,E-L))):(P.sortIndex=z,t(c,P),g||p||(g=!0,T(j))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var $=h;return function(){var E=h;h=$;try{return P.apply(this,arguments)}finally{h=E}}}})(O1);T1.exports=O1;var nO=T1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=b,En=nO;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A1=new Set,Fl={};function Xs(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(Fl[e]=t,e=0;e<t.length;e++)A1.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,iO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ax={},Ix={};function sO(e){return Vp.call(Ix,e)?!0:Vp.call(Ax,e)?!1:iO.test(e)?Ix[e]=!0:(Ax[e]=!0,!1)}function aO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oO(e,t,n,r){if(t===null||typeof t>"u"||aO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rv=/[\-:]([a-z])/g;function iv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rv,iv);Ct[t]=new Yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rv,iv);Ct[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rv,iv);Ct[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sv(e,t,n,r){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oO(t,n,i,r)&&(n=null),r||i===null?sO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var li=rO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),$1=Symbol.for("react.offscreen"),Fx=Symbol.iterator;function zo(e){return e===null||typeof e!="object"?null:(e=Fx&&e[Fx]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,yh;function al(e){if(yh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yh=t&&t[1]||""}return`
`+yh+e}var xh=!1;function bh(e,t){if(!e||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?al(e):""}function lO(e){switch(e.tag){case 5:return al(e.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return e=bh(e.type,!1),e;case 11:return e=bh(e.type.render,!1),e;case 1:return e=bh(e.type,!0),e;default:return""}}function Gp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pa:return"Fragment";case _a:return"Portal";case qp:return"Profiler";case av:return"StrictMode";case Kp:return"Suspense";case Qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F1:return(e.displayName||"Context")+".Consumer";case I1:return(e._context.displayName||"Context")+".Provider";case ov:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lv:return t=e.displayName||null,t!==null?t:Gp(e.type)||"Memo";case Ci:t=e._payload,e=e._init;try{return Gp(e(t))}catch{}}return null}function cO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gp(t);case 8:return t===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function D1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uO(e){var t=D1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fu(e){e._valueTracker||(e._valueTracker=uO(e))}function L1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=D1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jp(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $x(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M1(e,t){t=t.checked,t!=null&&sv(e,"checked",t,!1)}function Yp(e,t){M1(e,t);var n=Zi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xp(e,t.type,Zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xp(e,t,n){(t!=="number"||xd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function La(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(ol(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zi(n)}}function U1(e,t){var n=Zi(t.value),r=Zi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function em(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hu,B1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dO=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){dO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function H1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function W1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tm(e,t){if(t){if(fO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function nm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function cv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var im=null,Ma=null,Ua=null;function Ux(e){if(e=Hc(e)){if(typeof im!="function")throw Error(V(280));var t=e.stateNode;t&&(t=gf(t),im(e.stateNode,e.type,t))}}function V1(e){Ma?Ua?Ua.push(e):Ua=[e]:Ma=e}function q1(){if(Ma){var e=Ma,t=Ua;if(Ua=Ma=null,Ux(e),t)for(e=0;e<t.length;e++)Ux(t[e])}}function K1(e,t){return e(t)}function Q1(){}var wh=!1;function G1(e,t,n){if(wh)return e(t,n);wh=!0;try{return K1(e,t,n)}finally{wh=!1,(Ma!==null||Ua!==null)&&(Q1(),q1())}}function Dl(e,t){var n=e.stateNode;if(n===null)return null;var r=gf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var sm=!1;if(Xr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{sm=!1}function hO(e,t,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var yl=!1,bd=null,wd=!1,am=null,pO={onError:function(e){yl=!0,bd=e}};function mO(e,t,n,r,i,s,a,o,c){yl=!1,bd=null,hO.apply(pO,arguments)}function gO(e,t,n,r,i,s,a,o,c){if(mO.apply(this,arguments),yl){if(yl){var u=bd;yl=!1,bd=null}else throw Error(V(198));wd||(wd=!0,am=u)}}function Zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zx(e){if(Zs(e)!==e)throw Error(V(188))}function vO(e){var t=e.alternate;if(!t){if(t=Zs(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zx(i),e;if(s===r)return zx(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Y1(e){return e=vO(e),e!==null?X1(e):null}function X1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X1(e);if(t!==null)return t;e=e.sibling}return null}var Z1=En.unstable_scheduleCallback,Bx=En.unstable_cancelCallback,yO=En.unstable_shouldYield,xO=En.unstable_requestPaint,at=En.unstable_now,bO=En.unstable_getCurrentPriorityLevel,uv=En.unstable_ImmediatePriority,ej=En.unstable_UserBlockingPriority,Sd=En.unstable_NormalPriority,wO=En.unstable_LowPriority,tj=En.unstable_IdlePriority,ff=null,Er=null;function SO(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(ff,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:PO,jO=Math.log,_O=Math.LN2;function PO(e){return e>>>=0,e===0?32:31-(jO(e)/_O|0)|0}var pu=64,mu=4194304;function ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ll(o):(s&=a,s!==0&&(r=ll(s)))}else a=n&~i,a!==0?r=ll(a):s!==0&&(r=ll(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zn(t),i=1<<n,r|=e[n],t&=~i;return r}function EO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Zn(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=EO(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function om(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nj(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function Sh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=n}function kO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function dv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function rj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ij,fv,sj,aj,oj,lm=!1,gu=[],zi=null,Bi=null,Hi=null,Ll=new Map,Ml=new Map,Ri=[],RO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(t.pointerId)}}function Ho(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Hc(t),t!==null&&fv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NO(e,t,n,r,i){switch(t){case"focusin":return zi=Ho(zi,e,t,n,r,i),!0;case"dragenter":return Bi=Ho(Bi,e,t,n,r,i),!0;case"mouseover":return Hi=Ho(Hi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ll.set(s,Ho(Ll.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ml.set(s,Ho(Ml.get(s)||null,e,t,n,r,i)),!0}return!1}function lj(e){var t=Rs(e.target);if(t!==null){var n=Zs(t);if(n!==null){if(t=n.tag,t===13){if(t=J1(n),t!==null){e.blockedOn=t,oj(e.priority,function(){sj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rm=r,n.target.dispatchEvent(r),rm=null}else return t=Hc(n),t!==null&&fv(t),e.blockedOn=n,!1;t.shift()}return!0}function Wx(e,t,n){Yu(e)&&n.delete(t)}function TO(){lm=!1,zi!==null&&Yu(zi)&&(zi=null),Bi!==null&&Yu(Bi)&&(Bi=null),Hi!==null&&Yu(Hi)&&(Hi=null),Ll.forEach(Wx),Ml.forEach(Wx)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,lm||(lm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,TO)))}function Ul(e){function t(i){return Wo(i,e)}if(0<gu.length){Wo(gu[0],e);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zi!==null&&Wo(zi,e),Bi!==null&&Wo(Bi,e),Hi!==null&&Wo(Hi,e),Ll.forEach(t),Ml.forEach(t),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)lj(n),n.blockedOn===null&&Ri.shift()}var za=li.ReactCurrentBatchConfig,_d=!0;function OO(e,t,n,r){var i=Te,s=za.transition;za.transition=null;try{Te=1,hv(e,t,n,r)}finally{Te=i,za.transition=s}}function AO(e,t,n,r){var i=Te,s=za.transition;za.transition=null;try{Te=4,hv(e,t,n,r)}finally{Te=i,za.transition=s}}function hv(e,t,n,r){if(_d){var i=cm(e,t,n,r);if(i===null)Oh(e,t,r,Pd,n),Hx(e,r);else if(NO(i,e,t,n,r))r.stopPropagation();else if(Hx(e,r),t&4&&-1<RO.indexOf(e)){for(;i!==null;){var s=Hc(i);if(s!==null&&ij(s),s=cm(e,t,n,r),s===null&&Oh(e,t,r,Pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Oh(e,t,r,null,n)}}var Pd=null;function cm(e,t,n,r){if(Pd=null,e=cv(r),e=Rs(e),e!==null)if(t=Zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=J1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pd=e,null}function cj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bO()){case uv:return 1;case ej:return 4;case Sd:case wO:return 16;case tj:return 536870912;default:return 16}default:return 16}}var Li=null,pv=null,Xu=null;function uj(){if(Xu)return Xu;var e,t=pv,n=t.length,r,i="value"in Li?Li.value:Li.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Xu=i.slice(e,1<r?1-r:void 0)}function Zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function Vx(){return!1}function kn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vu:Vx,this.isPropagationStopped=Vx,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=kn(Co),Bc=Xe({},Co,{view:0,detail:0}),IO=kn(Bc),jh,_h,Vo,hf=Xe({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(jh=e.screenX-Vo.screenX,_h=e.screenY-Vo.screenY):_h=jh=0,Vo=e),jh)},movementY:function(e){return"movementY"in e?e.movementY:_h}}),qx=kn(hf),FO=Xe({},hf,{dataTransfer:0}),$O=kn(FO),DO=Xe({},Bc,{relatedTarget:0}),Ph=kn(DO),LO=Xe({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),MO=kn(LO),UO=Xe({},Co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zO=kn(UO),BO=Xe({},Co,{data:0}),Kx=kn(BO),HO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VO[e])?!!t[e]:!1}function gv(){return qO}var KO=Xe({},Bc,{key:function(e){if(e.key){var t=HO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(e){return e.type==="keypress"?Zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QO=kn(KO),GO=Xe({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=kn(GO),JO=Xe({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),YO=kn(JO),XO=Xe({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZO=kn(XO),eA=Xe({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=kn(eA),nA=[9,13,27,32],vv=Xr&&"CompositionEvent"in window,xl=null;Xr&&"documentMode"in document&&(xl=document.documentMode);var rA=Xr&&"TextEvent"in window&&!xl,dj=Xr&&(!vv||xl&&8<xl&&11>=xl),Gx=" ",Jx=!1;function fj(e,t){switch(e){case"keyup":return nA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function iA(e,t){switch(e){case"compositionend":return hj(t);case"keypress":return t.which!==32?null:(Jx=!0,Gx);case"textInput":return e=t.data,e===Gx&&Jx?null:e;default:return null}}function sA(e,t){if(Ea)return e==="compositionend"||!vv&&fj(e,t)?(e=uj(),Xu=pv=Li=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dj&&t.locale!=="ko"?null:t.data;default:return null}}var aA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aA[e.type]:t==="textarea"}function pj(e,t,n,r){V1(r),t=Ed(t,"onChange"),0<t.length&&(n=new mv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bl=null,zl=null;function oA(e){Pj(e,0)}function pf(e){var t=Ra(e);if(L1(t))return e}function lA(e,t){if(e==="change")return t}var mj=!1;if(Xr){var Eh;if(Xr){var Ch="oninput"in document;if(!Ch){var Xx=document.createElement("div");Xx.setAttribute("oninput","return;"),Ch=typeof Xx.oninput=="function"}Eh=Ch}else Eh=!1;mj=Eh&&(!document.documentMode||9<document.documentMode)}function Zx(){bl&&(bl.detachEvent("onpropertychange",gj),zl=bl=null)}function gj(e){if(e.propertyName==="value"&&pf(zl)){var t=[];pj(t,zl,e,cv(e)),G1(oA,t)}}function cA(e,t,n){e==="focusin"?(Zx(),bl=t,zl=n,bl.attachEvent("onpropertychange",gj)):e==="focusout"&&Zx()}function uA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pf(zl)}function dA(e,t){if(e==="click")return pf(t)}function fA(e,t){if(e==="input"||e==="change")return pf(t)}function hA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:hA;function Bl(e,t){if(ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vp.call(t,i)||!ir(e[i],t[i]))return!1}return!0}function eb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tb(e,t){var n=eb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eb(n)}}function vj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yj(){for(var e=window,t=xd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xd(e.document)}return t}function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pA(e){var t=yj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vj(n.ownerDocument.documentElement,n)){if(r!==null&&yv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=tb(n,s);var a=tb(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mA=Xr&&"documentMode"in document&&11>=document.documentMode,Ca=null,um=null,wl=null,dm=!1;function nb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||Ca==null||Ca!==xd(r)||(r=Ca,"selectionStart"in r&&yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Bl(wl,r)||(wl=r,r=Ed(um,"onSelect"),0<r.length&&(t=new mv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ca)))}function yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},kh={},xj={};Xr&&(xj=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function mf(e){if(kh[e])return kh[e];if(!ka[e])return e;var t=ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xj)return kh[e]=t[n];return e}var bj=mf("animationend"),wj=mf("animationiteration"),Sj=mf("animationstart"),jj=mf("transitionend"),_j=new Map,rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){_j.set(e,t),Xs(t,[e])}for(var Rh=0;Rh<rb.length;Rh++){var Nh=rb[Rh],gA=Nh.toLowerCase(),vA=Nh[0].toUpperCase()+Nh.slice(1);as(gA,"on"+vA)}as(bj,"onAnimationEnd");as(wj,"onAnimationIteration");as(Sj,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(jj,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function ib(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gO(r,t,void 0,e),e.currentTarget=null}function Pj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;ib(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;ib(i,o,u),s=c}}}if(wd)throw e=am,wd=!1,am=null,e}function We(e,t){var n=t[gm];n===void 0&&(n=t[gm]=new Set);var r=e+"__bubble";n.has(r)||(Ej(t,e,2,!1),n.add(r))}function Th(e,t,n){var r=0;t&&(r|=4),Ej(n,e,r,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[xu]){e[xu]=!0,A1.forEach(function(n){n!=="selectionchange"&&(yA.has(n)||Th(n,!1,e),Th(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xu]||(t[xu]=!0,Th("selectionchange",!1,t))}}function Ej(e,t,n,r){switch(cj(t)){case 1:var i=OO;break;case 4:i=AO;break;default:i=hv}n=i.bind(null,t,n,e),i=void 0,!sm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Rs(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}G1(function(){var u=s,d=cv(n),f=[];e:{var h=_j.get(e);if(h!==void 0){var p=mv,g=e;switch(e){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":p=QO;break;case"focusin":g="focus",p=Ph;break;case"focusout":g="blur",p=Ph;break;case"beforeblur":case"afterblur":p=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YO;break;case bj:case wj:case Sj:p=MO;break;case jj:p=ZO;break;case"scroll":p=IO;break;case"wheel":p=tA;break;case"copy":case"cut":case"paste":p=zO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Qx}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,y;x!==null;){y=x;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Dl(x,v),S!=null&&m.push(Wl(x,S,y)))),w)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==rm&&(g=n.relatedTarget||n.fromElement)&&(Rs(g)||g[Zr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Rs(g):null,g!==null&&(w=Zs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=qx,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=Qx,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?h:Ra(p),y=g==null?h:Ra(g),h=new m(S,x+"leave",p,n,d),h.target=w,h.relatedTarget=y,S=null,Rs(d)===u&&(m=new m(v,x+"enter",g,n,d),m.target=y,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,v=g,x=0,y=m;y;y=la(y))x++;for(y=0,S=v;S;S=la(S))y++;for(;0<x-y;)m=la(m),x--;for(;0<y-x;)v=la(v),y--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=la(m),v=la(v)}m=null}else m=null;p!==null&&sb(f,h,p,m,!1),g!==null&&w!==null&&sb(f,w,g,m,!0)}}e:{if(h=u?Ra(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=lA;else if(Yx(h))if(mj)j=fA;else{j=uA;var _=cA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=dA);if(j&&(j=j(e,u))){pj(f,j,n,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Xp(h,"number",h.value)}switch(_=u?Ra(u):window,e){case"focusin":(Yx(_)||_.contentEditable==="true")&&(Ca=_,um=u,wl=null);break;case"focusout":wl=um=Ca=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,nb(f,n,d);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":nb(f,n,d)}var C;if(vv)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ea?fj(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(dj&&n.locale!=="ko"&&(Ea||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ea&&(C=uj()):(Li=d,pv="value"in Li?Li.value:Li.textContent,Ea=!0)),_=Ed(u,R),0<_.length&&(R=new Kx(R,e,null,n,d),f.push({event:R,listeners:_}),C?R.data=C:(C=hj(n),C!==null&&(R.data=C)))),(C=rA?iA(e,n):sA(e,n))&&(u=Ed(u,"onBeforeInput"),0<u.length&&(d=new Kx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Pj(f,t)})}function Wl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ed(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dl(e,n),s!=null&&r.unshift(Wl(e,s,i)),s=Dl(e,t),s!=null&&r.push(Wl(e,s,i))),e=e.return}return r}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sb(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=Dl(n,s),c!=null&&a.unshift(Wl(n,c,o))):i||(c=Dl(n,s),c!=null&&a.push(Wl(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var xA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function ab(e){return(typeof e=="string"?e:""+e).replace(xA,`
`).replace(bA,"")}function bu(e,t,n){if(t=ab(t),ab(e)!==t&&n)throw Error(V(425))}function Cd(){}var fm=null,hm=null;function pm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mm=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(e){return ob.resolve(null).then(e).catch(jA)}:mm;function jA(e){setTimeout(function(){throw e})}function Ah(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ul(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ul(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ko=Math.random().toString(36).slice(2),jr="__reactFiber$"+ko,Vl="__reactProps$"+ko,Zr="__reactContainer$"+ko,gm="__reactEvents$"+ko,_A="__reactListeners$"+ko,PA="__reactHandles$"+ko;function Rs(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lb(e);e!==null;){if(n=e[jr])return n;e=lb(e)}return t}e=n,n=e.parentNode}return null}function Hc(e){return e=e[jr]||e[Zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function gf(e){return e[Vl]||null}var vm=[],Na=-1;function os(e){return{current:e}}function Ve(e){0>Na||(e.current=vm[Na],vm[Na]=null,Na--)}function Ue(e,t){Na++,vm[Na]=e.current,e.current=t}var es={},Ut=os(es),on=os(!1),Us=es;function lo(e,t){var n=e.type.contextTypes;if(!n)return es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ln(e){return e=e.childContextTypes,e!=null}function kd(){Ve(on),Ve(Ut)}function cb(e,t,n){if(Ut.current!==es)throw Error(V(168));Ue(Ut,t),Ue(on,n)}function Cj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,cO(e)||"Unknown",i));return Xe({},n,r)}function Rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Us=Ut.current,Ue(Ut,e),Ue(on,on.current),!0}function ub(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Cj(e,t,Us),r.__reactInternalMemoizedMergedChildContext=e,Ve(on),Ve(Ut),Ue(Ut,e)):Ve(on),Ue(on,n)}var qr=null,vf=!1,Ih=!1;function kj(e){qr===null?qr=[e]:qr.push(e)}function EA(e){vf=!0,kj(e)}function ls(){if(!Ih&&qr!==null){Ih=!0;var e=0,t=Te;try{var n=qr;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qr=null,vf=!1}catch(i){throw qr!==null&&(qr=qr.slice(e+1)),Z1(uv,ls),i}finally{Te=t,Ih=!1}}return null}var Ta=[],Oa=0,Nd=null,Td=0,On=[],An=0,zs=null,Gr=1,Jr="";function Ss(e,t){Ta[Oa++]=Td,Ta[Oa++]=Nd,Nd=e,Td=t}function Rj(e,t,n){On[An++]=Gr,On[An++]=Jr,On[An++]=zs,zs=e;var r=Gr;e=Jr;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gr=1<<32-Zn(t)+i|n<<i|r,Jr=s+e}else Gr=1<<s|n<<i|r,Jr=e}function xv(e){e.return!==null&&(Ss(e,1),Rj(e,1,0))}function bv(e){for(;e===Nd;)Nd=Ta[--Oa],Ta[Oa]=null,Td=Ta[--Oa],Ta[Oa]=null;for(;e===zs;)zs=On[--An],On[An]=null,Jr=On[--An],On[An]=null,Gr=On[--An],On[An]=null}var jn=null,bn=null,Ke=!1,Xn=null;function Nj(e,t){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function db(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jn=e,bn=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zs!==null?{id:Gr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jn=e,bn=null,!0):!1;default:return!1}}function ym(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xm(e){if(Ke){var t=bn;if(t){var n=t;if(!db(e,t)){if(ym(e))throw Error(V(418));t=Wi(n.nextSibling);var r=jn;t&&db(e,t)?Nj(r,n):(e.flags=e.flags&-4097|2,Ke=!1,jn=e)}}else{if(ym(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ke=!1,jn=e}}}function fb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jn=e}function wu(e){if(e!==jn)return!1;if(!Ke)return fb(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pm(e.type,e.memoizedProps)),t&&(t=bn)){if(ym(e))throw Tj(),Error(V(418));for(;t;)Nj(e,t),t=Wi(t.nextSibling)}if(fb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=jn?Wi(e.stateNode.nextSibling):null;return!0}function Tj(){for(var e=bn;e;)e=Wi(e.nextSibling)}function co(){bn=jn=null,Ke=!1}function wv(e){Xn===null?Xn=[e]:Xn.push(e)}var CA=li.ReactCurrentBatchConfig;function qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hb(e){var t=e._init;return t(e._payload)}function Oj(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Qi(v,x),v.index=0,v.sibling=null,v}function s(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,y,S){return x===null||x.tag!==6?(x=zh(y,v.mode,S),x.return=v,x):(x=i(x,y),x.return=v,x)}function c(v,x,y,S){var j=y.type;return j===Pa?d(v,x,y.props.children,S,y.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&hb(j)===x.type)?(S=i(x,y.props),S.ref=qo(v,x,y),S.return=v,S):(S=ad(y.type,y.key,y.props,null,v.mode,S),S.ref=qo(v,x,y),S.return=v,S)}function u(v,x,y,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Bh(y,v.mode,S),x.return=v,x):(x=i(x,y.children||[]),x.return=v,x)}function d(v,x,y,S,j){return x===null||x.tag!==7?(x=Ls(y,v.mode,S,j),x.return=v,x):(x=i(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zh(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case du:return y=ad(x.type,x.key,x.props,null,v.mode,y),y.ref=qo(v,null,x),y.return=v,y;case _a:return x=Bh(x,v.mode,y),x.return=v,x;case Ci:var S=x._init;return f(v,S(x._payload),y)}if(ol(x)||zo(x))return x=Ls(x,v.mode,y,null),x.return=v,x;Su(v,x)}return null}function h(v,x,y,S){var j=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(v,x,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case du:return y.key===j?c(v,x,y,S):null;case _a:return y.key===j?u(v,x,y,S):null;case Ci:return j=y._init,h(v,x,j(y._payload),S)}if(ol(y)||zo(y))return j!==null?null:d(v,x,y,S,null);Su(v,y)}return null}function p(v,x,y,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,o(x,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case du:return v=v.get(S.key===null?y:S.key)||null,c(x,v,S,j);case _a:return v=v.get(S.key===null?y:S.key)||null,u(x,v,S,j);case Ci:var _=S._init;return p(v,x,y,_(S._payload),j)}if(ol(S)||zo(S))return v=v.get(y)||null,d(x,v,S,j,null);Su(x,S)}return null}function g(v,x,y,S){for(var j=null,_=null,C=x,R=x=0,I=null;C!==null&&R<y.length;R++){C.index>R?(I=C,C=null):I=C.sibling;var D=h(v,C,y[R],S);if(D===null){C===null&&(C=I);break}e&&C&&D.alternate===null&&t(v,C),x=s(D,x,R),_===null?j=D:_.sibling=D,_=D,C=I}if(R===y.length)return n(v,C),Ke&&Ss(v,R),j;if(C===null){for(;R<y.length;R++)C=f(v,y[R],S),C!==null&&(x=s(C,x,R),_===null?j=C:_.sibling=C,_=C);return Ke&&Ss(v,R),j}for(C=r(v,C);R<y.length;R++)I=p(C,v,R,y[R],S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?R:I.key),x=s(I,x,R),_===null?j=I:_.sibling=I,_=I);return e&&C.forEach(function(F){return t(v,F)}),Ke&&Ss(v,R),j}function m(v,x,y,S){var j=zo(y);if(typeof j!="function")throw Error(V(150));if(y=j.call(y),y==null)throw Error(V(151));for(var _=j=null,C=x,R=x=0,I=null,D=y.next();C!==null&&!D.done;R++,D=y.next()){C.index>R?(I=C,C=null):I=C.sibling;var F=h(v,C,D.value,S);if(F===null){C===null&&(C=I);break}e&&C&&F.alternate===null&&t(v,C),x=s(F,x,R),_===null?j=F:_.sibling=F,_=F,C=I}if(D.done)return n(v,C),Ke&&Ss(v,R),j;if(C===null){for(;!D.done;R++,D=y.next())D=f(v,D.value,S),D!==null&&(x=s(D,x,R),_===null?j=D:_.sibling=D,_=D);return Ke&&Ss(v,R),j}for(C=r(v,C);!D.done;R++,D=y.next())D=p(C,v,R,D.value,S),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?R:D.key),x=s(D,x,R),_===null?j=D:_.sibling=D,_=D);return e&&C.forEach(function(O){return t(v,O)}),Ke&&Ss(v,R),j}function w(v,x,y,S){if(typeof y=="object"&&y!==null&&y.type===Pa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case du:e:{for(var j=y.key,_=x;_!==null;){if(_.key===j){if(j=y.type,j===Pa){if(_.tag===7){n(v,_.sibling),x=i(_,y.props.children),x.return=v,v=x;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&hb(j)===_.type){n(v,_.sibling),x=i(_,y.props),x.ref=qo(v,_,y),x.return=v,v=x;break e}n(v,_);break}else t(v,_);_=_.sibling}y.type===Pa?(x=Ls(y.props.children,v.mode,S,y.key),x.return=v,v=x):(S=ad(y.type,y.key,y.props,null,v.mode,S),S.ref=qo(v,x,y),S.return=v,v=S)}return a(v);case _a:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(v,x.sibling),x=i(x,y.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Bh(y,v.mode,S),x.return=v,v=x}return a(v);case Ci:return _=y._init,w(v,x,_(y._payload),S)}if(ol(y))return g(v,x,y,S);if(zo(y))return m(v,x,y,S);Su(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,y),x.return=v,v=x):(n(v,x),x=zh(y,v.mode,S),x.return=v,v=x),a(v)):n(v,x)}return w}var uo=Oj(!0),Aj=Oj(!1),Od=os(null),Ad=null,Aa=null,Sv=null;function jv(){Sv=Aa=Ad=null}function _v(e){var t=Od.current;Ve(Od),e._currentValue=t}function bm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ba(e,t){Ad=e,Sv=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(Sv!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(Ad===null)throw Error(V(308));Aa=e,Ad.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Ns=null;function Pv(e){Ns===null?Ns=[e]:Ns.push(e)}function Ij(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Pv(t)):(n.next=i.next,i.next=n),t.interleaved=n,ei(e,r)}function ei(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ki=!1;function Ev(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ei(e,n)}return i=r.interleaved,i===null?(t.next=t,Pv(r)):(t.next=i.next,i.next=t),r.interleaved=t,ei(e,n)}function ed(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dv(e,n)}}function pb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Id(e,t,n,r){var i=e.updateQueue;ki=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Xe({},f,h);break e;case 2:ki=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Hs|=a,e.lanes=a,e.memoizedState=f}}function mb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Wc={},Cr=os(Wc),ql=os(Wc),Kl=os(Wc);function Ts(e){if(e===Wc)throw Error(V(174));return e}function Cv(e,t){switch(Ue(Kl,t),Ue(ql,e),Ue(Cr,Wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:em(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=em(t,e)}Ve(Cr),Ue(Cr,t)}function fo(){Ve(Cr),Ve(ql),Ve(Kl)}function $j(e){Ts(Kl.current);var t=Ts(Cr.current),n=em(t,e.type);t!==n&&(Ue(ql,e),Ue(Cr,n))}function kv(e){ql.current===e&&(Ve(Cr),Ve(ql))}var Ge=os(0);function Fd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Rv(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var td=li.ReactCurrentDispatcher,$h=li.ReactCurrentBatchConfig,Bs=0,Ye=null,ht=null,yt=null,$d=!1,Sl=!1,Ql=0,kA=0;function Ot(){throw Error(V(321))}function Nv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Tv(e,t,n,r,i,s){if(Bs=s,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,td.current=e===null||e.memoizedState===null?OA:AA,e=n(r,i),Sl){s=0;do{if(Sl=!1,Ql=0,25<=s)throw Error(V(301));s+=1,yt=ht=null,t.updateQueue=null,td.current=IA,e=n(r,i)}while(Sl)}if(td.current=Dd,t=ht!==null&&ht.next!==null,Bs=0,yt=ht=Ye=null,$d=!1,t)throw Error(V(300));return e}function Ov(){var e=Ql!==0;return Ql=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ye.memoizedState=yt=e:yt=yt.next=e,yt}function zn(){if(ht===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=yt===null?Ye.memoizedState:yt.next;if(t!==null)yt=t,ht=e;else{if(e===null)throw Error(V(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ye.memoizedState=yt=e:yt=yt.next=e}return yt}function Gl(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=zn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((Bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,Ye.lanes|=d,Hs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,ir(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ye.lanes|=s,Hs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lh(e){var t=zn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ir(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Dj(){}function Lj(e,t){var n=Ye,r=zn(),i=t(),s=!ir(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Av(zj.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Jl(9,Uj.bind(null,n,r,i,t),void 0,null),bt===null)throw Error(V(349));Bs&30||Mj(n,t,i)}return i}function Mj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uj(e,t,n,r){t.value=n,t.getSnapshot=r,Bj(t)&&Hj(e)}function zj(e,t,n){return n(function(){Bj(t)&&Hj(e)})}function Bj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch{return!0}}function Hj(e){var t=ei(e,1);t!==null&&er(t,e,1,-1)}function gb(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=TA.bind(null,Ye,e),[t.memoizedState,e]}function Jl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wj(){return zn().memoizedState}function nd(e,t,n,r){var i=gr();Ye.flags|=e,i.memoizedState=Jl(1|t,n,void 0,r===void 0?null:r)}function yf(e,t,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var a=ht.memoizedState;if(s=a.destroy,r!==null&&Nv(r,a.deps)){i.memoizedState=Jl(t,n,s,r);return}}Ye.flags|=e,i.memoizedState=Jl(1|t,n,s,r)}function vb(e,t){return nd(8390656,8,e,t)}function Av(e,t){return yf(2048,8,e,t)}function Vj(e,t){return yf(4,2,e,t)}function qj(e,t){return yf(4,4,e,t)}function Kj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qj(e,t,n){return n=n!=null?n.concat([e]):null,yf(4,4,Kj.bind(null,t,e),n)}function Iv(){}function Gj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jj(e,t){var n=zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yj(e,t,n){return Bs&21?(ir(n,t)||(n=nj(),Ye.lanes|=n,Hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function RA(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=$h.transition;$h.transition={};try{e(!1),t()}finally{Te=n,$h.transition=r}}function Xj(){return zn().memoizedState}function NA(e,t,n){var r=Ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zj(e))e_(t,n);else if(n=Ij(e,t,n,r),n!==null){var i=Gt();er(n,e,r,i),t_(n,t,r)}}function TA(e,t,n){var r=Ki(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))e_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ir(o,a)){var c=t.interleaved;c===null?(i.next=i,Pv(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Ij(e,t,i,r),n!==null&&(i=Gt(),er(n,e,r,i),t_(n,t,r))}}function Zj(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function e_(e,t){Sl=$d=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dv(e,n)}}var Dd={readContext:Un,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},OA={readContext:Un,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:vb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nd(4194308,4,Kj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return nd(4,2,e,t)},useMemo:function(e,t){var n=gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NA.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:gb,useDebugValue:Iv,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=gb(!1),t=e[0];return e=RA.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,i=gr();if(Ke){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),bt===null)throw Error(V(349));Bs&30||Mj(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,vb(zj.bind(null,r,s,e),[e]),r.flags|=2048,Jl(9,Uj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gr(),t=bt.identifierPrefix;if(Ke){var n=Jr,r=Gr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ql++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AA={readContext:Un,useCallback:Gj,useContext:Un,useEffect:Av,useImperativeHandle:Qj,useInsertionEffect:Vj,useLayoutEffect:qj,useMemo:Jj,useReducer:Dh,useRef:Wj,useState:function(){return Dh(Gl)},useDebugValue:Iv,useDeferredValue:function(e){var t=zn();return Yj(t,ht.memoizedState,e)},useTransition:function(){var e=Dh(Gl)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Lj,useId:Xj,unstable_isNewReconciler:!1},IA={readContext:Un,useCallback:Gj,useContext:Un,useEffect:Av,useImperativeHandle:Qj,useInsertionEffect:Vj,useLayoutEffect:qj,useMemo:Jj,useReducer:Lh,useRef:Wj,useState:function(){return Lh(Gl)},useDebugValue:Iv,useDeferredValue:function(e){var t=zn();return ht===null?t.memoizedState=e:Yj(t,ht.memoizedState,e)},useTransition:function(){var e=Lh(Gl)[0],t=zn().memoizedState;return[e,t]},useMutableSource:Dj,useSyncExternalStore:Lj,useId:Xj,unstable_isNewReconciler:!1};function Kn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xf={isMounted:function(e){return(e=e._reactInternals)?Zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ki(e),s=Yr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Vi(e,s,i),t!==null&&(er(t,e,i,r),ed(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ki(e),s=Yr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vi(e,s,i),t!==null&&(er(t,e,i,r),ed(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=Ki(e),i=Yr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vi(e,i,r),t!==null&&(er(t,e,r,n),ed(t,e,r))}};function yb(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,s):!0}function n_(e,t,n){var r=!1,i=es,s=t.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=ln(t)?Us:Ut.current,r=t.contextTypes,s=(r=r!=null)?lo(e,i):es),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function xb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function Sm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ev(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=ln(t)?Us:Ut.current,i.context=lo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wm(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xf.enqueueReplaceState(i,i.state,null),Id(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=lO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Mh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var FA=typeof WeakMap=="function"?WeakMap:Map;function r_(e,t,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Md||(Md=!0,Am=r),jm(e,t)},n}function i_(e,t,n){n=Yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jm(e,t),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function bb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new FA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=GA.bind(null,e,t,n),t.then(e,e))}function wb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yr(-1,1),t.tag=2,Vi(n,t,1))),n.lanes|=1),e)}var $A=li.ReactCurrentOwner,sn=!1;function Kt(e,t,n,r){t.child=e===null?Aj(t,null,n,r):uo(t,e.child,n,r)}function jb(e,t,n,r,i){n=n.render;var s=t.ref;return Ba(t,i),r=Tv(e,t,n,r,s,i),n=Ov(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Ke&&n&&xv(t),t.flags|=1,Kt(e,t,r,i),t.child)}function _b(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Bv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,s_(e,t,s,r,i)):(e=ad(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(a,r)&&e.ref===t.ref)return ti(e,t,i)}return t.flags|=1,e=Qi(s,r),e.ref=t.ref,e.return=t,t.child=e}function s_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Bl(s,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,ti(e,t,i)}return _m(e,t,n,r,i)}function a_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Fa,yn),yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Fa,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(Fa,yn),yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ue(Fa,yn),yn|=r;return Kt(e,t,i,n),t.child}function o_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _m(e,t,n,r,i){var s=ln(n)?Us:Ut.current;return s=lo(t,s),Ba(t,i),n=Tv(e,t,n,r,s,i),r=Ov(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Ke&&r&&xv(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Pb(e,t,n,r,i){if(ln(n)){var s=!0;Rd(t)}else s=!1;if(Ba(t,i),t.stateNode===null)rd(e,t),n_(t,n,r),Sm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=ln(n)?Us:Ut.current,u=lo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&xb(t,a,r,u),ki=!1;var h=t.memoizedState;a.state=h,Id(t,r,a,i),c=t.memoizedState,o!==r||h!==c||on.current||ki?(typeof d=="function"&&(wm(t,n,d,r),c=t.memoizedState),(o=ki||yb(t,n,o,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fj(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Kn(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=ln(n)?Us:Ut.current,c=lo(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&xb(t,a,r,c),ki=!1,h=t.memoizedState,a.state=h,Id(t,r,a,i);var g=t.memoizedState;o!==f||h!==g||on.current||ki?(typeof p=="function"&&(wm(t,n,p,r),g=t.memoizedState),(u=ki||yb(t,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pm(e,t,n,r,s,i)}function Pm(e,t,n,r,i,s){o_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&ub(t,n,!1),ti(e,t,s);r=t.stateNode,$A.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=uo(t,e.child,null,s),t.child=uo(t,null,o,s)):Kt(e,t,o,s),t.memoizedState=r.state,i&&ub(t,n,!0),t.child}function l_(e){var t=e.stateNode;t.pendingContext?cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cb(e,t.context,!1),Cv(e,t.containerInfo)}function Eb(e,t,n,r,i){return co(),wv(i),t.flags|=256,Kt(e,t,n,r),t.child}var Em={dehydrated:null,treeContext:null,retryLane:0};function Cm(e){return{baseLanes:e,cachePool:null,transitions:null}}function c_(e,t,n){var r=t.pendingProps,i=Ge.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(Ge,i&1),e===null)return xm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Sf(a,r,0,null),e=Ls(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cm(n),t.memoizedState=Em,e):Fv(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return DA(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Qi(o,s):(s=Ls(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Em,r}return s=e.child,e=s.sibling,r=Qi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fv(e,t){return t=Sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ju(e,t,n,r){return r!==null&&wv(r),uo(t,e.child,null,n),e=Fv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DA(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Mh(Error(V(422))),ju(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sf({mode:"visible",children:r.children},i,0,null),s=Ls(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&uo(t,e.child,null,a),t.child.memoizedState=Cm(a),t.memoizedState=Em,s);if(!(t.mode&1))return ju(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(V(419)),r=Mh(s,r,void 0),ju(e,t,a,r)}if(o=(a&e.childLanes)!==0,sn||o){if(r=bt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ei(e,i),er(r,e,i,-1))}return zv(),r=Mh(Error(V(421))),ju(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=JA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bn=Wi(i.nextSibling),jn=t,Ke=!0,Xn=null,e!==null&&(On[An++]=Gr,On[An++]=Jr,On[An++]=zs,Gr=e.id,Jr=e.overflow,zs=t),t=Fv(t,r.children),t.flags|=4096,t)}function Cb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bm(e.return,t,n)}function Uh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cb(e,n,t);else if(e.tag===19)Cb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Fd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uh(t,!0,n,null,s);break;case"together":Uh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LA(e,t,n){switch(t.tag){case 3:l_(t),co();break;case 5:$j(t);break;case 1:ln(t.type)&&Rd(t);break;case 4:Cv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(Od,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?c_(e,t,n):(Ue(Ge,Ge.current&1),e=ti(e,t,n),e!==null?e.sibling:null);Ue(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return u_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,a_(e,t,n)}return ti(e,t,n)}var d_,km,f_,h_;d_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};f_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ts(Cr.current);var s=null;switch(n){case"input":i=Jp(e,i),r=Jp(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Zp(e,i),r=Zp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cd)}tm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};h_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ko(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function MA(e,t,n){var r=t.pendingProps;switch(bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return ln(t.type)&&kd(),At(t),null;case 3:return r=t.stateNode,fo(),Ve(on),Ve(Ut),Rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xn!==null&&($m(Xn),Xn=null))),km(e,t),At(t),null;case 5:kv(t);var i=Ts(Kl.current);if(n=t.type,e!==null&&t.stateNode!=null)f_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return At(t),null}if(e=Ts(Cr.current),wu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[jr]=t,r[Vl]=s,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)We(cl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":$x(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":Lx(r,s),We("invalid",r)}tm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",""+o]):Fl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&We("scroll",r)}switch(n){case"input":fu(r),Dx(r,s,!0);break;case"textarea":fu(r),Mx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[jr]=t,e[Vl]=r,d_(e,t,!1,!1),t.stateNode=e;e:{switch(a=nm(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)We(cl[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":$x(e,r),i=Jp(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),We("invalid",e);break;case"textarea":Lx(e,r),i=Zp(e,r),We("invalid",e);break;default:i=r}tm(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?W1(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B1(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$l(e,c):typeof c=="number"&&$l(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&We("scroll",e):c!=null&&sv(e,s,c,a))}switch(n){case"input":fu(e),Dx(e,r,!1);break;case"textarea":fu(e),Mx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?La(e,!!r.multiple,s,!1):r.defaultValue!=null&&La(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)h_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Ts(Kl.current),Ts(Cr.current),wu(t)){if(r=t.stateNode,n=t.memoizedProps,r[jr]=t,(s=r.nodeValue!==n)&&(e=jn,e!==null))switch(e.tag){case 3:bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=t,t.stateNode=r}return At(t),null;case 13:if(Ve(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&bn!==null&&t.mode&1&&!(t.flags&128))Tj(),co(),t.flags|=98560,s=!1;else if(s=wu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[jr]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),s=!1}else Xn!==null&&($m(Xn),Xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?pt===0&&(pt=3):zv())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return fo(),km(e,t),e===null&&Hl(t.stateNode.containerInfo),At(t),null;case 10:return _v(t.type._context),At(t),null;case 17:return ln(t.type)&&kd(),At(t),null;case 19:if(Ve(Ge),s=t.memoizedState,s===null)return At(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Ko(s,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Fd(e),a!==null){for(t.flags|=128,Ko(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ge,Ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>po&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304)}else{if(!r)if(e=Fd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ke)return At(t),null}else 2*at()-s.renderingStartTime>po&&n!==1073741824&&(t.flags|=128,r=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,n=Ge.current,Ue(Ge,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return Uv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function UA(e,t){switch(bv(t),t.tag){case 1:return ln(t.type)&&kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),Ve(on),Ve(Ut),Rv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kv(t),null;case 13:if(Ve(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ge),null;case 4:return fo(),null;case 10:return _v(t.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var _u=!1,Lt=!1,zA=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ia(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function Rm(e,t,n){try{n()}catch(r){nt(e,t,r)}}var kb=!1;function BA(e,t){if(fm=_d,e=yj(),yv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hm={focusedElem:e,selectionRange:n},_d=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Kn(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(S){nt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=kb,kb=!1,g}function jl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rm(t,n,s)}i=i.next}while(i!==r)}}function bf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function p_(e){var t=e.alternate;t!==null&&(e.alternate=null,p_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[Vl],delete t[gm],delete t[_A],delete t[PA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m_(e){return e.tag===5||e.tag===3||e.tag===4}function Rb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cd));else if(r!==4&&(e=e.child,e!==null))for(Tm(e,t,n),e=e.sibling;e!==null;)Tm(e,t,n),e=e.sibling}function Om(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Om(e,t,n),e=e.sibling;e!==null;)Om(e,t,n),e=e.sibling}var Pt=null,Jn=!1;function mi(e,t,n){for(n=n.child;n!==null;)g_(e,t,n),n=n.sibling}function g_(e,t,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Lt||Ia(n,t);case 6:var r=Pt,i=Jn;Pt=null,mi(e,t,n),Pt=r,Jn=i,Pt!==null&&(Jn?(e=Pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Jn?(e=Pt,n=n.stateNode,e.nodeType===8?Ah(e.parentNode,n):e.nodeType===1&&Ah(e,n),Ul(e)):Ah(Pt,n.stateNode));break;case 4:r=Pt,i=Jn,Pt=n.stateNode.containerInfo,Jn=!0,mi(e,t,n),Pt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Rm(n,t,a),i=i.next}while(i!==r)}mi(e,t,n);break;case 1:if(!Lt&&(Ia(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){nt(n,t,o)}mi(e,t,n);break;case 21:mi(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,mi(e,t,n),Lt=r):mi(e,t,n);break;default:mi(e,t,n)}}function Nb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zA),t.forEach(function(r){var i=YA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,Jn=!1;break e;case 3:Pt=o.stateNode.containerInfo,Jn=!0;break e;case 4:Pt=o.stateNode.containerInfo,Jn=!0;break e}o=o.return}if(Pt===null)throw Error(V(160));g_(s,a,i),Pt=null,Jn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v_(t,e),t=t.sibling}function v_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),fr(e),r&4){try{jl(3,e,e.return),bf(3,e)}catch(m){nt(e,e.return,m)}try{jl(5,e,e.return)}catch(m){nt(e,e.return,m)}}break;case 1:Hn(t,e),fr(e),r&512&&n!==null&&Ia(n,n.return);break;case 5:if(Hn(t,e),fr(e),r&512&&n!==null&&Ia(n,n.return),e.flags&32){var i=e.stateNode;try{$l(i,"")}catch(m){nt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&M1(i,s),nm(o,a);var u=nm(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?W1(i,f):d==="dangerouslySetInnerHTML"?B1(i,f):d==="children"?$l(i,f):sv(i,d,f,u)}switch(o){case"input":Yp(i,s);break;case"textarea":U1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?La(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?La(i,!!s.multiple,s.defaultValue,!0):La(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(m){nt(e,e.return,m)}}break;case 6:if(Hn(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){nt(e,e.return,m)}}break;case 3:if(Hn(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(t.containerInfo)}catch(m){nt(e,e.return,m)}break;case 4:Hn(t,e),fr(e);break;case 13:Hn(t,e),fr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lv=at())),r&4&&Nb(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(u=Lt)||d,Hn(t,e),Lt=u):Hn(t,e),fr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:jl(4,h,h.return);break;case 1:Ia(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){nt(r,n,m)}}break;case 5:Ia(h,h.return);break;case 22:if(h.memoizedState!==null){Ob(f);continue}}p!==null?(p.return=h,Z=p):Ob(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=H1("display",a))}catch(m){nt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){nt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(t,e),fr(e),r&4&&Nb(e);break;case 21:break;default:Hn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(m_(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var s=Rb(e);Om(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Rb(e);Tm(e,o,a);break;default:throw Error(V(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HA(e,t,n){Z=e,y_(e)}function y_(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||_u;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Lt;o=_u;var u=Lt;if(_u=a,(Lt=c)&&!u)for(Z=i;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?Ab(i):c!==null?(c.return=a,Z=c):Ab(i);for(;s!==null;)Z=s,y_(s),s=s.sibling;Z=i,_u=o,Lt=u}Tb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):Tb(e)}}function Tb(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||bf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mb(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mb(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Lt||t.flags&512&&Nm(t)}catch(h){nt(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Ob(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Ab(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bf(4,t)}catch(c){nt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){nt(t,i,c)}}var s=t.return;try{Nm(t)}catch(c){nt(t,s,c)}break;case 5:var a=t.return;try{Nm(t)}catch(c){nt(t,a,c)}}}catch(c){nt(t,t.return,c)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var WA=Math.ceil,Ld=li.ReactCurrentDispatcher,$v=li.ReactCurrentOwner,Dn=li.ReactCurrentBatchConfig,je=0,bt=null,dt=null,Et=0,yn=0,Fa=os(0),pt=0,Yl=null,Hs=0,wf=0,Dv=0,_l=null,nn=null,Lv=0,po=1/0,Hr=null,Md=!1,Am=null,qi=null,Pu=!1,Mi=null,Ud=0,Pl=0,Im=null,id=-1,sd=0;function Gt(){return je&6?at():id!==-1?id:id=at()}function Ki(e){return e.mode&1?je&2&&Et!==0?Et&-Et:CA.transition!==null?(sd===0&&(sd=nj()),sd):(e=Te,e!==0||(e=window.event,e=e===void 0?16:cj(e.type)),e):1}function er(e,t,n,r){if(50<Pl)throw Pl=0,Im=null,Error(V(185));zc(e,n,r),(!(je&2)||e!==bt)&&(e===bt&&(!(je&2)&&(wf|=n),pt===4&&Ni(e,Et)),cn(e,r),n===1&&je===0&&!(t.mode&1)&&(po=at()+500,vf&&ls()))}function cn(e,t){var n=e.callbackNode;CO(e,t);var r=jd(e,e===bt?Et:0);if(r===0)n!==null&&Bx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bx(n),t===1)e.tag===0?EA(Ib.bind(null,e)):kj(Ib.bind(null,e)),SA(function(){!(je&6)&&ls()}),n=null;else{switch(rj(r)){case 1:n=uv;break;case 4:n=ej;break;case 16:n=Sd;break;case 536870912:n=tj;break;default:n=Sd}n=E_(n,x_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function x_(e,t){if(id=-1,sd=0,je&6)throw Error(V(327));var n=e.callbackNode;if(Ha()&&e.callbackNode!==n)return null;var r=jd(e,e===bt?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zd(e,r);else{t=r;var i=je;je|=2;var s=w_();(bt!==e||Et!==t)&&(Hr=null,po=at()+500,Ds(e,t));do try{KA();break}catch(o){b_(e,o)}while(!0);jv(),Ld.current=s,je=i,dt!==null?t=0:(bt=null,Et=0,t=pt)}if(t!==0){if(t===2&&(i=om(e),i!==0&&(r=i,t=Fm(e,i))),t===1)throw n=Yl,Ds(e,0),Ni(e,r),cn(e,at()),n;if(t===6)Ni(e,r);else{if(i=e.current.alternate,!(r&30)&&!VA(i)&&(t=zd(e,r),t===2&&(s=om(e),s!==0&&(r=s,t=Fm(e,s))),t===1))throw n=Yl,Ds(e,0),Ni(e,r),cn(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:js(e,nn,Hr);break;case 3:if(Ni(e,r),(r&130023424)===r&&(t=Lv+500-at(),10<t)){if(jd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mm(js.bind(null,e,nn,Hr),t);break}js(e,nn,Hr);break;case 4:if(Ni(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Zn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){e.timeoutHandle=mm(js.bind(null,e,nn,Hr),r);break}js(e,nn,Hr);break;case 5:js(e,nn,Hr);break;default:throw Error(V(329))}}}return cn(e,at()),e.callbackNode===n?x_.bind(null,e):null}function Fm(e,t){var n=_l;return e.current.memoizedState.isDehydrated&&(Ds(e,t).flags|=256),e=zd(e,t),e!==2&&(t=nn,nn=n,t!==null&&$m(t)),e}function $m(e){nn===null?nn=e:nn.push.apply(nn,e)}function VA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ir(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~Dv,t&=~wf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function Ib(e){if(je&6)throw Error(V(327));Ha();var t=jd(e,0);if(!(t&1))return cn(e,at()),null;var n=zd(e,t);if(e.tag!==0&&n===2){var r=om(e);r!==0&&(t=r,n=Fm(e,r))}if(n===1)throw n=Yl,Ds(e,0),Ni(e,t),cn(e,at()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,nn,Hr),cn(e,at()),null}function Mv(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(po=at()+500,vf&&ls())}}function Ws(e){Mi!==null&&Mi.tag===0&&!(je&6)&&Ha();var t=je;je|=1;var n=Dn.transition,r=Te;try{if(Dn.transition=null,Te=1,e)return e()}finally{Te=r,Dn.transition=n,je=t,!(je&6)&&ls()}}function Uv(){yn=Fa.current,Ve(Fa)}function Ds(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wA(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:fo(),Ve(on),Ve(Ut),Rv();break;case 5:kv(r);break;case 4:fo();break;case 13:Ve(Ge);break;case 19:Ve(Ge);break;case 10:_v(r.type._context);break;case 22:case 23:Uv()}n=n.return}if(bt=e,dt=e=Qi(e.current,null),Et=yn=t,pt=0,Yl=null,Dv=wf=Hs=0,nn=_l=null,Ns!==null){for(t=0;t<Ns.length;t++)if(n=Ns[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ns=null}return e}function b_(e,t){do{var n=dt;try{if(jv(),td.current=Dd,$d){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$d=!1}if(Bs=0,yt=ht=Ye=null,Sl=!1,Ql=0,$v.current=null,n===null||n.return===null){pt=1,Yl=t,dt=null;break}e:{var s=e,a=n.return,o=n,c=t;if(t=Et,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wb(a);if(p!==null){p.flags&=-257,Sb(p,a,o,s,t),p.mode&1&&bb(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){bb(s,u,t),zv();break e}c=Error(V(426))}}else if(Ke&&o.mode&1){var w=wb(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sb(w,a,o,s,t),wv(ho(c,o));break e}}s=c=ho(c,o),pt!==4&&(pt=2),_l===null?_l=[s]:_l.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=r_(s,c,t);pb(s,v);break e;case 1:o=c;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qi===null||!qi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=i_(s,o,t);pb(s,S);break e}}s=s.return}while(s!==null)}j_(n)}catch(j){t=j,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function w_(){var e=Ld.current;return Ld.current=Dd,e===null?Dd:e}function zv(){(pt===0||pt===3||pt===2)&&(pt=4),bt===null||!(Hs&268435455)&&!(wf&268435455)||Ni(bt,Et)}function zd(e,t){var n=je;je|=2;var r=w_();(bt!==e||Et!==t)&&(Hr=null,Ds(e,t));do try{qA();break}catch(i){b_(e,i)}while(!0);if(jv(),je=n,Ld.current=r,dt!==null)throw Error(V(261));return bt=null,Et=0,pt}function qA(){for(;dt!==null;)S_(dt)}function KA(){for(;dt!==null&&!yO();)S_(dt)}function S_(e){var t=P_(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?j_(e):dt=t,$v.current=null}function j_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UA(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,dt=null;return}}else if(n=MA(n,t,yn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);pt===0&&(pt=5)}function js(e,t,n){var r=Te,i=Dn.transition;try{Dn.transition=null,Te=1,QA(e,t,n,r)}finally{Dn.transition=i,Te=r}return null}function QA(e,t,n,r){do Ha();while(Mi!==null);if(je&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(kO(e,s),e===bt&&(dt=bt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,E_(Sd,function(){return Ha(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var a=Te;Te=1;var o=je;je|=4,$v.current=null,BA(e,n),v_(n,e),pA(hm),_d=!!fm,hm=fm=null,e.current=n,HA(n),xO(),je=o,Te=a,Dn.transition=s}else e.current=n;if(Pu&&(Pu=!1,Mi=e,Ud=i),s=e.pendingLanes,s===0&&(qi=null),SO(n.stateNode),cn(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,e=Am,Am=null,e;return Ud&1&&e.tag!==0&&Ha(),s=e.pendingLanes,s&1?e===Im?Pl++:(Pl=0,Im=e):Pl=0,ls(),null}function Ha(){if(Mi!==null){var e=rj(Ud),t=Dn.transition,n=Te;try{if(Dn.transition=null,Te=16>e?16:e,Mi===null)var r=!1;else{if(e=Mi,Mi=null,Ud=0,je&6)throw Error(V(331));var i=je;for(je|=4,Z=e.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:jl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(p_(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Z=v;break e}Z=s.return}}var x=e.current;for(Z=x;Z!==null;){a=Z;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Z=y;else e:for(a=x;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bf(9,o)}}catch(j){nt(o,o.return,j)}if(o===a){Z=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Z=S;break e}Z=o.return}}if(je=i,ls(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(ff,e)}catch{}r=!0}return r}finally{Te=n,Dn.transition=t}}return!1}function Fb(e,t,n){t=ho(n,t),t=r_(e,t,1),e=Vi(e,t,1),t=Gt(),e!==null&&(zc(e,1,t),cn(e,t))}function nt(e,t,n){if(e.tag===3)Fb(e,e,n);else for(;t!==null;){if(t.tag===3){Fb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){e=ho(n,e),e=i_(t,e,1),t=Vi(t,e,1),e=Gt(),t!==null&&(zc(t,1,e),cn(t,e));break}}t=t.return}}function GA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(Et&n)===n&&(pt===4||pt===3&&(Et&130023424)===Et&&500>at()-Lv?Ds(e,0):Dv|=n),cn(e,t)}function __(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=Gt();e=ei(e,t),e!==null&&(zc(e,t,n),cn(e,n))}function JA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),__(e,n)}function YA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),__(e,n)}var P_;P_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,LA(e,t,n);sn=!!(e.flags&131072)}else sn=!1,Ke&&t.flags&1048576&&Rj(t,Td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rd(e,t),e=t.pendingProps;var i=lo(t,Ut.current);Ba(t,n),i=Tv(null,t,r,e,i,n);var s=Ov();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(s=!0,Rd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ev(t),i.updater=xf,t.stateNode=i,i._reactInternals=t,Sm(t,r,e,n),t=Pm(null,t,r,!0,s,n)):(t.tag=0,Ke&&s&&xv(t),Kt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ZA(r),e=Kn(r,e),i){case 0:t=_m(null,t,r,e,n);break e;case 1:t=Pb(null,t,r,e,n);break e;case 11:t=jb(null,t,r,e,n);break e;case 14:t=_b(null,t,r,Kn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),_m(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),Pb(e,t,r,i,n);case 3:e:{if(l_(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Fj(e,t),Id(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ho(Error(V(423)),t),t=Eb(e,t,r,n,i);break e}else if(r!==i){i=ho(Error(V(424)),t),t=Eb(e,t,r,n,i);break e}else for(bn=Wi(t.stateNode.containerInfo.firstChild),jn=t,Ke=!0,Xn=null,n=Aj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===i){t=ti(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return $j(t),e===null&&xm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,pm(r,i)?a=null:s!==null&&pm(r,s)&&(t.flags|=32),o_(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&xm(t),null;case 13:return c_(e,t,n);case 4:return Cv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),jb(e,t,r,i,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ue(Od,r._currentValue),r._currentValue=a,s!==null)if(ir(s.value,a)){if(s.children===i.children&&!on.current){t=ti(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),bm(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(V(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),bm(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ba(t,n),i=Un(i),r=r(i),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,i=Kn(r,t.pendingProps),i=Kn(r.type,i),_b(e,t,r,i,n);case 15:return s_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),rd(e,t),t.tag=1,ln(r)?(e=!0,Rd(t)):e=!1,Ba(t,n),n_(t,r,i),Sm(t,r,i,n),Pm(null,t,r,!0,e,n);case 19:return u_(e,t,n);case 22:return a_(e,t,n)}throw Error(V(156,t.tag))};function E_(e,t){return Z1(e,t)}function XA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,n,r){return new XA(e,t,n,r)}function Bv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZA(e){if(typeof e=="function")return Bv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ov)return 11;if(e===lv)return 14}return 2}function Qi(e,t){var n=e.alternate;return n===null?(n=$n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ad(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Bv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pa:return Ls(n.children,i,s,t);case av:a=8,i|=8;break;case qp:return e=$n(12,n,t,i|2),e.elementType=qp,e.lanes=s,e;case Kp:return e=$n(13,n,t,i),e.elementType=Kp,e.lanes=s,e;case Qp:return e=$n(19,n,t,i),e.elementType=Qp,e.lanes=s,e;case $1:return Sf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I1:a=10;break e;case F1:a=9;break e;case ov:a=11;break e;case lv:a=14;break e;case Ci:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=$n(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ls(e,t,n,r){return e=$n(7,e,r,t),e.lanes=n,e}function Sf(e,t,n,r){return e=$n(22,e,r,t),e.elementType=$1,e.lanes=n,e.stateNode={isHidden:!1},e}function zh(e,t,n){return e=$n(6,e,null,t),e.lanes=n,e}function Bh(e,t,n){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hv(e,t,n,r,i,s,a,o,c){return e=new e2(e,t,n,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$n(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(s),e}function t2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function C_(e){if(!e)return es;e=e._reactInternals;e:{if(Zs(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(ln(n))return Cj(e,n,t)}return t}function k_(e,t,n,r,i,s,a,o,c){return e=Hv(n,r,!0,e,i,s,a,o,c),e.context=C_(null),n=e.current,r=Gt(),i=Ki(n),s=Yr(r,i),s.callback=t??null,Vi(n,s,i),e.current.lanes=i,zc(e,i,r),cn(e,r),e}function jf(e,t,n,r){var i=t.current,s=Gt(),a=Ki(i);return n=C_(n),t.context===null?t.context=n:t.pendingContext=n,t=Yr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vi(i,t,a),e!==null&&(er(e,i,a,s),ed(e,i,a)),a}function Bd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $b(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wv(e,t){$b(e,t),(e=e.alternate)&&$b(e,t)}function n2(){return null}var R_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vv(e){this._internalRoot=e}_f.prototype.render=Vv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));jf(e,t,null,null)};_f.prototype.unmount=Vv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){jf(null,e,null,null)}),t[Zr]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=aj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ri.length&&t!==0&&t<Ri[n].priority;n++);Ri.splice(n,0,e),n===0&&lj(e)}};function qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Db(){}function r2(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Bd(a);s.call(u)}}var a=k_(t,r,e,0,null,!1,!1,"",Db);return e._reactRootContainer=a,e[Zr]=a.current,Hl(e.nodeType===8?e.parentNode:e),Ws(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Bd(c);o.call(u)}}var c=Hv(e,0,!1,null,null,!1,!1,"",Db);return e._reactRootContainer=c,e[Zr]=c.current,Hl(e.nodeType===8?e.parentNode:e),Ws(function(){jf(t,c,n,r)}),c}function Ef(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Bd(a);o.call(c)}}jf(t,a,e,i)}else a=r2(n,t,e,i,r);return Bd(a)}ij=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ll(t.pendingLanes);n!==0&&(dv(t,n|1),cn(t,at()),!(je&6)&&(po=at()+500,ls()))}break;case 13:Ws(function(){var r=ei(e,1);if(r!==null){var i=Gt();er(r,e,1,i)}}),Wv(e,1)}};fv=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var n=Gt();er(t,e,134217728,n)}Wv(e,134217728)}};sj=function(e){if(e.tag===13){var t=Ki(e),n=ei(e,t);if(n!==null){var r=Gt();er(n,e,t,r)}Wv(e,t)}};aj=function(){return Te};oj=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};im=function(e,t,n){switch(t){case"input":if(Yp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gf(r);if(!i)throw Error(V(90));L1(r),Yp(r,i)}}}break;case"textarea":U1(e,n);break;case"select":t=n.value,t!=null&&La(e,!!n.multiple,t,!1)}};K1=Mv;Q1=Ws;var i2={usingClientEntryPoint:!1,Events:[Hc,Ra,gf,V1,q1,Mv]},Qo={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y1(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||n2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{ff=Eu.inject(s2),Er=Eu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(t))throw Error(V(200));return t2(e,t,null,n)};Cn.createRoot=function(e,t){if(!qv(e))throw Error(V(299));var n=!1,r="",i=R_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hv(e,1,!1,null,null,n,!1,r,i),e[Zr]=t.current,Hl(e.nodeType===8?e.parentNode:e),new Vv(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Y1(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Ws(e)};Cn.hydrate=function(e,t,n){if(!Pf(t))throw Error(V(200));return Ef(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!qv(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=R_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=k_(t,null,e,1,n??null,i,!1,s,a),e[Zr]=t.current,Hl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _f(t)};Cn.render=function(e,t,n){if(!Pf(t))throw Error(V(200));return Ef(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Pf(e))throw Error(V(40));return e._reactRootContainer?(Ws(function(){Ef(null,null,e,!1,function(){e._reactRootContainer=null,e[Zr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Mv;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pf(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ef(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(e){console.error(e)}}N_(),N1.exports=Cn;var ea=N1.exports;const T_=Ys(ea);var O_,Lb=ea;O_=Lb.createRoot,Lb.hydrateRoot;const a2=1,o2=1e6;let Hh=0;function l2(){return Hh=(Hh+1)%Number.MAX_SAFE_INTEGER,Hh.toString()}const Wh=new Map,Mb=e=>{if(Wh.has(e))return;const t=setTimeout(()=>{Wh.delete(e),El({type:"REMOVE_TOAST",toastId:e})},o2);Wh.set(e,t)},c2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,a2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Mb(n):e.toasts.forEach(r=>{Mb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},od=[];let ld={toasts:[]};function El(e){ld=c2(ld,e),od.forEach(t=>{t(ld)})}function u2({...e}){const t=l2(),n=i=>El({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>El({type:"DISMISS_TOAST",toastId:t});return El({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Rt(){const[e,t]=b.useState(ld);return b.useEffect(()=>(od.push(t),()=>{const n=od.indexOf(t);n>-1&&od.splice(n,1)}),[e]),{...e,toast:u2,dismiss:n=>El({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function d2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function A_(...e){return t=>e.forEach(n=>d2(n,t))}function ke(...e){return b.useCallback(A_(...e),e)}function f2(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,h2(i,...t)]}function h2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Vs=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),s=i.find(p2);if(s){const a=s.props.children,o=i.map(c=>c===s?b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null:c);return l.jsx(Dm,{...r,ref:t,children:b.isValidElement(a)?b.cloneElement(a,void 0,o):null})}return l.jsx(Dm,{...r,ref:t,children:n})});Vs.displayName="Slot";var Dm=b.forwardRef((e,t)=>{const{children:n,...r}=e;if(b.isValidElement(n)){const i=g2(n);return b.cloneElement(n,{...m2(r,n.props),ref:t?A_(t,i):i})}return b.Children.count(n)>1?b.Children.only(null):null});Dm.displayName="SlotClone";var Kv=({children:e})=>l.jsx(l.Fragment,{children:e});function p2(e){return b.isValidElement(e)&&e.type===Kv}function m2(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function g2(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qv(e){const t=e+"CollectionProvider",[n,r]=f2(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,w=H.useRef(null),v=H.useRef(new Map).current;return l.jsx(i,{scope:g,itemMap:v,collectionRef:w,children:m})};a.displayName=t;const o=e+"CollectionSlot",c=H.forwardRef((p,g)=>{const{scope:m,children:w}=p,v=s(o,m),x=ke(g,v.collectionRef);return l.jsx(Vs,{ref:x,children:w})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=H.forwardRef((p,g)=>{const{scope:m,children:w,...v}=p,x=H.useRef(null),y=ke(g,x),S=s(u,m);return H.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),l.jsx(Vs,{[d]:"",ref:y,children:w})});f.displayName=u;function h(p){const g=s(e+"CollectionConsumer",p);return H.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,j)=>v.indexOf(S.ref.current)-v.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function v2(e,t){const n=b.createContext(t),r=s=>{const{children:a,...o}=s,c=b.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ci(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,y2(i,...t)]}function y2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var x2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=x2.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?Vs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function I_(e,t){e&&ea.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function b2(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var w2="DismissableLayer",Lm="dismissableLayer.update",S2="dismissableLayer.pointerDownOutside",j2="dismissableLayer.focusOutside",Ub,F_=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=b.useContext(F_),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=ke(t,C=>f(C)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),x=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,j=P2(C=>{const R=C.target,I=[...u.branches].some(D=>D.contains(R));!S||I||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},h),_=E2(C=>{const R=C.target;[...u.branches].some(D=>D.contains(R))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},h);return b2(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ub=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ub)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zb())},[d,u]),b.useEffect(()=>{const C=()=>p({});return document.addEventListener(Lm,C),()=>document.removeEventListener(Lm,C)},[]),l.jsx(le.div,{...c,ref:g,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,_.onFocusCapture),onBlurCapture:re(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,j.onPointerDownCapture)})});Vc.displayName=w2;var _2="DismissableLayerBranch",$_=b.forwardRef((e,t)=>{const n=b.useContext(F_),r=b.useRef(null),i=ke(t,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(le.div,{...e,ref:i})});$_.displayName=_2;function P2(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){D_(S2,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function E2(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&D_(j2,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zb(){const e=new CustomEvent(Lm);document.dispatchEvent(e)}function D_(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?I_(i,s):i.dispatchEvent(s)}var C2=Vc,k2=$_,kt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},R2="Portal",Cf=b.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=b.useState(!1);kt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?T_.createPortal(l.jsx(le.div,{...r,ref:t}),a):null});Cf.displayName=R2;function N2(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var ui=e=>{const{present:t,children:n}=e,r=T2(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=ke(r.ref,O2(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};ui.displayName="Presence";function T2(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[o,c]=N2(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Cu(r.current);s.current=o==="mounted"?u:"none"},[o]),kt(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=Cu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Cu(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(s.current=Cu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Cu(e){return(e==null?void 0:e.animationName)||"none"}function O2(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Nr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=A2({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=dn(n),c=b.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else i(u)},[s,e,i,o]);return[a,c]}function A2({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,i=b.useRef(r),s=dn(t);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var I2="VisuallyHidden",qc=b.forwardRef((e,t)=>l.jsx(le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));qc.displayName=I2;var F2=qc,Gv="ToastProvider",[Jv,$2,D2]=Qv("Toast"),[L_,_J]=ci("Toast",[D2]),[L2,kf]=L_(Gv),M_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gv}\`. Expected non-empty \`string\`.`),l.jsx(Jv.Provider,{scope:t,children:l.jsx(L2,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};M_.displayName=Gv;var U_="ToastViewport",M2=["F8"],Mm="toast.viewportPause",Um="toast.viewportResume",z_=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=M2,label:i="Notifications ({hotkey})",...s}=e,a=kf(U_,n),o=$2(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=ke(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;b.useEffect(()=>{const w=v=>{var y;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),b.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const x=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(Mm);v.dispatchEvent(_),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(Um);v.dispatchEvent(_),a.isClosePausedRef.current=!1}},S=_=>{!w.contains(_.relatedTarget)&&y()},j=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[g,a.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:w})=>{const x=o().map(y=>{const S=y.ref.current,j=[S,...X2(S)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?x.reverse():x).flat()},[o]);return b.useEffect(()=>{const w=f.current;if(w){const v=x=>{var j,_,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const R=document.activeElement,I=x.shiftKey;if(x.target===w&&I){(j=u.current)==null||j.focus();return}const O=m({tabbingDirection:I?"backwards":"forwards"}),U=O.findIndex(k=>k===R);Vh(O.slice(U+1))?x.preventDefault():I?(_=u.current)==null||_.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[o,m]),l.jsxs(k2,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(zm,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Vh(w)}}),l.jsx(Jv.Slot,{scope:n,children:l.jsx(le.ol,{tabIndex:-1,...s,ref:h})}),g&&l.jsx(zm,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Vh(w)}})]})});z_.displayName=U_;var B_="ToastFocusProxy",zm=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=kf(B_,n);return l.jsx(qc,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});zm.displayName=B_;var Rf="Toast",U2="toast.swipeStart",z2="toast.swipeMove",B2="toast.swipeCancel",H2="toast.swipeEnd",H_=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,c]=Nr({prop:r,defaultProp:i,onChange:s});return l.jsx(ui,{present:n||o,children:l.jsx(q2,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});H_.displayName=Rf;var[W2,V2]=L_(Rf,{onClose(){}}),q2=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=kf(Rf,n),[w,v]=b.useState(null),x=ke(t,k=>v(k)),y=b.useRef(null),S=b.useRef(null),j=i||m.duration,_=b.useRef(0),C=b.useRef(j),R=b.useRef(0),{onToastAdd:I,onToastRemove:D}=m,F=dn(()=>{var A;(w==null?void 0:w.contains(document.activeElement))&&((A=m.viewport)==null||A.focus()),a()}),O=b.useCallback(k=>{!k||k===1/0||(window.clearTimeout(R.current),_.current=new Date().getTime(),R.current=window.setTimeout(F,k))},[F]);b.useEffect(()=>{const k=m.viewport;if(k){const A=()=>{O(C.current),u==null||u()},T=()=>{const M=new Date().getTime()-_.current;C.current=C.current-M,window.clearTimeout(R.current),c==null||c()};return k.addEventListener(Mm,T),k.addEventListener(Um,A),()=>{k.removeEventListener(Mm,T),k.removeEventListener(Um,A)}}},[m.viewport,j,c,u,O]),b.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(j)},[s,j,m.isClosePausedRef,O]),b.useEffect(()=>(I(),()=>D()),[I,D]);const U=b.useMemo(()=>w?J_(w):null,[w]);return m.viewport?l.jsxs(l.Fragment,{children:[U&&l.jsx(K2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),l.jsx(W2,{scope:n,onClose:F,children:ea.createPortal(l.jsx(Jv.ItemSlot,{scope:n,children:l.jsx(C2,{asChild:!0,onEscapeKeyDown:re(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,k=>{k.key==="Escape"&&(o==null||o(k.nativeEvent),k.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:re(e.onPointerDown,k=>{k.button===0&&(y.current={x:k.clientX,y:k.clientY})}),onPointerMove:re(e.onPointerMove,k=>{if(!y.current)return;const A=k.clientX-y.current.x,T=k.clientY-y.current.y,M=!!S.current,P=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,E=P?$(0,A):0,L=P?0:$(0,T),z=k.pointerType==="touch"?10:2,N={x:E,y:L},te={originalEvent:k,delta:N};M?(S.current=N,ku(z2,f,te,{discrete:!1})):Bb(N,m.swipeDirection,z)?(S.current=N,ku(U2,d,te,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(A)>z||Math.abs(T)>z)&&(y.current=null)}),onPointerUp:re(e.onPointerUp,k=>{const A=S.current,T=k.target;if(T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),S.current=null,y.current=null,A){const M=k.currentTarget,P={originalEvent:k,delta:A};Bb(A,m.swipeDirection,m.swipeThreshold)?ku(H2,p,P,{discrete:!0}):ku(B2,h,P,{discrete:!0}),M.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),K2=e=>{const{__scopeToast:t,children:n,...r}=e,i=kf(Rf,t),[s,a]=b.useState(!1),[o,c]=b.useState(!1);return J2(()=>a(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Cf,{asChild:!0,children:l.jsx(qc,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},Q2="ToastTitle",W_=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(le.div,{...r,ref:t})});W_.displayName=Q2;var G2="ToastDescription",V_=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(le.div,{...r,ref:t})});V_.displayName=G2;var q_="ToastAction",K_=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(G_,{altText:n,asChild:!0,children:l.jsx(Yv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${q_}\`. Expected non-empty \`string\`.`),null)});K_.displayName=q_;var Q_="ToastClose",Yv=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=V2(Q_,n);return l.jsx(G_,{asChild:!0,children:l.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,i.onClose)})})});Yv.displayName=Q_;var G_=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function J_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Y2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...J_(r))}}),t}function ku(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?I_(i,s):i.dispatchEvent(s)}var Bb=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function J2(e=()=>{}){const t=dn(e);kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Y2(e){return e.nodeType===e.ELEMENT_NODE}function X2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Z2=M_,Y_=z_,X_=H_,Z_=W_,eP=V_,tP=K_,nP=Yv;function rP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function iP(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rP(e))&&(r&&(r+=" "),r+=t);return r}const Hb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Wb=iP,Kc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Wb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Hb(d)||Hb(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...o}[m]):{...s,...o}[m]===w})?[...u,f,h]:u},[]);return Wb(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>b.createElement("svg",{ref:c,...tI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sP("lucide",i),...o},[...a.map(([u,d])=>b.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(nI,{ref:s,iconNode:t,className:sP(`lucide-${eI(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=fe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=fe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iy="-",yI=e=>{const t=bI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(iy);return o[0]===""&&o.length!==1&&o.shift(),hP(o,t)||xI(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},hP=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?hP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(iy);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},qb=/^\[(.+)\]$/,xI=e=>{if(qb.test(e)){const t=qb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},bI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return SI(Object.entries(e.classGroups),n).forEach(([s,a])=>{Wm(a,r,s,t)}),r},Wm=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Kb(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(wI(i)){Wm(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Wm(a,Kb(t,s),n,r)})})},Kb=(e,t)=>{let n=e;return t.split(iy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wI=e=>e.isThemeGetter,SI=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,jI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},pP="!",_I=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let v=o[w];if(u===0){if(v===i&&(r||o.slice(w,w+s)===t)){c.push(o.slice(d,w)),d=w+s;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(pP),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},PI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},EI=e=>({cache:jI(e.cacheSize),parseClassName:_I(e),...yI(e)}),CI=/\s+/,kI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(CI);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const w=PI(d).join(":"),v=f?w+pP:w,x=v+m;if(s.includes(x))continue;s.push(x);const y=i(m,g);for(let S=0;S<y.length;++S){const j=y[S];s.push(v+j)}o=u+(o.length>0?" "+o:o)}return o};function RI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=mP(t))&&(r&&(r+=" "),r+=n);return r}const mP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=mP(e[r]))&&(n&&(n+=" "),n+=t);return n};function NI(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=EI(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=kI(c,n);return i(c,d),d}return function(){return s(RI.apply(null,arguments))}}const He=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},gP=/^\[(?:([a-z-]+):)?(.+)\]$/i,TI=/^\d+\/\d+$/,OI=new Set(["px","full","screen"]),AI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,II=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=e=>Wa(e)||OI.has(e)||TI.test(e),gi=e=>Ro(e,"length",VI),Wa=e=>!!e&&!Number.isNaN(Number(e)),qh=e=>Ro(e,"number",Wa),Go=e=>!!e&&Number.isInteger(Number(e)),LI=e=>e.endsWith("%")&&Wa(e.slice(0,-1)),me=e=>gP.test(e),vi=e=>AI.test(e),MI=new Set(["length","size","percentage"]),UI=e=>Ro(e,MI,vP),zI=e=>Ro(e,"position",vP),BI=new Set(["image","url"]),HI=e=>Ro(e,BI,KI),WI=e=>Ro(e,"",qI),Jo=()=>!0,Ro=(e,t,n)=>{const r=gP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},VI=e=>II.test(e)&&!FI.test(e),vP=()=>!1,qI=e=>$I.test(e),KI=e=>DI.test(e),QI=()=>{const e=He("colors"),t=He("spacing"),n=He("blur"),r=He("brightness"),i=He("borderColor"),s=He("borderRadius"),a=He("borderSpacing"),o=He("borderWidth"),c=He("contrast"),u=He("grayscale"),d=He("hueRotate"),f=He("invert"),h=He("gap"),p=He("gradientColorStops"),g=He("gradientColorStopPositions"),m=He("inset"),w=He("margin"),v=He("opacity"),x=He("padding"),y=He("saturate"),S=He("scale"),j=He("sepia"),_=He("skew"),C=He("space"),R=He("translate"),I=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",me,t],O=()=>[me,t],U=()=>["",Lr,gi],k=()=>["auto",Wa,me],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",me],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Wa,me];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[Lr,gi],blur:["none","",vi,me],brightness:L(),borderColor:[e],borderRadius:["none","","full",vi,me],borderSpacing:O(),borderWidth:U(),contrast:L(),grayscale:$(),hueRotate:L(),invert:$(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[LI,gi],inset:F(),margin:F(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:$(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[vi]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),me]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,me]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Go,me]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Go,me]},me]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Go,me]},me]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[vi]},vi]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vi,gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qh]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Wa,qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,gi]}],"underline-offset":[{"underline-offset":["auto",Lr,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),zI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Lr,me]}],"outline-w":[{outline:[Lr,gi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lr,gi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vi,WI]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vi,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Go,me]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lr,gi,qh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GI=NI(QI);function ie(...e){return GI(iP(e))}const JI=Z2,yP=b.forwardRef(({className:e,...t},n)=>l.jsx(Y_,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yP.displayName=Y_.displayName;const YI=Kc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xP=b.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(X_,{ref:r,className:ie(YI({variant:t}),e),...n}));xP.displayName=X_.displayName;const XI=b.forwardRef(({className:e,...t},n)=>l.jsx(tP,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XI.displayName=tP.displayName;const bP=b.forwardRef(({className:e,...t},n)=>l.jsx(nP,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ry,{className:"h-4 w-4"})}));bP.displayName=nP.displayName;const wP=b.forwardRef(({className:e,...t},n)=>l.jsx(Z_,{ref:n,className:ie("text-sm font-semibold",e),...t}));wP.displayName=Z_.displayName;const SP=b.forwardRef(({className:e,...t},n)=>l.jsx(eP,{ref:n,className:ie("text-sm opacity-90",e),...t}));SP.displayName=eP.displayName;function ZI(){const{toasts:e}=Rt();return l.jsxs(JI,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return l.jsxs(xP,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(wP,{children:n}),r&&l.jsx(SP,{children:r})]}),i,l.jsx(bP,{})]},t)}),l.jsx(yP,{})]})}var Qb=["light","dark"],eF="(prefers-color-scheme: dark)",tF=b.createContext(void 0),nF={setTheme:e=>{},themes:[]},rF=()=>{var e;return(e=b.useContext(tF))!=null?e:nF};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Qb.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,w=!0)=>{let v=a?a[g]:g,x=m?g+"|| ''":`'${v}'`,y="";return i&&w&&!m&&Qb.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?y+=`c.add(${x})`:y+="null":v&&(y+=`d[s](n,${x})`),y},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${eF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var iF=e=>{switch(e){case"success":return oF;case"info":return cF;case"warning":return lF;case"error":return uF;default:return null}},sF=Array(12).fill(0),aF=({visible:e})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},H.createElement("div",{className:"sonner-spinner"},sF.map((t,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dF=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Vm=1,fF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vm++,s=this.toasts.find(o=>o.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(pF(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Vm++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},vn=new fF,hF=(e,t)=>{let n=(t==null?void 0:t.id)||Vm++;return vn.addToast({title:e,...t,id:n}),n},pF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mF=hF,gF=()=>vn.toasts,qt=Object.assign(mF,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:gF});function vF(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}vF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ru(e){return e.label!==void 0}var yF=3,xF="32px",bF=4e3,wF=356,SF=14,jF=20,_F=200;function PF(...e){return e.filter(Boolean).join(" ")}var EF=e=>{var t,n,r,i,s,a,o,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:w,heights:v,index:x,toasts:y,expanded:S,removeToast:j,defaultRichColors:_,closeButton:C,style:R,cancelButtonStyle:I,actionButtonStyle:D,className:F="",descriptionClassName:O="",duration:U,position:k,gap:A,loadingIcon:T,expandByDefault:M,classNames:P,icons:$,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:L,cn:z}=e,[N,te]=H.useState(!1),[ne,J]=H.useState(!1),[Y,ee]=H.useState(!1),[oe,se]=H.useState(!1),[de,ye]=H.useState(0),[ft,wt]=H.useState(0),Nt=H.useRef(null),St=H.useRef(null),lr=x===0,Uo=x+1<=w,lt=h.type,$r=h.dismissible!==!1,hh=h.className||"",ph=h.descriptionClassName||"",aa=H.useMemo(()=>v.findIndex(ae=>ae.toastId===h.id)||0,[v,h.id]),mh=H.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:C},[h.closeButton,C]),ou=H.useMemo(()=>h.duration||U||bF,[h.duration,U]),B=H.useRef(0),K=H.useRef(0),ue=H.useRef(0),he=H.useRef(null),[Re,hn]=k.split("-"),cr=H.useMemo(()=>v.reduce((ae,Be,Fe)=>Fe>=aa?ae:ae+Be.height,0),[v,aa]),Rn=dF(),ms=h.invert||f,Dr=lt==="loading";K.current=H.useMemo(()=>aa*A+cr,[aa,cr]),H.useEffect(()=>{te(!0)},[]),H.useLayoutEffect(()=>{if(!N)return;let ae=St.current,Be=ae.style.height;ae.style.height="auto";let Fe=ae.getBoundingClientRect().height;ae.style.height=Be,wt(Fe),m(ur=>ur.find(dr=>dr.toastId===h.id)?ur.map(dr=>dr.toastId===h.id?{...dr,height:Fe}:dr):[{toastId:h.id,height:Fe,position:h.position},...ur])},[N,h.title,h.description,m,h.id]);let Ze=H.useCallback(()=>{J(!0),ye(K.current),m(ae=>ae.filter(Be=>Be.toastId!==h.id)),setTimeout(()=>{j(h)},_F)},[h,j,m,K]);H.useEffect(()=>{if(h.promise&&lt==="loading"||h.duration===1/0||h.type==="loading")return;let ae,Be=ou;return S||g||L&&Rn?(()=>{if(ue.current<B.current){let Fe=new Date().getTime()-B.current;Be=Be-Fe}ue.current=new Date().getTime()})():Be!==1/0&&(B.current=new Date().getTime(),ae=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),Ze()},Be)),()=>clearTimeout(ae)},[S,g,M,h,ou,Ze,h.promise,lt,L,Rn]),H.useEffect(()=>{let ae=St.current;if(ae){let Be=ae.getBoundingClientRect().height;return wt(Be),m(Fe=>[{toastId:h.id,height:Be,position:h.position},...Fe]),()=>m(Fe=>Fe.filter(ur=>ur.toastId!==h.id))}},[m,h.id]),H.useEffect(()=>{h.delete&&Ze()},[Ze,h.delete]);function pi(){return $!=null&&$.loading?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},$.loading):T?H.createElement("div",{className:"sonner-loader","data-visible":lt==="loading"},T):H.createElement(aF,{visible:lt==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:St,className:z(F,hh,P==null?void 0:P.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[lt],(n=h==null?void 0:h.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":N,"data-promise":!!h.promise,"data-removed":ne,"data-visible":Uo,"data-y-position":Re,"data-x-position":hn,"data-index":x,"data-front":lr,"data-swiping":Y,"data-dismissible":$r,"data-type":lt,"data-invert":ms,"data-swipe-out":oe,"data-expanded":!!(S||M&&N),style:{"--index":x,"--toasts-before":x,"--z-index":y.length-x,"--offset":`${ne?de:K.current}px`,"--initial-height":M?"auto":`${ft}px`,...R,...h.style},onPointerDown:ae=>{Dr||!$r||(Nt.current=new Date,ye(K.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ee(!0),he.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Be,Fe,ur;if(oe||!$r)return;he.current=null;let dr=Number(((ae=St.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),lu=new Date().getTime()-((Be=Nt.current)==null?void 0:Be.getTime()),NT=Math.abs(dr)/lu;if(Math.abs(dr)>=jF||NT>.11){ye(K.current),(Fe=h.onDismiss)==null||Fe.call(h,h),Ze(),se(!0);return}(ur=St.current)==null||ur.style.setProperty("--swipe-amount","0px"),ee(!1)},onPointerMove:ae=>{var Be;if(!he.current||!$r)return;let Fe=ae.clientY-he.current.y,ur=ae.clientX-he.current.x,dr=(Re==="top"?Math.min:Math.max)(0,Fe),lu=ae.pointerType==="touch"?10:2;Math.abs(dr)>lu?(Be=St.current)==null||Be.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(ur)>lu&&(he.current=null)}},mh&&!h.jsx?H.createElement("button",{"aria-label":E,"data-disabled":Dr,"data-close-button":!0,onClick:Dr||!$r?()=>{}:()=>{var ae;Ze(),(ae=h.onDismiss)==null||ae.call(h,h)},className:z(P==null?void 0:P.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,lt||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:z(P==null?void 0:P.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pi():null,h.type!=="loading"?h.icon||($==null?void 0:$[lt])||iF(lt):null):null,H.createElement("div",{"data-content":"",className:z(P==null?void 0:P.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:z(P==null?void 0:P.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:z(O,ph,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&Ru(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:ae=>{var Be,Fe;Ru(h.cancel)&&$r&&((Fe=(Be=h.cancel).onClick)==null||Fe.call(Be,ae),Ze())},className:z(P==null?void 0:P.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&Ru(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:ae=>{var Be,Fe;Ru(h.action)&&(ae.defaultPrevented||((Fe=(Be=h.action).onClick)==null||Fe.call(Be,ae),Ze()))},className:z(P==null?void 0:P.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Gb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var CF=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=yF,toastOptions:p,dir:g=Gb(),gap:m=SF,loadingIcon:w,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:y,cn:S=PF}=e,[j,_]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([n].concat(j.filter(L=>L.position).map(L=>L.position)))),[j,n]),[R,I]=H.useState([]),[D,F]=H.useState(!1),[O,U]=H.useState(!1),[k,A]=H.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=H.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=H.useRef(null),$=H.useRef(!1),E=H.useCallback(L=>{var z;(z=j.find(N=>N.id===L.id))!=null&&z.delete||vn.dismiss(L.id),_(N=>N.filter(({id:te})=>te!==L.id))},[j]);return H.useEffect(()=>vn.subscribe(L=>{if(L.dismiss){_(z=>z.map(N=>N.id===L.id?{...N,delete:!0}:N));return}setTimeout(()=>{T_.flushSync(()=>{_(z=>{let N=z.findIndex(te=>te.id===L.id);return N!==-1?[...z.slice(0,N),{...z[N],...L},...z.slice(N+1)]:[L,...z]})})})}),[]),H.useEffect(()=>{if(c!=="system"){A(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{A(L?"dark":"light")})},[c]),H.useEffect(()=>{j.length<=1&&F(!1)},[j]),H.useEffect(()=>{let L=z=>{var N,te;r.every(ne=>z[ne]||z.code===ne)&&(F(!0),(N=T.current)==null||N.focus()),z.code==="Escape"&&(document.activeElement===T.current||(te=T.current)!=null&&te.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),H.useEffect(()=>{if(T.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,$.current=!1)}},[T.current]),j.length?H.createElement("section",{"aria-label":`${x} ${M}`,tabIndex:-1},C.map((L,z)=>{var N;let[te,ne]=L.split("-");return H.createElement("ol",{key:L,dir:g==="auto"?Gb():g,tabIndex:-1,ref:T,className:a,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":te,"data-x-position":ne,style:{"--front-toast-height":`${((N=R[0])==null?void 0:N.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||xF,"--width":`${wF}px`,"--gap":`${m}px`,...f},onBlur:J=>{$.current&&!J.currentTarget.contains(J.relatedTarget)&&($.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||$.current||($.current=!0,P.current=J.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{O||F(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},j.filter(J=>!J.position&&z===0||J.position===L).map((J,Y)=>{var ee,oe;return H.createElement(EF,{key:J.id,icons:v,index:Y,toast:J,defaultRichColors:u,duration:(ee=p==null?void 0:p.duration)!=null?ee:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(oe=p==null?void 0:p.closeButton)!=null?oe:s,interacting:O,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:E,toasts:j.filter(se=>se.position==J.position),heights:R.filter(se=>se.position==J.position),setHeights:I,expandByDefault:i,gap:m,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:y,cn:S})}))})):null};const kF=({...e})=>{const{theme:t="system"}=rF();return l.jsx(CF,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var RF=nv.useId||(()=>{}),NF=0;function Rr(e){const[t,n]=b.useState(RF());return kt(()=>{e||n(r=>r??String(NF++))},[e]),e||(t?`radix-${t}`:"")}const TF=["top","right","bottom","left"],ts=Math.min,xn=Math.max,Vd=Math.round,Nu=Math.floor,ns=e=>({x:e,y:e}),OF={left:"right",right:"left",bottom:"top",top:"bottom"},AF={start:"end",end:"start"};function qm(e,t,n){return xn(e,ts(t,n))}function ni(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function No(e){return e.split("-")[1]}function sy(e){return e==="x"?"y":"x"}function ay(e){return e==="y"?"height":"width"}function rs(e){return["top","bottom"].includes(ri(e))?"y":"x"}function oy(e){return sy(rs(e))}function IF(e,t,n){n===void 0&&(n=!1);const r=No(e),i=oy(e),s=ay(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=qd(a)),[a,qd(a)]}function FF(e){const t=qd(e);return[Km(e),t,Km(t)]}function Km(e){return e.replace(/start|end/g,t=>AF[t])}function $F(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function DF(e,t,n,r){const i=No(e);let s=$F(ri(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Km)))),s}function qd(e){return e.replace(/left|right|bottom|top/g,t=>OF[t])}function LF(e){return{top:0,right:0,bottom:0,left:0,...e}}function jP(e){return typeof e!="number"?LF(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Jb(e,t,n){let{reference:r,floating:i}=e;const s=rs(t),a=oy(t),o=ay(a),c=ri(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(No(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const MF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=Jb(u,r,c),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:w,fn:v}=o[m],{x,y,data:S,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,f=y??f,p={...p,[w]:{...p[w],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:f}=Jb(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function ec(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ni(t,e),g=jP(p),w=o[h?f==="floating"?"reference":"floating":f],v=Kd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},j=Kd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:c}):x);return{top:(v.top-j.top+g.top)/S.y,bottom:(j.bottom-v.bottom+g.bottom)/S.y,left:(v.left-j.left+g.left)/S.x,right:(j.right-v.right+g.right)/S.x}}const UF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=ni(e,t)||{};if(u==null)return{};const f=jP(d),h={x:n,y:r},p=oy(i),g=ay(p),m=await a.getDimensions(u),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",y=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],j=h[p]-s.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=_?_[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(_)))&&(C=o.floating[y]||s.floating[g]);const R=S/2-j/2,I=C/2-m[g]/2-1,D=ts(f[v],I),F=ts(f[x],I),O=D,U=C-m[g]-F,k=C/2-m[g]/2+R,A=qm(O,k,U),T=!c.arrow&&No(i)!=null&&k!==A&&s.reference[g]/2-(k<O?D:F)-m[g]/2<0,M=T?k<O?k-O:k-U:0;return{[p]:h[p]+M,data:{[p]:A,centerOffset:k-A-M,...T&&{alignmentOffset:M}},reset:T}}}),zF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=ni(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=ri(i),x=rs(o),y=ri(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(y||!m?[qd(o)]:FF(o)),_=g!=="none";!h&&_&&j.push(...DF(o,m,g,S));const C=[o,...j],R=await ec(t,w),I=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(R[v]),f){const k=IF(i,a,S);I.push(R[k[0]],R[k[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every(k=>k<=0)){var F,O;const k=(((F=s.flip)==null?void 0:F.index)||0)+1,A=C[k];if(A)return{data:{index:k,overflows:D},reset:{placement:A}};let T=(O=D.filter(M=>M.overflows[0]<=0).sort((M,P)=>M.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!T)switch(p){case"bestFit":{var U;const M=(U=D.filter(P=>{if(_){const $=rs(P.placement);return $===x||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,E)=>$+E,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:U[0];M&&(T=M);break}case"initialPlacement":T=o;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function Yb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xb(e){return TF.some(t=>e[t]>=0)}const BF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ni(e,t);switch(r){case"referenceHidden":{const s=await ec(t,{...i,elementContext:"reference"}),a=Yb(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Xb(a)}}}case"escaped":{const s=await ec(t,{...i,altBoundary:!0}),a=Yb(s,n.floating);return{data:{escapedOffsets:a,escaped:Xb(a)}}}default:return{}}}}};async function HF(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ri(n),o=No(n),c=rs(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=ni(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const WF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await HF(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},VF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=ni(e,t),u={x:n,y:r},d=await ec(t,c),f=rs(ri(i)),h=sy(f);let p=u[h],g=u[f];if(s){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[w],y=p-d[v];p=qm(x,p,y)}if(a){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+d[w],y=g-d[v];g=qm(x,g,y)}const m=o.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},qF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=ni(e,t),d={x:n,y:r},f=rs(i),h=sy(f);let p=d[h],g=d[f];const m=ni(o,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=h==="y"?"height":"width",S=s.reference[h]-s.floating[y]+w.mainAxis,j=s.reference[h]+s.reference[y]-w.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var v,x;const y=h==="y"?"width":"height",S=["top","left"].includes(ri(i)),j=s.reference[f]-s.floating[y]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),_=s.reference[f]+s.reference[y]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?w.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:p,[f]:g}}}},KF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=ni(e,t),d=await ec(t,u),f=ri(i),h=No(i),p=rs(i)==="y",{width:g,height:m}=s.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,y=g-d.left-d.right,S=ts(m-d[w],x),j=ts(g-d[v],y),_=!t.middlewareData.shift;let C=S,R=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),_&&!h){const D=xn(d.left,0),F=xn(d.right,0),O=xn(d.top,0),U=xn(d.bottom,0);p?R=g-2*(D!==0||F!==0?D+F:xn(d.left,d.right)):C=m-2*(O!==0||U!==0?O+U:xn(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:C});const I=await a.getDimensions(o.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Tf(){return typeof window<"u"}function To(e){return _P(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ir(e){var t;return(t=(_P(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _P(e){return Tf()?e instanceof Node||e instanceof _n(e).Node:!1}function sr(e){return Tf()?e instanceof Element||e instanceof _n(e).Element:!1}function Tr(e){return Tf()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function Zb(e){return!Tf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}function Gc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function QF(e){return["table","td","th"].includes(To(e))}function Of(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ly(e){const t=cy(),n=sr(e)?ar(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function GF(e){let t=is(e);for(;Tr(t)&&!go(t);){if(ly(t))return t;if(Of(t))return null;t=is(t)}return null}function cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function go(e){return["html","body","#document"].includes(To(e))}function ar(e){return _n(e).getComputedStyle(e)}function Af(e){return sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(To(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zb(e)&&e.host||Ir(e);return Zb(t)?t.host:t}function PP(e){const t=is(e);return go(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tr(t)&&Gc(t)?t:PP(t)}function tc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=PP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=_n(i);if(s){const o=Qm(a);return t.concat(a,a.visualViewport||[],Gc(i)?i:[],o&&n?tc(o):[])}return t.concat(i,tc(i,[],n))}function Qm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EP(e){const t=ar(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Tr(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Vd(n)!==s||Vd(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function uy(e){return sr(e)?e:e.contextElement}function Va(e){const t=uy(e);if(!Tr(t))return ns(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=EP(t);let a=(s?Vd(n.width):n.width)/r,o=(s?Vd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const JF=ns(0);function CP(e){const t=_n(e);return!cy()||!t.visualViewport?JF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function Ks(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=uy(e);let a=ns(1);t&&(r?sr(r)&&(a=Va(r)):a=Va(e));const o=YF(s,n,r)?CP(s):ns(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=_n(s),p=r&&sr(r)?_n(r):r;let g=h,m=Qm(g);for(;m&&r&&p!==g;){const w=Va(m),v=m.getBoundingClientRect(),x=ar(m),y=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=y,u+=S,g=_n(m),m=Qm(g)}}return Kd({width:d,height:f,x:c,y:u})}function XF(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Ir(r),o=t?Of(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ns(1);const d=ns(0),f=Tr(r);if((f||!f&&!s)&&((To(r)!=="body"||Gc(a))&&(c=Af(r)),Tr(r))){const h=Ks(r);u=Va(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function ZF(e){return Array.from(e.getClientRects())}function Gm(e,t){const n=Af(e).scrollLeft;return t?t.left+n:Ks(Ir(e)).left+n}function e$(e){const t=Ir(e),n=Af(e),r=e.ownerDocument.body,i=xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Gm(e);const o=-n.scrollTop;return ar(r).direction==="rtl"&&(a+=xn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function t$(e,t){const n=_n(e),r=Ir(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=cy();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function n$(e,t){const n=Ks(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Tr(e)?Va(e):ns(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function e0(e,t,n){let r;if(t==="viewport")r=t$(e,n);else if(t==="document")r=e$(Ir(e));else if(sr(t))r=n$(t,n);else{const i=CP(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Kd(r)}function kP(e,t){const n=is(e);return n===t||!sr(n)||go(n)?!1:ar(n).position==="fixed"||kP(n,t)}function r$(e,t){const n=t.get(e);if(n)return n;let r=tc(e,[],!1).filter(o=>sr(o)&&To(o)!=="body"),i=null;const s=ar(e).position==="fixed";let a=s?is(e):e;for(;sr(a)&&!go(a);){const o=ar(a),c=ly(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gc(a)&&!c&&kP(e,a))?r=r.filter(d=>d!==a):i=o,a=is(a)}return t.set(e,r),r}function i$(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Of(t)?[]:r$(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=e0(t,d,i);return u.top=xn(f.top,u.top),u.right=ts(f.right,u.right),u.bottom=ts(f.bottom,u.bottom),u.left=xn(f.left,u.left),u},e0(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s$(e){const{width:t,height:n}=EP(e);return{width:t,height:n}}function a$(e,t,n){const r=Tr(t),i=Ir(t),s=n==="fixed",a=Ks(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=ns(0);if(r||!r&&!s)if((To(t)!=="body"||Gc(i))&&(o=Af(t)),r){const p=Ks(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=Gm(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-Gm(i,p)}const f=a.left+o.scrollLeft-c.x-u,h=a.top+o.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Kh(e){return ar(e).position==="static"}function t0(e,t){if(!Tr(e)||ar(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ir(e)===n&&(n=n.ownerDocument.body),n}function RP(e,t){const n=_n(e);if(Of(e))return n;if(!Tr(e)){let i=is(e);for(;i&&!go(i);){if(sr(i)&&!Kh(i))return i;i=is(i)}return n}let r=t0(e,t);for(;r&&QF(r)&&Kh(r);)r=t0(r,t);return r&&go(r)&&Kh(r)&&!ly(r)?n:r||GF(e)||n}const o$=async function(e){const t=this.getOffsetParent||RP,n=this.getDimensions,r=await n(e.floating);return{reference:a$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l$(e){return ar(e).direction==="rtl"}const c$={convertOffsetParentRelativeRectToViewportRelativeRect:XF,getDocumentElement:Ir,getClippingRect:i$,getOffsetParent:RP,getElementRects:o$,getClientRects:ZF,getDimensions:s$,getScale:Va,isElement:sr,isRTL:l$};function u$(e,t){let n=null,r;const i=Ir(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const p=Nu(d),g=Nu(i.clientWidth-(u+f)),m=Nu(i.clientHeight-(d+h)),w=Nu(u),x={rootMargin:-p+"px "+-g+"px "+-m+"px "+-w+"px",threshold:xn(0,ts(1,c))||1};let y=!0;function S(j){const _=j[0].intersectionRatio;if(_!==c){if(!y)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return a(!0),s}function d$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uy(e),d=i||s?[...u?tc(u):[],...tc(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&o?u$(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Ks(e):null;c&&w();function w(){const v=Ks(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const f$=WF,h$=VF,p$=zF,m$=KF,g$=BF,n0=UF,v$=qF,y$=(e,t,n)=>{const r=new Map,i={platform:c$,...n},s={...i.platform,_c:r};return MF(e,t,{...i,platform:s})};var dd=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Qd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qd(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Qd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function NP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r0(e,t){const n=NP(e);return Math.round(t*n)/n}function Qh(e){const t=b.useRef(e);return dd(()=>{t.current=e}),t}function x$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);Qd(h,r)||p(r);const[g,m]=b.useState(null),[w,v]=b.useState(null),x=b.useCallback(P=>{P!==_.current&&(_.current=P,m(P))},[]),y=b.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),S=s||g,j=a||w,_=b.useRef(null),C=b.useRef(null),R=b.useRef(d),I=c!=null,D=Qh(c),F=Qh(i),O=Qh(u),U=b.useCallback(()=>{if(!_.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};F.current&&(P.platform=F.current),y$(_.current,C.current,P).then($=>{const E={...$,isPositioned:O.current!==!1};k.current&&!Qd(R.current,E)&&(R.current=E,ea.flushSync(()=>{f(E)}))})},[h,t,n,F,O]);dd(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const k=b.useRef(!1);dd(()=>(k.current=!0,()=>{k.current=!1}),[]),dd(()=>{if(S&&(_.current=S),j&&(C.current=j),S&&j){if(D.current)return D.current(S,j,U);U()}},[S,j,U,D,I]);const A=b.useMemo(()=>({reference:_,floating:C,setReference:x,setFloating:y}),[x,y]),T=b.useMemo(()=>({reference:S,floating:j}),[S,j]),M=b.useMemo(()=>{const P={position:n,left:0,top:0};if(!T.floating)return P;const $=r0(T.floating,d.x),E=r0(T.floating,d.y);return o?{...P,transform:"translate("+$+"px, "+E+"px)",...NP(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:E}},[n,o,T.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:U,refs:A,elements:T,floatingStyles:M}),[d,U,A,T,M])}const b$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?n0({element:r.current,padding:i}).fn(n):{}:r?n0({element:r,padding:i}).fn(n):{}}}},w$=(e,t)=>({...f$(e),options:[e,t]}),S$=(e,t)=>({...h$(e),options:[e,t]}),j$=(e,t)=>({...v$(e),options:[e,t]}),_$=(e,t)=>({...p$(e),options:[e,t]}),P$=(e,t)=>({...m$(e),options:[e,t]}),E$=(e,t)=>({...g$(e),options:[e,t]}),C$=(e,t)=>({...b$(e),options:[e,t]});var k$="Arrow",TP=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(le.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});TP.displayName=k$;var R$=TP;function N$(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,T$(i,...t)]}function T$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function dy(e){const[t,n]=b.useState(void 0);return kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var fy="Popper",[OP,If]=N$(fy),[O$,AP]=OP(fy),IP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return l.jsx(O$,{scope:t,anchor:r,onAnchorChange:i,children:n})};IP.displayName=fy;var FP="PopperAnchor",$P=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=AP(FP,n),a=b.useRef(null),o=ke(t,a);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(le.div,{...i,ref:o})});$P.displayName=FP;var hy="PopperContent",[A$,I$]=OP(hy),DP=b.forwardRef((e,t)=>{var Y,ee,oe,se,de,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,w=AP(hy,n),[v,x]=b.useState(null),y=ke(t,ft=>x(ft)),[S,j]=b.useState(null),_=dy(S),C=(_==null?void 0:_.width)??0,R=(_==null?void 0:_.height)??0,I=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],O=F.length>0,U={padding:D,boundary:F.filter($$),altBoundary:O},{refs:k,floatingStyles:A,placement:T,isPositioned:M,middlewareData:P}=x$({strategy:"fixed",placement:I,whileElementsMounted:(...ft)=>d$(...ft,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[w$({mainAxis:i+R,alignmentAxis:a}),c&&S$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?j$():void 0,...U}),c&&_$({...U}),P$({...U,apply:({elements:ft,rects:wt,availableWidth:Nt,availableHeight:St})=>{const{width:lr,height:Uo}=wt.reference,lt=ft.floating.style;lt.setProperty("--radix-popper-available-width",`${Nt}px`),lt.setProperty("--radix-popper-available-height",`${St}px`),lt.setProperty("--radix-popper-anchor-width",`${lr}px`),lt.setProperty("--radix-popper-anchor-height",`${Uo}px`)}}),S&&C$({element:S,padding:o}),D$({arrowWidth:C,arrowHeight:R}),h&&E$({strategy:"referenceHidden",...U})]}),[$,E]=UP(T),L=dn(g);kt(()=>{M&&(L==null||L())},[M,L]);const z=(Y=P.arrow)==null?void 0:Y.x,N=(ee=P.arrow)==null?void 0:ee.y,te=((oe=P.arrow)==null?void 0:oe.centerOffset)!==0,[ne,J]=b.useState();return kt(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:M?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(se=P.transformOrigin)==null?void 0:se.x,(de=P.transformOrigin)==null?void 0:de.y].join(" "),...((ye=P.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(A$,{scope:n,placedSide:$,onArrowChange:j,arrowX:z,arrowY:N,shouldHideArrow:te,children:l.jsx(le.div,{"data-side":$,"data-align":E,...m,ref:y,style:{...m.style,animation:M?void 0:"none"}})})})});DP.displayName=hy;var LP="PopperArrow",F$={top:"bottom",right:"left",bottom:"top",left:"right"},MP=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=I$(LP,r),a=F$[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(R$,{...i,ref:n,style:{...i.style,display:"block"}})})});MP.displayName=LP;function $$(e){return e!==null}var D$=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:r,middlewareData:i}=t,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=UP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-c}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function UP(e){const[t,n="center"]=e.split("-");return[t,n]}var zP=IP,BP=$P,HP=DP,WP=MP,[Ff,PJ]=ci("Tooltip",[If]),$f=If(),VP="TooltipProvider",L$=700,Jm="tooltip.open",[M$,py]=Ff(VP),qP=e=>{const{__scopeTooltip:t,delayDuration:n=L$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,o]=b.useState(!0),c=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(M$,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};qP.displayName=VP;var Df="Tooltip",[U$,Lf]=Ff(Df),KP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,c=py(Df,e.__scopeTooltip),u=$f(t),[d,f]=b.useState(null),h=Rr(),p=b.useRef(0),g=a??c.disableHoverableContent,m=o??c.delayDuration,w=b.useRef(!1),[v=!1,x]=Nr({prop:r,defaultProp:i,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Jm))):c.onClose(),s==null||s(C)}}),y=b.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),S=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),j=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),_=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},m)},[m,x]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(zP,{...u,children:l.jsx(U$,{scope:t,contentId:h,open:v,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayed?_():S()},[c.isOpenDelayed,_,S]),onTriggerLeave:b.useCallback(()=>{g?j():(window.clearTimeout(p.current),p.current=0)},[j,g]),onOpen:S,onClose:j,disableHoverableContent:g,children:n})})};KP.displayName=Df;var Ym="TooltipTrigger",QP=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Lf(Ym,n),s=py(Ym,n),a=$f(n),o=b.useRef(null),c=ke(t,o,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(BP,{asChild:!0,...a,children:l.jsx(le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:re(e.onBlur,i.onClose),onClick:re(e.onClick,i.onClose)})})});QP.displayName=Ym;var z$="TooltipPortal",[EJ,B$]=Ff(z$,{forceMount:void 0}),vo="TooltipContent",GP=b.forwardRef((e,t)=>{const n=B$(vo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=Lf(vo,e.__scopeTooltip);return l.jsx(ui,{present:r||a.open,children:a.disableHoverableContent?l.jsx(JP,{side:i,...s,ref:t}):l.jsx(H$,{side:i,...s,ref:t})})}),H$=b.forwardRef((e,t)=>{const n=Lf(vo,e.__scopeTooltip),r=py(vo,e.__scopeTooltip),i=b.useRef(null),s=ke(t,i),[a,o]=b.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{o(null),f(!1)},[f]),p=b.useCallback((g,m)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},x=K$(v,w.getBoundingClientRect()),y=Q$(v,x),S=G$(m.getBoundingClientRect()),j=Y$([...y,...S]);o(j),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const g=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),b.useEffect(()=>{if(a){const g=m=>{const w=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),y=!J$(v,a);x?h():y&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),l.jsx(JP,{...e,ref:s})}),[W$,V$]=Ff(Df,{isInside:!1}),JP=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=Lf(vo,n),u=$f(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(Jm,d),()=>document.removeEventListener(Jm,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(HP,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Kv,{children:r}),l.jsx(W$,{scope:n,isInside:!0,children:l.jsx(F2,{id:c.contentId,role:"tooltip",children:i||r})})]})})});GP.displayName=vo;var YP="TooltipArrow",q$=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=$f(n);return V$(YP,n).isInside?null:l.jsx(WP,{...i,...r,ref:t})});q$.displayName=YP;function K$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Q$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function G$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function J$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(i=!i)}return i}function Y$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),X$(t)}function X$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Z$=qP,eD=KP,tD=QP,XP=GP;const Si=Z$,gs=eD,vs=tD,ji=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(XP,{ref:r,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ji.displayName=XP.displayName;var Mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uf=typeof window>"u"||"Deno"in globalThis;function Qn(){}function nD(e,t){return typeof e=="function"?e(t):e}function rD(e){return typeof e=="number"&&e>=0&&e!==1/0}function iD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function i0(e,t){return typeof e=="function"?e(t):e}function sD(e,t){return typeof e=="function"?e(t):e}function s0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==my(a,t.options))return!1}else if(!rc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function a0(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(nc(t.options.mutationKey)!==nc(s))return!1}else if(!rc(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function my(e,t){return((t==null?void 0:t.queryKeyHashFn)||nc)(e)}function nc(e){return JSON.stringify(e,(t,n)=>Xm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function rc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!rc(e[n],t[n])):!1}function ZP(e,t){if(e===t)return e;const n=o0(e)&&o0(t);if(n||Xm(e)&&Xm(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=ZP(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function o0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xm(e){if(!l0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!l0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function l0(e){return Object.prototype.toString.call(e)==="[object Object]"}function aD(e){return new Promise(t=>{setTimeout(t,e)})}function oD(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ZP(e,t):t}function lD(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cD(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gy=Symbol();function eE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var As,Ai,Xa,d1,uD=(d1=class extends Mf{constructor(){super();Ne(this,As);Ne(this,Ai);Ne(this,Xa);ve(this,Xa,t=>{if(!Uf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ai)||this.setEventListener(W(this,Xa))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ai))==null||t.call(this),ve(this,Ai,void 0))}setEventListener(t){var n;ve(this,Xa,t),(n=W(this,Ai))==null||n.call(this),ve(this,Ai,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,As)!==t&&(ve(this,As,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,As)=="boolean"?W(this,As):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},As=new WeakMap,Ai=new WeakMap,Xa=new WeakMap,d1),tE=new uD,Za,Ii,eo,f1,dD=(f1=class extends Mf{constructor(){super();Ne(this,Za,!0);Ne(this,Ii);Ne(this,eo);ve(this,eo,t=>{if(!Uf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Ii)||this.setEventListener(W(this,eo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ii))==null||t.call(this),ve(this,Ii,void 0))}setEventListener(t){var n;ve(this,eo,t),(n=W(this,Ii))==null||n.call(this),ve(this,Ii,t(this.setOnline.bind(this)))}setOnline(t){W(this,Za)!==t&&(ve(this,Za,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Za)}},Za=new WeakMap,Ii=new WeakMap,eo=new WeakMap,f1),Gd=new dD;function fD(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function hD(e){return Math.min(1e3*2**e,3e4)}function nE(e){return(e??"online")==="online"?Gd.isOnline():!0}var rE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Gh(e){return e instanceof rE}function iE(e){let t=!1,n=0,r=!1,i;const s=fD(),a=m=>{var w;r||(h(new rE(m)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>tE.isFocused()&&(e.networkMode==="always"||Gd.isOnline())&&e.canRun(),d=()=>nE(e.networkMode)&&e.canRun(),f=m=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var w;i=v=>{(r||u())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var _;if(r)return;const x=e.retry??(Uf?0:3),y=e.retryDelay??hD,S=typeof y=="function"?y(n,v):y,j=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!j){h(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),aD(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}function pD(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Qt=pD(),Is,h1,sE=(h1=class{constructor(){Ne(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rD(this.gcTime)&&ve(this,Is,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uf?1/0:5*60*1e3))}clearGcTimeout(){W(this,Is)&&(clearTimeout(W(this,Is)),ve(this,Is,void 0))}},Is=new WeakMap,h1),to,no,Tn,$t,Lc,Fs,Gn,Ur,p1,mD=(p1=class extends sE{constructor(t){super();Ne(this,Gn);Ne(this,to);Ne(this,no);Ne(this,Tn);Ne(this,$t);Ne(this,Lc);Ne(this,Fs);ve(this,Fs,!1),ve(this,Lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Tn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,to,vD(this.options)),this.state=t.state??W(this,to),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,$t))==null?void 0:t.promise}setOptions(t){this.options={...W(this,Lc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Tn).remove(this)}setData(t,n){const r=oD(this.state.data,t,this.options);return Tt(this,Gn,Ur).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Tt(this,Gn,Ur).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,$t))==null?void 0:r.promise;return(i=W(this,$t))==null||i.cancel(t),n?n.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,to))}isActive(){return this.observers.some(t=>sD(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!iD(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,$t))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,$t))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,$t)&&(W(this,Fs)?W(this,$t).cancel({revert:!0}):W(this,$t).cancelRetry()),this.scheduleGc()),W(this,Tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Gn,Ur).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,$t))return W(this,$t).continueRetry(),W(this,$t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,Fs,!0),r.signal)})},s=()=>{const f=eE(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),ve(this,Fs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ve(this,no,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Tt(this,Gn,Ur).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,g,m;Gh(f)&&f.silent||Tt(this,Gn,Ur).call(this,{type:"error",error:f}),Gh(f)||((p=(h=W(this,Tn).config).onError)==null||p.call(h,f,this),(m=(g=W(this,Tn).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return ve(this,$t,iE({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,m;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){o(w);return}(p=(h=W(this,Tn).config).onSuccess)==null||p.call(h,f,this),(m=(g=W(this,Tn).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Tt(this,Gn,Ur).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Tt(this,Gn,Ur).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Gn,Ur).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,$t).start()}},to=new WeakMap,no=new WeakMap,Tn=new WeakMap,$t=new WeakMap,Lc=new WeakMap,Fs=new WeakMap,Gn=new WeakSet,Ur=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gD(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Gh(i)&&i.revert&&W(this,no)?{...W(this,no),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Tn).notify({query:this,type:"updated",action:t})})},p1);function gD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,m1,yD=(m1=class extends Mf{constructor(t={}){super();Ne(this,xr);this.config=t,ve(this,xr,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??my(i,n);let a=this.get(s);return a||(a=new mD({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,xr).has(t.queryHash)||(W(this,xr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,xr).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,xr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,xr).get(t)}getAll(){return[...W(this,xr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>s0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>s0(t,r)):n}notify(t){Qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xr=new WeakMap,m1),br,Vt,$s,wr,_i,g1,xD=(g1=class extends sE{constructor(t){super();Ne(this,wr);Ne(this,br);Ne(this,Vt);Ne(this,$s);this.mutationId=t.mutationId,ve(this,Vt,t.mutationCache),ve(this,br,[]),this.state=t.state||bD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,br).includes(t)||(W(this,br).push(t),this.clearGcTimeout(),W(this,Vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,br,W(this,br).filter(n=>n!==t)),this.scheduleGc(),W(this,Vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,br).length||(this.state.status==="pending"?this.scheduleGc():W(this,Vt).remove(this))}continue(){var t;return((t=W(this,$s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,c,u,d,f,h,p,g,m,w,v,x,y,S,j,_,C;ve(this,$s,iE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{Tt(this,wr,_i).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{Tt(this,wr,_i).call(this,{type:"pause"})},onContinue:()=>{Tt(this,wr,_i).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Vt).canRun(this)}));const n=this.state.status==="pending",r=!W(this,$s).canStart();try{if(!n){Tt(this,wr,_i).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=W(this,Vt).config).onMutate)==null?void 0:s.call(i,t,this));const I=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));I!==this.state.context&&Tt(this,wr,_i).call(this,{type:"pending",context:I,variables:t,isPaused:r})}const R=await W(this,$s).start();return await((u=(c=W(this,Vt).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,t,this.state.context)),await((p=(h=W(this,Vt).config).onSettled)==null?void 0:p.call(h,R,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,R,null,t,this.state.context)),Tt(this,wr,_i).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(w=W(this,Vt).config).onError)==null?void 0:v.call(w,R,t,this.state.context,this)),await((y=(x=this.options).onError)==null?void 0:y.call(x,R,t,this.state.context)),await((j=(S=W(this,Vt).config).onSettled)==null?void 0:j.call(S,void 0,R,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,R,t,this.state.context)),R}finally{Tt(this,wr,_i).call(this,{type:"error",error:R})}}finally{W(this,Vt).runNext(this)}}},br=new WeakMap,Vt=new WeakMap,$s=new WeakMap,wr=new WeakSet,_i=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qt.batch(()=>{W(this,br).forEach(r=>{r.onMutationUpdate(t)}),W(this,Vt).notify({mutation:this,type:"updated",action:t})})},g1);function bD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,Mc,v1,wD=(v1=class extends Mf{constructor(t={}){super();Ne(this,gn);Ne(this,Mc);this.config=t,ve(this,gn,new Map),ve(this,Mc,Date.now())}build(t,n,r){const i=new xD({mutationCache:this,mutationId:++cu(this,Mc)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Tu(t),r=W(this,gn).get(n)??[];r.push(t),W(this,gn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Tu(t);if(W(this,gn).has(n)){const i=(r=W(this,gn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?W(this,gn).delete(n):W(this,gn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,gn).get(Tu(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,gn).get(Tu(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,gn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>a0(n,r))}findAll(t={}){return this.getAll().filter(n=>a0(t,n))}notify(t){Qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Qn))))}},gn=new WeakMap,Mc=new WeakMap,v1);function Tu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function c0(e){return{onFetch:(t,n)=>{var d,f,h,p,g;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=eE(t.options,t.fetchOptions),x=async(y,S,j)=>{if(m)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const _={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};w(_);const C=await v(_),{maxPages:R}=t.options,I=j?cD:lD;return{pages:I(y.pages,C,R),pageParams:I(y.pageParams,S,R)}};if(i&&s.length){const y=i==="backward",S=y?SD:u0,j={pages:s,pageParams:a},_=S(r,j);o=await x(j,_,y)}else{const y=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:u0(r,o);if(c>0&&S==null)break;o=await x(o,S),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function u0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function SD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tt,Fi,$i,ro,io,Di,so,ao,y1,jD=(y1=class{constructor(e={}){Ne(this,tt);Ne(this,Fi);Ne(this,$i);Ne(this,ro);Ne(this,io);Ne(this,Di);Ne(this,so);Ne(this,ao);ve(this,tt,e.queryCache||new yD),ve(this,Fi,e.mutationCache||new wD),ve(this,$i,e.defaultOptions||{}),ve(this,ro,new Map),ve(this,io,new Map),ve(this,Di,0)}mount(){cu(this,Di)._++,W(this,Di)===1&&(ve(this,so,tE.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,tt).onFocus())})),ve(this,ao,Gd.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,tt).onOnline())})))}unmount(){var e,t;cu(this,Di)._--,W(this,Di)===0&&((e=W(this,so))==null||e.call(this),ve(this,so,void 0),(t=W(this,ao))==null||t.call(this),ve(this,ao,void 0))}isFetching(e){return W(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Fi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,tt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(i0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,tt).get(r.queryHash),s=i==null?void 0:i.state.data,a=nD(t,s);if(a!==void 0)return W(this,tt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Qt.batch(()=>W(this,tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,tt);Qt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,tt),r={type:"active",...e};return Qt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Qt.batch(()=>W(this,tt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(e={},t={}){return Qt.batch(()=>{if(W(this,tt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Qt.batch(()=>W(this,tt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Qn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,tt).build(this,t);return n.isStaleByTime(i0(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qn).catch(Qn)}fetchInfiniteQuery(e){return e.behavior=c0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qn).catch(Qn)}ensureInfiniteQueryData(e){return e.behavior=c0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gd.isOnline()?W(this,Fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,tt)}getMutationCache(){return W(this,Fi)}getDefaultOptions(){return W(this,$i)}setDefaultOptions(e){ve(this,$i,e)}setQueryDefaults(e,t){W(this,ro).set(nc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,ro).values()];let n={};return t.forEach(r=>{rc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,io).set(nc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,io).values()];let n={};return t.forEach(r=>{rc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,$i).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=my(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===gy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,$i).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,tt).clear(),W(this,Fi).clear()}},tt=new WeakMap,Fi=new WeakMap,$i=new WeakMap,ro=new WeakMap,io=new WeakMap,Di=new WeakMap,so=new WeakMap,ao=new WeakMap,y1),_D=b.createContext(void 0),PD=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(_D.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}var Ui;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ui||(Ui={}));const d0="popstate";function ED(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Zm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jd(i)}return kD(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CD(){return Math.random().toString(36).substr(2,8)}function f0(e,t){return{usr:e.state,key:e.key,idx:t}}function Zm(e,t,n,r){return n===void 0&&(n=null),ic({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oo(t):t,{state:n,key:t&&t.key||r||CD()})}function Jd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Ui.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ic({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ui.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:o,location:m.location,delta:v})}function h(w,v){o=Ui.Push;let x=Zm(m.location,w,v);u=d()+1;let y=f0(x,u),S=m.createHref(x);try{a.pushState(y,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&c&&c({action:o,location:m.location,delta:1})}function p(w,v){o=Ui.Replace;let x=Zm(m.location,w,v);u=d();let y=f0(x,u),S=m.createHref(x);a.replaceState(y,"",S),s&&c&&c({action:o,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:Jd(w);return x=x.replace(/ $/,"%20"),ot(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return o},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(d0,f),c=w,()=>{i.removeEventListener(d0,f),c=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return a.go(w)}};return m}var h0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h0||(h0={}));function RD(e,t,n){return n===void 0&&(n="/"),ND(e,t,n,!1)}function ND(e,t,n,r){let i=typeof t=="string"?Oo(t):t,s=vy(i.pathname||"/",n);if(s==null)return null;let a=oE(e);TD(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=BD(s);o=UD(a[c],u,r)}return o}function oE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gi([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oE(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:LD(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of lE(s.path))i(s,a,c)}),t}function lE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=lE(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function TD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OD=/^:[\w-]+$/,AD=3,ID=2,FD=1,$D=10,DD=-2,p0=e=>e==="*";function LD(e,t){let n=e.split("/"),r=n.length;return n.some(p0)&&(r+=DD),t&&(r+=ID),n.filter(i=>!p0(i)).reduce((i,s)=>i+(OD.test(s)?AD:s===""?FD:$D),r)}function MD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UD(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=m0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=m0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Gi([s,f.pathname]),pathnameBase:qD(Gi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Gi([s,f.pathnameBase]))}return a}function m0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function zD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),aE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function BD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function HD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Oo(e):e;return{pathname:n?n.startsWith("/")?n:WD(n,t):t,search:KD(r),hash:QD(i)}}function WD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yy(e,t){let n=VD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Oo(e):(i=ic({},e),ot(!i.pathname||!i.pathname.includes("?"),Jh("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Jh("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Jh("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=HD(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gi=e=>e.join("/").replace(/\/\/+/g,"/"),qD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cE=["post","put","patch","delete"];new Set(cE);const JD=["get",...cE];new Set(JD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}const by=b.createContext(null),YD=b.createContext(null),cs=b.createContext(null),zf=b.createContext(null),us=b.createContext({outlet:null,matches:[],isDataRoute:!1}),uE=b.createContext(null);function XD(e,t){let{relative:n}=t===void 0?{}:t;Ao()||ot(!1);let{basename:r,navigator:i}=b.useContext(cs),{hash:s,pathname:a,search:o}=fE(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Gi([r,a])),i.createHref({pathname:c,search:o,hash:s})}function Ao(){return b.useContext(zf)!=null}function ta(){return Ao()||ot(!1),b.useContext(zf).location}function dE(e){b.useContext(cs).static||b.useLayoutEffect(e)}function Bf(){let{isDataRoute:e}=b.useContext(us);return e?dL():ZD()}function ZD(){Ao()||ot(!1);let e=b.useContext(by),{basename:t,future:n,navigator:r}=b.useContext(cs),{matches:i}=b.useContext(us),{pathname:s}=ta(),a=JSON.stringify(yy(i,n.v7_relativeSplatPath)),o=b.useRef(!1);return dE(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=xy(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gi([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function fE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(cs),{matches:i}=b.useContext(us),{pathname:s}=ta(),a=JSON.stringify(yy(i,r.v7_relativeSplatPath));return b.useMemo(()=>xy(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function eL(e,t){return tL(e,t)}function tL(e,t,n,r){Ao()||ot(!1);let{navigator:i}=b.useContext(cs),{matches:s}=b.useContext(us),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ta(),d;if(t){var f;let w=typeof t=="string"?Oo(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||ot(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=RD(e,{pathname:p}),m=aL(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Gi([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Gi([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&m?b.createElement(zf.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ui.Pop}},m):m}function nL(){let e=uL(),t=GD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const rL=b.createElement(nL,null);class iL extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(us.Provider,{value:this.props.routeContext},b.createElement(uE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sL(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(by);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(us.Provider,{value:t},r)}function aL(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||ot(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||rL,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),x=()=>{let y;return p?y=m:g?y=w:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,b.createElement(sL,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(iL,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var hE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hE||{}),Yd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yd||{});function oL(e){let t=b.useContext(by);return t||ot(!1),t}function lL(e){let t=b.useContext(YD);return t||ot(!1),t}function cL(e){let t=b.useContext(us);return t||ot(!1),t}function pE(e){let t=cL(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function uL(){var e;let t=b.useContext(uE),n=lL(Yd.UseRouteError),r=pE(Yd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dL(){let{router:e}=oL(hE.UseNavigateStable),t=pE(Yd.UseNavigateStable),n=b.useRef(!1);return dE(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,sc({fromRouteId:t},s)))},[e,t])}function mE(e){let{to:t,replace:n,state:r,relative:i}=e;Ao()||ot(!1);let{future:s,static:a}=b.useContext(cs),{matches:o}=b.useContext(us),{pathname:c}=ta(),u=Bf(),d=xy(t,yy(o,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Nn(e){ot(!1)}function fL(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ui.Pop,navigator:s,static:a=!1,future:o}=e;Ao()&&ot(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:a,future:sc({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=Oo(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=b.useMemo(()=>{let w=vy(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:b.createElement(cs.Provider,{value:u},b.createElement(zf.Provider,{children:n,value:m}))}function hL(e){let{children:t,location:n}=e;return eL(eg(t),n)}new Promise(()=>{});function eg(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,eg(r.props.children,s));return}r.type!==Nn&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=eg(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(this,arguments)}function pL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gL(e,t){return e.button===0&&(!t||t==="_self")&&!mL(e)}const vL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yL="6";try{window.__reactRouterVersion=yL}catch{}const xL="startTransition",g0=nv[xL];function bL(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=ED({window:i,v5Compat:!0}));let a=s.current,[o,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&g0?g0(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.createElement(fL,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const wL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=pL(t,vL),{basename:p}=b.useContext(cs),g,m=!1;if(typeof u=="string"&&SL.test(u)&&(g=u,wL))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=vy(S.pathname,p);S.origin===y.origin&&j!=null?u=j+S.search+S.hash:m=!0}catch{}let w=XD(u,{relative:i}),v=jL(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(y){r&&r(y),y.defaultPrevented||v(y)}return b.createElement("a",tg({},h,{href:g||w,onClick:m||s?r:x,ref:n,target:c}))});var v0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v0||(v0={}));var y0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function jL(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=Bf(),u=ta(),d=fE(e,{relative:a});return b.useCallback(f=>{if(gL(f,n)){f.preventDefault();let h=r!==void 0?r:Jd(u)===Jd(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,r,i,n,e,s,a,o])}const _L="modulepreload",PL=function(e){return"/"+e},x0={},Jc=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=PL(c),c in x0)return;x0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_L,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},EL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Jc(async()=>{const{default:r}=await Promise.resolve().then(()=>Io);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class wy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class CL extends wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b0 extends wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w0 extends wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ng;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ng||(ng={}));var kL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class RL{constructor(t,{headers:n={},customFetch:r,region:i=ng.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=EL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return kL(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(m=>{throw new CL(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new b0(f);if(!f.ok)throw new w0(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof w0||i instanceof b0?i.context:void 0}}})}}var rn={},Sy={},Hf={},Yc={},Wf={},Vf={},NL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=NL();const TL=yo.fetch,gE=yo.fetch.bind(yo),vE=yo.Headers,OL=yo.Request,AL=yo.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:vE,Request:OL,Response:AL,default:gE,fetch:TL},Symbol.toStringTag,{value:"Module"})),IL=IT(Io);var qf={};Object.defineProperty(qf,"__esModule",{value:!0});let FL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qf.default=FL;var yE=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vf,"__esModule",{value:!0});const $L=yE(IL),DL=yE(qf);let LL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$L.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let u=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new DL.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Vf.default=LL;var ML=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});const UL=ML(Vf);let zL=class extends UL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wf.default=zL;var BL=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yc,"__esModule",{value:!0});const HL=BL(Wf);let WL=class extends HL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Yc.default=WL;var VL=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hf,"__esModule",{value:!0});const Yo=VL(Yc);let qL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Yo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hf.default=qL;var Kf={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.version=void 0;Qf.version="0.0.0-automated";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.DEFAULT_HEADERS=void 0;const KL=Qf;Kf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KL.version}`};var xE=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sy,"__esModule",{value:!0});const QL=xE(Hf),GL=xE(Yc),JL=Kf;let YL=class bE{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},JL.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new QL.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new GL.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Sy.default=YL;var Fo=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const wE=Fo(Sy);rn.PostgrestClient=wE.default;const SE=Fo(Hf);rn.PostgrestQueryBuilder=SE.default;const jE=Fo(Yc);rn.PostgrestFilterBuilder=jE.default;const _E=Fo(Wf);rn.PostgrestTransformBuilder=_E.default;const PE=Fo(Vf);rn.PostgrestBuilder=PE.default;const EE=Fo(qf);rn.PostgrestError=EE.default;var XL=rn.default={PostgrestClient:wE.default,PostgrestQueryBuilder:SE.default,PostgrestFilterBuilder:jE.default,PostgrestTransformBuilder:_E.default,PostgrestBuilder:PE.default,PostgrestError:EE.default};const{PostgrestClient:ZL,PostgrestQueryBuilder:OJ,PostgrestFilterBuilder:AJ,PostgrestTransformBuilder:IJ,PostgrestBuilder:FJ,PostgrestError:$J}=XL;function e4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const t4=e4(),n4="2.11.15",r4=`realtime-js/${n4}`,i4="1.0.0",CE=1e4,s4=1e3;var Cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cl||(Cl={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var rg;(function(e){e.websocket="websocket"})(rg||(rg={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class a4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class kE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const S0=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=o4(a,e,t,i),s),{})},o4=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?RE(s,a):ig(a)},RE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return d4(t,n)}switch(e){case Le.bool:return l4(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return c4(t);case Le.json:case Le.jsonb:return u4(t);case Le.timestamp:return f4(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return ig(t);default:return ig(t)}},ig=e=>e,l4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},c4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},u4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},d4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>RE(t,o))}return e},f4=e=>typeof e=="string"?e.replace(" ","T"):e,NE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Yh{constructor(t,n,r={},i=CE){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var j0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(j0||(j0={}));class kl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_0||(_0={}));var P0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(P0||(P0={}));var Wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Wr||(Wr={}));class jy{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yh(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new kE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kl(this),this.broadcastEndpointURL=NE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Wr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Wr.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Wr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const w=h[m],{filter:{event:v,schema:x,table:y,filter:S}}=w,j=d&&d[m];if(j&&j.event===v&&j.schema===x&&j.table===y&&j.filter===S)g.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=Ft.errored,t==null||t(Wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Wr.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ft.errored,t==null||t(Wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Yh(this,Yn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yh(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Yn;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,w,v,x,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:w,commit_timestamp:v,type:x,errors:y}=g;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&jy.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=S0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=S0(t.columns,t.old_record)),n}}const E0=()=>{},h4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p4{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=CE,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=E0,this.ref=0,this.logger=E0,this.conn=null,this.sendBuffer=[],this.serializer=new a4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Jc(async()=>{const{default:c}=await Promise.resolve().then(()=>Io);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${rg.websocket}`,this.httpEndpoint=NE(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=t4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i4}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return Es.Connecting;case Cl.open:return Es.Open;case Cl.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new jy(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:r4};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Yn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(s4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([h4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class _y extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class m4 extends _y{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sg extends _y{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var g4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const TE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Jc(async()=>{const{default:r}=await Promise.resolve().then(()=>Io);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},v4=()=>g4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jc(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),ag=e=>{if(Array.isArray(e))return e.map(n=>ag(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ag(r)}),t},y4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var na=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Xh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x4=(e,t,n)=>na(void 0,void 0,void 0,function*(){const r=yield v4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new m4(Xh(i),s,a))}).catch(i=>{t(new sg(Xh(i),i))}):t(new sg(Xh(e),e))}),b4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(y4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Xc(e,t,n,r,i,s){return na(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,b4(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>x4(c,o,r))})})}function Xd(e,t,n,r){return na(this,void 0,void 0,function*(){return Xc(e,"GET",t,n,r)})}function Vr(e,t,n,r,i){return na(this,void 0,void 0,function*(){return Xc(e,"POST",t,r,i,n)})}function og(e,t,n,r,i){return na(this,void 0,void 0,function*(){return Xc(e,"PUT",t,r,i,n)})}function w4(e,t,n,r){return na(this,void 0,void 0,function*(){return Xc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function OE(e,t,n,r,i){return na(this,void 0,void 0,function*(){return Xc(e,"DELETE",t,r,i,n)})}var Xt=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const S4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j4{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=TE(i)}uploadOrUpdate(t,n,r,i){return Xt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},C0),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?og:Vr)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Xt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:C0.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield og(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Vr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new _y("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Vr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const i=yield Vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}download(t,n){return Xt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Xd(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ag(r),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield w4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(vt(r)&&r instanceof sg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},S4),n),{prefix:t||""});return{data:yield Vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _4="2.10.4",P4={"X-Client-Info":`storage-js/${_4}`};var ca=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class E4{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},P4),n),this.fetch=TE(r)}listBuckets(){return ca(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ca(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ca(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield Vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}}class C4 extends E4{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new j4(this.url,this.headers,t,this.fetch)}}const k4="2.53.0";let ul="";typeof Deno<"u"?ul="deno":typeof document<"u"?ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ul="react-native":ul="node";const R4={"X-Client-Info":`supabase-js-${ul}/${k4}`},N4={headers:R4},T4={schema:"public"},O4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A4={};var I4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const F4=e=>{let t;return e?t=e:typeof fetch>"u"?t=gE:t=fetch,(...n)=>t(...n)},$4=()=>typeof Headers>"u"?vE:Headers,D4=(e,t,n)=>{const r=F4(n),i=$4();return(s,a)=>I4(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var L4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function M4(e){return e.endsWith("/")?e:e+"/"}function U4(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L4(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const AE="2.71.1",Sa=30*1e3,lg=3,Zh=lg*Sa,z4="http://localhost:9999",B4="supabase.auth.token",H4={"X-Client-Info":`gotrue-js/${AE}`},cg="X-Supabase-Api-Version",IE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V4=10*60*1e3;class Py extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q4 extends Py{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function K4(e){return pe(e)&&e.name==="AuthApiError"}class FE extends Py{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ds extends Py{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Pi extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q4(e){return pe(e)&&e.name==="AuthSessionMissingError"}class Ou extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Iu extends ds{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G4(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class k0 extends ds{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ug extends ds{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ep(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class R0 extends ds{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dg extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N0=` 	
\r=`.split(""),J4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<N0.length;t+=1)e[N0[t].charCodeAt(0)]=-2;for(let t=0;t<Zd.length;t+=1)e[Zd[t].charCodeAt(0)]=t;return e})();function T0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}}function $E(e,t,n){const r=J4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function O0(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Z4(a,r,n)};for(let a=0;a<e.length;a+=1)$E(e.charCodeAt(a),i,s);return t.join("")}function Y4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function X4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Y4(r,t)}}function Z4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function eM(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$E(e.charCodeAt(i),n,r);return new Uint8Array(t)}function tM(e){const t=[];return X4(e,n=>t.push(n)),new Uint8Array(t)}function nM(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>T0(i,n,r)),T0(null,n,r),t.join("")}function rM(e){return Math.round(Date.now()/1e3)+e}function iM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},DE=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function sM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const LE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Jc(async()=>{const{default:r}=await Promise.resolve().then(()=>Io);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},aM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ja=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yi=async(e,t)=>{await e.removeItem(t)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gf.promiseConstructor=Promise;function tp(e){const t=e.split(".");if(t.length!==3)throw new dg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!W4.test(t[r]))throw new dg("JWT not in base64url format");return{header:JSON.parse(O0(t[0])),payload:JSON.parse(O0(t[1])),signature:eM(t[2]),raw:{header:t[0],payload:t[1]}}}async function oM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lM(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function cM(e){return("0"+e.toString(16)).substr(-2)}function uM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,cM).join("")}async function dM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function fM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await dM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ua(e,t,n=!1){const r=uM();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ja(e,`${t}-code-verifier`,i);const s=await fM(r);return[s,r===s?"plain":"s256"]}const hM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pM(e){const t=e.headers.get(cg);if(!t||!t.match(hM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function da(e){if(!vM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A0(e){return JSON.parse(JSON.stringify(e))}var yM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xM=[502,503,504];async function I0(e){var t;if(!aM(e))throw new ug(_s(e),0);if(xM.includes(e.status))throw new ug(_s(e),e.status);let n;try{n=await e.json()}catch(s){throw new FE(_s(s),s)}let r;const i=pM(e);if(i&&i.getTime()>=IE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new R0(_s(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new R0(_s(n),e.status,n.weak_password.reasons);throw new q4(_s(n),e.status||500,r)}const bM=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[cg]||(s[cg]=IE["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await wM(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function wM(e,t,n,r,i,s){const a=bM(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new ug(_s(c),0)}if(o.ok||await I0(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await I0(c)}}function zr(e){var t;let n=null;PM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=rM(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function F0(e){const t=zr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SM(e){return{data:e,error:null}}function jM(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=yM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function _M(e){return e}function PM(e){return e.access_token&&e.refresh_token&&e.expires_in}const rp=["global","local","others"];var EM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class CM{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=LE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=rp[0]){if(rp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ti})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=EM(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ti})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_M});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){da(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ti})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){da(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ti})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){da(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ti})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){da(t.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){da(t.userId),da(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function $0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function kM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fa={debug:!!(globalThis&&DE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ME extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RM extends ME{}async function NM(e,t,n){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kM();const TM={url:z4,storageKey:B4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D0(e,t,n){return await n()}const ha={};class ac{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ac.nextInstanceID,ac.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},TM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=LE(i.fetch),this.lock=i.lock||D0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=NM:this.lock=D0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:DE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$0(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ha[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ha[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${AE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sM(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),G4(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new FE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:zr}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ua(this.storage,this.storageKey)),s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:zr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zr})}else throw new Au("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:F0})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:F0})}else throw new Au("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ou}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:w,wallet:v,statement:x,options:y}=t;let S;if(Vn())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")C=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)C=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:w,error:v}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:nM(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zr});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ou}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zr});if(await yi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ou}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(pe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ou}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ua(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Au("You must provide either an email or phone number.")}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:zr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ua(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:SM})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pi;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Au("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await xs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=np()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ti}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ti})})}catch(n){if(pe(n))return Q4(n)&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Pi;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ua(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Ti});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pi;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=tp(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Vn())throw new Iu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Iu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new k0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Iu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new k0("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new Iu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(K4(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=iM(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ua(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lM(async i=>(i>0&&await oM(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zr})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ep(s)&&Date.now()+a-r<Sa})}catch(r){if(this._debug(n,"error",r),pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xs(this.storage,this.storageKey);if(i&&this.userStorage){let a=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ja(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:np()}else if(i&&!i.user&&!i.user){const a=await xs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await yi(this.storage,this.storageKey+"-user"),await ja(this.storage,this.storageKey,i)):i.user=np()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Zh}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ep(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Pi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),pe(s)){const a={session:null,error:s};return ep(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ja(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=A0(i);await ja(this.storage,this.storageKey,s)}else{const i=A0(n);await ja(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yi(this.storage,this.storageKey),await yi(this.storage,this.storageKey+"-code-verifier"),await yi(this.storage,this.storageKey+"-user"),this.userStorage&&await yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sa}ms, refresh threshold is ${lg} ticks`),i<=lg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ME)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await ua(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tp(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+V4>i)return r;const{data:s,error:a}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=tp(r);n!=null&&n.allowExpired||mM(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=gM(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,tM(`${o}.${c}`)))throw new dg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}ac.nextInstanceID=0;const OM=ac;class AM extends OM{constructor(t){super(t)}}var IM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class FM{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=M4(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:T4,realtime:A4,auth:Object.assign(Object.assign({},O4),{storageKey:u}),global:N4},f=U4(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=D4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ZL(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new C4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new RL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return IM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AM({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new p4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $M=(e,t,n)=>new FM(e,t,n);function DM(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}DM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LM="https://wrodvaatdujbpfpvrzge.supabase.co",MM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",UM=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},X=$M(LM,MM,{auth:{storage:UM(),persistSession:!0,autoRefreshToken:!0}}),UE=b.createContext(void 0),rt=()=>{const e=b.useContext(UE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},zM=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(null),[s,a]=b.useState(!0);b.useEffect(()=>{const{data:{subscription:f}}=X.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:g,error:m}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(m||!g)return;const{data:w,error:v}=await X.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!w)return;if(w.plan_type==="freemium"){const{data:x,error:y}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!y&&x&&new Date(x.expires_at)<=new Date&&await X.auth.signOut()}}catch(g){console.error("Error checking trial status:",g)}},0),a(!1)});return X.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const o=async()=>{const{error:f}=await X.auth.signOut();if(f)throw console.error("Error signing out:",f),f},c=async(f,h)=>{const{data:p,error:g}=await X.auth.signInWithPassword({email:f,password:h});if(p!=null&&p.user&&!g)try{const{data:m,error:w}=await X.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!w&&m){const{data:v,error:x}=await X.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!x&&v&&v.plan_type==="freemium"){const{data:y,error:S}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&y&&new Date(y.expires_at)<=new Date)return await X.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:p,error:g}},u=async(f,h,p)=>{const{data:g,error:m}=await X.auth.signUp({email:f,password:h,options:{data:p}});return{data:g,error:m}},d=async()=>{const{data:f,error:h}=await X.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:h}};return l.jsx(UE.Provider,{value:{user:t,session:r,loading:s,signOut:o,signIn:c,signUp:u,signInWithGoogle:d},children:e})},zE=b.createContext(void 0),Ey=()=>{const e=b.useContext(zE);if(!e)throw new Error("useUser must be used within a UserProvider");return e},BM=({children:e})=>{const{user:t}=rt(),[n,r]=b.useState(null),[i,s]=b.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await X.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u&&u.code!=="PGRST116"){console.error("Error fetching user profile:",u),r(null),s(!1);return}const{data:d}=await X.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single(),f={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:d==null?void 0:d.role};r(f)}catch(c){console.error("Error in fetchProfile:",c),r(null)}s(!1)};b.useEffect(()=>{a()},[t]);const o=async()=>{s(!0),await a()};return l.jsx(zE.Provider,{value:{userProfile:n,loading:i,refreshProfile:o},children:e})},BE=b.createContext(void 0),di=()=>{const e=b.useContext(BE);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},HM=({children:e})=>{const{user:t}=rt(),{userProfile:n}=Ey(),[r,i]=b.useState(null),[s,a]=b.useState(!0),o=async()=>{if(!t||!(n!=null&&n.workspace_id)){i(null),a(!1);return}try{const{data:u,error:d}=await X.from("workspaces").select("*").eq("id",n.workspace_id).single();d?(console.error("Error fetching workspace:",d),i(null)):i(u)}catch(u){console.error("Error in fetchWorkspace:",u),i(null)}a(!1)};b.useEffect(()=>{o()},[t,n]);const c=async()=>{a(!0),await o()};return l.jsx(BE.Provider,{value:{currentWorkspace:r,loading:s,refreshWorkspace:c},children:e})},$o=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),[n,r]=b.useState([]),[i,s]=b.useState([]);b.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await X.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(p=>p.source_name));const{data:h}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=b.useCallback(d=>!!e,[e]),o=b.useCallback(d=>!n.includes(d),[n]),c=b.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=b.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:o,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},HE=b.createContext(void 0),Jf=()=>{const e=b.useContext(HE);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},WM=({children:e})=>{const{user:t}=rt(),{canUseFavorites:n}=$o(),[r,i]=b.useState([]),[s,a]=b.useState(!1),[o,c]=b.useState(0),u=3e4,d=b.useRef(0),f=b.useCallback((v,x)=>({id:x,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=b.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),d.current=0;return}const x=Date.now();if(!(!v&&d.current&&x-d.current<u))try{a(!0);const{data:y,error:S}=await X.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!y||y.length===0){i([]),c(x),d.current=x;return}const j=y.map(_=>_.item_data?f(_.item_data,_.item_id):null).filter(Boolean);i(j),c(x),d.current=x}catch(y){console.error("Error fetching favorites:",y)}finally{a(!1)}},[t,n,f]),p=b.useCallback(async v=>{if(!(!t||!n()))try{const{error:x}=await X.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(x)throw x;i(y=>[...y,{...v,isFavorite:!0}]),c(0)}catch(x){throw console.error("Error adding to favorites:",x),x}},[t,n]),g=b.useCallback(async v=>{if(!(!t||!n()))try{i(y=>y.filter(S=>S.id!==v));const{error:x}=await X.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(x)throw await h(!0),x;c(0)}catch(x){throw console.error("Error removing from favorites:",x),x}},[t,n,h]),m=b.useMemo(()=>new Set(r.map(v=>v.id)),[r]),w=b.useCallback(v=>m.has(v),[m]);return b.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),l.jsx(HE.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:g,isFavorite:w,refreshFavorites:h},children:e})},VM=Kc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ii=b.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ie(VM({variant:t}),e),...n}));ii.displayName="Alert";const qM=b.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));qM.displayName="AlertTitle";const si=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));si.displayName="AlertDescription";const Cy=Kc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Vs:"button";return l.jsx(a,{className:ie(Cy({variant:t,size:n,className:e})),ref:s,...i})});Q.displayName="Button";const WE=()=>{const{user:e}=rt(),[t,n]=b.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return b.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,o,c)=>{if(!e)return!1;try{const{data:u,error:d}=await X.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:o,workspace_name:c},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await X.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await X.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await X.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},KM=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=WE(),{toast:r}=Rt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return l.jsxs(ii,{className:"bg-orange-50 border-orange-200 mb-4",children:[l.jsx(qs,{className:"h-4 w-4 text-orange-600"}),l.jsxs(si,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-orange-800",children:[l.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",l.jsx("strong",{children:t.email})," dans le workspace"," ",l.jsx("strong",{children:t.workspace_name})]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[l.jsx(dP,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},_e=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const Ae=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Ae.displayName="CardHeader";const Ie=b.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const wn=b.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));wn.displayName="CardDescription";const Pe=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const QM=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));QM.displayName="CardFooter";function GM(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,JM(i,...t)]}function JM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var YM=b.createContext(void 0);function ky(e){const t=b.useContext(YM);return e||t||"ltr"}var ip="rovingFocusGroup.onEntryFocus",XM={bubbles:!1,cancelable:!0},Yf="RovingFocusGroup",[fg,VE,ZM]=Qv(Yf),[e3,qE]=GM(Yf,[ZM]),[t3,n3]=e3(Yf),KE=b.forwardRef((e,t)=>l.jsx(fg.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(fg.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(r3,{...e,ref:t})})}));KE.displayName=Yf;var r3=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=b.useRef(null),p=ke(t,h),g=ky(s),[m=null,w]=Nr({prop:a,defaultProp:o,onChange:c}),[v,x]=b.useState(!1),y=dn(u),S=VE(n),j=b.useRef(!1),[_,C]=b.useState(0);return b.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(ip,y),()=>R.removeEventListener(ip,y)},[y]),l.jsx(t3,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:b.useCallback(R=>w(R),[w]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>C(R=>R-1),[]),children:l.jsx(le.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{j.current=!0}),onFocus:re(e.onFocus,R=>{const I=!j.current;if(R.target===R.currentTarget&&I&&!v){const D=new CustomEvent(ip,XM);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const F=S().filter(T=>T.focusable),O=F.find(T=>T.active),U=F.find(T=>T.id===m),A=[O,U,...F].filter(Boolean).map(T=>T.ref.current);JE(A,d)}}j.current=!1}),onBlur:re(e.onBlur,()=>x(!1))})})}),QE="RovingFocusGroupItem",GE=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=Rr(),c=s||o,u=n3(QE,n),d=u.currentTabStopId===c,f=VE(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),l.jsx(fg.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:re(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:re(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:re(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=a3(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const x=v.indexOf(g.currentTarget);v=u.loop?o3(v,x+1):v.slice(x+1)}setTimeout(()=>JE(v))}})})})});GE.displayName=QE;var i3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a3(e,t,n){const r=s3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return i3[r]}function JE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function o3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var l3=KE,c3=GE,Ry="Tabs",[u3,DJ]=ci(Ry,[qE]),YE=qE(),[d3,Ny]=u3(Ry),XE=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=ky(o),[f,h]=Nr({prop:r,onChange:i,defaultProp:s});return l.jsx(d3,{scope:n,baseId:Rr(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(le.div,{dir:d,"data-orientation":a,...u,ref:t})})});XE.displayName=Ry;var ZE="TabsList",eC=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Ny(ZE,n),a=YE(n);return l.jsx(l3,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(le.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});eC.displayName=ZE;var tC="TabsTrigger",nC=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=Ny(tC,n),o=YE(n),c=sC(a.baseId,r),u=aC(a.baseId,r),d=r===a.value;return l.jsx(c3,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:re(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});nC.displayName=tC;var rC="TabsContent",iC=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=Ny(rC,n),c=sC(o.baseId,r),u=aC(o.baseId,r),d=r===o.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(ui,{present:i||d,children:({present:h})=>l.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});iC.displayName=rC;function sC(e,t){return`${e}-trigger-${t}`}function aC(e,t){return`${e}-content-${t}`}var f3=XE,oC=eC,lC=nC,cC=iC;const hg=f3,ef=b.forwardRef(({className:e,...t},n)=>l.jsx(oC,{ref:n,className:ie("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));ef.displayName=oC.displayName;const Kr=b.forwardRef(({className:e,...t},n)=>l.jsx(lC,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Kr.displayName=lC.displayName;const Qr=b.forwardRef(({className:e,...t},n)=>l.jsx(cC,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qr.displayName=cC.displayName;const xe=({src:e,alt:t,className:n})=>l.jsx("span",{role:"img","aria-label":t,className:ie("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),h3=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"outline",children:"S'inscrire"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{children:"Se connecter"})})]})]})})}),l.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",l.jsx("br",{}),"de FE le plus puissant",l.jsx("br",{}),"du marché"]}),l.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",l.jsx("br",{}),"agrégés et enrichis par nos experts."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),l.jsx("div",{className:"order-1 lg:order-2",children:l.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),l.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(xe,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto text-center",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",l.jsx("br",{}),"du moteur de recherche"]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:l.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",l.jsx("br",{}),"puissant et personnalisable"]}),l.jsxs(hg,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[l.jsxs(ef,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[l.jsx(Kr,{value:"donnees",className:"rounded-full",children:"Données"}),l.jsx(Kr,{value:"recherche",className:"rounded-full",children:"Recherche"}),l.jsx(Kr,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),l.jsx(Kr,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),l.jsxs(Qr,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",l.jsx("br",{}),"données carbone"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",l.jsx("br",{}),"données de références internationales."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",l.jsx("br",{}),"qualité des FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",l.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),l.jsxs(Qr,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",l.jsx("br",{}),"d'utilisation"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",l.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",l.jsx("br",{}),"automatiques et tri personnalisable."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",l.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),l.jsxs(Qr,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",l.jsx("br",{}),"selon vos besoins"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",l.jsx("br",{}),"thématiques pour un accès rapide."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",l.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",l.jsx("br",{}),"base de données personnalisée."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),l.jsxs(Qr,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",l.jsx("br",{}),"la recherche de FE"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",l.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",l.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",l.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",l.jsx("br",{}),"sur une seule plateforme"]}),l.jsxs(hg,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[l.jsxs(ef,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[l.jsx(Kr,{value:"standards",className:"rounded-full",children:"Datasets standards"}),l.jsx(Kr,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),l.jsx(Qr,{value:"standards",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="AIB"?l.jsx(xe,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):e==="Agribalyse"?l.jsx(xe,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):e==="BEIS"?l.jsx(xe,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):e==="Base Carbone"?l.jsx(xe,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):e==="Base Impacts"?l.jsx(xe,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):e==="CCF"?l.jsx(xe,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):e==="Climate Trace"?l.jsx(xe,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):e==="EEA"?l.jsx(xe,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):e==="EPA"?l.jsx(xe,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):e==="Exiobase"?l.jsx(xe,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(xe,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):e==="Ecobalyse"?l.jsx(xe,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):e==="Electricity Maps"?l.jsx(xe,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):e==="Ember"?l.jsx(xe,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):e==="GESPoint5"?l.jsx(xe,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):e==="GLEC"?l.jsx(xe,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):e==="Kering"?l.jsx(xe,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):e==="OMEGA TP"?l.jsx(xe,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):e==="Open CEDA"?l.jsx(xe,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):e==="PCAF"?l.jsx(xe,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})}),l.jsx(Qr,{value:"premium",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((e,t)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:e==="Inies"?l.jsx(xe,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):e==="Eco-platform"?l.jsx(xe,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):e==="EcoInvent"?l.jsx(xe,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:e})]},t))})})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",l.jsx("br",{}),"structurée et enrichie par nos",l.jsx("br",{}),"experts"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",l.jsx("br",{}),"à vos besoins"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs(_e,{className:"p-8 border border-border",children:[l.jsxs(Ae,{className:"pb-4",children:[l.jsx(Ie,{className:"text-xl font-semibold",children:"STANDARD"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),l.jsxs(Pe,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsx(Q,{className:"w-full mt-6",children:"En savoir plus"})]})]}),l.jsxs(_e,{className:"p-8 relative border border-border",children:[l.jsxs(Ae,{className:"pb-4",children:[l.jsx(Ie,{className:"text-xl font-semibold",children:"PREMIUM"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),l.jsxs(Pe,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Export des données"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),l.jsx(Q,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto text-center",children:l.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),l.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),l.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[l.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),l.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(cI,{className:"h-4 w-4"})}),l.jsx(Q,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(fP,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[l.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),l.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[l.jsx(it,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),l.jsx(it,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),l.jsx(it,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]}),xt=b.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xt.displayName="Input";var p3="Label",uC=b.forwardRef((e,t)=>l.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uC.displayName=p3;var dC=uC;const m3=Kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=b.forwardRef(({className:e,...t},n)=>l.jsx(dC,{ref:n,className:ie(m3(),e),...t}));ut.displayName=dC.displayName;const fC=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const o={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return l.jsxs(Q,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${o[e]} ${a}`,children:[n?l.jsx(mo,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx("span",{className:"mr-2",children:s}),i]})},hC=b.createContext(void 0),pC=()=>{const e=b.useContext(hC);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},mC=({children:e})=>{const[t,n]=b.useState({loading:{google:!1},lastError:null}),r=(a,o)=>{n(c=>({...c,loading:{...c.loading,[a]:o}}))},i=a=>{n(o=>({...o,lastError:a}))},s=()=>{i(null)};return l.jsx(hC.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},g3=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{toast:c}=Rt(),{signIn:u,signInWithGoogle:d}=rt(),{ssoState:f,setProviderLoading:h,setLastError:p}=pC(),g=ta();b.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){o(!0);return}try{const{data:{session:y}}=await X.auth.getSession();if(y!=null&&y.user){const{data:S}=await X.from("users").select("workspace_id").eq("user_id",y.user.id).single();if(S){const{data:j}=await X.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((j==null?void 0:j.plan_type)==="freemium"){const{data:_}=await X.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();_&&new Date(_.expires_at)<=new Date&&(o(!0),await X.auth.signOut())}}}}catch(y){console.error("Error checking trial status:",y)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),p(null);try{const x=await u(e,n);x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},w=async v=>{h(v,!0),p(null);try{const x=await d();x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ie,{className:"text-2xl",children:"Se connecter"}),l.jsx(wn,{children:"Connectez-vous à votre compte DataCarb"})]}),l.jsxs(Pe,{children:[a&&l.jsxs(ii,{variant:"destructive",className:"mb-6",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),l.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(mo,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(fC,{provider:"google",onClick:()=>w("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:f.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",l.jsx(it,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},v3=()=>l.jsx(mC,{children:l.jsx(g3,{})}),y3=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[a,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState(!1),{toast:g}=Rt(),{signUp:m,signInWithGoogle:w}=rt(),{ssoState:v,setProviderLoading:x,setLastError:y}=pC(),S=async _=>{if(_.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),y(null);try{const C=await m(e,n,{firstName:a,lastName:c,company:d||"Mon Entreprise"});C.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:C.error.message}),y(C.error.message)):(g({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),y("Une erreur inattendue s'est produite")}finally{p(!1)}},j=async _=>{x(_,!0),y(null);try{const C=await w();C.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:C.error.message}),y(C.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),y("Une erreur inattendue s'est produite")}finally{x(_,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(Ie,{className:"text-2xl",children:"Créer un compte"}),l.jsx(wn,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),l.jsxs(Pe,{children:[l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"firstName",children:"Prénom"}),l.jsx(xt,{id:"firstName",type:"text",value:a,onChange:_=>o(_.target.value),required:!0,placeholder:"Votre prénom"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"lastName",children:"Nom"}),l.jsx(xt,{id:"lastName",type:"text",value:c,onChange:_=>u(_.target.value),required:!0,placeholder:"Votre nom"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"company",children:"Nom de l'entreprise"}),l.jsx(xt,{id:"company",type:"text",value:d,onChange:_=>f(_.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),l.jsx(xt,{id:"confirmPassword",type:"password",value:i,onChange:_=>s(_.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(mo,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(fC,{provider:"google",onClick:()=>j("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:v.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",l.jsx(it,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},x3=()=>l.jsx(mC,{children:l.jsx(y3,{})}),pg="7.16.2";function zt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ty=zt;zt.prototype._events=void 0;zt.prototype._maxListeners=void 0;zt.defaultMaxListeners=10;zt.prototype.setMaxListeners=function(e){if(!b3(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};zt.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||oc(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(n=this._events[e],gC(n))return!1;if(ai(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(oc(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};zt.prototype.addListener=function(e,t){var n;if(!ai(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,ai(t.listener)?t.listener:t),this._events[e]?oc(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,oc(this._events[e])&&!this._events[e].warned&&(gC(this._maxListeners)?n=zt.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};zt.prototype.on=zt.prototype.addListener;zt.prototype.once=function(e,t){if(!ai(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};zt.prototype.removeListener=function(e,t){var n,r,i,s;if(!ai(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||ai(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(oc(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};zt.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],ai(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};zt.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:ai(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};zt.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(ai(t))return 1;if(t)return t.length}return 0};zt.listenerCount=function(e,t){return e.listenerCount(t)};function ai(e){return typeof e=="function"}function b3(e){return typeof e=="number"}function oc(e){return typeof e=="object"&&e!==null}function gC(e){return e===void 0}const w3=Ys(Ty);function S3(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var vC=S3,j3=Ty,_3=vC;function Zc(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}_3(Zc,j3);Zc.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Zc.prototype.getModifiedState=function(e){return this.fn(e)};Zc.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var P3=Zc;function E3(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function C3(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var Oy={escapeFacetValue:E3,unescapeFacetValue:C3};function k3(e){return typeof e=="object"&&e!==null?Ay(Array.isArray(e)?[]:{},e):e}function tf(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function Ay(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(tf(i)&&tf(r)?e[n]=Ay(i,r):e[n]=k3(r))}return e}function R3(e){tf(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];tf(r)&&Ay(e,r)}return e}var Iy=R3;function N3(e){return e&&Object.keys(e).length>0}var Fy=N3;function T3(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $y=T3;function dl(e){e=e||{},this.params=e.params||[]}dl.prototype={constructor:dl,addParams:function(e){var t=this.params.slice();return t.push(e),new dl({params:t})},removeParams:function(e){return new dl({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var yC=dl;function mg(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}mg.prototype={constructor:mg};var xC=mg,Fu=Iy;function $u(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var mt={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:mt._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:mt._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),o=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(o).length>1){var c=a[0].split(o).slice(0,-1).reduce(function(d,f,h){return d.concat({attribute:s.attributes[h],value:h===0?f:[d[d.length-1].value,f].join(o)})},[]);c.forEach(function(u,d){var f=mt._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function h(m){return s.attributes.some(function(w){return w===m.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(m,w){if(Array.isArray(w)){var v=w.filter(function(x){return!h(x)});v.length>0&&m.push(v)}return typeof w=="string"&&!h(w)&&m.push(w),m},[]),g=c[d-1];d>0?f.facetFilters=p.concat(g.attribute+":"+g.value):p.length>0?f.facetFilters=p:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:mt._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=mt._getFacetFilters(e),r=mt._getNumericFilters(e),i=mt._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),$u(Fu({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(o){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[o]&&e.disjunctiveFacetsRefinements[o].length>0?"disjunctive("+o+")":o})).concat(mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=mt._getFacetFilters(e),r=mt._getNumericFilters(e),i=mt._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,$u(Fu({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=mt._getFacetFilters(e,t,n),i=mt._getNumericFilters(e,t),s=mt._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return o?a.facets=mt._getDisjunctiveHierarchicalFacetAttribute(e,o,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),$u(Fu({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(o){if(Array.isArray(o)){var c=o.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+o)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(d){r.push(c+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(d){r.push(c+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(c+":"+f)}),r.push(d)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(c){var u=o[c]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(c),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),g,m;if(t===c){if(d.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===d.split(h).length)return;p?(m=p.split(h).length-1,d=p):(m=d.split(h).length-2,d=d.slice(0,d.lastIndexOf(h))),g=f.attributes[m]}else m=d.split(h).length-1,g=f.attributes[m];g&&r.push([g+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),o=s.split(a).length,c=i.attributes.slice(0,o+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",o=a.split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),$u(Fu({},mt._getHitsSearchParams(i),s))}},O3=mt,Dy=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},eu=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function A3(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var I3=A3;function bC(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(bC);throw new Error("The value should be a number, a parsable string or an array of those.")}var F3=bC,$3=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},D3=Dy,L3=Fy,M3=$y,Ps={addRefinement:function(t,n,r){if(Ps.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,D3(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return Ps.clearRefinement(t,function(s,a){return n===a});var i=""+r;return Ps.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return Ps.isRefined(t,n,r)?Ps.removeRefinement(t,n,r):Ps.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return L3(t)?{}:t;if(typeof n=="string")return M3(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,o){var c=t[o]||[],u=c.filter(function(d){return!n(d,o,r)});return u.length!==c.length&&(i=!0),a[o]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},U3=Ps,sp=Dy,wC=eu,L0=I3,gg=Iy,vg=Fy,M0=$y,ap=F3,z3=$3,et=U3;function Ly(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return Ly(t[r],n)}):e===t}function B3(e,t){return wC(e,function(n){return Ly(n,t)})}function an(e){var t=e?an._parseNumbers(e):{};t.userToken!==void 0&&!z3(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=an.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}an.PARAMETERS=Object.keys(new an);an._parseNumbers=function(e){if(e instanceof an)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var o=s[a],c=o.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return gg(e,t)};an.make=function(t){var n=new an(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};an.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&vg(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):vg(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};an.prototype={constructor:an,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:et.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:et.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:et.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:et.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=ap(n);if(this.isNumericRefined(e,t,r))return this;var i=gg({},this.numericRefinements);return i[e]=gg({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&Ly(i.val,ap(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return vg(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return M0(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var o=r[a],c={};return o=o||{},Object.keys(o).forEach(function(u){var d=o[u]||[],f=[];d.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||f.push(h)}),f.length!==d.length&&(n=!0),c[u]=f}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:et.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:et.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return et.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:et.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:et.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return et.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:et.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return et.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:et.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:et.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:et.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:et.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:sp(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:sp(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:sp(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?et.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?et.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?et.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=ap(r),a=B3(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=L0(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return L0(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=an.validate(this,t);if(n)throw n;var r=this,i=an._parseNumbers(t),s=Object.keys(this).reduce(function(o,c){return o[c]=r[c],o},{}),a=Object.keys(i).reduce(function(o,c){var u=o[c]!==void 0,d=i[c]!==void 0;return u&&!d?M0(o,[c]):(d&&(o[c]=i[c]),o)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return wC(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var SC=an,H3=function(t){return Array.isArray(t)?t.filter(Boolean):[]},W3=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},V3=eu,jC=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var o=a.split(":"),c=V3(r,function(u){return u[0]===o[0]});return o.length>1||!c?(s[0].push(o[0]),s[1].push(o[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function q3(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var K3=q3;function Q3(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function G3(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var o=-1;++o<s.criteria.length;){var c=Q3(s.criteria[o],a.criteria[o]);if(c)return o>=n.length?c:n[o]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var _C=G3,J3=n5,PC=Oy,Y3=eu,X3=jC,Z3=_C,e5=PC.escapeFacetValue,t5=PC.unescapeFacetValue;function n5(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=X3(e._getHierarchicalFacetSortBy(i)),d=n.every(function(p){return p.exhaustive}),f=r5(u,a,o,c,s),h=n;return o&&(h=n.slice(o.split(a).length)),h.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function r5(e,t,n,r,i){return function(a,o,c){var u=a;if(c>0){var d=0;for(u=a;d<c;){var f=u&&Array.isArray(u.data)?u.data:[];u=Y3(f,function(p){return p.isRefined}),d++}}if(u){var h=Object.keys(o.data).map(function(p){return[p,o.data[p]]}).filter(function(p){var g=p[0];return i5(g,u.path||n,i,t,n,r)});u.data=Z3(h.map(function(p){var g=p[0],m=p[1];return s5(m,g,t,t5(i),o.exhaustive)}),e[0],e[1])}return a}}function i5(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function s5(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:e5(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var op=H3,Rl=Dy,EC=Oy,tr=eu,Xo=W3,a5=jC,U0=K3,CC=_C,z0=EC.escapeFacetValue,kC=EC.unescapeFacetValue,o5=J3;function B0(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function lp(e,t,n){t&&t[n]&&(e.stats=t[n])}function l5(e,t){return tr(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Ji(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=Rl(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=B0(e.facets),c=B0(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var h=d[f],p=l5(e.hierarchicalFacets,f);if(p){var g=p.attributes.indexOf(f),m=Xo(e.hierarchicalFacets,function(y){return y.name===p.name});i.hierarchicalFacets[m][g]={attribute:f,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var w=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,x;w&&(x=c[f],i.disjunctiveFacets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},lp(i.disjunctiveFacets[x],r.facets_stats,f)),v&&(x=o[f],i.facets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},lp(i.facets[x],r.facets_stats,f))}}),this.hierarchicalFacets=op(this.hierarchicalFacets),a.forEach(function(f){var h=t[u],p=h&&h.facets?h.facets:{},g=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(m){var w=p[m],v;if(g){v=Xo(e.hierarchicalFacets,function(S){return S.name===g.name});var x=Xo(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(x===-1)return;i.hierarchicalFacets[v][x].data=i.persistHierarchicalRootCount?U0(i.hierarchicalFacets[v][x].data,w):Rl(w,i.hierarchicalFacets[v][x].data)}else{v=c[m];var y=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:U0(y,w),exhaustive:h.exhaustiveFacetsCount},lp(i.disjunctiveFacets[v],h.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(kC(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),g=e.getHierarchicalRefinement(f);g.length===0||g[0].split(p).length<2||t.slice(u).forEach(function(m){var w=m&&m.facets?m.facets:{};Object.keys(w).forEach(function(v){var x=w[v],y=Xo(e.hierarchicalFacets,function(C){return C.name===h.name}),S=Xo(i.hierarchicalFacets[y],function(C){return C.attribute===v});if(S!==-1){var j={};if(g.length>0&&!i.persistHierarchicalRootCount){var _=g[0].split(p)[0];j[_]=i.hierarchicalFacets[y][S].data[_]}i.hierarchicalFacets[y][S].data=Rl(j,x,i.hierarchicalFacets[y][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=o[f];i.facets[p]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(g){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(o5(e)),this.facets=op(this.facets),this.disjunctiveFacets=op(this.disjunctiveFacets),this._state=e}Ji.prototype.getFacetByName=function(e){function t(n){return n.name===e}return tr(this.facets,t)||tr(this.disjunctiveFacets,t)||tr(this.hierarchicalFacets,t)};function c5(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=tr(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=z0(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=tr(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=z0(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=tr(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),c=kC(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+o,""));var u=c.split(o);return u.unshift(t),RC(s,u,0),s}}function RC(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){RC(r,t,n+1)})}function NC(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return NC(e,o,n,r+1)}),s=e(i,n[r]),a=Rl({data:s},t);return a}Ji.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function u5(e,t){return t.sort(e)}function d5(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var o=t.sortRemainingBy,c;return o==="hidden"?n:(o==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(CC(r,c[0],c[1])))}function f5(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Ji.prototype.getFacetValues=function(e,t){var n=c5(this,e);if(n){var r=Rl(t,{sortBy:Ji.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return NC(function(o,c){if(r.facetOrdering){var u=f5(i,c);if(u)return d5(o,u)}if(Array.isArray(r.sortBy)){var d=a5(r.sortBy,Ji.DEFAULT_SORT);return CC(o,d[0],d[1])}else if(typeof r.sortBy=="function")return u5(r.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Ji.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return H0(this.facets,e);if(this._state.isDisjunctiveFacet(e))return H0(this.disjunctiveFacets,e)};function H0(e,t){var n=tr(e,function(r){return r.name===t});return n&&n.stats}Ji.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(cp(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(cp(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(cp(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(h5(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function cp(e,t,n,r,i){var s=tr(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}function h5(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=tr(r,function(h){return h.name===t}),c=a.reduce(function(h,p){var g=h&&tr(h.data,function(m){return m.name===p});return g!==void 0?g:h},o),u=c&&c.count||0,d=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var TC=Ji,p5=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},m5=eu,g5=p5;function v5(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function y5(e,t){var n={};t.forEach(function(s){s.forEach(function(a,o){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+o,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:o,count:1})})});var r=v5(n,t.length),i=r.reduce(function(s,a){var o=m5(g5(t),function(c){return c.objectID===a.objectID});return o?s.concat(o):s},[]);return i}var x5=y5,OC="3.26.0",b5=Ty,w5=P3,AC=Oy.escapeFacetValue,S5=vC,j5=Iy,_5=Fy,P5=$y,IC=yC,E5=xC,ss=O3,My=SC,yg=TC,C5=x5,FC=OC;function G(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+FC+")"),this.setClient(e);var i=n||{};i.index=t,this.state=My.make(i),this.recommendState=new IC({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}S5(G,b5);G.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};G.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};G.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};G.prototype.recommend=function(){return this._recommend(),this};G.prototype.getQuery=function(){var e=this.state;return ss._getHitsSearchParams(e)};G.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=ss._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new yg(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new yg(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};G.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=j5({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:P5(ss._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};G.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=ss.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?d=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g,m){if(f.indexOf(g.value)>-1){p.facetHits.splice(m,1);return}g.escapedValue=AC(g.value),g.isRefined=o?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};G.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,o;return o=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:ss._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),o.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=AC(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};G.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};G.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};G.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};G.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};G.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};G.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};G.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};G.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};G.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};G.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};G.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};G.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};G.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};G.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};G.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};G.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};G.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};G.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};G.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};G.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};G.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};G.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};G.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};G.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};G.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};G.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};G.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};G.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};G.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function $C(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}G.prototype.setCurrentPage=$C;G.prototype.setPage=$C;G.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};G.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};G.prototype.setState=function(e){return this._change({state:My.make(e),isPageReset:!1}),this};G.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new My(e),this};G.prototype.hasRefinements=function(e){return _5(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};G.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};G.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};G.prototype.hasTag=function(e){return this.state.isTagRefined(e)};G.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};G.prototype.getIndex=function(){return this.state.index};function DC(){return this.state.page}G.prototype.getCurrentPage=DC;G.prototype.getPage=DC;G.prototype.getTags=function(){return this.state.tagRefinements};G.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var o=s[a];t.push({value:o,operator:a,type:"numeric"})}),t};G.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};G.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};G.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=ss._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var c=o.getModifiedState(t),u=c.index?ss._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}};G.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(o){var c=o.getModifiedState(e),u=ss._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};G.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new IC);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};G.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,o){return o!=="results"&&(a[o]=n[o]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var o=a.state,c=a.queriesCount,u=a.helper,d=i.splice(0,c);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new yg(o,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:o})})}};G.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(o){return i[o]===void 0}).forEach(function(o,c){s[o]||(s[o]=[]),s[o].push(c)}),Object.keys(s).forEach(function(o){var c=s[o],u=r.results[c[0]];if(c.length===1){i[o]=u;return}i[o]=Object.assign({},u,{hits:C5(n,c.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(o){a[o]=i[o]}),t.forEach(function(o){var c=o.state,u=o.helper;if(!o.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new E5(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};G.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};G.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};G.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};G.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};G.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};G.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};G.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};G.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+FC+")"),this.client=e,this)};G.prototype.getClient=function(){return this.client};G.prototype.derive=function(e,t){var n=new w5(this,e,t);return this.derivedHelpers.push(n),n};G.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};G.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var k5=G,LC=k5,R5=yC,N5=xC,T5=SC,O5=TC;function ra(e,t,n,r){return new LC(e,t,n,r)}ra.version=OC;ra.AlgoliaSearchHelper=LC;ra.SearchParameters=T5;ra.RecommendParameters=R5;ra.SearchResults=O5;ra.RecommendResults=N5;var A5=ra;const Dt=Ys(A5);var I5=0;function F5(e){e.dependsOn==="recommend"&&(e.$$id=I5++)}function st(){}function $5(e){return Object.prototype.toString.call(e).slice(8,-1)}function fi(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat($5(e),`).

`).concat(t))}function W0(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var D5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},MC=/[&<>"']/g,L5=RegExp(MC.source);function M5(e){return e&&L5.test(e)?e.replace(MC,function(t){return D5[t]}):e}var U5={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},UC=/&(amp|quot|lt|gt|#39);/g,z5=RegExp(UC.source);function B5(e){return e&&z5.test(e)?e.replace(UC,function(t){return U5[t]}):e}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function H5(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function W5(e){return xg(e)==="object"&&e!==null}function zC(e){if(!W5(e)||H5(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function V5(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(n),!0).forEach(function(r){BC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BC(e,t,n){return t=q5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q5(e){var t=K5(e,"string");return lc(t)=="symbol"?t:String(t)}function K5(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xo={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Bt={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function HC(e){return M5(e).replace(new RegExp(xo.highlightPreTag,"g"),Bt.highlightPreTag).replace(new RegExp(xo.highlightPostTag,"g"),Bt.highlightPostTag)}function nf(e){return zC(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return $a($a({},t),{},BC({},n,nf(e[n])))},{}):Array.isArray(e)?e.map(nf):$a($a({},e),{},{value:HC(e.value)})}function Q5(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=bg({},(V5(t),t));return n._highlightResult&&(n._highlightResult=nf(n._highlightResult)),n._snippetResult&&(n._snippetResult=nf(n._snippetResult)),n}),e.__escaped=!0),e}function G5(e){return e.map(function(t){return $a($a({},t),{},{highlighted:HC(t.highlighted)})})}function WC(e){var t=Bt.highlightPreTag,n=Bt.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function J5(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(r){X5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X5(e,t,n){return t=Z5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z5(e){var t=eU(e,"string");return bo(t)=="symbol"?t:String(t)}function eU(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function tU(e,t){return sU(e)||iU(e,t)||rU(e,t)||nU()}function nU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(e,t){if(e){if(typeof e=="string")return K0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(e,t)}}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function sU(e){if(Array.isArray(e))return e}function aU(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=c[1],f=c[2],h=f===void 0?"Filter Applied":f,p=c[3],g=p===void 0?{}:p,m=c[0].split(":"),w=tU(m,2),v=w[0],x=w[1],y=typeof r=="string"?r:r(d);if(c.length===1&&bo(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!J5(n,y,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:x,payload:Y5({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(y,":").concat(d)]},g),attribute:y})}};return s}function VC(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(n),!0).forEach(function(r){oU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oU(e,t,n){return t=lU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var t=cU(e,"string");return wo(t)=="symbol"?t:String(t)}function cU(e,t){if(wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e,t){return pU(e)||hU(e,t)||fU(e,t)||dU()}function dU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(e,t){if(e){if(typeof e=="string")return G0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G0(e,t)}}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function pU(e){if(Array.isArray(e))return e}function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function mU(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function qC(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&wo(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=uU(s,2),o=a[0],c=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((o==="click"||o==="conversion")&&!d)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,g=mU(h),m=g.map(function(v){return v.map(function(x){return x.objectID})}),w=g.map(function(v){return v.map(function(x){return x.__position})});return o==="view"?i.status!=="idle"?[]:g.map(function(v,x){var y;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:o,payload:up({eventName:d||"Hits Viewed",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,objectIDs:m[x]},f),hits:v,eventModifier:c}}):o==="click"?g.map(function(v,x){var y;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:up({eventName:d||"Hit Clicked",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,queryID:p,objectIDs:m[x],positions:w[x]},f),hits:v,eventModifier:c}}):o==="conversion"?g.map(function(v,x){var y;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:up({eventName:d||"Hit Converted",index:((y=t.lastResults)===null||y===void 0?void 0:y.index)||t.state.index,queryID:p,objectIDs:m[x]},f),hits:v,eventModifier:c}}):[]}function gU(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=qC({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function vU(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=qC({widgetType:n,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:r});return u.length?"data-insights-event=".concat(VC(u)):""};return i}function Fn(e){return e.$$type==="ais.index"}function wg(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Fn).forEach(function(r){return wg(e,r)})}var yU=Promise.resolve();function Zo(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t===null&&(t=yU.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function xU(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return xU(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function bU(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function fl(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function Qs(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function wU(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function J0(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],o=n[s]||r[s];return[a,o]}else return[e.applicationID,e.apiKey]}function KC(e){var t=Bt.highlightPostTag,n=Bt.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(t);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var SU=new RegExp(/\w/i);function jU(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!SU.test(B5(i.value))&&a===s?a:i.isHighlighted}function Xf(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function dp(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:fl(r)},a=Qs(i,function(p){return p.name===n}),o;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),d=function(g){return function(m){return g[m]}},f=function(g){a=a&&a.data&&Qs(Object.keys(a.data).map(d(a.data)),function(m){return m.name===u[g]})},h=0;a!==void 0&&h<u.length;++h)f(h);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function _U(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,o=t.facetsExcludes,c=o===void 0?{}:o,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,h=f===void 0?{}:f,p=t.numericRefinements,g=p===void 0?{}:p,m=t.tagRefinements,w=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var x=a[v];x.forEach(function(y){i.push(dp(t,"facet",v,y,r.facets))})}),Object.keys(c).forEach(function(v){var x=c[v];x.forEach(function(y){i.push({type:"exclude",attribute:v,name:y,exclude:!0})})}),Object.keys(d).forEach(function(v){var x=d[v];x.forEach(function(y){i.push(dp(t,"disjunctive",v,bU(y),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var x=h[v];x.forEach(function(y){i.push(dp(t,"hierarchical",v,y,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var x=g[v];Object.keys(x).forEach(function(y){var S=y,j=x[S],_=Array.isArray(j)?j:[j];_.forEach(function(C){i.push({type:"numeric",attribute:v,name:"".concat(C),numericValue:C,operator:S})})})}),w.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(n),!0).forEach(function(r){PU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PU(e,t,n){return t=EU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EU(e){var t=CU(e,"string");return cc(t)=="symbol"?t:String(t)}function CU(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kU(e,t,n){return e.map(function(r,i){return X0(X0({},r),{},{__position:n*t+i+1})})}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(n),!0).forEach(function(r){RU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RU(e,t,n){return t=NU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NU(e){var t=TU(e,"string");return uc(t)=="symbol"?t:String(t)}function TU(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OU(e,t){return t?e.map(function(n){return ew(ew({},n),{},{__queryID:t})}):e}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(r){AU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AU(e,t,n){return t=IU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IU(e){var t=FU(e,"string");return dc(t)=="symbol"?t:String(t)}function FU(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $U(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?nw(nw({},r),s.recommendResults.results):r},{});e._recommendCache=n}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function DU(e,t){return zU(e)||UU(e,t)||MU(e,t)||LU()}function LU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(e,t){if(e){if(typeof e=="string")return rw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(e,t)}}function rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function zU(e){if(Array.isArray(e))return e}function iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(n),!0).forEach(function(r){QC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QC(e,t,n){return t=BU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BU(e){var t=HU(e,"string");return fc(t)=="symbol"?t:String(t)}function HU(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WU(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,o){var c=t[o],u=c.state,d=c.requestParams,f=c.results,h=f&&u?f.map(function(p,g){return el({indexName:u.index||p.index},d!=null&&d[g]||p.params?{params:fp((d==null?void 0:d[g])||VU(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,o){var c=t[o].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return el(el({},f),{},{params:fp(f.params)})}):fp(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=el(el({},e.cache),{},QC({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function VU(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=DU(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function fp(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function sw(e){return e!==Object(e)}function GC(e,t){if(e===t)return!0;if(sw(e)||sw(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!GC(e[i],t[i]))return!1}return!0}function $e(e){return typeof e=="number"&&isFinite(e)}function JC(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}var qU=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(n),!0).forEach(function(r){KU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KU(e,t,n){return t=QU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QU(e){var t=GU(e,"string");return hc(t)=="symbol"?t:String(t)}function GU(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JU(e,t){if(e==null)return{};var n=YU(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var XU=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=JU(n,qU);return t.setQueryParameters(r)},ZU=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},ez=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},tz=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=wU(r,function(o){return o.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},nz=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},rz=function(t,n){return t.setQueryParameters({facetsRefinements:Or(Or({},t.facetsRefinements),n.facetsRefinements)})},iz=function(t,n){return t.setQueryParameters({facetsExcludes:Or(Or({},t.facetsExcludes),n.facetsExcludes)})},sz=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:Or(Or({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},az=function(t,n){return t.setQueryParameters({numericRefinements:Or(Or({},t.numericRefinements),n.numericRefinements)})},oz=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:Or(Or({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},lz=function(t,n){var r=JC([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Nl=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=oz(i,s),o=tz(a,s),c=nz(o,s),u=az(c,s),d=sz(u,s),f=iz(d,s),h=rz(f,s),p=ez(h,s),g=lz(p,s),m=ZU(g,s);return XU(m,s)})};function cz(e){return hz(e)||fz(e)||dz(e)||uz()}function uz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(e,t){if(e){if(typeof e=="string")return Sg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sg(e,t)}}function fz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hz(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ow(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,o=Math.round((r-n)/a);return cz(Array(o)).map(function(c,u){return n+u*a})}function hl(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function lw(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function pz(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(n),!0).forEach(function(r){mz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mz(e,t,n){return t=gz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gz(e){var t=vz(e,"string");return pc(t)=="symbol"?t:String(t)}function vz(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YC(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Du(Du({},t),{},{isHighlighted:!jU(e,n)})}):e.map(function(t){return Du(Du({},t),{},{isHighlighted:!1})})}function Oi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function hp(e){return Array.isArray(e)?e:[e]}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(n),!0).forEach(function(r){XC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XC(e,t,n){return t=yz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e){var t=xz(e,"string");return mc(t)=="symbol"?t:String(t)}function xz(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bz=Bn({name:"configure",connector:!0});function dw(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return gt(gt({},n),{},XC({},r,void 0))},{}))}var wz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:st,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return function(r){if(!r||!zC(r.searchParameters))throw new Error(bz("The `searchParameters` option expects an object."));var i={};function s(a){return function(o){var c=dw(a.state,r),u=Nl(c,new Dt.SearchParameters(o));r.searchParameters=o,a.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var c=o.instantSearchInstance;t(gt(gt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!0)},render:function(o){var c=o.instantSearchInstance;t(gt(gt({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!1)},dispose:function(o){var c=o.state;return n(),dw(c,r)},getRenderState:function(o,c){var u,d=this.getWidgetRenderState(c);return gt(gt({},o),{},{configure:gt(gt({},d),{},{widgetParams:gt(gt({},d.widgetParams),{},{searchParameters:Nl(new Dt.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new Dt.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var c=o.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(o,c){var u=c.uiState;return Nl(o,new Dt.SearchParameters(gt(gt({},u.configure),r.searchParameters)))},getWidgetUiState:function(o){return gt(gt({},o),{},{configure:gt(gt({},o.configure),r.searchParameters)})}}}};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}var fw=Object.prototype.hasOwnProperty;function So(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&So(e[i],t[i],n););return i===-1}if(!r||jg(e)==="object"){i=0;for(r in e)if(fw.call(e,r)&&++i&&!fw.call(t,r)||!(r in t)||!So(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function hw(e){var t,n,r;return new Dt.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(n),!0).forEach(function(r){Sz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sz(e,t,n){return t=jz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jz(e){var t=_z(e,"string");return gc(t)=="symbol"?t:String(t)}function _z(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pz(e){var t=e.getHelper(),n=e.getResults()||hw(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:hw(i.helper.state);return mw(mw({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var ZC=b.createContext(null);function ek(e,t){if(!e)throw new Error("Invariant failed")}function Ez(){var e=b.useContext(ZC);return ek(e!==null),e}var tk=b.createContext(null);function nk(){var e=b.useContext(tk);return ek(e!==null),e}var Cz=b.createContext(null);function rk(){return b.useContext(Cz)}var kz=b.createContext(null);function ik(){return b.useContext(kz)}function Rz(e,t){return Az(e)||Oz(e,t)||Tz(e,t)||Nz()}function Nz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tz(e,t){if(e){if(typeof e=="string")return gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(e,t)}}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Az(e){if(Array.isArray(e))return e}function vw(e){var t=b.useState(function(){return e}),n=Rz(t,2),r=n[0],i=n[1];return So(r,e)||i(e),r}var Iz="use",yw=nv[Iz],Fz=typeof window<"u"?b.useLayoutEffect:b.useEffect,$z=b.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function sk(){return b.useContext($z)}function Dz(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,o=e.skipSuspense,c=sk(),u=c.waitForResultsRef,d=c.countRef;c.ignoreMultipleHooksWarning;var f=b.useRef(s);b.useEffect(function(){f.current=s},[s]);var h=b.useRef(r);b.useEffect(function(){h.current=r},[r]);var p=b.useRef(null),g=a&&!i.getWidgets().includes(r),m=nk();if(Fz(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var x=So(s,f.current);x||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!o){var w;yw(u.current),r.$$type!=="ais.dynamicWidgets"&&(w=m.helper)!==null&&w!==void 0&&w.lastResults&&yw(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var Lz=["skipSuspense"],Mz=["instantSearchInstance","widgetParams"],Uz=["widgetParams"];function zz(e,t){return Vz(e)||Wz(e,t)||Hz(e,t)||Bz()}function Bz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(e,t){if(e){if(typeof e=="string")return xw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(e,t)}}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Vz(e){if(Array.isArray(e))return e}function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(n),!0).forEach(function(r){qz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qz(e,t,n){return t=Kz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kz(e){var t=Qz(e,"string");return vc(t)=="symbol"?t:String(t)}function Qz(e,t){if(vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(e,t){if(e==null)return{};var n=Gz(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gz(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=pp(n,Lz),a=rk(),o=ik(),c=nk(),u=Ez(),d=vw(t),f=vw(s),h=b.useRef(!0),p=b.useRef(null),g=b.useRef(c.status),m=b.useMemo(function(){var S=e(function(j,_){if(_){h.current=!0;return}if(h.current){var C=j.instantSearchInstance;j.widgetParams;var R=pp(j,Mz);(!So(R,p.current,function(I,D){return(I==null?void 0:I.constructor)===Function&&(D==null?void 0:D.constructor)===Function})||C.status!==g.current)&&(y(R),p.current=R,g.current=C.status)}},function(){h.current=!1});return ww(ww({},S(d)),f)},[e,d,f]),w=b.useState(function(){if(m.getWidgetRenderState){var S,j=u.getHelper(),_=u.getWidgetUiState({})[u.getIndexId()];j.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,j.state,{uiState:_}))||j.state;var C=Pz(u),R=C.results,I=C.scopedResults,D=C.recommendResults,F=m.getWidgetRenderState({helper:j,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&D&&o?D[o.recommendIdx.current++]:R,scopedResults:I,state:j.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});F.widgetParams;var O=pp(F,Uz);return O}return{}}),v=zz(w,2),x=v[0],y=v[1];return Dz({widget:m,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),x}function Jz(e,t){return Fr(wz,{searchParameters:e},t)}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(r){Xz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xz(e,t,n){return t=Zz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zz(e){var t=e6(e,"string");return yc(t)=="symbol"?t:String(t)}function e6(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uy(e){return Jz(Yz({},e),{$$widgetType:"ais.configure"}),null}function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var t6=["initialSearchParameters"],n6=["initialRecommendParameters"];function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){Da(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Da(e,t,n){return t=r6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r6(e){var t=i6(e,"string");return xc(t)=="symbol"?t:String(t)}function i6(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ak(e){return l6(e)||o6(e)||a6(e)||s6()}function s6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6(e,t){if(e){if(typeof e=="string")return _g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(e,t)}}function o6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l6(e){if(Array.isArray(e))return _g(e)}function _g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ok(e,t){if(e==null)return{};var n=c6(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tl=Bn({name:"index-widget"});function lk(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function nl(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return Fn(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function rl(e,t){var n=t.initialSearchParameters,r=ok(t,t6);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||Fn(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function _w(e,t){var n=t.initialRecommendParameters,r=ok(t,n6);return e.reduce(function(i,s){return!Fn(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function ck(e){var t=e.filter(Fn);t.length!==0&&t.forEach(function(n){var r=n.getHelper();lk(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),ck(n.getWidgets())})}function uk(e){var t=e.filter(Fn);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(ak(uk(r.getWidgets()))))},[])}var u6=function(t){if(t===void 0||t.indexName===void 0)throw new Error(tl("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},o=null,c=null,u=null,d=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=d)!==null&&m!==void 0&&m.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(m){var w;return m.dependsOn!=="recommend"||Fn(m)||m.$$id===void 0?this.getResults():(w=u)!==null&&w!==void 0&&w.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),w;return m?w=m.getWidgets():n.length===0?w=this.getWidgets():w=[this],uk(w)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?o._createURL(Da({},i,m(a))):o._createURL(Da({},i,nl(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(tl("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(tl("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){Fn(v)||(o&&v.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,F5(v))}),s=s.concat(m),o&&m.length&&(lk(u,{state:rl(s,{uiState:a,initialSearchParameters:u.state}),recommendState:_w(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var x=v.getRenderState(o.renderState[w.getIndexId()]||{},hl(o,w,o._initialUiState));mp({renderState:x,instantSearchInstance:o,parent:w})}}),m.forEach(function(v){v.init&&v.init(hl(o,w,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(tl("The `removeWidgets` method expects an array of widgets."));if(m.some(function(j){return typeof j.dispose!="function"}))throw new Error(tl("The widget definition expects a `dispose` method."));if(s=s.filter(function(j){return m.indexOf(j)===-1}),s.forEach(function(j){Fn(j)||(o&&j.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:j.dependsOn==="recommend"?h=!0:p=!0)}),o&&m.length){var v=m.reduce(function(j,_){var C=_.dispose({helper:u,state:j.cleanedSearchState,recommendState:j.cleanedRecommendState,parent:w});return C instanceof Dt.RecommendParameters?j.cleanedRecommendState=C:C&&(j.cleanedSearchState=C),j},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),x=v.cleanedSearchState,y=v.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?rl(s,{uiState:a,initialSearchParameters:new Dt.SearchParameters({index:this.getIndexName()})}):rl(s,{uiState:nl(s,{searchParameters:x,helper:u}),initialSearchParameters:x});a=nl(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=y,s.length&&o.scheduleSearch()}return this},init:function(m){var w=this,v,x=m.instantSearchInstance,y=m.parent,S=m.uiState;if(u===null){o=x,c=y,a=S[i]||{};var j=x.mainHelper,_=rl(s,{uiState:a,initialSearchParameters:new Dt.SearchParameters({index:n})}),C=_w(s,{uiState:a,initialRecommendParameters:new Dt.RecommendParameters});u=Dt({},_.index,_),u.recommendState=C,u.search=function(){return x.onStateChange?(x.onStateChange({uiState:x.mainIndex.getWidgetUiState({}),setUiState:function(O){return x.setUiState(O,!1)}}),j):j.search()},u.searchWithoutTriggeringOnStateChange=function(){return j.search()},u.searchForFacetValues=function(F,O,U,k){var A=u.state.setQueryParameters(k);return j.searchForFacetValues(F,O,U,A)},d=j.derive(function(){return Nl.apply(void 0,[j.state].concat(ak(pz(w))))},function(){return w.getHelper().recommendState});var R=(v=x._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(R!=null&&R.results){var I=new Dt.SearchResults(new Dt.SearchParameters(R.state),R.results);d.lastResults=I,u.lastResults=I}if(R!=null&&R.recommendResults){var D=new Dt.RecommendResults(new Dt.RecommendParameters({params:R.recommendResults.params}),R.recommendResults.results);d.lastRecommendResults=D,u.lastRecommendResults=D}u.on("change",function(F){var O=F.isPageReset;O&&ck(s)}),d.on("search",function(){x.scheduleStalledRender()}),d.on("result",function(F){var O=F.results;x.scheduleRender(),u.lastResults=O,f=O==null?void 0:O._state}),d.on("recommend:result",function(F){var O=F.recommend;x.scheduleRender(),u.lastRecommendResults=O.results}),s.forEach(function(F){if(F.getRenderState){var O=F.getRenderState(x.renderState[w.getIndexId()]||{},hl(x,w,S));mp({renderState:O,instantSearchInstance:x,parent:w})}}),s.forEach(function(F){F.init&&F.init(hl(x,w,S))}),u.on("change",function(F){var O=F.state,U=F._uiState;a=nl(s,{searchParameters:O,helper:u},U||{}),x.onStateChange||x.onInternalStateChange()}),R&&x.scheduleRender(),h&&(x._hasRecommendWidget=!0),p&&(x._hasSearchWidget=!0)}},render:function(m){var w,v=this,x=m.instantSearchInstance;x.status==="error"&&!x.mainHelper.hasPendingRequests()&&f&&u.setState(f);var y=this.getResults()||(w=d)!==null&&w!==void 0&&w.lastRecommendResults?s:s.filter(Fn);y=y.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:x}):!0}),y.forEach(function(S){if(S.getRenderState){var j=S.getRenderState(x.renderState[v.getIndexId()]||{},lw(x,v,S));mp({renderState:j,instantSearchInstance:x,parent:v})}}),y.forEach(function(S){S.render&&S.render(lw(x,v,S))})},dispose:function(){var m=this,w,v;s.forEach(function(x){x.dispose&&u&&x.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),o=null,c=null,(w=u)===null||w===void 0||w.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(m){return s.filter(Fn).reduce(function(w,v){return v.getWidgetUiState(w)},Sr(Sr({},m),{},Da({},i,Sr(Sr({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,w){var v=w.uiState;return rl(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=nl(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var w=typeof m=="function"?m(a):m;o.setUiState(function(v){return Sr(Sr({},v),{},Da({},i,w))})}}};function mp(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=Sr(Sr({},n.renderState),{},Da({},i,Sr(Sr({},n.renderState[i]),t)))}function d6(e,t){return m6(e)||p6(e,t)||h6(e,t)||f6()}function f6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6(e,t){if(e){if(typeof e=="string")return Pw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function m6(e){if(Array.isArray(e))return e}function g6(){var e=b.useReducer(function(r){return r+1},0),t=d6(e,2),n=t[1];return n}var v6="ais",Zf=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(v6,"-").concat(t).concat(s).concat(a)}},y6=Zf("Highlight");function x6(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=Xf(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=y6({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var b6=Zf("ReverseHighlight");function w6(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=Xf(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=b6({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=WC(YC(KC(d)));return h.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var S6=Zf("Snippet");function j6(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=Xf(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=S6({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}var _6=Zf("ReverseSnippet");function P6(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=Xf(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=_6({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=WC(YC(KC(d)));return h.replace(new RegExp(Bt.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(Bt.highlightPostTag,"g"),"</".concat(r,">"))}function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function E6(e){var t=e.method,n=e.payload;if(Pg(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=VC(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function C6(e,t){return E6({method:e,payload:t})}function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}var k6="_ALGOLIA";function R6(e){if(!((typeof document>"u"?"undefined":Eg(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function N6(){return R6(k6)}function T6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){O6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O6(e,t,n){return t=A6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A6(e){var t=I6(e,"string");return bc(t)=="symbol"?t:String(t)}function I6(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Br(e,t){return D6(e)||$6(e,t)||dk(e,t)||F6()}function F6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function D6(e){if(Array.isArray(e))return e}function L6(e){return z6(e)||U6(e)||dk(e)||M6()}function M6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dk(e,t){if(e){if(typeof e=="string")return Cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(e,t)}}function U6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z6(e){if(Array.isArray(e))return Cg(e)}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fk="2.17.2",B6="https://cdn.jsdelivr.net/npm/search-insights@".concat(fk,"/dist/search-insights.min.js");function Cw(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,o=a===void 0?!1:a,c=t;!t&&t!==null&&Oi(function(d){var f=d.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(c=f[h]),c||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];f[h].queue.push(g)},f[h].version=fk,f[h].shouldAddScript=!0),c=f[h])});var u=c||st;return function(d){var f=d.instantSearchInstance,h=f.middleware.filter(function(I){return I.instance.$$type==="ais.insights"&&I.instance.$$internal}).map(function(I){return I.creator});f.unuse.apply(f,L6(h));var p=J0(f.client),g=Br(p,2),m=g[0],w=g[1],v=void 0,x=void 0,y=void 0,S=u.queue;if(Array.isArray(S)){var j=["setUserToken","init"].map(function(I){var D=Qs(S.slice().reverse(),function(U){var k=Br(U,1),A=k[0];return A===I})||[],F=Br(D,2),O=F[1];return O}),_=Br(j,2);x=_[0],v=_[1]}u("getUserToken",null,function(I,D){y=Rw(D)}),(n||!kw(u))&&u("init",bs({appId:m,apiKey:w,partial:!0},n));var C,R;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var D="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var F=document.createElement("script");F.async=!0,F.src=B6,F.onerror=function(){f.emit("error",new Error(D))},document.body.appendChild(F),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(D))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),R=f.mainHelper;var D=u.queue;if(Array.isArray(D)){var F=["setUserToken","init"].map(function(ne){var J=Qs(D.slice().reverse(),function(oe){var se=Br(oe,1),de=se[0];return de===ne})||[],Y=Br(J,2),ee=Y[1];return ee}),O=Br(F,2);x=O[0],v=O[1]}C=H6(f),o||R.overrideStateWithoutTriggeringChangeEvent(bs(bs({},R.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var U=function(J){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee=Rw(J);if(!ee)return;var oe=R.state.userToken;function se(){R.overrideStateWithoutTriggeringChangeEvent(bs(bs({},R.state),{},{userToken:ee})),oe&&oe!==J&&f.scheduleSearch()}Y?se():setTimeout(se,0)};function k(ne){U(ne,!0),u("setUserToken",ne)}var A=void 0,T=N6();if(T)A=T;else{var M="anonymous-".concat(T6());A=M}var P,$=C.userToken;if(n!=null&&n.userToken&&(P=n.userToken),P)k(P);else if($)k($);else if(y)k(y);else if(x)k(x);else if(A){var E;if(k(A),n!=null&&n.useCookie||(E=v)!==null&&E!==void 0&&E.useCookie){var L;W6(A,(n==null?void 0:n.cookieDuration)||((L=v)===null||L===void 0?void 0:L.cookieDuration))}}u("onUserTokenChange",function(ne){return U(ne,!0)},{immediate:!0});var z=u;kw(u)&&(z=function(J,Y){var ee=J0(f.client),oe=Br(ee,2),se=oe[0],de=oe[1],ye={headers:{"X-Algolia-Application-Id":se,"X-Algolia-API-Key":de}};return u(J,Y,ye)});var N=new Set,te;f.mainHelper.derivedHelpers[0].on("result",function(ne){var J=ne.results;J&&(!J.queryID||J.queryID!==te)&&(te=J.queryID,N.clear())}),f.sendEventToInsights=function(ne){if(r)r(ne,z);else if(ne.insightsMethod){if(ne.insightsMethod==="viewedObjectIDs"){var J=ne.payload,Y=J.objectIDs.filter(function(ee){return!N.has(ee)});if(Y.length===0)return;Y.forEach(function(ee){return N.add(ee)}),J.objectIDs=Y}ne.payload.algoliaSource=["instantsearch"],o&&ne.payload.algoliaSource.push("instantsearch-automatic"),ne.eventModifier==="internal"&&ne.payload.algoliaSource.push("instantsearch-internal"),z(ne.insightsMethod,ne.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=st,R&&C&&(R.overrideStateWithoutTriggeringChangeEvent(bs(bs({},R.state),C)),f.scheduleSearch())}}}}function H6(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function W6(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function kw(e){var t=(e.version||"").split(".").map(Number),n=Br(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,o=r===1&&i>=10;return s||a||o}function Rw(e){if(e)return typeof e=="number"?e.toString():e}function hk(e,t,n){var r=hl(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&hk(i.getWidgets(),t,n)})}function V6(){return Oi(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function q6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,hk(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var K6=String.prototype.replace,Q6=/%20/g,gp={RFC1738:"RFC1738",RFC3986:"RFC3986"},zy={default:gp.RFC3986,formatters:{RFC1738:function(e){return K6.call(e,Q6,"+")},RFC3986:function(e){return String(e)}},RFC1738:gp.RFC1738,RFC3986:gp.RFC3986},G6=zy,vp=Object.prototype.hasOwnProperty,Cs=Array.isArray,hr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),J6=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Cs(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},pk=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Y6=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Cs(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!vp.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Cs(t)&&!Cs(n)&&(i=pk(t,r)),Cs(t)&&Cs(n)?(n.forEach(function(s,a){if(vp.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var o=n[a];return vp.call(s,a)?s[a]=e(s[a],o,r):s[a]=o,s},i)},X6=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Z6=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},e8=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===G6.RFC1738&&(u===40||u===41)){o+=a.charAt(c);continue}if(u<128){o=o+hr[u];continue}if(u<2048){o=o+(hr[192|u>>6]+hr[128|u&63]);continue}if(u<55296||u>=57344){o=o+(hr[224|u>>12]+hr[128|u>>6&63]+hr[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),o+=hr[240|u>>18]+hr[128|u>>12&63]+hr[128|u>>6&63]+hr[128|u&63]}return o},t8=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return J6(n),t},n8=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},r8=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},i8=function(t,n){return[].concat(t,n)},s8=function(t,n){if(Cs(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},mk={arrayToObject:pk,assign:X6,combine:i8,compact:t8,decode:Z6,encode:e8,isBuffer:r8,isRegExp:n8,maybeMap:s8,merge:Y6},kg=mk,Tl=zy,a8=Object.prototype.hasOwnProperty,Nw={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Os=Array.isArray,o8=String.prototype.split,l8=Array.prototype.push,gk=function(e,t){l8.apply(e,Os(t)?t:[t])},c8=Date.prototype.toISOString,Tw=Tl.default,_t={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:kg.encode,encodeValuesOnly:!1,format:Tw,formatter:Tl.formatters[Tw],indices:!1,serializeDate:function(t){return c8.call(t)},skipNulls:!1,strictNullHandling:!1},u8=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},d8=function e(t,n,r,i,s,a,o,c,u,d,f,h,p,g){var m=t;if(typeof o=="function"?m=o(n,m):m instanceof Date?m=d(m):r==="comma"&&Os(m)&&(m=kg.maybeMap(m,function(F){return F instanceof Date?d(F):F})),m===null){if(i)return a&&!p?a(n,_t.encoder,g,"key",f):n;m=""}if(u8(m)||kg.isBuffer(m)){if(a){var w=p?n:a(n,_t.encoder,g,"key",f);if(r==="comma"&&p){for(var v=o8.call(String(m),","),x="",y=0;y<v.length;++y)x+=(y===0?"":",")+h(a(v[y],_t.encoder,g,"value",f));return[h(w)+"="+x]}return[h(w)+"="+h(a(m,_t.encoder,g,"value",f))]}return[h(n)+"="+h(String(m))]}var S=[];if(typeof m>"u")return S;var j;if(r==="comma"&&Os(m))j=[{value:m.length>0?m.join(",")||null:void 0}];else if(Os(o))j=o;else{var _=Object.keys(m);j=c?_.sort(c):_}for(var C=0;C<j.length;++C){var R=j[C],I=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(!(s&&I===null)){var D=Os(m)?typeof r=="function"?r(n,R):n:n+(u?"."+R:"["+R+"]");gk(S,e(I,D,r,i,s,a,o,c,u,d,f,h,p,g))}}return S},f8=function(t){if(!t)return _t;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||_t.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Tl.default;if(typeof t.format<"u"){if(!a8.call(Tl.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Tl.formatters[r],s=_t.filter;return(typeof t.filter=="function"||Os(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:_t.addQueryPrefix,allowDots:typeof t.allowDots>"u"?_t.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:_t.charsetSentinel,delimiter:typeof t.delimiter>"u"?_t.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:_t.encode,encoder:typeof t.encoder=="function"?t.encoder:_t.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:_t.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:_t.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:_t.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:_t.strictNullHandling}},h8=function(e,t){var n=e,r=f8(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Os(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o;t&&t.arrayFormat in Nw?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var c=Nw[o];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||gk(a,d8(n[d],d,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},jo=mk,Rg=Object.prototype.hasOwnProperty,p8=Array.isArray,jt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:jo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},m8=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},vk=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},g8="utf8=%26%2310003%3B",v8="utf8=%E2%9C%93",y8=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),o=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===v8?u="utf-8":a[c]===g8&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var d=a[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,g;h===-1?(p=n.decoder(d,jt.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),jt.decoder,u,"key"),g=jo.maybeMap(vk(d.slice(h+1),n),function(m){return n.decoder(m,jt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=m8(g)),d.indexOf("[]=")>-1&&(g=p8(g)?[g]:g),Rg.call(r,p)?r[p]=jo.combine(r[p],g):r[p]=g}return r},x8=function(e,t,n,r){for(var i=r?t:vk(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},b8=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,d=[];if(u){if(!r.plainObjects&&Rg.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(c=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Rg.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),x8(d,n,r,i)}},w8=function(t){if(!t)return jt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?jt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?jt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:jt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:jt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:jt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:jt.comma,decoder:typeof t.decoder=="function"?t.decoder:jt.decoder,delimiter:typeof t.delimiter=="string"||jo.isRegExp(t.delimiter)?t.delimiter:jt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:jt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:jt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:jt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:jt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:jt.strictNullHandling}},S8=function(e,t){var n=w8(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?y8(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],c=b8(o,r[o],n,typeof e=="string");i=jo.merge(i,c,n)}return jo.compact(i)},j8=h8,_8=S8,P8=zy,E8={formats:P8,parse:_8,stringify:j8};const Ow=Ys(E8);function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yk(r.key),r)}}function R8(e,t,n){return t&&k8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wt(e,t,n){return t=yk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yk(e){var t=N8(e,"string");return wc(t)=="symbol"?t:String(t)}function N8(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw=function(t){t&&(window.document.title=t)},T8=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,o=t.parseURL,c=t.getLocation,u=t.start,d=t.dispose,f=t.push,h=t.cleanUrlOnDispose;C8(this,e),Wt(this,"$$type","ais.browser"),Wt(this,"windowTitle",void 0),Wt(this,"writeDelay",void 0),Wt(this,"_createURL",void 0),Wt(this,"parseURL",void 0),Wt(this,"getLocation",void 0),Wt(this,"writeTimer",void 0),Wt(this,"_onPopState",void 0),Wt(this,"inPopState",!1),Wt(this,"isDisposed",!1),Wt(this,"latestAcknowledgedHistory",0),Wt(this,"_start",void 0),Wt(this,"_dispose",void 0),Wt(this,"_push",void 0),Wt(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=c,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,Oi(function(p){var g=p.window,m=n.windowTitle&&n.windowTitle(n.read());Aw(m),n.latestAcknowledgedHistory=g.history.length})}return R8(e,[{key:"read",value:function(){return this.parseURL({qsModule:Ow,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;Oi(function(i){var s=i.window,a=r.createURL(n),o=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){Aw(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},Oi(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:Ow,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,Oi(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return Oi(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function O8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,w=g.routeState,v=g.location,x=v.protocol,y=v.hostname,S=v.port,j=S===void 0?"":S,_=v.pathname,C=v.hash,R=m.stringify(w),I=j===""?"":":".concat(j);return R?"".concat(x,"//").concat(y).concat(I).concat(_,"?").concat(R).concat(C):"".concat(x,"//").concat(y).concat(I).concat(_).concat(C)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,w=g.location;return m.parse(w.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,o=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return Oi(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,d=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new T8({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:u,start:d,dispose:f,push:h,cleanUrlOnDispose:p})}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var A8=["configure"];function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){Ng(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ng(e,t,n){return t=I8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=F8(e,"string");return Sc(t)=="symbol"?t:String(t)}function F8(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8(e,t){if(e==null)return{};var n=D8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fw(e){e.configure;var t=$8(e,A8);return t}function L8(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return Lu(Lu({},n),{},Ng({},r,Fw(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return Lu(Lu({},n),{},Ng({},r,Fw(t[r])))},{})}}}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){xk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xk(e,t,n){return t=M8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M8(e){var t=U8(e,"string");return jc(t)=="symbol"?t:String(t)}function U8(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?O8():n,i=t.stateMapping,s=i===void 0?L8():i,a=t.$$internal,o=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function d(p){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(p).reduce(function(v,x){return Mu(Mu({},v),{},xk({},x,p[x]))},g),w=s.stateToRoute(m);return r.createURL(w)}u._createURL=d;var f=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var m=g.uiState,w=s.stateToRoute(m);(f===void 0||!GC(f,w))&&(r.write(w),f=w)},subscribe:function(){u._initialUiState=Mu(Mu({},h),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function B8(e,t){return e.toLocaleString(t)}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(n),!0).forEach(function(r){H8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H8(e,t,n){return t=W8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W8(e){var t=V8(e,"string");return _c(t)=="symbol"?t:String(t)}function V8(e,t){if(_c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q8(e){var t=e.numberLocale;return{formatNumber:function(r,i){return B8(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(x6(Mr(Mr({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(w6(Mr(Mr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(j6(Mr(Mr({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(P6(Mr(Mr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,o=s.payload;return i(C6(a,Mr({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const K8="4.79.2";function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){Ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bk(r.key),r)}}function J8(e,t,n){return t&&G8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tg(e,t)}function X8(e){var t=eB();return function(){var r=rf(e),i;if(t){var s=rf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Z8(this,i)}}function Z8(e,t){if(t&&(_o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(e)}function Ee(e,t,n){return t=bk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bk(e){var t=tB(e,"string");return _o(t)=="symbol"?t:String(t)}function tB(e,t){if(_o(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn=Bn({name:"instantsearch"});function nB(){return"#"}var wk={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},rB=function(e){Y8(n,e);var t=X8(n);function n(r){var i;Q8(this,n),i=t.call(this),Ee(Se(i),"client",void 0),Ee(Se(i),"indexName",void 0),Ee(Se(i),"compositionID",void 0),Ee(Se(i),"insightsClient",void 0),Ee(Se(i),"onStateChange",null),Ee(Se(i),"future",void 0),Ee(Se(i),"helper",void 0),Ee(Se(i),"mainHelper",void 0),Ee(Se(i),"mainIndex",void 0),Ee(Se(i),"started",void 0),Ee(Se(i),"templatesConfig",void 0),Ee(Se(i),"renderState",{}),Ee(Se(i),"_stalledSearchDelay",void 0),Ee(Se(i),"_searchStalledTimer",void 0),Ee(Se(i),"_initialUiState",void 0),Ee(Se(i),"_initialResults",void 0),Ee(Se(i),"_manuallyResetScheduleSearch",!1),Ee(Se(i),"_resetScheduleSearch",void 0),Ee(Se(i),"_createURL",void 0),Ee(Se(i),"_searchFunction",void 0),Ee(Se(i),"_mainHelperSearch",void 0),Ee(Se(i),"_hasSearchWidget",!1),Ee(Se(i),"_hasRecommendWidget",!1),Ee(Se(i),"_insights",void 0),Ee(Se(i),"middleware",[]),Ee(Se(i),"sendEventToInsights",void 0),Ee(Se(i),"status","idle"),Ee(Se(i),"error",void 0),Ee(Se(i),"scheduleSearch",Zo(function(){i.started&&i.mainHelper.search()})),Ee(Se(i),"scheduleRender",Zo(function(){var O,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(O=i.mainHelper)!==null&&O!==void 0&&O.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,U&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Se(i)}),i.emit("render")})),Ee(Se(i),"onInternalStateChange",Zo(function(){var O=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(U){var k=U.instance;k.onStateChange({uiState:O})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,c=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,h=f===void 0?null:f,p=r.insights,g=p===void 0?void 0:p,m=r.searchFunction,w=r.stalledSearchDelay,v=w===void 0?200:w,x=r.searchClient,y=x===void 0?null:x,S=r.insightsClient,j=S===void 0?null:S,_=r.onStateChange,C=_===void 0?null:_,R=r.future,I=R===void 0?yp(yp({},wk),r.future||{}):R;if(y===null)throw new Error(Wn("The `searchClient` option is required."));if(typeof y.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof y.addAlgoliaAgent=="function"&&y.addAlgoliaAgent("instantsearch.js (".concat(K8,")")),j&&typeof j!="function")throw new Error(Wn("The `insightsClient` option should be a function."));if(i.client=y,i.future=I,i.insightsClient=j,i.indexName=a,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=u6({indexName:i.compositionID||i.indexName}),i.onStateChange=C,i.started=!1,i.templatesConfig={helpers:q8({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=nB,i._initialUiState=d,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=st,h){var D=typeof h=="boolean"?{}:h;D.$$internal=!0,i.use(z8(D))}if(g){var F=typeof g=="boolean"?{}:g;F.$$internal=!0,i.use(Cw(F))}return V6()&&i.use(q6({$$internal:!0})),i}return J8(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var c=a.map(function(u){var d=yp({$$type:"__unknown__",$$internal:!1,subscribe:st,started:st,unsubscribe:st,onStateChange:st},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Wn("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Wn("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(Fn))throw new Error(Wn("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Wn("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Wn("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Wn("The `start` method has already been called once."));var s=this.mainHelper||Dt(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(st)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=Dt(a,c.state.index,c.state);return u.once("search",function(d){var f=d.state;c.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;c.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,h){return f[h]=d[h],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){WU(this.client,this._initialResults),$U(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Zo(st),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:Zo(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});c&&i.use(Cw({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Wn("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(u){wg(typeof u=="function"?u(o):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(wg(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Wn("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Wn("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(w3),Sk={exports:{}},jk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=b;function iB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sB=typeof Object.is=="function"?Object.is:iB,aB=Po.useState,oB=Po.useEffect,lB=Po.useLayoutEffect,cB=Po.useDebugValue;function uB(e,t){var n=t(),r=aB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return lB(function(){i.value=n,i.getSnapshot=t,xp(i)&&s({inst:i})},[e,n,t]),oB(function(){return xp(i)&&s({inst:i}),e(function(){xp(i)&&s({inst:i})})},[e]),cB(n),n}function xp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sB(e,n)}catch{return!0}}function dB(e,t){return t()}var fB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dB:uB;jk.useSyncExternalStore=Po.useSyncExternalStore!==void 0?Po.useSyncExternalStore:fB;Sk.exports=jk;var hB=Sk.exports,pB={};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(n),!0).forEach(function(r){mB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mB(e,t,n){return t=gB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gB(e){var t=vB(e,"string");return Pc(t)=="symbol"?t:String(t)}function vB(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zw=["react (".concat(b.version,")"),"react-instantsearch (".concat(pg,")"),"react-instantsearch-core (".concat(pg,")")],Bw="react-instantsearch-server (".concat(pg,")"),yB=function(t){return t?"next.js (".concat(t,")"):null};function xB(e){var t=g6(),n=rk(),r=ik(),i=sk(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,o=b.useRef(e),c=n||a||s,u=b.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new rB(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(x){x()}),d._schedule.queue=[]},0)},d._schedule.queue=[],c&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),Hw(e.searchClient,[].concat(zw,[n&&Bw,yB(bB())])),c&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,h=o.current;if(h.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),o.current=e),h.searchClient!==e.searchClient&&(Hw(e.searchClient,[].concat(zw,[n&&Bw])),f.mainHelper.setClient(e.searchClient).search(),o.current=e),h.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,o.current=e),h.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,o.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;f._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,o.current=e}So(h.future,e.future)||(f.future=Uw(Uw({},wk),e.future),o.current=e)}var g=b.useRef(null),m=hB.useSyncExternalStore(b.useCallback(function(){var w=u.current;return g.current===null?w.started||(w.start(),t()):(clearTimeout(g.current),w._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){w.dispose()}clearTimeout(w._schedule.timer),g.current=setTimeout(v),w._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function Hw(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function bB(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=pB)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var wB=["children"];function SB(e,t){if(e==null)return{};var n=jB(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _k(e){var t=e.children,n=SB(e,wB),r=xB(n);return r.started?H.createElement(tk.Provider,{value:r},H.createElement(ZC.Provider,{value:r.mainIndex},t,H.createElement(_B,{search:r}))):null}function _B(e){var t=e.search;return b.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function PB(e){return RB(e)||kB(e)||CB(e)||EB()}function EB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return Og(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Og(e,t)}}function kB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RB(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){NB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NB(e,t,n){return t=TB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e){var t=OB(e,"string");return Ec(t)=="symbol"?t:String(t)}function OB(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw=Bn({name:"clear-refinements",connector:!0}),AB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,Vw()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,o=i.excludedAttributes,c=o===void 0?["query"]:o,u=i.transformItems,d=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(Vw("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:st,createURL:function(){return""},attributesToClear:[]},h=function(){return f.refine()},p=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var w=m.instantSearchInstance;t(pa(pa({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!0)},render:function(m){var w=m.instantSearchInstance;t(pa(pa({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!1)},dispose:function(){n()},getRenderState:function(m,w){return pa(pa({},m),{},{clearRefinements:this.getWidgetRenderState(w)})},getWidgetRenderState:function(m){var w=m.createURL,v=m.scopedResults,x=m.results;f.attributesToClear=v.reduce(function(S,j){return S.concat(IB({scopedResult:j,includedAttributes:a,excludedAttributes:c,transformItems:d,results:x}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var j=S.helper,_=S.items;j.setState(W0({helper:j,attributesToClear:_})).search()})},f.createURL=function(){return w(Nl.apply(void 0,PB(f.attributesToClear.map(function(S){var j=S.helper,_=S.items;return W0({helper:j,attributesToClear:_})}))))};var y=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:y,hasRefinements:y,refine:h,createURL:p,widgetParams:r}}}}};function IB(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(JC(_U(t.results,t.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return n.length===0||n.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function FB(e,t){return Fr(AB,e,t)}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){Pk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pk(e,t,n){return t=$B(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $B(e){var t=DB(e,"string");return Cc(t)=="symbol"?t:String(t)}function DB(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LB=Bn({name:"hits",connector:!0});const MB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,LB()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,o=i.transformItems,c=o===void 0?function(f){return f}:o,u,d;return{$$type:"ais.hits",init:function(h){t(xi(xi({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(xi(xi({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return xi(xi({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,g,m,w=h.results,v=h.helper,x=h.instantSearchInstance;if(u||(u=gU({instantSearchInstance:x,helper:v,widgetType:this.$$type})),d||(d=vU({helper:v,widgetType:this.$$type,instantSearchInstance:x})),!w)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&w.hits.length>0&&(w.hits=Q5(w.hits));var y=kU(w.hits,w.page,w.hitsPerPage),S=OU(y,w.queryID),j=c(S,{results:w}),_=(p=w.renderingContent)===null||p===void 0||(g=p.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:j,items:j,results:w,banner:_,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(xo).reduce(function(g,m){return xi(xi({},g),{},Pk({},m,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(xo):h}}}};function eh(e,t){return Fr(MB,e,t)}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function UB(e){return WB(e)||HB(e)||BB(e)||zB()}function zB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(e,t){if(e){if(typeof e=="string")return Ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ag(e,t)}}function HB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WB(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(r){VB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VB(e,t,n){return t=qB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qB(e){var t=KB(e,"string");return kc(t)=="symbol"?t:String(t)}function KB(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uu=Bn({name:"hits-per-page",connector:!0}),QB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,Uu()),function(r){var i=r||{},s=i.items,a=i.transformItems,o=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error(Uu("The `items` option expects an array of objects."));var c=s,u=c.filter(function(p){return p.default===!0});if(u.length===0)throw new Error(Uu("A default value must be specified in `items`."));if(u.length>1)throw new Error(Uu("More than one default value is specified in `items`."));var d=u[0],f=function(g){var m=g.hitsPerPage;return c.map(function(w){return pr(pr({},w),{},{isRefined:Number(w.value)===Number(m)})})},h={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,w=g.createURL,v=g.getWidgetUiState,x=g.helper;return function(y){return w(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!y&&y!==0?void 0:y),helper:x})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,w=g.instantSearchInstance,v=c.some(function(x){return Number(m.hitsPerPage)===Number(x.value)});v||(c=[{value:"",label:""}].concat(UB(c))),t(pr(pr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!0)},render:function(g){var m=g.instantSearchInstance;t(pr(pr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return pr(pr({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,w=g.results,v=g.createURL,x=g.helper,y=w?w.nbHits>0:!1;return{items:o(f(m),{results:w}),refine:h.getRefine(x),createURL:h.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:x}),hasNoResults:!y,canRefine:y,widgetParams:r}},getWidgetUiState:function(g,m){var w=m.searchParameters,v=w.hitsPerPage;return v===void 0||v===d.value?g:pr(pr({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var w=m.uiState;return g.setQueryParameters({hitsPerPage:w.hitsPerPage||d.value})}}}};function GB(e,t){return Fr(QB,e,t)}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function JB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ek(r.key),r)}}function XB(e,t,n){return t&&YB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bp(e,t,n){return t=Ek(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e){var t=ZB(e,"string");return Rc(t)=="symbol"?t:String(t)}function ZB(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eH=function(){function e(t){JB(this,e),bp(this,"currentPage",void 0),bp(this,"total",void 0),bp(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return XB(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return ow({end:n});var a=this.calculatePaddingLeft(r,i,n,s),o=s-a,c=r-a,u=r+o;return ow({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(r){tH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tH(e,t,n){return t=nH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=rH(e,"string");return Nc(t)=="symbol"?t:String(t)}function rH(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH=Bn({name:"pagination",connector:!0}),sH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,iH()),function(r){var i=r||{},s=i.totalPages,a=i.padding,o=a===void 0?3:a,c=new eH({currentPage:0,total:0,padding:o}),u={};function d(f){var h=f.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(mr(mr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(mr(mr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var g=p.searchParameters,m=g.page||0;return m?mr(mr({},h),{},{page:m+1}):h},getWidgetSearchParameters:function(h,p){var g=p.uiState,m=g.page?g.page-1:0;return h.setQueryParameter("page",m)},getWidgetRenderState:function(h){var p=h.results,g=h.helper,m=h.state,w=h.createURL;u.refine||(u.refine=function(y){g.setPage(y),g.search()}),u.createURL||(u.createURL=function(y){return w(function(S){return mr(mr({},S),{},{page:y+1})})});var v=m.page||0,x=d(p||{nbPages:0});return c.currentPage=v,c.total=x,{createURL:u.createURL,refine:u.refine,canRefine:x>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:x,pages:p?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return mr(mr({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function By(e,t){return Fr(sH,e,t)}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(r){fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fd(e,t,n){return t=aH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aH(e){var t=oH(e,"string");return Tc(t)=="symbol"?t:String(t)}function oH(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(e,t){return dH(e)||uH(e,t)||cH(e,t)||lH()}function lH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(e,t){if(e){if(typeof e=="string")return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(e,t)}}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function dH(e){if(Array.isArray(e))return e}var wp=Bn({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),fH="ais.range";function Yw(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var hH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,wp()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,o=i.min,c=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error(wp("The `attribute` option is required."));if($e(o)&&$e(c)&&o>c)throw new Error(wp("The `max` option can't be lower than `min`."));var f=function(y){return Number(Number(y).toFixed(d))},h={from:function(y){return y.toLocaleString()},to:function(y){return f(y).toLocaleString()}},p=function(y,S,j,_){var C=y.state,R=S.min,I=S.max,D=C.getNumericRefinement(a,">=")||[],F=ma(D,1),O=F[0],U=C.getNumericRefinement(a,"<=")||[],k=ma(U,1),A=k[0],T=j===void 0||j==="",M=_===void 0||_==="",P=Yw({min:T?void 0:parseFloat(j),max:M?void 0:parseFloat(_),precision:d}),$=P.min,E=P.max,L;!$e(o)&&R===$?L=void 0:$e(o)&&T?L=o:L=$;var z;!$e(c)&&I===E?z=void 0:$e(c)&&M?z=c:z=E;var N=L===void 0,te=$e(R)&&R<=L,ne=N||$e(L)&&(!$e(R)||te),J=z===void 0,Y=$e(z)&&I>=z,ee=J||$e(z)&&(!$e(I)||Y),oe=O!==L,se=A!==z;return(oe||se)&&ne&&ee?(C=C.removeNumericRefinement(a),$e(L)&&(C=C.addNumericRefinement(a,">=",L)),$e(z)&&(C=C.addNumericRefinement(a,"<=",z)),C.resetPage()):null},g=function(y){return function(){if(arguments.length===1){y.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(x){var y;$e(o)?y=o:$e(x.min)?y=x.min:y=0;var S;return $e(c)?S=c:$e(x.max)?S=x.max:S=0,Yw({min:y,max:S,precision:d})}function w(x){var y=x.getNumericRefinement(a,">=")||[],S=ma(y,1),j=S[0],_=x.getNumericRefinement(a,"<=")||[],C=ma(_,1),R=C[0],I=$e(j)?j:-1/0,D=$e(R)?R:1/0;return[I,D]}function v(x,y){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],j=ma(S,2),_=j[0],C=j[1],R=p(x,y,_,C);R&&x.setState(R).search()}}return{$$type:fH,init:function(y){t(It(It({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){t(It(It({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!1)},getRenderState:function(y,S){return It(It({},y),{},{range:It(It({},y.range),{},fd({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(y){var S=y.results,j=y.helper,_=y.instantSearchInstance,C=S&&S.disjunctiveFacets||[],R=Qs(C,function(U){return U.name===a}),I=R&&R.stats||{min:void 0,max:void 0},D=m(I),F=w(j),O;return S?O=v(j,D):O=v(j,{min:void 0,max:void 0}),{refine:O,canRefine:D.min!==D.max,format:h,range:D,sendEvent:g(_),widgetParams:It(It({},r),{},{precision:d}),start:F}},dispose:function(y){var S=y.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(y,S){var j=S.searchParameters,_=j.getNumericRefinements(a),C=_[">="],R=C===void 0?[]:C,I=_["<="],D=I===void 0?[]:I;return R.length===0&&D.length===0?y:It(It({},y),{},{range:It(It({},y.range),{},fd({},a,"".concat(R,":").concat(D)))})},getWidgetSearchParameters:function(y,S){var j=S.uiState,_=y.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:It(It({},y.numericRefinements),{},fd({},a,{}))});$e(o)&&(_=_.addNumericRefinement(a,">=",o)),$e(c)&&(_=_.addNumericRefinement(a,"<=",c));var C=j.range&&j.range[a];if(!C||C.indexOf(":")===-1)return _;var R=C.split(":").map(parseFloat),I=ma(R,2),D=I[0],F=I[1];return $e(D)&&(!$e(o)||o<D)&&(_=_.removeNumericRefinement(a,">="),_=_.addNumericRefinement(a,">=",D)),$e(F)&&(!$e(c)||F<c)&&(_=_.removeNumericRefinement(a,"<="),_=_.addNumericRefinement(a,"<=",F)),_}}}};function pH(e,t){return Fr(hH,e,t)}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var mH=["name","escapedValue"],gH=["escapedValue","value"];function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){pl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pl(e,t,n){return t=vH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=yH(e,"string");return Oc(t)=="symbol"?t:String(t)}function yH(e,t){if(Oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zw(e,t){if(e==null)return{};var n=xH(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var zu=Bn({name:"refinement-list",connector:!0}),eS=["isRefined","count:desc","name:asc"],bH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,zu()),function(r){var i=r||{},s=i.attribute,a=i.operator,o=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,d=i.showMore,f=d===void 0?!1:d,h=i.showMoreLimit,p=h===void 0?20:h,g=i.sortBy,m=g===void 0?eS:g,w=i.escapeFacetValues,v=w===void 0?!0:w,x=i.transformItems,y=x===void 0?function(M){return M}:x;if(!s)throw new Error(zu("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(zu('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&p<=u)throw new Error(zu("`showMoreLimit` should be greater than `limit`."));var S=function(P){var $=P.name,E=P.escapedValue,L=Zw(P,mH);return De(De({},L),{},{value:E,label:$,highlighted:$})},j,_=[],C=!0,R,I,D=!1,F=function(){};function O(){F()}function U(M,P){return function(){D=!D,P.render(M)}}function k(){return D?p:u}var A=function(){return function(){}},T=function(P,$){return function(E){return function(L){var z=E.instantSearchInstance,N=E.results;if(L===""&&_)t(De(De({},$.getWidgetRenderState(De(De({},E),{},{results:j}))),{},{instantSearchInstance:z}),!1);else{var te={highlightPreTag:v?xo.highlightPreTag:Bt.highlightPreTag,highlightPostTag:v?xo.highlightPostTag:Bt.highlightPostTag};P.searchForFacetValues(s,L,Math.min(k(),100),te).then(function(ne){var J=v?G5(ne.facetHits):ne.facetHits,Y=y(J.map(function(ee){var oe=ee.escapedValue,se=ee.value,de=Zw(ee,gH);return De(De({},de),{},{value:oe,label:se})}),{results:N});t(De(De({},$.getWidgetRenderState(De(De({},E),{},{results:j}))),{},{items:Y,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:z}),!1)})}}}};return{$$type:"ais.refinementList",init:function(P){t(De(De({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!0)},render:function(P){t(De(De({},this.getWidgetRenderState(P)),{},{instantSearchInstance:P.instantSearchInstance}),!1)},getRenderState:function(P,$){return De(De({},P),{},{refinementList:De(De({},P.refinementList),{},pl({},s,this.getWidgetRenderState($)))})},getWidgetRenderState:function(P){var $=this,E=P.results,L=P.state,z=P.createURL,N=P.instantSearchInstance,te=P.helper,ne=[],J=[];if((!I||!R||!A)&&(I=aU({instantSearchInstance:N,helper:te,attribute:s,widgetType:this.$$type}),R=function(Nt){I("click:internal",Nt),te.toggleFacetRefinement(s,Nt).search()},A=T(te,this)),E){var Y=E.getFacetValues(s,{sortBy:m,facetOrdering:m===eS});J=Y&&Array.isArray(Y)?Y:[],ne=y(J.slice(0,k()).map(S),{results:E});var ee=L.maxValuesPerFacet,oe=k();C=ee>oe?J.length<=oe:J.length<oe,j=E,_=ne,P.results&&(F=U(P,this))}var se=A&&A(P),de=D&&_.length>u,ye=f&&!C,ft=de||ye;return{createURL:function(Nt){return z(function(St){return $.getWidgetUiState(St,{searchParameters:L.resetPage().toggleFacetRefinement(s,Nt),helper:te})})},items:ne,refine:R,searchForItems:se,isFromSearch:!1,canRefine:ne.length>0,widgetParams:r,isShowingMore:D,canToggleShowMore:ft,toggleShowMore:O,sendEvent:I,hasExhaustiveItems:C}},dispose:function(P){var $=P.state;n();var E=$.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?E.removeFacet(s):E.removeDisjunctiveFacet(s)},getWidgetUiState:function(P,$){var E=$.searchParameters,L=o==="or"?E.getDisjunctiveRefinements(s):E.getConjunctiveRefinements(s);return wH(De(De({},P),{},{refinementList:De(De({},P.refinementList),{},pl({},s,L))}),s)},getWidgetSearchParameters:function(P,$){var E=$.uiState,L=o==="or";if(P.isHierarchicalFacet(s)||L&&P.isConjunctiveFacet(s)||!L&&P.isDisjunctiveFacet(s))return P;var z=E.refinementList&&E.refinementList[s],N=L?P.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):P.addFacet(s).removeFacetRefinement(s),te=N.maxValuesPerFacet||0,ne=Math.max(te,f?p:u),J=N.setQueryParameter("maxValuesPerFacet",ne);if(!z){var Y=L?"disjunctiveFacetsRefinements":"facetsRefinements";return J.setQueryParameters(pl({},Y,De(De({},J[Y]),{},pl({},s,[]))))}return z.reduce(function(ee,oe){return L?ee.addDisjunctiveFacetRefinement(s,oe):ee.addFacetRefinement(s,oe)},J)}}}};function wH(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function SH(e,t){return Fr(bH,e,t)}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return t=_H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=PH(e,"string");return Ac(t)=="symbol"?t:String(t)}function PH(e,t){if(Ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=Bn({name:"search-box",connector:!0}),CH=function(t,n){return n(t)},kH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,EH()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?CH:s,o,c;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(bi(bi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(bi(bi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return bi(bi({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,h=d.instantSearchInstance,p=d.state;return o||(o=function(m){a(m,function(w){return f.setQuery(w).search()})},c=function(){f.setQuery("").search()}),{query:p.query||"",refine:o,clear:c,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(d,f){var h=f.searchParameters,p=h.query||"";return p===""||d&&d.query===p?d:bi(bi({},d),{},{query:p})},getWidgetSearchParameters:function(d,f){var h=f.uiState;return d.setQueryParameter("query",h.query||"")}}}};function Hy(e,t){return Fr(kH,e,t)}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(r){RH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RH(e,t,n){return t=NH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e){var t=TH(e,"string");return Ic(t)=="symbol"?t:String(t)}function TH(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OH=Bn({name:"stats",connector:!0}),AH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,OH()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(ga(ga({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(ga(ga({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return ga(ga({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function th(e,t){return Fr(AH,e,t)}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){hd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hd(e,t,n){return t=IH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=FH(e,"string");return Fc(t)=="symbol"?t:String(t)}function FH(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $H(e,t){return UH(e)||MH(e,t)||LH(e,t)||DH()}function DH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LH(e,t){if(e){if(typeof e=="string")return iS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(e,t)}}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function UH(e){if(Array.isArray(e))return e}var sS=Bn({name:"toggle-refinement",connector:!0}),Ck="ais.toggleRefinement",zH=function(t){var n=t.instantSearchInstance,r=t.helper,i=t.attribute,s=t.on,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];if(u.length===1){n.sendEventToInsights(u[0]);return}var f=u[1],h=u[2],p=h===void 0?"Filter Applied":h,g=u[0].split(":"),m=$H(g,2),w=m[0],v=m[1];if(!(w!=="click"||s===void 0)&&!f){var x;n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Ck,eventType:w,eventModifier:v,payload:{eventName:p,index:((x=r.lastResults)===null||x===void 0?void 0:x.index)||r.state.index,filters:s.map(function(y){return"".concat(i,":").concat(y)})},attribute:i})}};return a},BH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:st;return fi(t,sS()),function(r){var i=r||{},s=i.attribute,a=i.on,o=a===void 0?!0:a,c=i.off;if(!s)throw new Error(sS("The `attribute` option is required."));var u=c!==void 0,d=hp(o).map(fl),f=u?hp(c).map(fl):void 0,h,p=function(w){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},x=v.isRefined;x?(d.forEach(function(y){return w.removeDisjunctiveFacetRefinement(s,y)}),u&&f.forEach(function(y){return w.addDisjunctiveFacetRefinement(s,y)})):(h("click:internal",x),u&&f.forEach(function(y){return w.removeDisjunctiveFacetRefinement(s,y)}),d.forEach(function(y){return w.addDisjunctiveFacetRefinement(s,y)})),w.search()}},g={createURLFactory:function(w,v){var x=v.state,y=v.createURL,S=v.getWidgetUiState,j=v.helper;return function(){x=x.resetPage();var _=w?d:f;_&&_.forEach(function(R){x=x.removeDisjunctiveFacetRefinement(s,R)});var C=w?f:d;return C&&C.forEach(function(R){x=x.addDisjunctiveFacetRefinement(s,R)}),y(function(R){return S(R,{searchParameters:x,helper:j})})}}};return{$$type:Ck,init:function(w){var v=w.instantSearchInstance;t(Zt(Zt({},this.getWidgetRenderState(w)),{},{instantSearchInstance:v}),!0)},render:function(w){var v=w.instantSearchInstance;t(Zt(Zt({},this.getWidgetRenderState(w)),{},{instantSearchInstance:v}),!1)},dispose:function(w){var v=w.state;return n(),v.removeDisjunctiveFacet(s)},getRenderState:function(w,v){return Zt(Zt({},w),{},{toggleRefinement:Zt(Zt({},w.toggleRefinement),{},hd({},s,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(w){var v=w.state,x=w.helper,y=w.results,S=w.createURL,j=w.instantSearchInstance,_=y?d.every(function(k){return v.isDisjunctiveFacetRefined(s,k)}):d.every(function(k){return v.isDisjunctiveFacetRefined(s,k)}),C={isRefined:_,count:0},R={isRefined:u&&!_,count:0};if(y){var I=hp(f||!1),D=y.getFacetValues(s,{})||[],F=d.map(function(k){return Qs(D,function(A){var T=A.escapedValue;return T===fl(String(k))})}).filter(function(k){return k!==void 0}),O=u?I.map(function(k){return Qs(D,function(A){var T=A.escapedValue;return T===fl(String(k))})}).filter(function(k){return k!==void 0}):[];C={isRefined:F.length?F.every(function(k){return k.isRefined}):!1,count:F.reduce(function(k,A){return k+A.count},0)||null},R={isRefined:O.length?O.every(function(k){return k.isRefined}):!1,count:O.reduce(function(k,A){return k+A.count},0)||D.reduce(function(k,A){var T=A.count;return k+T},0)}}h||(h=zH({instantSearchInstance:j,attribute:s,on:d,helper:x}));var U=_?R:C;return{value:{name:s,isRefined:_,count:y?U.count:null,onFacetValue:C,offFacetValue:R},createURL:g.createURLFactory(_,{state:v,createURL:S,helper:x,getWidgetUiState:this.getWidgetUiState}),sendEvent:h,canRefine:!!(y&&U.count),refine:p(x),widgetParams:r}},getWidgetUiState:function(w,v){var x=v.searchParameters,y=d&&d.every(function(j){return x.isDisjunctiveFacetRefined(s,j)});if(!y){var S;return(S=w.toggle)===null||S===void 0||delete S[s],w}return Zt(Zt({},w),{},{toggle:Zt(Zt({},w.toggle),{},hd({},s,y))})},getWidgetSearchParameters:function(w,v){var x=v.uiState;if(w.isHierarchicalFacet(s)||w.isConjunctiveFacet(s))return w;var y=w.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s),S=!!(x.toggle&&x.toggle[s]);return S?(d&&d.forEach(function(j){y=y.addDisjunctiveFacetRefinement(s,j)}),y):u?(f&&f.forEach(function(j){y=y.addDisjunctiveFacetRefinement(s,j)}),y):y.setQueryParameters({disjunctiveFacetsRefinements:Zt(Zt({},w.disjunctiveFacetsRefinements),{},hd({},s,[]))})}}}};function HH(e,t){return Fr(BH,e,t)}function WH(){function e(t){return new Promise(n=>{let r=new XMLHttpRequest;r.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>r.setRequestHeader(o,t.headers[o]));let i=(o,c)=>setTimeout(()=>{r.abort(),n({status:0,content:c,isTimedOut:!0})},o),s=i(t.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(t.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(t.data)})}return{send:e}}function VH(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(o){r().setItem(n,JSON.stringify(o))}function a(){const o=e.timeToLive?e.timeToLive*1e3:null,c=i(),u=Object.fromEntries(Object.entries(c).filter(([,f])=>f.timestamp!==void 0));if(s(u),!o)return;const d=Object.fromEntries(Object.entries(u).filter(([,f])=>{const h=new Date().getTime();return!(f.timestamp+o<h)}));s(d)}return{get(o,c,u={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(o)])).then(d=>Promise.all([d?d.value:c(),d!==void 0])).then(([d,f])=>Promise.all([d,f||u.miss(d)])).then(([d])=>d)},set(o,c){return Promise.resolve().then(()=>{const u=i();return u[JSON.stringify(o)]={timestamp:new Date().getTime(),value:c},r().setItem(n,JSON.stringify(u)),c})},delete(o){return Promise.resolve().then(()=>{const c=i();delete c[JSON.stringify(o)],r().setItem(n,JSON.stringify(c))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function qH(){return{get(e,t,n={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function ml(e){const t=[...e.caches],n=t.shift();return n===void 0?qH():{get(r,i,s={miss:()=>Promise.resolve()}){return n.get(r,i,s).catch(()=>ml({caches:t}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>ml({caches:t}).set(r,i))},delete(r){return n.delete(r).catch(()=>ml({caches:t}).delete(r))},clear(){return n.clear().catch(()=>ml({caches:t}).clear())}}}function Sp(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then(o=>i.miss(o)).then(()=>a)},set(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function KH(e){const t={value:`Algolia for JavaScript (${e})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return t.value.indexOf(r)===-1&&(t.value=`${t.value}${r}`),t}};return t}function QH(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function GH({algoliaAgents:e,client:t,version:n}){const r=KH(n).add({segment:t,version:n});return e.forEach(i=>r.add(i)),r}function JH(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var aS=2*60*1e3;function oS(e,t="up"){const n=Date.now();function r(){return t==="up"||Date.now()-n>aS}function i(){return t==="timed out"&&Date.now()-n<=aS}return{...e,status:t,lastUpdate:n,isUp:r,isTimedOut:i}}var kk=class extends Error{constructor(t,n){super(t);oa(this,"name","AlgoliaError");n&&(this.name=n)}},Rk=class extends kk{constructor(t,n,r){super(t,r);oa(this,"stackTrace");this.stackTrace=n}},YH=class extends Rk{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},Ig=class extends Rk{constructor(t,n,r,i="ApiError"){super(t,r,i);oa(this,"status");this.status=n}},XH=class extends kk{constructor(t,n){super(t,"DeserializationError");oa(this,"response");this.response=n}},ZH=class extends Ig{constructor(t,n,r,i){super(t,n,i,"DetailedApiError");oa(this,"error");this.error=r}};function e9(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}function t9(e,t,n){const r=n9(n);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return r.length&&(i+=`?${r}`),i}function n9(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function r9(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}function i9(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}function s9(e){try{return JSON.parse(e.content)}catch(t){throw new XH(t.message,e)}}function a9({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new ZH(r.message,t,r.error,n):new Ig(r.message,t,n)}catch{}return new Ig(e,t,n)}function o9({isTimedOut:e,status:t}){return!e&&~~t===0}function l9({isTimedOut:e,status:t}){return e||o9({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function c9({status:e}){return~~(e/100)===2}function u9(e){return e.map(t=>Nk(t))}function Nk(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function d9({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:c,responsesCache:u}){async function d(p){const g=await Promise.all(p.map(y=>t.get(y,()=>Promise.resolve(oS(y))))),m=g.filter(y=>y.isUp()),w=g.filter(y=>y.isTimedOut()),v=[...m,...w];return{hosts:v.length>0?v:p,getTimeout(y,S){return(w.length===0&&y===0?1:w.length+3+y)*S}}}async function f(p,g,m=!0){const w=[],v=r9(p,g),x=i9(n,p.headers,g.headers),y=p.method==="GET"?{...p.data,...g.data}:{},S={...i,...p.queryParameters,...y};if(s.value&&(S["x-algolia-agent"]=s.value),g&&g.queryParameters)for(const I of Object.keys(g.queryParameters))!g.queryParameters[I]||Object.prototype.toString.call(g.queryParameters[I])==="[object Object]"?S[I]=g.queryParameters[I]:S[I]=g.queryParameters[I].toString();let j=0;const _=async(I,D)=>{const F=I.pop();if(F===void 0)throw new YH(u9(w));const O={...a,...g.timeouts},U={data:v,headers:x,method:p.method,url:t9(F,p.path,S),connectTimeout:D(j,O.connect),responseTimeout:D(j,m?O.read:O.write)},k=T=>{const M={request:U,response:T,host:F,triesLeft:I.length};return w.push(M),M},A=await o.send(U);if(l9(A)){const T=k(A);return A.isTimedOut&&j++,r.info("Retryable failure",Nk(T)),await t.set(F,oS(F,A.isTimedOut?"timed out":"down")),_(I,D)}if(c9(A))return s9(A);throw k(A),a9(A,w)},C=e.filter(I=>I.accept==="readWrite"||(m?I.accept==="read":I.accept==="write")),R=await d(C);return _([...R.hosts].reverse(),R.getTimeout)}function h(p,g={}){const m=p.useReadTransporter||p.method==="GET";if(!m)return f(p,g,m);const w=()=>f(p,g);if((g.cacheable||p.cacheable)!==!0)return w();const x={request:p,requestOptions:g,transporter:{queryParameters:i,headers:n}};return u.get(x,()=>c.get(x,()=>c.set(x,w()).then(y=>Promise.all([c.delete(x),y]),y=>Promise.all([c.delete(x),Promise.reject(y)])).then(([y,S])=>S)),{miss:y=>u.set(x,y)})}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:h,requestsCache:c,responsesCache:u}}var Tk="5.35.0";function f9(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(e9([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function h9({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=QH(e,t,n),a=d9({hosts:f9(e),...i,algoliaAgent:GH({algoliaAgents:r,client:"Lite",version:Tk}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(o,c){a.algoliaAgent.add({segment:o,version:c})},setClientApiKey({apiKey:o}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=o:a.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,c){return this.search(o,c)},searchForFacets(o,c){return this.search(o,c)},customPost({path:o,parameters:c,body:u},d){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:c||{},headers:{},data:u||{}};return a.request(g,d)},getRecommendations(o,c){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)},search(o,c){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:g,...m})=>m.type==="facet"?{...m,...g,type:"facet"}:{...m,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)}}}function Yi(e,t,n){if(!e||typeof e!="string")throw new Error("`appId` is missing.");if(!t||typeof t!="string")throw new Error("`apiKey` is missing.");return h9({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:JH(),requester:WH(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Sp(),requestsCache:Sp({serializable:!1}),hostsCache:ml({caches:[VH({key:`${Tk}-${e}`}),Sp()]}),...n})}const nh=()=>{const{user:e}=rt(),[t,n]=b.useState(!1),[r,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:o}=await X.rpc("is_supra_admin",{user_uuid:e.id});o?(console.error("Error checking supra admin status:",o),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},ia=()=>{rt();const{userProfile:e}=Ey(),{isSupraAdmin:t}=nh(),n=t||(e==null?void 0:e.role)==="admin",r=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin",o=t||(e==null?void 0:e.role)==="admin",c=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:n,canExport:r,canCopyToClipboard:i,canAddToFavorites:s,canManageUsers:a,canManageWorkspace:o,canDeleteData:c,canAddUsers:a,role:e==null?void 0:e.role,planType:e==null?void 0:e.plan_type}},p9={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},m9=()=>{const{user:e}=rt(),{planType:t,isSupraAdmin:n}=ia(),r=b.useCallback(async()=>{if(!e)return;const i=n?"premium":t||"freemium",s=p9[i];try{const{data:a,error:o}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(o&&o.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",o);return}const{error:c}=await X.from("search_quotas").upsert({user_id:e.id,plan_type:i,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return b.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},rh=()=>{const{user:e}=rt(),[t,n]=b.useState(null),[r,i]=b.useState(!0),[s,a]=b.useState(null),{syncUserQuotas:o}=m9(),c=b.useCallback(async()=>{if(!e){i(!1);return}i(!0),a(null),await o();try{const{data:v,error:x}=await X.from("search_quotas").select("*").eq("user_id",e.id).single();if(x&&x.code!=="PGRST116"){a(x.message);return}if(v)n(v);else{const{data:y,error:S}=await X.from("search_quotas").insert({user_id:e.id,plan_type:"freemium",exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(S){a(S.message);return}n(y)}}catch(v){a(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}},[e,o]),u=b.useRef(null);b.useEffect(()=>{c()},[c]),b.useEffect(()=>{if(!e)return;const v=X.channel("quota-updates").on("postgres_changes",{event:"*",schema:"public",table:"search_quotas",filter:`user_id=eq.${e.id}`},x=>{x.eventType==="UPDATE"&&x.new&&n(x.new)}).subscribe(x=>{});return u.current=v,()=>{u.current&&(X.removeChannel(u.current),u.current=null)}},[e]);const d=t?t.exports_limit===null||t.exports_used<t.exports_limit:!1,f=t?t.clipboard_copies_limit===null||t.clipboard_copies_used<t.clipboard_copies_limit:!1,h=t?t.favorites_limit===null||t.favorites_used<t.favorites_limit:!1,p=t?!d||!f||!h:!1,g=b.useCallback(async(v=1)=>{if(!e||!t||t.exports_limit===null)return;const{error:x}=await X.from("search_quotas").update({exports_used:t.exports_used+v}).eq("user_id",e.id);if(x)throw x;n(y=>y?{...y,exports_used:y.exports_used+v}:null)},[e,t]),m=b.useCallback(async(v=1)=>{if(!e||!t||t.clipboard_copies_limit===null)return;const{error:x}=await X.from("search_quotas").update({clipboard_copies_used:t.clipboard_copies_used+v}).eq("user_id",e.id);if(x)throw x;n(y=>y?{...y,clipboard_copies_used:y.clipboard_copies_used+v}:null)},[e,t]),w=b.useCallback(async()=>{if(!e||!t||t.favorites_limit===null)return;const{error:v}=await X.from("search_quotas").update({favorites_used:t.favorites_used+1}).eq("user_id",e.id);if(v)throw v;n(x=>x?{...x,favorites_used:x.favorites_used+1}:null)},[e,t]);return{quotaData:t,isLoading:r,error:s,canExport:d,canCopyToClipboard:f,canAddToFavorites:h,isAtLimit:p,incrementExport:g,incrementClipboardCopy:m,incrementFavorite:w,reloadQuota:c}},tn="ef_all",Ok=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function g9(e){let t="all";const n=Array.isArray(e)?e.flat():[];for(const r of n)if(typeof r=="string"&&r.startsWith("source_index:")){const i=r.split(":")[1];(i==="public"||i==="private")&&(t=i)}return t}function sf(e){const t=Array.isArray(e==null?void 0:e.ruleContexts)?e.ruleContexts:[];return t.includes("origin:public")?"public":t.includes("origin:private")?"private":g9(e==null?void 0:e.facetFilters)}function Ak(e){if(!e)return e;const t=n=>typeof n=="string"&&n.startsWith("source_index:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):e}function v9(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},o=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},o.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function qa(e,t,n){const r={...e},i=new Set,s=[],a=u=>{for(const d of u||[]){const f=String((d==null?void 0:d.objectID)??"");i.has(f)||(i.add(f),s.push(d))}};a(e==null?void 0:e.hits),a(t==null?void 0:t.hits),r.hits=s;const c=(u=>typeof(u==null?void 0:u.nbHits)=="number"?u.nbHits:(Array.isArray(u==null?void 0:u.hits)?u.hits:[]).length)(e);return r.nbHits=c,r.facets=v9(e==null?void 0:e.facets,t==null?void 0:t.facets),r.facets_stats=(e==null?void 0:e.facets_stats)||(t==null?void 0:t.facets_stats)||null,r}function y9(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}function Ik(e,t){const n=e?`workspace_id:${e}`:"workspace_id:_none_",r=t?` AND (${t})`:"";return n+r}function x9(e){const[t,n]=b.useState(null);return b.useEffect(()=>{let r=!1;async function i(){var s,a,o,c,u,d;try{const f=e?`?workspaceId=${encodeURIComponent(e)}`:"",{data:{session:h}}=await X.auth.getSession(),p=(h==null?void 0:h.access_token)||"",g=await fetch(`/functions/v1/algolia-secure-key${f}`,{headers:{Authorization:`Bearer ${p}`}});if(g.ok){const m=await g.json();r||n({fullPublic:Yi(m.appId,((s=m.fullPublic)==null?void 0:s.searchApiKey)||((a=m.full)==null?void 0:a.searchApiKey)),fullPrivate:Yi(m.appId,((o=m.fullPrivate)==null?void 0:o.searchApiKey)||((c=m.full)==null?void 0:c.searchApiKey)),teaser:Yi(m.appId,((u=m.teaserPublic)==null?void 0:u.searchApiKey)||((d=m.teaser)==null?void 0:d.searchApiKey))});return}}catch{}}return i(),()=>{r=!0}},[e]),t}const jp=e=>({...e,search:t=>{const n=(t||[]).map(r=>{const i=Object.fromEntries(Object.entries(r.params||{}).filter(([s])=>Ok.includes(s)));return{...r,params:i}});return e.search(n)}}),Fk=b.createContext(null),b9=()=>{const e=b.useContext(Fk);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},ih=b.createContext(null),$k=()=>{const e=b.useContext(ih);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},Dk=()=>b.useContext(ih),w9=({children:e})=>{const[t,n]=b.useState("all");return l.jsx(ih.Provider,{value:{origin:t,setOrigin:n},children:e})},S9=({children:e})=>{const t=rh(),{currentWorkspace:n}=di();$o();const r=x9(n==null?void 0:n.id),[i,s]=b.useState("all"),a=b.useRef("all");b.useEffect(()=>{a.current=i},[i]);const o=b.useRef(n==null?void 0:n.id);b.useEffect(()=>{o.current=n==null?void 0:n.id},[n==null?void 0:n.id]);const c=r,u=b.useRef(null),d=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{c?(u.current=jp(c.fullPublic),d.current=jp(c.fullPrivate),f.current=jp(c.teaser)):(u.current=null,d.current=null,f.current=null)},[c]);const h=b.useRef(null);c&&!h.current&&(h.current={search:async g=>{var D,F,O;const m=u.current,w=d.current,v=f.current;if(!m||!w)return{results:[]};const x=o.current,y=[],S=[],j=[];for(const U of g||[]){const k={...U.params||{}},A=Ak(k.facetFilters);let T=sf(k);a.current!=="all"&&(T=a.current);const M=Ik(x);T==="public"?(y.push({...U,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]]}}),j.push({...U,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]]}})):T==="private"?S.push({...U,indexName:tn,params:{...k,facetFilters:[["scope:private"],...A||[]],filters:M}}):(y.push({...U,indexName:tn,params:{...k,facetFilters:A}}),j.push({...U,indexName:tn,params:{...k,facetFilters:[["scope:public"],...A||[]]}}),S.push({...U,indexName:tn,params:{...k,facetFilters:[["scope:private"],...A||[]],filters:M}}))}const[_,C,R]=await Promise.all([m.search(y),w.search(S),(v==null?void 0:v.search(j))??Promise.resolve({results:[]})]),I=[];for(let U=0,k=0,A=0,T=0;U<(g||[]).length;U++){const M=((D=(g||[])[U])==null?void 0:D.params)||{};let P=sf(M);if(a.current!=="all"&&(P=a.current),P==="public"){const $=_.results[k];k++;const E=(F=R.results)==null?void 0:F[T];T++,I.push(qa($,E))}else if(P==="private"){const $=C.results[A];A+=1,I.push($)}else{const $=_.results[k];k++;const E=(O=R.results)==null?void 0:O[T];T++;const L=qa($,E),z=C.results[A];A++,I.push(qa(L,z))}}return{results:I}}});const p=c?h.current:null;return l.jsx(Fk.Provider,{value:t,children:l.jsx(ih.Provider,{value:{origin:i,setOrigin:s},children:p?l.jsx(_k,{searchClient:p,indexName:tn,future:{preserveSharedStateOnUnmount:!0},children:e}):l.jsx("div",{})})})};const j9=e=>{const[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState(!1),{user:o}=rt(),{currentWorkspace:c}=di(),{origin:u}=$k(),d=(...g)=>{},f=b.useRef(null);b.useEffect(()=>{let g=!1;async function m(){var w,v,x,y;try{const S=c==null?void 0:c.id,j=S?`?workspaceId=${encodeURIComponent(S)}`:"",{data:{session:_}}=await X.auth.getSession(),C=(_==null?void 0:_.access_token)||"",R=await fetch(`/functions/v1/algolia-secure-key${j}`,{headers:{Authorization:`Bearer ${C}`}});if(R.ok){const I=await R.json();g||(f.current={public:Yi(I.appId,((w=I.fullPublic)==null?void 0:w.searchApiKey)||((v=I.full)==null?void 0:v.searchApiKey)),private:Yi(I.appId,((x=I.fullPrivate)==null?void 0:x.searchApiKey)||((y=I.full)==null?void 0:y.searchApiKey))});return}}catch{}}return m(),()=>{g=!0}},[c==null?void 0:c.id]);const h=async g=>{var x,y,S,j;if(!g.trim())return[];const m=c==null?void 0:c.id,w=(()=>{const _="(access_level:standard)",C=m?` OR (assigned_workspace_ids:${m})`:"";return _+C})(),v=m?`workspace_id:${m}`:"workspace_id:_none_";try{const _=[];(u==="all"||u==="public")&&_.push({indexName:"ef_all",query:g,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],filters:w}}),(u==="all"||u==="private")&&_.push({indexName:"ef_all",query:g,params:{hitsPerPage:5,attributesToRetrieve:["Nom_fr","Nom_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],filters:v}}),d("query",{origin:u,query:g,wsId:m,publicFilters:w,privateFilters:v,requests:_});const C=f.current;if(!C)return[];const R=u==="private"?{results:[]}:await C.public.search([_[0]].filter(Boolean)),I=u==="public"?{results:[]}:await C.private.search([_[u==="all"?1:0]].filter(Boolean)),D=u==="private"?[]:((y=(x=R==null?void 0:R.results)==null?void 0:x[0])==null?void 0:y.hits)||[],F=u==="public"?[]:((j=(S=I==null?void 0:I.results)==null?void 0:S[0])==null?void 0:j.hits)||[],O=new Map,U=A=>A.Nom_fr||A.Nom_en||"";for(const A of D){const T=U(A);T&&O.set(T,!1)}for(const A of F){const T=U(A);T&&O.set(T,!0)}const k=Array.from(O.entries()).slice(0,5).map(([A,T])=>({label:A,isPrivate:T}));return d("results",{hitsPublic:D.length,hitsPrivate:F.length,items:k}),k}catch(_){return console.error("Error fetching suggestions from Algolia:",_),[]}},p=async()=>{if(!o)return[];try{const{data:g,error:m}=await X.from("search_history").select("search_query").eq("user_id",o.id).order("created_at",{ascending:!1}).limit(10);if(m)throw m;return[...new Set((g==null?void 0:g.map(v=>v.search_query))||[])].slice(0,3)}catch(g){return console.error("Error fetching recent searches:",g),[]}};return b.useEffect(()=>{if(!e.trim()){n([]);return}a(!0);const g=setTimeout(async()=>{const m=await h(e);n(m),a(!1)},300);return()=>clearTimeout(g)},[e,c==null?void 0:c.id,u]),b.useEffect(()=>{o&&(async()=>{const m=await p();i(m)})()},[o]),{suggestions:t,recentSearches:r,loading:s}},_9=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),n=b.useCallback(async(i,s,a)=>{if(e)try{const{error:o}=await X.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:i,search_filters:s,results_count:a});o&&console.error("Error recording search history:",o)}catch(o){console.error("Error recording search history:",o)}},[e,t]),r=b.useCallback(async()=>{if(!e)return[];try{const{data:i,error:s}=await X.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(s)throw s;return[...new Set((i==null?void 0:i.map(o=>o.search_query))||[])].slice(0,3)}catch(i){return console.error("Error fetching recent searches:",i),[]}},[e]);return{recordSearch:n,getRecentSearches:r}},P9=Kc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,...n}){return l.jsx("div",{className:ie(P9({variant:t}),e),...n})}const E9=()=>{const{query:e,refine:t}=Hy(),{nbHits:n}=th();eh();const{suggestions:r,recentSearches:i}=j9(e),{origin:s}=$k(),{recordSearch:a}=_9(),[o,c]=b.useState(!1),u=b.useRef(null);H.useEffect(()=>{console.log("[SearchBox] render",{origin:s,query:e,suggestions:r.length,recent:i.length})},[s,e,r,i]),b.useEffect(()=>{const p=g=>{u.current&&!u.current.contains(g.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const d=()=>{t(""),c(!1)},f=p=>{t(p),c(!1),a(p,{},0)},h=()=>{e.trim()&&a(e,{},n||0),c(!1)};return l.jsx("div",{className:"space-y-4",ref:u,children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Hd,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),l.jsx(xt,{type:"text",value:e,onChange:p=>{t(p.target.value),c(p.target.value.length>0)},onKeyDown:p=>{p.key==="Enter"&&h()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&l.jsx("button",{onClick:d,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:l.jsx(ry,{className:"h-6 w-6"})})]}),l.jsx(Q,{variant:"hero",onClick:h,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),o&&(r.length>0||i.length>0)&&l.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[r.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat",children:"Suggestions"}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:r.map((p,g)=>l.jsxs("button",{onClick:()=>f(p.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",children:p.label}),p.isPrivate&&l.jsx(Qe,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]},`suggestion-${g}`))})]}),i.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(Bm,{className:"h-3 w-3"}),"Recherches récentes"]}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:i.map((p,g)=>l.jsxs("button",{onClick:()=>f(p),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(Bm,{className:"h-3 w-3 text-indigo-950/60"}),p]},`recent-${g}`))})]})]})]})})};function lS(e,[t,n]){return Math.min(n,Math.max(t,e))}var _p=0;function Lk(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cS()),document.body.insertAdjacentElement("beforeend",e[1]??cS()),_p++,()=>{_p===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_p--}},[])}function cS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pp="focusScope.autoFocusOnMount",Ep="focusScope.autoFocusOnUnmount",uS={bubbles:!1,cancelable:!0},C9="FocusScope",Wy=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=b.useState(null),u=dn(i),d=dn(s),f=b.useRef(null),h=ke(t,m=>c(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let m=function(y){if(p.paused||!o)return;const S=y.target;o.contains(S)?f.current=S:Ei(f.current,{select:!0})},w=function(y){if(p.paused||!o)return;const S=y.relatedTarget;S!==null&&(o.contains(S)||Ei(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const j of y)j.removedNodes.length>0&&Ei(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){fS.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(Pp,uS);o.addEventListener(Pp,u),o.dispatchEvent(v),v.defaultPrevented||(k9(A9(Mk(o)),{select:!0}),document.activeElement===m&&Ei(o))}return()=>{o.removeEventListener(Pp,u),setTimeout(()=>{const v=new CustomEvent(Ep,uS);o.addEventListener(Ep,d),o.dispatchEvent(v),v.defaultPrevented||Ei(m??document.body,{select:!0}),o.removeEventListener(Ep,d),fS.remove(p)},0)}}},[o,u,d,p]);const g=b.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const x=m.currentTarget,[y,S]=R9(x);y&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&Ei(y,{select:!0})):m.shiftKey&&v===y&&(m.preventDefault(),n&&Ei(S,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(le.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Wy.displayName=C9;function k9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ei(r,{select:t}),document.activeElement!==n)return}function R9(e){const t=Mk(e),n=dS(t,e),r=dS(t.reverse(),e);return[n,r]}function Mk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dS(e,t){for(const n of e)if(!N9(n,{upTo:t}))return n}function N9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function T9(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&T9(e)&&t&&e.select()}}var fS=O9();function O9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=hS(e,t),e.unshift(t)},remove(t){var n;e=hS(e,t),(n=e[0])==null||n.resume()}}}function hS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function A9(e){return e.filter(t=>t.tagName!=="A")}function Vy(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var I9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},va=new WeakMap,Bu=new WeakMap,Hu={},Cp=0,Uk=function(e){return e&&(e.host||Uk(e.parentNode))},F9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Uk(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$9=function(e,t,n,r){var i=F9(t,Array.isArray(e)?e:[e]);Hu[n]||(Hu[n]=new WeakMap);var s=Hu[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(va.get(h)||0)+1,w=(s.get(h)||0)+1;va.set(h,m),s.set(h,w),a.push(h),m===1&&g&&Bu.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),Cp++,function(){a.forEach(function(f){var h=va.get(f)-1,p=s.get(f)-1;va.set(f,h),s.set(f,p),h||(Bu.has(f)||f.removeAttribute(r),Bu.delete(f)),p||f.removeAttribute(n)}),Cp--,Cp||(va=new WeakMap,va=new WeakMap,Bu=new WeakMap,Hu={})}},zk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=I9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),$9(r,i,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_r.apply(this,arguments)};function Bk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function D9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var pd="right-scroll-bar-position",md="width-before-scroll-bar",L9="with-scroll-bars-hidden",M9="--removed-body-scroll-bar-size";function kp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function U9(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var z9=typeof window<"u"?b.useLayoutEffect:b.useEffect,pS=new WeakMap;function B9(e,t){var n=U9(null,function(r){return e.forEach(function(i){return kp(i,r)})});return z9(function(){var r=pS.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||kp(o,null)}),s.forEach(function(o){i.has(o)||kp(o,a)})}pS.set(n,e)},[e]),n}function H9(e){return e}function W9(e,t){t===void 0&&(t=H9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function V9(e){e===void 0&&(e={});var t=W9(null);return t.options=_r({async:!0,ssr:!1},e),t}var Hk=function(e){var t=e.sideCar,n=Bk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,_r({},n))};Hk.isSideCarExport=!0;function q9(e,t){return e.useMedium(t),Hk}var Wk=V9(),Rp=function(){},sh=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Rp,onWheelCapture:Rp,onTouchMoveCapture:Rp}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,y=Bk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=B9([n,t]),_=_r(_r({},y),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:Wk,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),a?b.cloneElement(b.Children.only(o),_r(_r({},_),{ref:j})):b.createElement(v,_r({},_,{className:c,ref:j}),o))});sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sh.classNames={fullWidth:md,zeroRight:pd};var K9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=K9();return t&&e.setAttribute("nonce",t),e}function G9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Y9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Q9())&&(G9(t,n),J9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},X9=function(){var e=Y9();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Vk=function(){var e=X9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Z9={left:0,top:0,right:0,gap:0},Np=function(e){return parseInt(e||"",10)||0},eW=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Np(n),Np(r),Np(i)]},tW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Z9;var t=eW(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nW=Vk(),Ka="data-scroll-locked",rW=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(L9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Ka,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pd,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(md,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(md," .").concat(md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ka,`] {
    `).concat(M9,": ").concat(o,`px;
  }
`)},mS=function(){var e=parseInt(document.body.getAttribute(Ka)||"0",10);return isFinite(e)?e:0},iW=function(){b.useEffect(function(){return document.body.setAttribute(Ka,(mS()+1).toString()),function(){var e=mS()-1;e<=0?document.body.removeAttribute(Ka):document.body.setAttribute(Ka,e.toString())}},[])},sW=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;iW();var s=b.useMemo(function(){return tW(i)},[i]);return b.createElement(nW,{styles:rW(s,!t,i,n?"":"!important")})},Fg=!1;if(typeof window<"u")try{var Wu=Object.defineProperty({},"passive",{get:function(){return Fg=!0,!0}});window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Fg=!1}var ya=Fg?{passive:!1}:!1,aW=function(e){return e.tagName==="TEXTAREA"},qk=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!aW(e)&&n[t]==="visible")},oW=function(e){return qk(e,"overflowY")},lW=function(e){return qk(e,"overflowX")},gS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Kk(e,r);if(i){var s=Qk(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cW=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uW=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Kk=function(e,t){return e==="v"?oW(t):lW(t)},Qk=function(e,t){return e==="v"?cW(t):uW(t)},dW=function(e,t){return e==="h"&&t==="rtl"?-1:1},fW=function(e,t,n,r,i){var s=dW(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=Qk(e,o),g=p[0],m=p[1],w=p[2],v=m-w-s*g;(g||v)&&Kk(e,o)&&(f+=v,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vS=function(e){return[e.deltaX,e.deltaY]},yS=function(e){return e&&"current"in e?e.current:e},hW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mW=0,xa=[];function gW(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(mW++)[0],s=b.useState(Vk)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=D9([e.lockRef.current],(e.shards||[]).map(yS),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=Vu(m),x=n.current,y="deltaX"in m?m.deltaX:x[0]-v[0],S="deltaY"in m?m.deltaY:x[1]-v[1],j,_=m.target,C=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&C==="h"&&_.type==="range")return!1;var R=gS(C,_);if(!R)return!0;if(R?j=C:(j=C==="v"?"h":"v",R=gS(C,_)),!R)return!1;if(!r.current&&"changedTouches"in m&&(y||S)&&(r.current=j),!j)return!0;var I=r.current||j;return fW(I,w,m,I==="h"?y:S,!0)},[]),c=b.useCallback(function(m){var w=m;if(!(!xa.length||xa[xa.length-1]!==s)){var v="deltaY"in w?vS(w):Vu(w),x=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&hW(j.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(a.current.shards||[]).map(yS).filter(Boolean).filter(function(j){return j.contains(w.target)}),S=y.length>0?o(w,y[0]):!a.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=b.useCallback(function(m,w,v,x){var y={name:m,delta:w,target:v,should:x,shadowParent:vW(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=b.useCallback(function(m){n.current=Vu(m),r.current=void 0},[]),f=b.useCallback(function(m){u(m.type,vS(m),m.target,o(m,e.lockRef.current))},[]),h=b.useCallback(function(m){u(m.type,Vu(m),m.target,o(m,e.lockRef.current))},[]);b.useEffect(function(){return xa.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ya),document.addEventListener("touchmove",c,ya),document.addEventListener("touchstart",d,ya),function(){xa=xa.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,ya),document.removeEventListener("touchmove",c,ya),document.removeEventListener("touchstart",d,ya)}},[]);var p=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:pW(i)}):null,p?b.createElement(sW,{gapMode:e.gapMode}):null)}function vW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yW=q9(Wk,gW);var qy=b.forwardRef(function(e,t){return b.createElement(sh,_r({},e,{ref:t,sideCar:yW}))});qy.classNames=sh.classNames;var xW=[" ","Enter","ArrowUp","ArrowDown"],bW=[" ","Enter"],tu="Select",[ah,oh,wW]=Qv(tu),[Do,LJ]=ci(tu,[wW,If]),lh=If(),[SW,fs]=Do(tu),[jW,_W]=Do(tu),Gk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=lh(t),[w,v]=b.useState(null),[x,y]=b.useState(null),[S,j]=b.useState(!1),_=ky(u),[C=!1,R]=Nr({prop:r,defaultProp:i,onChange:s}),[I,D]=Nr({prop:a,defaultProp:o,onChange:c}),F=b.useRef(null),O=w?g||!!w.closest("form"):!0,[U,k]=b.useState(new Set),A=Array.from(U).map(T=>T.props.value).join(";");return l.jsx(zP,{...m,children:l.jsxs(SW,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Rr(),value:I,onValueChange:D,open:C,onOpenChange:R,dir:_,triggerPointerDownPosRef:F,disabled:h,children:[l.jsx(ah.Provider,{scope:t,children:l.jsx(jW,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(T=>{k(M=>new Set(M).add(T))},[]),onNativeOptionRemove:b.useCallback(T=>{k(M=>{const P=new Set(M);return P.delete(T),P})},[]),children:n})}),O?l.jsxs(bR,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:T=>D(T.target.value),disabled:h,form:g,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(U)]},A):null]})})};Gk.displayName=tu;var Jk="SelectTrigger",Yk=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=lh(n),a=fs(Jk,n),o=a.disabled||r,c=ke(t,a.onTriggerChange),u=oh(n),d=b.useRef("touch"),[f,h,p]=wR(m=>{const w=u().filter(y=>!y.disabled),v=w.find(y=>y.value===a.value),x=SR(w,m,v);x!==void 0&&a.onValueChange(x.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(BP,{asChild:!0,...s,children:l.jsx(le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":xR(a.value)?"":void 0,...i,ref:c,onClick:re(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:re(i.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:re(i.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&xW.includes(m.key)&&(g(),m.preventDefault())})})})});Yk.displayName=Jk;var Xk="SelectValue",Zk=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=fs(Xk,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=ke(t,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),l.jsx(le.span,{...o,ref:f,style:{pointerEvents:"none"},children:xR(c.value)?l.jsx(l.Fragment,{children:a}):s})});Zk.displayName=Xk;var PW="SelectIcon",eR=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(le.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});eR.displayName=PW;var EW="SelectPortal",tR=e=>l.jsx(Cf,{asChild:!0,...e});tR.displayName=EW;var Gs="SelectContent",nR=b.forwardRef((e,t)=>{const n=fs(Gs,e.__scopeSelect),[r,i]=b.useState();if(kt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ea.createPortal(l.jsx(rR,{scope:e.__scopeSelect,children:l.jsx(ah.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(iR,{...e,ref:t})});nR.displayName=Gs;var qn=10,[rR,hs]=Do(Gs),CW="SelectContentImpl",iR=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=e,x=fs(Gs,n),[y,S]=b.useState(null),[j,_]=b.useState(null),C=ke(t,Y=>S(Y)),[R,I]=b.useState(null),[D,F]=b.useState(null),O=oh(n),[U,k]=b.useState(!1),A=b.useRef(!1);b.useEffect(()=>{if(y)return zk(y)},[y]),Lk();const T=b.useCallback(Y=>{const[ee,...oe]=O().map(ye=>ye.ref.current),[se]=oe.slice(-1),de=document.activeElement;for(const ye of Y)if(ye===de||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ee&&j&&(j.scrollTop=0),ye===se&&j&&(j.scrollTop=j.scrollHeight),ye==null||ye.focus(),document.activeElement!==de))return},[O,j]),M=b.useCallback(()=>T([R,y]),[T,R,y]);b.useEffect(()=>{U&&M()},[U,M]);const{onOpenChange:P,triggerPointerDownPosRef:$}=x;b.useEffect(()=>{if(y){let Y={x:0,y:0};const ee=se=>{var de,ye;Y={x:Math.abs(Math.round(se.pageX)-(((de=$.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(se.pageY)-(((ye=$.current)==null?void 0:ye.y)??0))}},oe=se=>{Y.x<=10&&Y.y<=10?se.preventDefault():y.contains(se.target)||P(!1),document.removeEventListener("pointermove",ee),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,P,$]),b.useEffect(()=>{const Y=()=>P(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[P]);const[E,L]=wR(Y=>{const ee=O().filter(de=>!de.disabled),oe=ee.find(de=>de.ref.current===document.activeElement),se=SR(ee,Y,oe);se&&setTimeout(()=>se.ref.current.focus())}),z=b.useCallback((Y,ee,oe)=>{const se=!A.current&&!oe;(x.value!==void 0&&x.value===ee||se)&&(I(Y),se&&(A.current=!0))},[x.value]),N=b.useCallback(()=>y==null?void 0:y.focus(),[y]),te=b.useCallback((Y,ee,oe)=>{const se=!A.current&&!oe;(x.value!==void 0&&x.value===ee||se)&&F(Y)},[x.value]),ne=r==="popper"?$g:sR,J=ne===$g?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return l.jsx(rR,{scope:n,content:y,viewport:j,onViewportChange:_,itemRefCallback:z,selectedItem:R,onItemLeave:N,itemTextRefCallback:te,focusSelectedItem:M,selectedItemText:D,position:r,isPositioned:U,searchRef:E,children:l.jsx(qy,{as:Vs,allowPinchZoom:!0,children:l.jsx(Wy,{asChild:!0,trapped:x.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:re(i,Y=>{var ee;(ee=x.trigger)==null||ee.focus({preventScroll:!0}),Y.preventDefault()}),children:l.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(ne,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Y=>Y.preventDefault(),...v,...J,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:re(v.onKeyDown,Y=>{const ee=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ee&&Y.key.length===1&&L(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let se=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const de=Y.target,ye=se.indexOf(de);se=se.slice(ye+1)}setTimeout(()=>T(se)),Y.preventDefault()}})})})})})})});iR.displayName=CW;var kW="SelectItemAlignedPosition",sR=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=fs(Gs,n),a=hs(Gs,n),[o,c]=b.useState(null),[u,d]=b.useState(null),f=ke(t,C=>d(C)),h=oh(n),p=b.useRef(!1),g=b.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=a,y=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&w&&v){const C=s.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),D=v.getBoundingClientRect();if(s.dir!=="rtl"){const de=D.left-R.left,ye=I.left-de,ft=C.left-ye,wt=C.width+ft,Nt=Math.max(wt,R.width),St=window.innerWidth-qn,lr=lS(ye,[qn,Math.max(qn,St-Nt)]);o.style.minWidth=wt+"px",o.style.left=lr+"px"}else{const de=R.right-D.right,ye=window.innerWidth-I.right-de,ft=window.innerWidth-C.right-ye,wt=C.width+ft,Nt=Math.max(wt,R.width),St=window.innerWidth-qn,lr=lS(ye,[qn,Math.max(qn,St-Nt)]);o.style.minWidth=wt+"px",o.style.right=lr+"px"}const F=h(),O=window.innerHeight-qn*2,U=m.scrollHeight,k=window.getComputedStyle(u),A=parseInt(k.borderTopWidth,10),T=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),P=parseInt(k.paddingBottom,10),$=A+T+U+P+M,E=Math.min(w.offsetHeight*5,$),L=window.getComputedStyle(m),z=parseInt(L.paddingTop,10),N=parseInt(L.paddingBottom,10),te=C.top+C.height/2-qn,ne=O-te,J=w.offsetHeight/2,Y=w.offsetTop+J,ee=A+T+Y,oe=$-ee;if(ee<=te){const de=F.length>0&&w===F[F.length-1].ref.current;o.style.bottom="0px";const ye=u.clientHeight-m.offsetTop-m.offsetHeight,ft=Math.max(ne,J+(de?N:0)+ye+M),wt=ee+ft;o.style.height=wt+"px"}else{const de=F.length>0&&w===F[0].ref.current;o.style.top="0px";const ft=Math.max(te,A+m.offsetTop+(de?z:0)+J)+oe;o.style.height=ft+"px",m.scrollTop=ee-te+m.offsetTop}o.style.margin=`${qn}px 0`,o.style.minHeight=E+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,w,v,s.dir,r]);kt(()=>y(),[y]);const[S,j]=b.useState();kt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=b.useCallback(C=>{C&&g.current===!0&&(y(),x==null||x(),g.current=!1)},[y,x]);return l.jsx(NW,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sR.displayName=kW;var RW="SelectPopperPosition",$g=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=qn,...s}=e,a=lh(n);return l.jsx(HP,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$g.displayName=RW;var[NW,Ky]=Do(Gs,{}),Dg="SelectViewport",aR=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=hs(Dg,n),a=Ky(Dg,n),o=ke(t,s.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(ah.Slot,{scope:n,children:l.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:re(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-qn*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<g){const x=v+p,y=Math.min(g,x),S=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});aR.displayName=Dg;var oR="SelectGroup",[TW,OW]=Do(oR),AW=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Rr();return l.jsx(TW,{scope:n,id:i,children:l.jsx(le.div,{role:"group","aria-labelledby":i,...r,ref:t})})});AW.displayName=oR;var lR="SelectLabel",cR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=OW(lR,n);return l.jsx(le.div,{id:i.id,...r,ref:t})});cR.displayName=lR;var af="SelectItem",[IW,uR]=Do(af),dR=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=fs(af,n),c=hs(af,n),u=o.value===r,[d,f]=b.useState(s??""),[h,p]=b.useState(!1),g=ke(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,r,i)}),m=Rr(),w=b.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(IW,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:b.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(ah.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(le.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:re(a.onFocus,()=>p(!0)),onBlur:re(a.onBlur,()=>p(!1)),onClick:re(a.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:re(a.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:re(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:re(a.onPointerMove,x=>{var y;w.current=x.pointerType,i?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(a.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:re(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(bW.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});dR.displayName=af;var gl="SelectItemText",fR=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=fs(gl,n),o=hs(gl,n),c=uR(gl,n),u=_W(gl,n),[d,f]=b.useState(null),h=ke(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return kt(()=>(m(g),()=>w(g)),[m,w,g]),l.jsxs(l.Fragment,{children:[l.jsx(le.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ea.createPortal(s.children,a.valueNode):null]})});fR.displayName=gl;var hR="SelectItemIndicator",pR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return uR(hR,n).isSelected?l.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});pR.displayName=hR;var Lg="SelectScrollUpButton",mR=b.forwardRef((e,t)=>{const n=hs(Lg,e.__scopeSelect),r=Ky(Lg,e.__scopeSelect),[i,s]=b.useState(!1),a=ke(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(vR,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});mR.displayName=Lg;var Mg="SelectScrollDownButton",gR=b.forwardRef((e,t)=>{const n=hs(Mg,e.__scopeSelect),r=Ky(Mg,e.__scopeSelect),[i,s]=b.useState(!1),a=ke(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(vR,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});gR.displayName=Mg;var vR=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=hs("SelectScrollButton",n),a=b.useRef(null),o=oh(n),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(le.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:re(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:re(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:re(i.onPointerLeave,()=>{c()})})}),FW="SelectSeparator",yR=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});yR.displayName=FW;var Ug="SelectArrow",$W=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=lh(n),s=fs(Ug,n),a=hs(Ug,n);return s.open&&a.position==="popper"?l.jsx(WP,{...i,...r,ref:t}):null});$W.displayName=Ug;function xR(e){return e===""||e===void 0}var bR=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=b.useRef(null),s=ke(t,i),a=Vy(n);return b.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),l.jsx(qc,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});bR.displayName="BubbleSelect";function wR(e){const t=dn(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function SR(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=DW(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function DW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var LW=Gk,jR=Yk,MW=Zk,UW=eR,zW=tR,_R=nR,BW=aR,PR=cR,ER=dR,HW=fR,WW=pR,CR=mR,kR=gR,RR=yR;const nr=LW,rr=MW,Ln=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(jR,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(UW,{asChild:!0,children:l.jsx(Qc,{className:"h-4 w-4 opacity-50"})})]}));Ln.displayName=jR.displayName;const NR=b.forwardRef(({className:e,...t},n)=>l.jsx(CR,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ey,{className:"h-4 w-4"})}));NR.displayName=CR.displayName;const TR=b.forwardRef(({className:e,...t},n)=>l.jsx(kR,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Qc,{className:"h-4 w-4"})}));TR.displayName=kR.displayName;const Mn=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(zW,{children:l.jsxs(_R,{ref:i,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(NR,{}),l.jsx(BW,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(TR,{})]})}));Mn.displayName=_R.displayName;const VW=b.forwardRef(({className:e,...t},n)=>l.jsx(PR,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));VW.displayName=PR.displayName;const Je=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(ER,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(WW,{children:l.jsx(Zv,{className:"h-4 w-4"})})}),l.jsx(HW,{children:t})]}));Je.displayName=ER.displayName;const qW=b.forwardRef(({className:e,...t},n)=>l.jsx(RR,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));qW.displayName=RR.displayName;var Qy="Checkbox",[KW,MJ]=ci(Qy),[QW,GW]=KW(Qy),OR=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=b.useState(null),g=ke(t,S=>p(S)),m=b.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,x]=Nr({prop:i,defaultProp:s,onChange:u}),y=b.useRef(v);return b.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>x(y.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,x]),l.jsxs(QW,{scope:n,state:v,disabled:o,children:[l.jsx(le.button,{type:"button",role:"checkbox","aria-checked":Xi(v)?"mixed":v,"aria-required":a,"data-state":FR(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onKeyDown:re(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:re(e.onClick,S=>{x(j=>Xi(j)?!0:!j),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&l.jsx(JW,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Xi(s)?!1:s})]})});OR.displayName=Qy;var AR="CheckboxIndicator",IR=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=GW(AR,n);return l.jsx(ui,{present:r||Xi(s.state)||s.state===!0,children:l.jsx(le.span,{"data-state":FR(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});IR.displayName=AR;var JW=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=b.useRef(null),o=Vy(n),c=dy(t);b.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Xi(n),p.call(d,Xi(n)?!1:n),d.dispatchEvent(g)}},[o,n,r]);const u=b.useRef(Xi(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xi(e){return e==="indeterminate"}function FR(e){return Xi(e)?"indeterminate":e?"checked":"unchecked"}var $R=OR,YW=IR;const oi=b.forwardRef(({className:e,...t},n)=>l.jsx($R,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(YW,{className:ie("flex items-center justify-center text-current"),children:l.jsx(Zv,{className:"h-4 w-4"})})}));oi.displayName=$R.displayName;const yr=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>(di(),e?l.jsxs("div",{className:ie("relative",n),children:[l.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:l.jsxs("div",{className:"text-center space-y-2",children:[i&&l.jsxs(Qe,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[l.jsx(Zl,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&l.jsxs(Q,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[l.jsx(uI,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):l.jsx(l.Fragment,{children:t})),DR=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=rh(),{canExport:s}=ia(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unité donnée d'activité"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Périmètre_fr||u.Périmètre_en||u.Périmètre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),o=b.useCallback(async(u,d="emission_factors")=>{if(!s)return qt.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return qt.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return qt.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return qt.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const g=[["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],...f.map(v=>{var x,y;return[v.nom||"","",v.description||"","",((x=v.fe)==null?void 0:x.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((y=v.date)==null?void 0:y.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");return w.href=URL.createObjectURL(m),w.download=`${d}.csv`,w.click(),URL.revokeObjectURL(w.href),qt.success(`${f.length} facteur(s) d'émission exporté(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),qt.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=b.useCallback(async u=>{if(u.length===0)return qt.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return qt.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return qt.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],h=d.map(m=>{var w,v;return[m.nom||"","",m.description||"","",((w=m.fe)==null?void 0:w.toString())||"",m.uniteActivite||"","",m.source||"",m.secteur||"","",m.sousSecteur||"","",m.localisation||"","",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"","",m.contributeur||"",m.commentaires||"",""]}),g=[f,...h].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),qt.success(`${d.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),qt.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:o,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function XW(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ZW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,e7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t7={};function xS(e,t){return(t7.jsx?e7:ZW).test(e)}const n7=/[ \t\n\f\r]/g;function r7(e){return typeof e=="object"?e.type==="text"?bS(e.value):!1:bS(e)}function bS(e){return e.replace(n7,"")===""}class nu{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}nu.prototype.normal={};nu.prototype.property={};nu.prototype.space=void 0;function LR(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new nu(n,r,t)}function zg(e){return e.toLowerCase()}class fn{constructor(t,n){this.attribute=n,this.property=t}}fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let i7=0;const ge=sa(),ct=sa(),Bg=sa(),q=sa(),Me=sa(),Qa=sa(),pn=sa();function sa(){return 2**++i7}const Hg=Object.freeze(Object.defineProperty({__proto__:null,boolean:ge,booleanish:ct,commaOrSpaceSeparated:pn,commaSeparated:Qa,number:q,overloadedBoolean:Bg,spaceSeparated:Me},Symbol.toStringTag,{value:"Module"})),Tp=Object.keys(Hg);class Gy extends fn{constructor(t,n,r,i){let s=-1;if(super(t,n),wS(this,"space",i),typeof r=="number")for(;++s<Tp.length;){const a=Tp[s];wS(this,Tp[s],(r&Hg[a])===Hg[a])}}}Gy.prototype.defined=!0;function wS(e,t,n){n&&(e[t]=n)}function Lo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Gy(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[zg(r)]=r,n[zg(s.attribute)]=r}return new nu(t,n,e.space)}const MR=Lo({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Me,ariaCurrent:null,ariaDescribedBy:Me,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Me,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Me,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Me,ariaLevel:q,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Me,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Me,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:ct,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function UR(e,t){return t in e?e[t]:t}function zR(e,t){return UR(e,t.toLowerCase())}const s7=Lo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qa,acceptCharset:Me,accessKey:Me,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:Me,autoFocus:ge,autoPlay:ge,blocking:Me,capture:null,charSet:null,checked:ge,cite:null,className:Me,cols:q,colSpan:null,content:null,contentEditable:ct,controls:ge,controlsList:Me,coords:q|Qa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:Bg,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:Me,height:q,hidden:Bg,high:q,href:null,hrefLang:null,htmlFor:Me,httpEquiv:Me,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:Me,itemRef:Me,itemScope:ge,itemType:Me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:q,pattern:null,ping:Me,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:Me,required:ge,reversed:ge,rows:q,rowSpan:q,sandbox:Me,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:ct,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Me,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:q,security:null,unselectable:null},space:"html",transform:zR}),a7=Lo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pn,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qa,g2:Qa,glyphName:Qa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pn,rev:pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pn,requiredFeatures:pn,requiredFonts:pn,requiredFormats:pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pn,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:UR}),BR=Lo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),HR=Lo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:zR}),WR=Lo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),o7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},l7=/[A-Z]/g,SS=/-[a-z]/g,c7=/^data[-\w.:]+$/i;function u7(e,t){const n=zg(t);let r=t,i=fn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&c7.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(SS,f7);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!SS.test(s)){let a=s.replace(l7,d7);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Gy}return new i(r,t)}function d7(e){return"-"+e.toLowerCase()}function f7(e){return e.charAt(1).toUpperCase()}const h7=LR([MR,s7,BR,HR,WR],"html"),Jy=LR([MR,a7,BR,HR,WR],"svg");function p7(e){return e.join(" ").trim()}var Yy={},jS=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,m7=/\n/g,g7=/^\s*/,v7=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,y7=/^:\s*/,x7=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,b7=/^[;\s]*/,w7=/^\s+|\s+$/g,S7=`
`,_S="/",PS="*",ks="",j7="comment",_7="declaration",P7=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(m7);m&&(n+=m.length);var w=g.lastIndexOf(S7);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){c(g7)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=s();if(!(_S!=e.charAt(0)||PS!=e.charAt(1))){for(var m=2;ks!=e.charAt(m)&&(PS!=e.charAt(m)||_S!=e.charAt(m+1));)++m;if(m+=2,ks===e.charAt(m-1))return o("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,g({type:j7,comment:w})}}function h(){var g=s(),m=c(v7);if(m){if(f(),!c(y7))return o("property missing ':'");var w=c(x7),v=g({type:_7,property:ES(m[0].replace(jS,ks)),value:w?ES(w[0].replace(jS,ks)):ks});return c(b7),v}}function p(){var g=[];d(g);for(var m;m=h();)m!==!1&&(g.push(m),d(g));return g}return u(),p()};function ES(e){return e?e.replace(w7,ks):ks}var E7=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.default=k7;var C7=E7(P7);function k7(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,C7.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.camelCase=void 0;var R7=/^--[a-zA-Z0-9_-]+$/,N7=/-([a-z])/g,T7=/^[^-]+$/,O7=/^-(webkit|moz|ms|o|khtml)-/,A7=/^-(ms)-/,I7=function(e){return!e||T7.test(e)||R7.test(e)},F7=function(e,t){return t.toUpperCase()},CS=function(e,t){return"".concat(t,"-")},$7=function(e,t){return t===void 0&&(t={}),I7(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(A7,CS):e=e.replace(O7,CS),e.replace(N7,F7))};ch.camelCase=$7;var D7=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},L7=D7(Yy),M7=ch;function Wg(e,t){var n={};return!e||typeof e!="string"||(0,L7.default)(e,function(r,i){r&&i&&(n[(0,M7.camelCase)(r,t)]=i)}),n}Wg.default=Wg;var U7=Wg;const z7=Ys(U7),VR=qR("end"),Xy=qR("start");function qR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function B7(e){const t=Xy(e),n=VR(e);if(t&&n)return{start:t,end:n}}function Ol(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kS(e.position):"start"in e||"end"in e?kS(e):"line"in e||"column"in e?Vg(e):""}function Vg(e){return RS(e&&e.line)+":"+RS(e&&e.column)}function kS(e){return Vg(e&&e.start)+"-"+Vg(e&&e.end)}function RS(e){return e&&typeof e=="number"?e:1}class Ht extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Ol(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const Zy={}.hasOwnProperty,H7=new Map,W7=/[A-Z]/g,V7=new Set(["table","tbody","thead","tfoot","tr"]),q7=new Set(["td","th"]),KR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function K7(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tV(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=eV(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jy:h7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=QR(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function QR(e,t,n){if(t.type==="element")return Q7(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return G7(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Y7(e,t,n);if(t.type==="mdxjsEsm")return J7(e,t);if(t.type==="root")return X7(e,t,n);if(t.type==="text")return Z7(e,t)}function Q7(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Jy,e.schema=i),e.ancestors.push(t);const s=JR(e,t.tagName,!1),a=nV(e,t);let o=tx(e,t);return V7.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!r7(c):!0})),GR(e,a,s,t),ex(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function G7(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$c(e,t.position)}function J7(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$c(e,t.position)}function Y7(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Jy,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:JR(e,t.name,!0),a=rV(e,t),o=tx(e,t);return GR(e,a,s,t),ex(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function X7(e,t,n){const r={};return ex(r,tx(e,t)),e.create(t,e.Fragment,r,n)}function Z7(e,t){return t.value}function GR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ex(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function eV(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function tV(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=Xy(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function nV(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Zy.call(t.properties,i)){const s=iV(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&q7.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rV(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else $c(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else $c(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function tx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:H7;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=QR(e,s,a);o!==void 0&&n.push(o)}return n}function iV(e,t,n){const r=u7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XW(n):p7(n)),r.property==="style"){let i=typeof n=="object"?n:sV(e,String(n));return e.stylePropertyNameCase==="css"&&(i=aV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?o7[r.property]||r.property:r.attribute,n]}}function sV(e,t){try{return z7(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ht("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=KR+"#cannot-parse-style-attribute",i}}function JR(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=xS(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=xS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Zy.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);$c(e)}function $c(e,t){const n=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=KR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function aV(e){const t={};let n;for(n in e)Zy.call(e,n)&&(t[oV(n)]=e[n]);return t}function oV(e){let t=e.replace(W7,lV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lV(e){return"-"+e.toLowerCase()}const Op={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cV={};function uV(e,t){const n=cV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YR(e,r,i)}function YR(e,t,n){if(dV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return NS(e.children,t,n)}return Array.isArray(e)?NS(e,t,n):""}function NS(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=YR(e[i],t,n);return r.join("")}function dV(e){return!!(e&&typeof e=="object")}const TS=document.createElement("i");function nx(e){const t="&"+e+";";TS.innerHTML=t;const n=TS.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ar(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function In(e,t){return e.length>0?(Ar(e,e.length,0,t),e):t}const OS={}.hasOwnProperty;function fV(e){const t={};let n=-1;for(;++n<e.length;)hV(t,e[n]);return t}function hV(e,t){let n;for(n in t){const i=(OS.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){OS.call(i,a)||(i[a]=[]);const o=s[a];pV(i[a],Array.isArray(o)?o:o?[o]:[])}}}function pV(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ar(e,0,0,r)}function XR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ga(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pr=ps(/[A-Za-z]/),Sn=ps(/[\dA-Za-z]/),mV=ps(/[#-'*+\--9=?A-Z^-~]/);function qg(e){return e!==null&&(e<32||e===127)}const Kg=ps(/\d/),gV=ps(/[\dA-Fa-f]/),vV=ps(/[!-/:-@[-`{-~]/);function ce(e){return e!==null&&e<-2}function un(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const yV=ps(new RegExp("\\p{P}|\\p{S}","u")),xV=ps(/\s/);function ps(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Mo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Sn(e.charCodeAt(n+1))&&Sn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ze(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Ce(c)?(e.enter(n),o(c)):t(c)}function o(c){return Ce(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const bV={tokenize:wV};function wV(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ze(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ce(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const SV={tokenize:jV},AS={tokenize:_V};function jV(e){const t=this,n=[];let r=0,i,s,a;return o;function o(y){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(y)}return u(y)}function c(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const S=t.events.length;let j=S,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){_=t.events[j][1].end;break}v(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={..._},C++;return Ar(t.events,j+1,0,t.events.slice(S)),t.events.length=C,u(y)}return o(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(AS,d,f)(y)}function d(y){return i&&x(),v(r),h(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(y)}function h(y){return t.containerState={},e.attempt(AS,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function g(y){if(y===null){i&&x(),v(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(y)}function m(y){if(y===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return ce(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),m)}function w(y,S){const j=t.sliceStream(y);if(S&&j.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(j),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const C=t.events.length;let R=C,I,D;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(I){D=t.events[R][1].end;break}I=!0}for(v(r),_=C;_<t.events.length;)t.events[_][1].end={...D},_++;Ar(t.events,R+1,0,t.events.slice(C)),t.events.length=_}}function v(y){let S=n.length;for(;S-- >y;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=y}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function _V(e,t,n){return ze(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function IS(e){if(e===null||un(e)||xV(e))return 1;if(yV(e))return 2}function rx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Qg={name:"attention",resolveAll:PV,tokenize:EV};function PV(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};FS(f,-c),FS(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=In(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=In(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=In(u,rx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=In(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=In(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ar(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function EV(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=IS(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=IS(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(c)}}function FS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const CV={name:"autolink",tokenize:kV};function kV(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Pr(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||Sn(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Sn(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||qg(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):mV(p)?(e.consume(p),u):n(p)}function d(p){return Sn(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Sn(p))&&r++<63){const g=p===45?h:f;return e.consume(p),g}return n(p)}}const uh={partial:!0,tokenize:RV};function RV(e,t,n){return r;function r(s){return Ce(s)?ze(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ce(s)?t(s):n(s)}}const ZR={continuation:{tokenize:TV},exit:OV,name:"blockQuote",tokenize:NV};function NV(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Ce(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function TV(e,t,n){const r=this;return i;function i(a){return Ce(a)?ze(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(ZR,t,n)(a)}}function OV(e){e.exit("blockQuote")}const eN={name:"characterEscape",tokenize:AV};function AV(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return vV(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const tN={name:"characterReference",tokenize:IV};function IV(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Sn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=gV,d):(e.enter("characterReferenceValue"),s=7,a=Kg,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===Sn&&!nx(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const $S={partial:!0,tokenize:$V},DS={concrete:!0,name:"codeFenced",tokenize:FV};function FV(e,t,n){const r=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return c;function c(_){return u(_)}function u(_){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===o?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),Ce(_)?ze(e,f,"whitespace")(_):f(_))}function f(_){return _===null||ce(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check($S,m,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ze(e,p,"whitespace")(_)):_===96&&_===o?n(_):(e.consume(_),h)}function p(_){return _===null||ce(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||ce(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===o?n(_):(e.consume(_),g)}function m(_){return e.attempt(i,S,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Ce(_)?ze(e,x,"linePrefix",s+1)(_):x(_)}function x(_){return _===null||ce(_)?e.check($S,m,S)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||ce(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),y)}function S(_){return e.exit("codeFenced"),t(_)}function j(_,C,R){let I=0;return D;function D(A){return _.enter("lineEnding"),_.consume(A),_.exit("lineEnding"),F}function F(A){return _.enter("codeFencedFence"),Ce(A)?ze(_,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):O(A)}function O(A){return A===o?(_.enter("codeFencedFenceSequence"),U(A)):R(A)}function U(A){return A===o?(I++,_.consume(A),U):I>=a?(_.exit("codeFencedFenceSequence"),Ce(A)?ze(_,k,"whitespace")(A):k(A)):R(A)}function k(A){return A===null||ce(A)?(_.exit("codeFencedFence"),C(A)):R(A)}}}function $V(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ap={name:"codeIndented",tokenize:LV},DV={partial:!0,tokenize:MV};function LV(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),ze(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):ce(u)?e.attempt(DV,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ce(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function MV(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ze(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ce(a)?i(a):n(a)}}const UV={name:"codeText",previous:BV,resolve:zV,tokenize:HV};function zV(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function BV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HV(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):ce(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ce(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class WV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&il(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),il(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),il(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);il(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);il(this.left,n.reverse())}}}function il(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function nN(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new WV(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,VV(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Ar(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function VV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,g=0,m=0;const w=[m];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,w.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const v=o.slice(w[h],w[h+1]),x=s.pop();c.push([x,x+v.length-1]),e.splice(x,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const qV={resolve:QV,tokenize:GV},KV={partial:!0,tokenize:JV};function QV(e){return nN(e),e}function GV(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ce(o)?e.check(KV,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function JV(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ze(e,s,"linePrefix")}function s(a){if(a===null||ce(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function rN(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||qg(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||ce(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!d&&(v===null||v===41||un(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||qg(v)?n(v):(e.consume(v),v===92?w:m)}function w(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function iN(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):ce(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ce(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Ce(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function sN(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ze(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||ce(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function Al(e,t){let n;return r;function r(i){return ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ce(i)?ze(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const YV={name:"definition",tokenize:ZV},XV={partial:!0,tokenize:eq};function ZV(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return iN.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Ga(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return un(p)?Al(e,u)(p):u(p)}function u(p){return rN(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(XV,f,f)(p)}function f(p){return Ce(p)?ze(e,h,"whitespace")(p):h(p)}function h(p){return p===null||ce(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function eq(e,t,n){return r;function r(o){return un(o)?Al(e,i)(o):n(o)}function i(o){return sN(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Ce(o)?ze(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ce(o)?t(o):n(o)}}const tq={name:"hardBreakEscape",tokenize:nq};function nq(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ce(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const rq={name:"headingAtx",resolve:iq,tokenize:sq};function iq(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ar(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function sq(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||un(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||ce(d)?(e.exit("atxHeading"),t(d)):Ce(d)?ze(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||un(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const aq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],LS=["pre","script","style","textarea"],oq={concrete:!0,name:"htmlFlow",resolveTo:uq,tokenize:dq},lq={partial:!0,tokenize:hq},cq={partial:!0,tokenize:fq};function uq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dq(e,t,n){const r=this;let i,s,a,o,c;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),s=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:E):Pr(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function h(N){return N===45?(e.consume(N),i=2,p):N===91?(e.consume(N),i=5,o=0,g):Pr(N)?(e.consume(N),i=4,r.interrupt?t:E):n(N)}function p(N){return N===45?(e.consume(N),r.interrupt?t:E):n(N)}function g(N){const te="CDATA[";return N===te.charCodeAt(o++)?(e.consume(N),o===te.length?r.interrupt?t:O:g):n(N)}function m(N){return Pr(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||un(N)){const te=N===47,ne=a.toLowerCase();return!te&&!s&&LS.includes(ne)?(i=1,r.interrupt?t(N):O(N)):aq.includes(a.toLowerCase())?(i=6,te?(e.consume(N),v):r.interrupt?t(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):y(N))}return N===45||Sn(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function v(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return Ce(N)?(e.consume(N),x):D(N)}function y(N){return N===47?(e.consume(N),D):N===58||N===95||Pr(N)?(e.consume(N),S):Ce(N)?(e.consume(N),y):D(N)}function S(N){return N===45||N===46||N===58||N===95||Sn(N)?(e.consume(N),S):j(N)}function j(N){return N===61?(e.consume(N),_):Ce(N)?(e.consume(N),j):y(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),c=N,C):Ce(N)?(e.consume(N),_):R(N)}function C(N){return N===c?(e.consume(N),c=null,I):N===null||ce(N)?n(N):(e.consume(N),C)}function R(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||un(N)?j(N):(e.consume(N),R)}function I(N){return N===47||N===62||Ce(N)?y(N):n(N)}function D(N){return N===62?(e.consume(N),F):n(N)}function F(N){return N===null||ce(N)?O(N):Ce(N)?(e.consume(N),F):n(N)}function O(N){return N===45&&i===2?(e.consume(N),T):N===60&&i===1?(e.consume(N),M):N===62&&i===4?(e.consume(N),L):N===63&&i===3?(e.consume(N),E):N===93&&i===5?(e.consume(N),$):ce(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(lq,z,U)(N)):N===null||ce(N)?(e.exit("htmlFlowData"),U(N)):(e.consume(N),O)}function U(N){return e.check(cq,k,z)(N)}function k(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),A}function A(N){return N===null||ce(N)?U(N):(e.enter("htmlFlowData"),O(N))}function T(N){return N===45?(e.consume(N),E):O(N)}function M(N){return N===47?(e.consume(N),a="",P):O(N)}function P(N){if(N===62){const te=a.toLowerCase();return LS.includes(te)?(e.consume(N),L):O(N)}return Pr(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),P):O(N)}function $(N){return N===93?(e.consume(N),E):O(N)}function E(N){return N===62?(e.consume(N),L):N===45&&i===2?(e.consume(N),E):O(N)}function L(N){return N===null||ce(N)?(e.exit("htmlFlowData"),z(N)):(e.consume(N),L)}function z(N){return e.exit("htmlFlow"),t(N)}}function fq(e,t,n){const r=this;return i;function i(a){return ce(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function hq(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(uh,t,n)}}const pq={name:"htmlText",tokenize:mq};function mq(e,t,n){const r=this;let i,s,a;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),c}function c(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),j):E===63?(e.consume(E),y):Pr(E)?(e.consume(E),R):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),s=0,g):Pr(E)?(e.consume(E),x):n(E)}function d(E){return E===45?(e.consume(E),p):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):ce(E)?(a=f,M(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),p):f(E)}function p(E){return E===62?T(E):E===45?h(E):f(E)}function g(E){const L="CDATA[";return E===L.charCodeAt(s++)?(e.consume(E),s===L.length?m:g):n(E)}function m(E){return E===null?n(E):E===93?(e.consume(E),w):ce(E)?(a=m,M(E)):(e.consume(E),m)}function w(E){return E===93?(e.consume(E),v):m(E)}function v(E){return E===62?T(E):E===93?(e.consume(E),v):m(E)}function x(E){return E===null||E===62?T(E):ce(E)?(a=x,M(E)):(e.consume(E),x)}function y(E){return E===null?n(E):E===63?(e.consume(E),S):ce(E)?(a=y,M(E)):(e.consume(E),y)}function S(E){return E===62?T(E):y(E)}function j(E){return Pr(E)?(e.consume(E),_):n(E)}function _(E){return E===45||Sn(E)?(e.consume(E),_):C(E)}function C(E){return ce(E)?(a=C,M(E)):Ce(E)?(e.consume(E),C):T(E)}function R(E){return E===45||Sn(E)?(e.consume(E),R):E===47||E===62||un(E)?I(E):n(E)}function I(E){return E===47?(e.consume(E),T):E===58||E===95||Pr(E)?(e.consume(E),D):ce(E)?(a=I,M(E)):Ce(E)?(e.consume(E),I):T(E)}function D(E){return E===45||E===46||E===58||E===95||Sn(E)?(e.consume(E),D):F(E)}function F(E){return E===61?(e.consume(E),O):ce(E)?(a=F,M(E)):Ce(E)?(e.consume(E),F):I(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,U):ce(E)?(a=O,M(E)):Ce(E)?(e.consume(E),O):(e.consume(E),k)}function U(E){return E===i?(e.consume(E),i=void 0,A):E===null?n(E):ce(E)?(a=U,M(E)):(e.consume(E),U)}function k(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||un(E)?I(E):(e.consume(E),k)}function A(E){return E===47||E===62||un(E)?I(E):n(E)}function T(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function M(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),P}function P(E){return Ce(E)?ze(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):$(E)}function $(E){return e.enter("htmlTextData"),a(E)}}const ix={name:"labelEnd",resolveAll:xq,resolveTo:bq,tokenize:wq},gq={tokenize:Sq},vq={tokenize:jq},yq={tokenize:_q};function xq(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ar(e,0,e.length,n),e}function bq(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=In(o,e.slice(s+1,s+r+3)),o=In(o,[["enter",d,t]]),o=In(o,rx(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=In(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=In(o,e.slice(a+1)),o=In(o,[["exit",c,t]]),Ar(e,s,e.length,o),e}function wq(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Ga(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(gq,d,a?d:f)(h):h===91?e.attempt(vq,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(yq,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function Sq(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return un(f)?Al(e,s)(f):s(f)}function s(f){return f===41?d(f):rN(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return un(f)?Al(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?sN(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return un(f)?Al(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function jq(e,t,n){const r=this;return i;function i(o){return iN.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ga(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function _q(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Pq={name:"labelStartImage",resolveAll:ix.resolveAll,tokenize:Eq};function Eq(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Cq={name:"labelStartLink",resolveAll:ix.resolveAll,tokenize:kq};function kq(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ip={name:"lineEnding",tokenize:Rq};function Rq(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ze(e,t,"linePrefix")}}const gd={name:"thematicBreak",tokenize:Nq};function Nq(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||ce(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Ce(u)?ze(e,o,"whitespace")(u):o(u))}}const en={continuation:{tokenize:Iq},exit:$q,name:"list",tokenize:Aq},Tq={partial:!0,tokenize:Dq},Oq={partial:!0,tokenize:Fq};function Aq(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Kg(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(gd,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Kg(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(uh,r.interrupt?n:d,e.attempt(Tq,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Ce(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Iq(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(uh,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ze(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Ce(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Oq,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ze(e,e.attempt(en,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Fq(e,t,n){const r=this;return ze(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function $q(e){e.exit(this.containerState.type)}function Dq(e,t,n){const r=this;return ze(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Ce(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const MS={name:"setextUnderline",resolveTo:Lq,tokenize:Mq};function Lq(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function Mq(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Ce(u)?ze(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||ce(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Uq={tokenize:zq};function zq(e){const t=this,n=e.attempt(uh,r,e.attempt(this.parser.constructs.flowInitial,i,ze(e,e.attempt(this.parser.constructs.flow,i,e.attempt(qV,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Bq={resolveAll:oN()},Hq=aN("string"),Wq=aN("text");function aN(e){return{resolveAll:oN(e==="text"?Vq:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function oN(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Vq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const qq={42:en,43:en,45:en,48:en,49:en,50:en,51:en,52:en,53:en,54:en,55:en,56:en,57:en,62:ZR},Kq={91:YV},Qq={[-2]:Ap,[-1]:Ap,32:Ap},Gq={35:rq,42:gd,45:[MS,gd],60:oq,61:MS,95:gd,96:DS,126:DS},Jq={38:tN,92:eN},Yq={[-5]:Ip,[-4]:Ip,[-3]:Ip,33:Pq,38:tN,42:Qg,60:[CV,pq],91:Cq,92:[tq,eN],93:ix,95:Qg,96:UV},Xq={null:[Qg,Bq]},Zq={null:[42,95]},eK={null:[]},tK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Zq,contentInitial:Kq,disable:eK,document:qq,flow:Gq,flowInitial:Qq,insideSpan:Xq,string:Jq,text:Yq},Symbol.toStringTag,{value:"Module"}));function nK(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:C(j),check:C(_),consume:x,enter:y,exit:S,interrupt:C(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(F){return a=In(a,F),w(),a[a.length-1]!==null?[]:(R(t,0),u.events=rx(s,u.events,u),u.events)}function h(F,O){return iK(p(F),O)}function p(F){return rK(a,F)}function g(){const{_bufferIndex:F,_index:O,line:U,column:k,offset:A}=r;return{_bufferIndex:F,_index:O,line:U,column:k,offset:A}}function m(F){i[F.line]=F.column,D()}function w(){let F;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(F){d=d(F)}function x(F){ce(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,D()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function y(F,O){const U=O||{};return U.type=F,U.start=g(),u.events.push(["enter",U,u]),o.push(U),U}function S(F){const O=o.pop();return O.end=g(),u.events.push(["exit",O,u]),O}function j(F,O){R(F,O.from)}function _(F,O){O.restore()}function C(F,O){return U;function U(k,A,T){let M,P,$,E;return Array.isArray(k)?z(k):"tokenize"in k?z([k]):L(k);function L(J){return Y;function Y(ee){const oe=ee!==null&&J[ee],se=ee!==null&&J.null,de=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(se)?se:se?[se]:[]];return z(de)(ee)}}function z(J){return M=J,P=0,J.length===0?T:N(J[P])}function N(J){return Y;function Y(ee){return E=I(),$=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?ne():J.tokenize.call(O?Object.assign(Object.create(u),O):u,c,te,ne)(ee)}}function te(J){return F($,E),A}function ne(J){return E.restore(),++P<M.length?N(M[P]):T}}}function R(F,O){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&Ar(u.events,O,u.events.length-O,F.resolve(u.events.slice(O),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function I(){const F=g(),O=u.previous,U=u.currentConstruct,k=u.events.length,A=Array.from(o);return{from:k,restore:T};function T(){r=F,u.previous=O,u.currentConstruct=U,u.events.length=k,o=A,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rK(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function iK(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function sK(e){const r={constructs:fV([tK,...(e||{}).extensions||[]]),content:i(bV),defined:[],document:i(SV),flow:i(Uq),lazy:{},string:i(Hq),text:i(Wq)};return r;function i(s){return a;function a(o){return nK(r,s,o)}}}function aK(e){for(;!nN(e););return e}const US=/[\0\t\n\r]/g;function oK(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(US.lastIndex=f,u=US.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const lK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cK(e){return e.replace(lK,uK)}function uK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return XR(n.slice(s?2:1),s?16:10)}return nx(n)||e}const lN={}.hasOwnProperty;function dK(e,t,n){return typeof t!="string"&&(n=t,t=void 0),fK(n)(aK(sK(n).document().write(oK()(e,t,!0))))}function fK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lt),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(Nt),blockQuote:s(se),characterEscape:I,characterReference:I,codeFenced:s(de),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(de,a),codeText:s(ye,a),codeTextData:I,data:I,codeFlowValue:I,definition:s(ft),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(wt),hardBreakEscape:s(St),hardBreakTrailing:s(St),htmlFlow:s(lr,a),htmlFlowData:I,htmlText:s(lr,a),htmlTextData:I,image:s(Uo),label:a,link:s(lt),listItem:s(hh),listItemValue:h,listOrdered:s($r,f),listUnordered:s($r),paragraph:s(ph),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Nt),strong:s(aa),thematicBreak:s(ou)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:oe,autolinkProtocol:ee,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:J,characterReference:Y,codeFenced:c(w),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:D,codeIndented:c(v),codeText:c(A),codeTextData:D,data:D,definition:c(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(U),htmlFlowData:D,htmlText:c(k),htmlTextData:D,image:c(M),label:$,labelText:P,lineEnding:F,link:c(T),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:te,resourceDestinationString:E,resourceTitleString:L,resource:z,setextHeading:c(R),setextHeadingLineSequence:C,setextHeadingText:_,strong:c(),thematicBreak:c()}};cN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let K={type:"root",children:[]};const ue={stack:[K],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},he=[];let Re=-1;for(;++Re<B.length;)if(B[Re][1].type==="listOrdered"||B[Re][1].type==="listUnordered")if(B[Re][0]==="enter")he.push(Re);else{const hn=he.pop();Re=i(B,hn,Re)}for(Re=-1;++Re<B.length;){const hn=t[B[Re][0]];lN.call(hn,B[Re][1].type)&&hn[B[Re][1].type].call(Object.assign({sliceSerialize:B[Re][2].sliceSerialize},ue),B[Re][1])}if(ue.tokenStack.length>0){const hn=ue.tokenStack[ue.tokenStack.length-1];(hn[1]||zS).call(ue,void 0,hn[0])}for(K.position={start:wi(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:wi(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)K=t.transforms[Re](K)||K;return K}function i(B,K,ue){let he=K-1,Re=-1,hn=!1,cr,Rn,ms,Dr;for(;++he<=ue;){const Ze=B[he];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?Re++:Re--,Dr=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(cr&&!Dr&&!Re&&!ms&&(ms=he),Dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dr=void 0}if(!Re&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||Re===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(cr){let pi=he;for(Rn=void 0;pi--;){const ae=B[pi];if(ae[1].type==="lineEnding"||ae[1].type==="lineEndingBlank"){if(ae[0]==="exit")continue;Rn&&(B[Rn][1].type="lineEndingBlank",hn=!0),ae[1].type="lineEnding",Rn=pi}else if(!(ae[1].type==="linePrefix"||ae[1].type==="blockQuotePrefix"||ae[1].type==="blockQuotePrefixWhitespace"||ae[1].type==="blockQuoteMarker"||ae[1].type==="listItemIndent"))break}ms&&(!Rn||ms<Rn)&&(cr._spread=!0),cr.end=Object.assign({},Rn?B[Rn][1].start:Ze[1].end),B.splice(Rn||he,0,["exit",cr,Ze[2]]),he++,ue++}if(Ze[1].type==="listItemPrefix"){const pi={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};cr=pi,B.splice(he,0,["enter",pi,Ze[2]]),he++,ue++,ms=void 0,Dr=!0}}}return B[K][1]._spread=hn,ue}function s(B,K){return ue;function ue(he){o.call(this,B(he),he),K&&K.call(this,he)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,K,ue){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([K,ue||void 0]),B.position={start:wi(K.start),end:void 0}}function c(B){return K;function K(ue){B&&B.call(this,ue),u.call(this,ue)}}function u(B,K){const ue=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==B.type&&(K?K.call(this,B,he[0]):(he[1]||zS).call(this,B,he[0]));else throw new Error("Cannot close `"+B.type+"` ("+Ol({start:B.start,end:B.end})+"): it’s not open");ue.position.end=wi(B.end)}function d(){return uV(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),K=this.stack[this.stack.length-1];K.lang=B}function g(){const B=this.resume(),K=this.stack[this.stack.length-1];K.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Ga(this.sliceSerialize(B)).toLowerCase()}function y(){const B=this.resume(),K=this.stack[this.stack.length-1];K.title=B}function S(){const B=this.resume(),K=this.stack[this.stack.length-1];K.url=B}function j(B){const K=this.stack[this.stack.length-1];if(!K.depth){const ue=this.sliceSerialize(B).length;K.depth=ue}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function C(B){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function I(B){const ue=this.stack[this.stack.length-1].children;let he=ue[ue.length-1];(!he||he.type!=="text")&&(he=mh(),he.position={start:wi(B.start),end:void 0},ue.push(he)),this.stack.push(he)}function D(B){const K=this.stack.pop();K.value+=this.sliceSerialize(B),K.position.end=wi(B.end)}function F(B){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=K.children[K.children.length-1];ue.position.end=wi(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(I.call(this,B),D.call(this,B))}function O(){this.data.atHardBreak=!0}function U(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function k(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function A(){const B=this.resume(),K=this.stack[this.stack.length-1];K.value=B}function T(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=K,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function M(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=K,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function P(B){const K=this.sliceSerialize(B),ue=this.stack[this.stack.length-2];ue.label=cK(K),ue.identifier=Ga(K).toLowerCase()}function $(){const B=this.stack[this.stack.length-1],K=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const he=B.children;ue.children=he}else ue.alt=K}function E(){const B=this.resume(),K=this.stack[this.stack.length-1];K.url=B}function L(){const B=this.resume(),K=this.stack[this.stack.length-1];K.title=B}function z(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function te(B){const K=this.resume(),ue=this.stack[this.stack.length-1];ue.label=K,ue.identifier=Ga(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function ne(B){this.data.characterReferenceType=B.type}function J(B){const K=this.sliceSerialize(B),ue=this.data.characterReferenceType;let he;ue?(he=XR(K,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=nx(K);const Re=this.stack[this.stack.length-1];Re.value+=he}function Y(B){const K=this.stack.pop();K.position.end=wi(B.end)}function ee(B){D.call(this,B);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(B)}function oe(B){D.call(this,B);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(B)}function se(){return{type:"blockquote",children:[]}}function de(){return{type:"code",lang:null,meta:null,value:""}}function ye(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wt(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function lr(){return{type:"html",value:""}}function Uo(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function $r(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function hh(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function ph(){return{type:"paragraph",children:[]}}function aa(){return{type:"strong",children:[]}}function mh(){return{type:"text",value:""}}function ou(){return{type:"thematicBreak"}}}function wi(e){return{line:e.line,column:e.column,offset:e.offset}}function cN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?cN(e,r):hK(e,r)}}function hK(e,t){let n;for(n in t)if(lN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function zS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ol({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is still open")}function pK(e){const t=this;t.parser=n;function n(r){return dK(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function gK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function vK(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function yK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xK(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Mo(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function wK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function uN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function jK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return uN(e,t);const i={src:Mo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function _K(e,t){const n={src:Mo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function PK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function EK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return uN(e,t);const i={href:Mo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function CK(e,t){const n={href:Mo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kK(e,t,n){const r=e.all(t),i=n?RK(n):dN(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function RK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=dN(n[r])}return t}function dN(e){const t=e.spread;return t??e.children.length>1}function NK(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function TK(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OK(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function AK(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IK(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Xy(t.children[1]),c=VR(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function FK(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function $K(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const BS=9,HS=32;function DK(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(WS(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(WS(t.slice(i),i>0,!1)),s.join("")}function WS(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===BS||s===HS;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===BS||s===HS;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function LK(e,t){const n={type:"text",value:DK(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function MK(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const UK={blockquote:mK,break:gK,code:vK,delete:yK,emphasis:xK,footnoteReference:bK,heading:wK,html:SK,imageReference:jK,image:_K,inlineCode:PK,linkReference:EK,link:CK,listItem:kK,list:NK,paragraph:TK,root:OK,strong:AK,table:IK,tableCell:$K,tableRow:FK,text:LK,thematicBreak:MK,toml:qu,yaml:qu,definition:qu,footnoteDefinition:qu};function qu(){}const fN=-1,dh=0,Il=1,of=2,sx=3,ax=4,ox=5,lx=6,hN=7,pN=8,VS=typeof self=="object"?self:globalThis,zK=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case dh:case fN:return n(a,i);case Il:{const o=n([],i);for(const c of a)o.push(r(c));return o}case of:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case sx:return n(new Date(a),i);case ax:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case ox:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case lx:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case hN:{const{name:o,message:c}=a;return n(new VS[o](c),i)}case pN:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new VS[s](a),i)};return r},qS=e=>zK(new Map,e)(0),ba="",{toString:BK}={},{keys:HK}=Object,sl=e=>{const t=typeof e;if(t!=="object"||!e)return[dh,t];const n=BK.call(e).slice(8,-1);switch(n){case"Array":return[Il,ba];case"Object":return[of,ba];case"Date":return[sx,ba];case"RegExp":return[ax,ba];case"Map":return[ox,ba];case"Set":return[lx,ba];case"DataView":return[Il,n]}return n.includes("Array")?[Il,n]:n.includes("Error")?[hN,n]:[of,n]},Ku=([e,t])=>e===dh&&(t==="function"||t==="symbol"),WK=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=sl(a);switch(o){case dh:{let d=a;switch(c){case"bigint":o=pN,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([fN],a)}return i([o,d],a)}case Il:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case of:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of HK(a))(e||!Ku(sl(a[h])))&&d.push([s(h),s(a[h])]);return f}case sx:return i([o,a.toISOString()],a);case ax:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case ox:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(Ku(sl(h))||Ku(sl(p))))&&d.push([s(h),s(p)]);return f}case lx:{const d=[],f=i([o,d],a);for(const h of a)(e||!Ku(sl(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},KS=(e,{json:t,lossy:n}={})=>{const r=[];return WK(!(t||n),!!t,new Map,r)(e),r},lf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?qS(KS(e,t)):structuredClone(e):(e,t)=>qS(KS(e,t));function VK(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function qK(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function KK(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||VK,r=e.options.footnoteBackLabel||qK,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Mo(f.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(c,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...lf(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const mN=function(e){if(e==null)return YK;if(typeof e=="function")return fh(e);if(typeof e=="object")return Array.isArray(e)?QK(e):GK(e);if(typeof e=="string")return JK(e);throw new Error("Expected function, string, or object as test")};function QK(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mN(e[n]);return fh(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function GK(e){const t=e;return fh(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function JK(e){return fh(t);function t(n){return n&&n.type===e}}function fh(e){return t;function t(n,r,i){return!!(XK(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function YK(){return!0}function XK(e){return e!==null&&typeof e=="object"&&"type"in e}const gN=[],ZK=!0,QS=!1,eQ="skip";function tQ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=mN(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=gN,g,m,w;if((!t||s(c,u,d[d.length-1]||void 0))&&(p=nQ(n(c,d)),p[0]===QS))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==eQ)for(m=(r?v.children.length:-1)+a,w=d.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(g=o(x,m,w)(),g[0]===QS)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function nQ(e){return Array.isArray(e)?e:typeof e=="number"?[ZK,e]:e==null?gN:[e]}function vN(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),tQ(e,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const Gg={}.hasOwnProperty,rQ={};function iQ(e,t){const n=t||rQ,r=new Map,i=new Map,s=new Map,a={...UK,...n.handlers},o={all:u,applyData:aQ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:sQ,wrap:lQ};return vN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(Gg.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:m,...w}=d,v=lf(w);return v.children=o.all(d),v}return lf(d)}return(o.options.unknownHandler||oQ)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=GS(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=GS(m.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function sQ(e,t){e.position&&(t.position=B7(e))}function aQ(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,lf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function oQ(e,t){const n=t.data||{},r="value"in t&&!(Gg.call(n,"hProperties")||Gg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lQ(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function GS(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function JS(e,t){const n=iQ(e,t),r=n.one(e,void 0),i=KK(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function cQ(e,t){return e&&"run"in e?async function(n,r){const i=JS(n,{file:r,...t});await e.run(i,r)}:function(n,r){return JS(n,{file:r,...e||t})}}function YS(e){if(e)throw e}var vd=Object.prototype.hasOwnProperty,yN=Object.prototype.toString,XS=Object.defineProperty,ZS=Object.getOwnPropertyDescriptor,e1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yN.call(t)==="[object Array]"},t1=function(t){if(!t||yN.call(t)!=="[object Object]")return!1;var n=vd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&vd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||vd.call(t,i)},n1=function(t,n){XS&&n.name==="__proto__"?XS(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},r1=function(t,n){if(n==="__proto__")if(vd.call(t,n)){if(ZS)return ZS(t,n).value}else return;return t[n]},uQ=function e(){var t,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=r1(o,n),i=r1(t,n),o!==i&&(d&&i&&(t1(i)||(s=e1(i)))?(s?(s=!1,a=r&&e1(r)?r:[]):a=r&&t1(r)?r:{},n1(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&n1(o,{name:n,newValue:i}));return o};const Fp=Ys(uQ);function Jg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dQ(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?fQ(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fQ(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const vr={basename:hQ,dirname:pQ,extname:mQ,join:gQ,sep:"/"};function hQ(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ru(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function pQ(e){if(ru(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mQ(e){ru(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function gQ(...e){let t=-1,n;for(;++t<e.length;)ru(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vQ(n)}function vQ(e){ru(e);const t=e.codePointAt(0)===47;let n=yQ(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yQ(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ru(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const xQ={cwd:bQ};function bQ(){return"/"}function Yg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wQ(e){if(typeof e=="string")e=new URL(e);else if(!Yg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return SQ(e)}function SQ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $p=["history","path","basename","stem","extname","dirname"];class xN{constructor(t){let n;t?Yg(t)?n={path:t}:typeof t=="string"||jQ(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":xQ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$p.length;){const s=$p[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$p.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(t){Lp(t,"basename"),Dp(t,"basename"),this.path=vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(t){i1(this.basename,"dirname"),this.path=vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(t){if(Dp(t,"extname"),i1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Yg(t)&&(t=wQ(t)),Lp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(t){Lp(t,"stem"),Dp(t,"stem"),this.path=vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ht(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dp(e,t){if(e&&e.includes(vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vr.sep+"`")}function Lp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function i1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jQ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _Q=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},PQ={}.hasOwnProperty;class cx extends _Q{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dQ()}copy(){const t=new cx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Fp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zp("data",this.frozen),this.namespace[t]=n,this):PQ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qu(t),r=this.parser||this.Parser;return Mp("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Mp("process",this.parser||this.Parser),Up("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Qu(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,g=r.stringify(p,h);kQ(g)?h.value=g:h.result=g,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Mp("processSync",this.parser||this.Parser),Up("processSync",this.compiler||this.Compiler),this.process(t,i),a1("processSync","process",n),r;function i(s,a){n=!0,YS(s),r=a}}run(t,n,r){s1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=Qu(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),a1("runSync","run",r),i;function s(a,o){YS(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Qu(n),i=this.compiler||this.Compiler;return Up("stringify",i),s1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zp("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Fp(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const m=r[h][1];Jg(m)&&Jg(p)&&(p=Fp(!0,m,p)),r[h]=[u,p,...g]}}}}const EQ=new cx().freeze();function Mp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Up(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function s1(e){if(!Jg(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function a1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qu(e){return CQ(e)?e:new xN(e)}function CQ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kQ(e){return typeof e=="string"||RQ(e)}function RQ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NQ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",o1=[],l1={allowDangerousHtml:!0},TQ=/^(https?|ircs?|mailto|xmpp)$/i,OQ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ja(e){const t=AQ(e),n=IQ(e);return FQ(t.runSync(t.parse(n),n),e)}function AQ(e){const t=e.rehypePlugins||o1,n=e.remarkPlugins||o1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...l1}:l1;return EQ().use(pK).use(n).use(cQ,r).use(t)}function IQ(e){const t=e.children||"",n=new xN;return typeof t=="string"&&(n.value=t),n}function FQ(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||$Q;for(const d of OQ)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+NQ+d.id,void 0);return vN(e,u),K7(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in Op)if(Object.hasOwn(Op,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],m=Op[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function $Q(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||TQ.test(e.slice(0,t))?e:""}const Bp={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},bN=()=>{const[e,t]=b.useState({}),[n,r]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const{data:a,error:o}=await X.storage.from("source-logos").list();if(o){console.error("❌ Error fetching source logos:",o),t(Bp);return}const c={...Bp};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=X.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[f]=d.publicUrl}}t(c)}catch(a){console.error("❌ Error in fetchLogos:",a),t(Bp)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),o=Object.keys(e).find(c=>c.toLowerCase()===a);return o?e[o]:null},loading:n,logos:e}},DQ=()=>{var n;const{items:e,refine:t}=GB({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),l.jsxs(nr,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[l.jsx(Ln,{className:"w-auto",children:l.jsx(rr,{})}),l.jsx(Mn,{children:e.map(r=>l.jsx(Je,{value:String(r.value),children:r.label},r.value))})]})]})},LQ=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),l.jsxs(nr,{value:t,onValueChange:e,children:[l.jsx(Ln,{className:"w-auto min-w-[140px]",children:l.jsx(rr,{})}),l.jsx(Mn,{children:n.map(r=>l.jsx(Je,{value:r.value,children:r.label},r.value))})]})]})},MQ=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=By();if(t<=1)return null;const s=[],a=5;let o=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,o+a-1);c-o<a-1&&(o=Math.max(0,c-a+1));for(let u=o;u<=c;u++)s.push(u);return l.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[l.jsx(aP,{className:"h-4 w-4"}),"Précédent"]}),o>0&&l.jsxs(l.Fragment,{children:[l.jsx(Q,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),o>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>l.jsx(Q,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&l.jsxs(l.Fragment,{children:[c<t-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),l.jsx(Q,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",l.jsx(oP,{className:"h-4 w-4"})]})]})},UQ=()=>{const{query:e}=Hy(),{hits:t}=eh();return t.length===0&&e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hd,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("p",{children:"Suggestions :"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),l.jsx("li",{children:"• Essayez des termes plus généraux"}),l.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hd,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),l.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},zQ=()=>{const{hits:e}=eh(),[t,n]=H.useState(new Set),[r,i]=H.useState(new Set),[s,a]=H.useState("relevance"),{addToFavorites:o,removeFromFavorites:c,isFavorite:u}=Jf(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:h}=$o();ia();const{toast:p}=Rt();rt(),b9();const{getSourceLogo:g}=bN(),{handleExport:m,handleCopyToClipboard:w}=DR(),v="fr",x=H.useCallback((T,M)=>M==="relevance"?T:[...T].sort((P,$)=>{switch(M){case"fe_asc":return(P.FE||0)-($.FE||0);case"fe_desc":return($.FE||0)-(P.FE||0);case"date_desc":return($.Date||0)-(P.Date||0);case"date_asc":return(P.Date||0)-($.Date||0);case"nom_asc":{const E=P.Nom_fr||"",L=$.Nom_fr||"";return E.localeCompare(L,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const E=P.Nom_fr||"";return($.Nom_fr||"").localeCompare(E,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(P.Source||"").localeCompare($.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:y}=pH({attribute:"FE",precision:2}),S=H.useMemo(()=>{const T=$=>{if(typeof $=="object"&&($==null?void 0:$._type)==="Number"){const E=String($.value);if(E==="-Infinity"||E==="Infinity"||E==="NaN")return;const L=parseFloat($.value);return Number.isFinite(L)?L:void 0}if(typeof $=="number")return Number.isFinite($)?$:void 0};let M,P;if(y&&Array.isArray(y)){const $=T(y[0]),E=T(y[1]);typeof $=="number"&&(M=$),typeof E=="number"&&(P=E)}return M===void 0&&P===void 0?e:e.filter($=>{const E=typeof $.FE=="number"?$.FE:Number($.FE);return!(!Number.isFinite(E)||M!==void 0&&E<M||P!==void 0&&E>P)})},[e,y]),j=H.useMemo(()=>x(S,s),[S,s,x]),_=T=>{a(T)},C=T=>{const M=new Set(t);M.has(T)?M.delete(T):M.add(T),n(M)},R=(T,M)=>{const P=(()=>{switch(M){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[M]}})(),$=T._highlightResult||{};for(const E of P){const L=$[E];if(L!=null&&L.value)return{__html:L.value};const z=T[E];if(z)return{__html:z}}return{__html:""}},I=T=>{const M=new Set(r);M.has(T)?M.delete(T):M.add(T),i(M)},D=()=>{r.size===j.length?i(new Set):i(new Set(j.map(T=>T.objectID)))},F=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const T=j.filter(P=>r.has(P.objectID));await w(T)&&i(new Set)},O=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const T=j.filter(P=>r.has(P.objectID));await m(T,"facteurs_emissions_recherche")&&i(new Set)},U=T=>({id:T.objectID,nom:T.Nom_fr||"",description:T.Description_fr||"",fe:T.FE,uniteActivite:T.Unite_fr||"",source:T.Source,secteur:T.Secteur_fr||"",sousSecteur:T["Sous-secteur_fr"]||"",localisation:T.Localisation_fr||"",date:T.Date,incertitude:T.Incertitude,perimetre:T.Périmètre_fr||"",contributeur:T.Contributeur||"",commentaires:T.Commentaires_fr||""}),k=async T=>{const M=U(T);u(T.objectID)?await c(T.objectID):await o(M)},A=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const M=j.filter(P=>r.has(P.objectID)).filter(P=>!u(P.objectID));if(M.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(M.map(P=>o(U(P)))),p({title:"Favoris mis à jour",description:`${M.length} élément${M.length>1?"s":""} ajouté${M.length>1?"s":""} aux favoris`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(UQ,{}),j.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oi,{checked:r.size===j.length&&j.length>0,onCheckedChange:D,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===j.length&&j.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&l.jsxs(Qe,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Q,{onClick:F,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[l.jsx(lP,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),l.jsxs(Q,{onClick:A,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(Hm,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),l.jsxs(Q,{onClick:O,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[l.jsx(ty,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[j.length," résultat",j.length>1?"s":""," affiché",j.length>1?"s":""]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(LQ,{onSortChange:_,currentSort:s}),l.jsx(DQ,{})]})]}),l.jsx("div",{className:"space-y-4",children:j.map(T=>{const M=t.has(T.objectID),P=u(T.objectID);d(T.Source);const $=f(T.Source),E=!!T.workspace_id||T.import_type==="imported";return l.jsx(_e,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:l.jsx(Pe,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(oi,{checked:r.has(T.objectID),onCheckedChange:()=>I(T.objectID),onClick:L=>L.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:R(T,"Nom")}),E&&l.jsx(Qe,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),h()&&k(T)},disabled:!h(),className:`${P?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?l.jsx(Hm,{className:`h-4 w-4 ${P?"fill-current":""}`}):l.jsx(uP,{className:"h-4 w-4"})}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),C(T.objectID)},children:M?l.jsx(ey,{className:"h-4 w-4"}):l.jsx(Qc,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(yr,{isBlurred:$,showBadge:!0,children:l.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[T.FE?(typeof T.FE=="number"?parseFloat(T.FE.toFixed(4)):parseFloat(parseFloat(String(T.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(T,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(T.Périmètre_fr||T.Périmètre_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:T.Périmètre_fr||T.Périmètre_en})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[g(T.Source)&&l.jsx("img",{src:g(T.Source),alt:`Logo ${T.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(T,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(T.Localisation_fr||T.Localisation_en)&&l.jsx(Qe,{variant:"secondary",children:T.Localisation_fr||T.Localisation_en}),T.Date&&l.jsx(Qe,{variant:"outline",children:T.Date}),(T.Secteur_fr||T.Secteur_en)&&l.jsx(Qe,{variant:"outline",children:T.Secteur_fr||T.Secteur_en}),(T["Sous-secteur_fr"]||T["Sous-secteur_en"])&&l.jsx(Qe,{variant:"outline",children:T["Sous-secteur_fr"]||T["Sous-secteur_en"]})]}),M&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(T.Description_fr||T.Description_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:T.Description_fr||T.Description_en})})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:R(T,"Secteur")})})]}),T.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light mt-1",children:T.Incertitude})})]}),T.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:T.Contributeur})})})]}),(T.Commentaires_fr||T.Commentaires_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),l.jsx(yr,{isBlurred:$,showBadge:!1,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:T.Commentaires_fr||T.Commentaires_en})})})]})]})]})]})})})},T.objectID)})}),l.jsx(MQ,{})]})]})};var ux="Switch",[BQ,UJ]=ci(ux),[HQ,WQ]=BQ(ux),wN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=b.useState(null),g=ke(t,y=>p(y)),m=b.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,x]=Nr({prop:i,defaultProp:s,onChange:u});return l.jsxs(HQ,{scope:n,checked:v,disabled:o,children:[l.jsx(le.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":_N(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onClick:re(e.onClick,y=>{x(S=>!S),w&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),w&&l.jsx(VQ,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});wN.displayName=ux;var SN="SwitchThumb",jN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=WQ(SN,n);return l.jsx(le.span,{"data-state":_N(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});jN.displayName=SN;var VQ=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=b.useRef(null),a=Vy(n),o=dy(t);return b.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[a,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _N(e){return e?"checked":"unchecked"}var PN=wN,qQ=jN;const EN=b.forwardRef(({className:e,...t},n)=>l.jsx(PN,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(qQ,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));EN.displayName=PN.displayName;var dx="Collapsible",[KQ,zJ]=ci(dx),[QQ,fx]=KQ(dx),CN=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[c=!1,u]=Nr({prop:r,defaultProp:i,onChange:a});return l.jsx(QQ,{scope:n,disabled:s,contentId:Rr(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:l.jsx(le.div,{"data-state":px(c),"data-disabled":s?"":void 0,...o,ref:t})})});CN.displayName=dx;var kN="CollapsibleTrigger",RN=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=fx(kN,n);return l.jsx(le.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":px(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:re(e.onClick,i.onOpenToggle)})});RN.displayName=kN;var hx="CollapsibleContent",NN=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=fx(hx,e.__scopeCollapsible);return l.jsx(ui,{present:n||i.open,children:({present:s})=>l.jsx(GQ,{...r,ref:t,present:s})})});NN.displayName=hx;var GQ=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=fx(hx,n),[o,c]=b.useState(r),u=b.useRef(null),d=ke(t,u),f=b.useRef(0),h=f.current,p=b.useRef(0),g=p.current,m=a.open||o,w=b.useRef(m),v=b.useRef();return b.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),kt(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();f.current=y.height,p.current=y.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(r)}},[a.open,r]),l.jsx(le.div,{"data-state":px(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&i})});function px(e){return e?"open":"closed"}var JQ=CN;const TN=JQ,ON=RN,AN=NN,ws=({attribute:e,title:t,searchable:n=!1,limit:r=10})=>{const{items:i,refine:s,searchForItems:a,canToggleShowMore:o,isShowingMore:c,toggleShowMore:u}=SH({attribute:e,limit:r}),[d,f]=H.useState(""),[h,p]=H.useState(i);H.useEffect(()=>{d||p(i)},[i,d]);const g=H.useMemo(()=>e==="Date"?[...i].sort((w,v)=>{const x=parseInt(w.label);return parseInt(v.label)-x}):i,[i,e]),m=H.useMemo(()=>d?h.filter(w=>w.label.toLowerCase().includes(d.toLowerCase())):g,[g,h,d]);return i.length===0?null:l.jsxs(TN,{defaultOpen:!0,children:[l.jsx(ON,{asChild:!0,children:l.jsxs(Q,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 hover:bg-white hover:text-indigo-950",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:t}),l.jsx(cP,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsxs(AN,{className:"space-y-2 mt-2",children:[n&&l.jsx(xt,{type:"search",placeholder:`Rechercher ${t.toLowerCase()}...`,value:d,onChange:w=>{const v=w.target.value;f(v),a(v)},className:"w-full px-3 py-1 text-sm"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:m.map(w=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:`${e}-${w.value}`,checked:w.isRefined,onCheckedChange:()=>s(w.value),className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("label",{htmlFor:`${e}-${w.value}`,className:"flex-1 text-sm cursor-pointer flex justify-between",children:[l.jsx("span",{className:w.isRefined?"font-medium":"",children:w.label}),l.jsxs("span",{className:"text-muted-foreground",children:["(",w.count,")"]})]})]},w.value))}),o&&l.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"w-full",children:c?"Voir moins":"Voir plus"})]})]})},YQ=()=>{const{canRefine:e,refine:t}=FB();return e?l.jsxs(Q,{variant:"ghost",size:"sm",onClick:t,className:"text-indigo-950 hover:text-indigo-800 font-montserrat bg-white hover:bg-white",children:[l.jsx(dI,{className:"w-4 h-4 mr-1"}),"RÉINITIALISER LES FILTRES"]}):null},XQ=()=>{const{value:e,refine:t}=HH({attribute:"Date",on:[2022,2023,2024,2025]});return l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-border",children:[l.jsx(EN,{checked:e.isRefined,onCheckedChange:()=>t(e),id:"recent-data",className:"data-[state=checked]:bg-indigo-950"}),l.jsx("label",{htmlFor:"recent-data",className:"text-sm font-medium cursor-pointer font-montserrat text-indigo-950",children:"Données récentes (< 3 ans)"})]})},ZQ=()=>{const e=Dk(),t=(e==null?void 0:e.origin)??"all",n=(e==null?void 0:e.setOrigin)??(()=>{}),{refine:r}=By(),i=H.useMemo(()=>t==="all"?void 0:[`origin:${t}`],[t]);return H.useEffect(()=>{r(0)},[t,r]),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Q,{size:"sm",variant:t==="all"?"default":"outline",onClick:()=>{n("all"),r(0)},children:"Tous"}),l.jsx(Q,{size:"sm",variant:t==="public"?"default":"outline",onClick:()=>{n("public"),r(0)},children:"Base commune"}),l.jsx(Q,{size:"sm",variant:t==="private"?"default":"outline",onClick:()=>{n("private"),r(0)},children:"Base personnelle"})]}),l.jsx(Uy,{ruleContexts:i})]})},IN=()=>{const[e,t]=H.useState("fr"),n=e==="fr"?["Nom_fr","Description_fr","Commentaires_fr","Secteur_fr","Sous-secteur_fr","Périmètre_fr","Localisation_fr"]:["Nom_en","Description_en","Commentaires_en","Secteur_en","Sous-secteur_en","Périmètre_en","Localisation_en"];return l.jsxs(_e,{className:"bg-background border border-border",children:[l.jsxs(Ae,{className:"pb-3",children:[l.jsx(Ie,{className:"text-lg font-montserrat text-indigo-950",children:"FILTRER PAR :"}),l.jsx(YQ,{})]}),l.jsxs(Pe,{className:"space-y-6",children:[l.jsx(Uy,{facets:["languages"],facetFilters:[[`languages:${e}`]],restrictSearchableAttributes:n}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Langue"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{size:"sm",variant:e==="fr"?"default":"outline",onClick:()=>t("fr"),children:"FR"}),l.jsx(Q,{size:"sm",variant:e==="en"?"default":"outline",onClick:()=>t("en"),children:"EN"})]})]}),l.jsxs(TN,{defaultOpen:!0,children:[l.jsx(ON,{asChild:!0,children:l.jsxs(Q,{variant:"ghost",className:"w-full justify-between p-0 h-auto text-indigo-950 bg-transparent hover:bg-transparent",children:[l.jsx("h5",{className:"text-base font-semibold font-montserrat text-primary",children:"Données récentes"}),l.jsx(cP,{className:"h-4 w-4 text-indigo-950"})]})}),l.jsx(AN,{className:"space-y-4 mt-4",children:l.jsx(XQ,{})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),l.jsx(ZQ,{})]}),l.jsx(ws,{attribute:e==="fr"?"Unite_fr":"Unite_en",title:"Unité",searchable:!0,limit:500}),l.jsx(ws,{attribute:e==="fr"?"Périmètre_fr":"Périmètre_en",title:"Périmètre",searchable:!0,limit:500}),l.jsx(ws,{attribute:"Source",title:"Source",searchable:!0,limit:500}),l.jsx(ws,{attribute:"Date",title:"Date",limit:500}),l.jsx(ws,{attribute:e==="fr"?"Localisation_fr":"Localisation_en",title:"Localisation",searchable:!0,limit:500}),l.jsx(ws,{attribute:e==="fr"?"Secteur_fr":"Secteur_en",title:"Secteur",searchable:!0,limit:500}),l.jsx(ws,{attribute:e==="fr"?"Sous-secteur_fr":"Sous-secteur_en",title:"Sous-secteur",searchable:!0,limit:500})]})]})},eG=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=th();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):l.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},tG=()=>{const{user:e}=rt(),{currentWorkspace:t}=di(),[n,r]=b.useState(null),[i,s]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:o,error:c}=await X.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",c),s(!1);return}let u=o;if(!o){const{data:g,error:m}=await X.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la création de la période d'essai:",m),s(!1);return}u=g}const d=new Date(u.expires_at),f=new Date,h=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),p=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(o){console.error("Erreur lors du chargement de la période d'essai:",o)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function nG(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=b.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,rG(i,...t)]}function rG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var mx="Progress",gx=100,[iG,BJ]=nG(mx),[sG,aG]=iG(mx),FN=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=oG,...a}=e;(i||i===0)&&!c1(i)&&console.error(lG(`${i}`,"Progress"));const o=c1(i)?i:gx;r!==null&&!u1(r,o)&&console.error(cG(`${r}`,"Progress"));const c=u1(r,o)?r:null,u=cf(c)?s(c,o):void 0;return l.jsx(sG,{scope:n,value:c,max:o,children:l.jsx(le.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":cf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":LN(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});FN.displayName=mx;var $N="ProgressIndicator",DN=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=aG($N,n);return l.jsx(le.div,{"data-state":LN(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});DN.displayName=$N;function oG(e,t){return`${Math.round(e/t*100)}%`}function LN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function cf(e){return typeof e=="number"}function c1(e){return cf(e)&&!isNaN(e)&&e>0}function u1(e,t){return cf(e)&&!isNaN(e)&&e<=t&&e>=0}function lG(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gx}\`.`}function cG(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MN=FN,uG=DN;const vx=b.forwardRef(({className:e,value:t,...n},r)=>l.jsx(MN,{ref:r,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(uG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));vx.displayName=MN.displayName;const dG=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=tG();if(t||!n)return null;if(!e||!r)return l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[l.jsx(kr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[l.jsx(Bm,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),l.jsxs(Qe,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),l.jsx(vx,{value:s,className:"h-2"})]})]})},fG=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=b.useState(!1);if(t)return l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return l.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,o=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,h=o===null?0:a/o*100,p=u===null?0:c/u*100,g=f===null?0:d/f*100,m=()=>s==="premium"?l.jsx(Zl,{className:"h-4 w-4"}):s==="standard"?l.jsx(vI,{className:"h-4 w-4"}):null,w=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>o===null?"Illimitées ∞":o===0?"Non disponible":`${a} / ${o}`,x=()=>u===null?"Illimitées ∞":`${c} / ${u}`,y=()=>f===null?"Illimitées ∞":`${d} / ${f}`,S=s==="premium"||s==="standard";return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),l.jsx("span",{className:"whitespace-nowrap",children:w()}),n&&l.jsx(Wd,{className:"h-3 w-3 text-destructive"}),l.jsx(Qc,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(dG,{})}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",w()]}),m()]}),n&&l.jsxs(Qe,{variant:"destructive",className:"text-xs",children:[l.jsx(Wd,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),l.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),l.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&o!==null&&o>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),l.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:x()})]}),!S&&u!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),l.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:y()})]}),!S&&f!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:l.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},Ms=()=>{const{user:e,signOut:t}=rt(),{isSupraAdmin:n}=nh(),{canUseFavorites:r}=$o(),{quotaData:i,isLoading:s,isAtLimit:a}=rh(),o=Bf(),c=async()=>{await t(),o("/")};return l.jsx("nav",{className:"border-b border-border bg-background",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(it,{to:e?"/search":"/",className:"flex items-center",children:l.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),l.jsx("div",{className:"flex items-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block",children:l.jsx(fG,{quotaData:i,isLoading:s,isAtLimit:a})}),l.jsx(it,{to:"/search",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?l.jsx(it,{to:"/favoris",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):l.jsxs(Q,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(uP,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&l.jsx(it,{to:"/import",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),l.jsx(it,{to:"/settings",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),l.jsx(Q,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):l.jsxs(l.Fragment,{children:[l.jsx(it,{to:"/signup",children:l.jsx(Q,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),l.jsx(it,{to:"/login",children:l.jsx(Q,{children:"Se connecter"})})]})})]})})})},hG=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-full max-w-6xl",children:l.jsx(E9,{})})})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(IN,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(Uy,{hitsPerPage:36}),l.jsx(eG,{}),l.jsx(zQ,{})]})]})})]}),pG=()=>l.jsx(S9,{children:l.jsx(hG,{})});function mG(e){const[t,n]=b.useState(null);return b.useEffect(()=>{let r=!1;async function i(){var s,a,o,c,u,d;try{const f=e?`?workspaceId=${encodeURIComponent(e)}`:"",{data:{session:h}}=await X.auth.getSession(),p=(h==null?void 0:h.access_token)||"",g=await fetch(`/functions/v1/algolia-secure-key${f}`,{headers:{Authorization:`Bearer ${p}`}});if(g.ok){const m=await g.json();r||n({fullPublic:Yi(m.appId,((s=m.fullPublic)==null?void 0:s.searchApiKey)||((a=m.full)==null?void 0:a.searchApiKey)),fullPrivate:Yi(m.appId,((o=m.fullPrivate)==null?void 0:o.searchApiKey)||((c=m.full)==null?void 0:c.searchApiKey)),teaser:Yi(m.appId,((u=m.teaserPublic)==null?void 0:u.searchApiKey)||((d=m.teaser)==null?void 0:d.searchApiKey))});return}}catch{}}return i(),()=>{r=!0}},[e]),t}const Hp=e=>({...e,search:t=>{const n=(t||[]).map(r=>({...r,params:Object.fromEntries(Object.entries(r.params||{}).filter(([i])=>Ok.includes(i)))}));return e.search(n)}}),gG=b.createContext(null),vG=({children:e,favoriteIds:t=[]})=>{const n=rh(),{currentWorkspace:r}=di();$o();const i=mG(r==null?void 0:r.id),s=Dk(),a=b.useRef("all");b.useEffect(()=>{s!=null&&s.origin&&(a.current=s.origin)},[s==null?void 0:s.origin]);const o=(...m)=>{},c=b.useRef(t);b.useEffect(()=>{c.current=t},[t]);const u=b.useRef(null),d=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{i?(u.current=Hp(i.fullPublic),d.current=Hp(i.fullPrivate),f.current=Hp(i.teaser)):(u.current=null,d.current=null,f.current=null)},[i]);const h=b.useRef(r==null?void 0:r.id);b.useEffect(()=>{h.current=r==null?void 0:r.id},[r==null?void 0:r.id]);const p=b.useRef(null);i&&!p.current&&(p.current={search:async m=>{var F,O,U,k;const w=u.current,v=d.current,x=f.current;if(!w||!v)return{results:[]};const y=h.current;o("incoming requests",m==null?void 0:m.map(A=>{var T,M;return{ruleContexts:(T=A==null?void 0:A.params)==null?void 0:T.ruleContexts,facetFilters:(M=A==null?void 0:A.params)==null?void 0:M.facetFilters}})),o("ctx",{globalOrigin:a.current,wsId:y,favCount:(F=c.current)==null?void 0:F.length});const S=[],j=[],_=[];for(const A of m||[]){const T={...A.params||{}},M=Ak(T.facetFilters);let P=sf(T);a.current!=="all"&&(P=a.current);const $=y9(c.current),E=Ik(y,$);o("resolveOrigin",{globalOrigin:a.current,ruleContexts:T.ruleContexts,facetFilters:T.facetFilters,resolved:P}),P==="public"?(S.push({...A,indexName:tn,params:{...T,facetFilters:[["scope:public"],...M||[]],filters:$}}),_.push({...A,indexName:tn,params:{...T,facetFilters:[["scope:public"],...M||[]],filters:$}})):P==="private"?j.push({...A,indexName:tn,params:{...T,facetFilters:[["scope:private"],...M||[]],filters:E}}):(S.push({...A,indexName:tn,params:{...T,facetFilters:M,filters:$}}),_.push({...A,indexName:tn,params:{...T,facetFilters:[["scope:public"],...M||[]],filters:$}}),j.push({...A,indexName:tn,params:{...T,facetFilters:[["scope:private"],...M||[]],filters:E}}))}o("expandedPublicFull",S==null?void 0:S.map(A=>{var T,M;return{facetFilters:(T=A==null?void 0:A.params)==null?void 0:T.facetFilters,filters:(M=A==null?void 0:A.params)==null?void 0:M.filters}})),o("expandedPrivateFull",j==null?void 0:j.map(A=>{var T,M;return{facetFilters:(T=A==null?void 0:A.params)==null?void 0:T.facetFilters,filters:(M=A==null?void 0:A.params)==null?void 0:M.filters}})),o("expandedTeaser",_==null?void 0:_.map(A=>{var T,M;return{facetFilters:(T=A==null?void 0:A.params)==null?void 0:T.facetFilters,filters:(M=A==null?void 0:A.params)==null?void 0:M.filters}}));const[C,R,I]=await Promise.all([w.search(S),v.search(j),(x==null?void 0:x.search(_))??Promise.resolve({results:[]})]),D=[];for(let A=0,T=0,M=0,P=0;A<(m||[]).length;A++){const $=((O=(m||[])[A])==null?void 0:O.params)||{};let E=sf($);if(a.current!=="all"&&(E=a.current),E==="public"){const L=C.results[T];T++;const z=(U=I.results)==null?void 0:U[P];P++,D.push(qa(L,z))}else if(E==="private"){const L=R.results[M];M+=1,D.push(L)}else{const L=C.results[T];T++;const z=(k=I.results)==null?void 0:k[P];P++;const N=qa(L,z),te=R.results[M];M++,D.push(qa(N,te))}}return o("merged results stats",D==null?void 0:D.map(A=>({nbHits:A==null?void 0:A.nbHits}))),{results:D}}});const g=i?p.current:null;return g?l.jsx(gG.Provider,{value:n,children:l.jsx(_k,{searchClient:g,indexName:tn,future:{preserveSharedStateOnUnmount:!0},children:e})}):null},yG=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Hy();th();const r=()=>{n("")},i=()=>{};return l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),l.jsx(xt,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&l.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l.jsx(ry,{className:"h-5 w-5"})})]}),l.jsx(Q,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},UN=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=ia(),{role:s}=i;return t&&(!s||!t.includes(s))?l.jsx(l.Fragment,{children:r}):n&&!i[n]?l.jsx(l.Fragment,{children:r}):l.jsx(l.Fragment,{children:e})},xG=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:o})=>{const{hits:c}=eh(),[u,d]=b.useState("relevance"),[f,h]=b.useState(new Set),p=H.useCallback((P,$)=>$==="relevance"?P:[...P].sort((E,L)=>{switch($){case"fe_asc":return(E.FE||0)-(L.FE||0);case"fe_desc":return(L.FE||0)-(E.FE||0);case"date_desc":return(L.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(L.Date||0);case"nom_asc":return(E.Nom||"").localeCompare(L.Nom||"","fr",{numeric:!0,sensitivity:"base"});case"nom_desc":return(L.Nom||"").localeCompare(E.Nom||"","fr",{numeric:!0,sensitivity:"base"});case"source_asc":return(E.Source||"").localeCompare(L.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=H.useMemo(()=>p(c,u),[c,u,p]),m=P=>{d(P)},w=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:x,refine:y}=By(),{removeFromFavorites:S,isFavorite:j}=Jf();ia();const{getSourceLogo:_}=bN(),{shouldBlurPremiumContent:C}=$o(),R=g.length>0&&g.every(P=>e.has(P.objectID)),I=P=>{n(P)},D=P=>{const $=new Set(f);$.has(P)?$.delete(P):$.add(P),h($)},F=(P,$)=>{const E=(()=>{switch($){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[$]}})(),L=P._highlightResult||{};for(const z of E){const N=L[z];if(N!=null&&N.value)return{__html:N.value};const te=P[z];if(te)return{__html:te}}return{__html:""}},O=async P=>{try{await S(P.objectID),qt.success("Retiré des favoris")}catch{qt.error("Erreur lors de la suppression du favori")}},U=P=>({id:P.objectID,nom:P.Nom_fr||P.Nom_en||P.Nom||"",description:P.Description_fr||P.Description_en||P.Description||"",fe:P.FE,uniteActivite:P.Unite_fr||P.Unite_en||P["Unité donnée d'activité"]||"",source:P.Source,secteur:P.Secteur_fr||P.Secteur_en||P.Secteur||"",sousSecteur:P["Sous-secteur_fr"]||P["Sous-secteur_en"]||P["Sous-secteur"]||"",localisation:P.Localisation_fr||P.Localisation_en||P.Localisation||"",date:P.Date,incertitude:P.Incertitude,perimetre:P.Périmètre_fr||P.Périmètre_en||P.Périmètre||"",contributeur:P.Contributeur||"",commentaires:P.Commentaires_fr||P.Commentaires_en||P.Commentaires||""}),k=()=>{if(r){const $=g.filter(E=>e.has(E.objectID)).map(U);r($)}},A=()=>{if(i){const $=g.filter(E=>e.has(E.objectID)).map(U);i($)}},T=()=>{if(s){const P=Array.from(e);s(P)}},M=P=>!!P.workspace_id||P.import_type==="imported";return g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affiché",g.length>1?"s":""]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),l.jsxs(nr,{value:u,onValueChange:m,children:[l.jsx(Ln,{className:"w-auto min-w-[140px]",children:l.jsx(rr,{})}),l.jsx(Mn,{children:w.map(P=>l.jsx(Je,{value:P.value,children:P.label},P.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:"select-all",checked:R,onCheckedChange:I}),l.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",g.length,")"]})]}),e.size>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:A,children:[l.jsx(lP,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),l.jsx(UN,{requirePermission:"canExport",children:l.jsxs(Q,{variant:"outline",size:"sm",onClick:k,children:[l.jsx(ty,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),l.jsxs(Q,{variant:"destructive",size:"sm",onClick:T,children:[l.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),l.jsx("div",{className:"space-y-4",children:g.map(P=>{const $=f.has(P.objectID);j(P.objectID);const E=C(P.Source);return l.jsx(_e,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:l.jsx(Pe,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(oi,{checked:e.has(P.objectID),onCheckedChange:()=>t(P.objectID),onClick:L=>L.stopPropagation(),className:"mt-1 cursor-pointer"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:F(P,"Nom")}),M(P)&&l.jsx(Qe,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),O(P)},className:"text-red-500 hover:text-red-600",children:l.jsx(Hm,{className:"h-4 w-4 fill-current"})}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),D(P.objectID)},children:$?l.jsx(ey,{className:"h-4 w-4"}):l.jsx(Qc,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsxs(yr,{isBlurred:E,children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[P.FE?(typeof P.FE=="number"?parseFloat(P.FE.toFixed(4)):parseFloat(parseFloat(String(P.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:F(P,"Unite")})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(P.Périmètre_fr||P.Périmètre_en||P.Périmètre)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:P.Périmètre_fr||P.Périmètre_en||P.Périmètre})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[_(P.Source)&&l.jsx("img",{src:_(P.Source),alt:`Logo ${P.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:F(P,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(P.Localisation_fr||P.Localisation_en||P.Localisation)&&l.jsx(Qe,{variant:"secondary",children:P.Localisation_fr||P.Localisation_en||P.Localisation}),P.Date&&l.jsx(Qe,{variant:"outline",children:P.Date}),(P.Secteur_fr||P.Secteur_en||P.Secteur)&&l.jsx(Qe,{variant:"outline",children:P.Secteur_fr||P.Secteur_en||P.Secteur}),(P["Sous-secteur_fr"]||P["Sous-secteur_en"]||P["Sous-secteur"])&&l.jsx(Qe,{variant:"outline",children:P["Sous-secteur_fr"]||P["Sous-secteur_en"]||P["Sous-secteur"]})]}),$&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[P.Description&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),l.jsx(yr,{isBlurred:E,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Description})})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:F(P,"Secteur")})]}),P.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:P.Incertitude})]}),P.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Contributeur})})]}),P.Commentaires&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),l.jsx(yr,{isBlurred:E,children:l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ja,{components:{a:({href:L,children:z,...N})=>l.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:L,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:L})},children:P.Commentaires})})})]})]})]})]})})})},P.objectID)})}),x>1&&(()=>{let $=Math.max(0,v-Math.floor(2.5)),E=Math.min(x-1,$+5-1);E-$<4&&($=Math.max(0,E-5+1));const L=[];for(let z=$;z<=E;z++)L.push(z);return l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>y(v-1),disabled:v===0,children:[l.jsx(aP,{className:"w-4 h-4"}),"Précédent"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[$>0&&l.jsx(Q,{variant:v===0?"default":"outline",size:"sm",onClick:()=>y(0),className:"w-10",children:"1"},"first-page"),$>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),L.map(z=>l.jsx(Q,{variant:z===v?"default":"outline",size:"sm",onClick:()=>y(z),className:"w-10",children:z+1},`page-${z}`)),E<x-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),E<x-1&&l.jsx(Q,{variant:x-1===v?"default":"outline",size:"sm",onClick:()=>y(x-1),className:"w-10",children:x},"last-page")]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>y(v+1),disabled:v>=x-1,children:["Suivant",l.jsx(oP,{className:"w-4 h-4"})]})]})})()]})},bG=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=th();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):l.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},wG=({favoriteIds:e})=>{const[t,n]=b.useState(new Set),{favorites:r,removeFromFavorites:i}=Jf(),{handleExport:s,handleCopyToClipboard:a}=DR(),o=g=>{n(m=>{const w=new Set(m);return w.has(g)?w.delete(g):w.add(g),w})},c=g=>{if(g){const m=r.map(w=>w.id);n(new Set(m))}else n(new Set)},u=async g=>{await a(g)},d=async g=>{await s(g,"facteurs_emissions_favoris")},f=async g=>{try{for(const m of g)await i(m);n(new Set),qt.success(`${g.length} élément${g.length>1?"s":""} retiré${g.length>1?"s":""} des favoris`)}catch{qt.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(g=>g.source))].filter(Boolean),p=[...new Set(r.map(g=>g.localisation))].filter(Boolean);return[...new Set(r.map(g=>g.date.toString()))].filter(Boolean).sort((g,m)=>parseInt(m)-parseInt(g)),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsx("section",{className:"py-12 px-4 bg-background border-b",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsx(yG,{favoriteIds:e})}),l.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:r.length}),l.jsx("span",{children:"favoris au total"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:h.length}),l.jsx("span",{children:"sources"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:p.length}),l.jsx("span",{children:"localisations"})]})]})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),l.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(IN,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(bG,{}),l.jsx(xG,{selectedItems:t,onItemSelect:o,onSelectAll:c,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},SG=()=>{const{favorites:e}=Jf(),t=b.useMemo(()=>e.map(n=>n.id),[e]);return l.jsx(w9,{children:l.jsx(vG,{favoriteIds:t,children:l.jsx(wG,{favoriteIds:t})})})},jG=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),[c,u]=b.useState(0),[d,f]=b.useState("idle"),[h,p]=b.useState(null),{toast:g}=Rt(),{user:m}=rt(),{currentWorkspace:w}=di(),{canImportData:v}=ia(),x=()=>{const C=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],R=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],I=[C.join(","),R.join(",")].join(`
`),D=new Blob([I],{type:"text/csv"}),F=URL.createObjectURL(D),O=document.createElement("a");O.href=F,O.download="template_facteurs_emissions_bilingue.csv",O.click(),URL.revokeObjectURL(F)},y=C=>{var I;const R=(I=C.target.files)==null?void 0:I[0];R&&R.type==="text/csv"?(t(R),f("idle"),p(null)):g({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},S=C=>{const R=C.split(`
`).filter(F=>F.trim());if(R.length===0)return[];const I=R[0].split(",").map(F=>F.trim().replace(/"/g,"")),D=[];for(let F=1;F<R.length;F++){const O=R[F].split(",").map(U=>U.trim().replace(/"/g,""));if(O.length===I.length){const U={};I.forEach((k,A)=>{U[k]=O[A]}),D.push(U)}}return D},j=async()=>{if(!e||!n.trim()){g({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!w||!m){g({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!v){g({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}o(!0),f("uploading"),u(0);try{const C=await e.text();u(25);const R=S(C);if(u(50),f("processing"),R.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:I,error:D}=await X.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:m.id,workspace_id:w.id,uploaded_by:m.id}).select().single();if(D)throw new Error(`Erreur lors de la création du dataset: ${D.message}`);u(75);const F=R.map(k=>({workspace_id:w.id,dataset_id:I.id,Nom:k.nom||k.name||"Sans nom",Nom_en:k.nom_en||k.name_en||null,Description:k.description||"",Description_en:k.description_en||null,FE:parseFloat((k.fe||k.factor||"0").toString().replace(",",".")),"Unité donnée d'activité":k.unite||k.unit||"",Unite_en:k.unite_en||k.unit_en||null,Source:k.source||"Import CSV",Secteur:k.secteur||k.sector||"Non spécifié",Secteur_en:k.secteur_en||k.sector_en||null,"Sous-secteur":k.categorie||k.category||"Non spécifié","Sous-secteur_en":k.categorie_en||k.category_en||null,Localisation:k.localisation||k.location||"Non spécifié",Localisation_en:k.localisation_en||k.location_en||null,Date:parseInt((k.date||new Date().getFullYear().toString()).toString()),Incertitude:k.incertitude||k.uncertainty||"",Périmètre:k.perimetre||k.perimeter||null,Périmètre_en:k.perimetre_en||k.perimeter_en||null,Contributeur:k.contributeur||k.contributor||null,Commentaires:k.commentaires||k.comments||null,Commentaires_en:k.commentaires_en||k.comments_en||null})),{data:O,error:U}=await X.from("emission_factors").insert(F).select();if(U)throw new Error(`Erreur lors de l'insertion: ${U.message}`);u(100),f("success"),p({success:(O==null?void 0:O.length)||0,errors:[]}),g({title:"Import réussi",description:`${(O==null?void 0:O.length)||0} facteurs d'émissions importés avec succès.`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const k=document.getElementById("file-upload");k&&(k.value="")},3e3)}catch(C){console.error("Import error:",C),f("error"),p({success:0,errors:[C instanceof Error?C.message:"Erreur inconnue"]}),g({variant:"destructive",title:"Erreur d'import",description:C instanceof Error?C.message:"Une erreur est survenue lors de l'import."})}finally{o(!1)}},_=()=>{switch(d){case"success":return l.jsx(mn,{className:"w-5 h-5 text-green-500"});case"error":return l.jsx(kr,{className:"w-5 h-5 text-red-500"});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[l.jsx(Vb,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),l.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),l.jsxs(UN,{requirePermission:"canImportData",fallback:l.jsx(_e,{className:"mb-6",children:l.jsx(Pe,{className:"pt-6",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(kr,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[l.jsxs(_e,{className:"mb-6",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(ty,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),l.jsx(wn,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),l.jsxs(Pe,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(lI,{className:"w-8 h-8 text-muted-foreground mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),l.jsx(Q,{onClick:x,variant:"outline",children:"Télécharger"})]}),l.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:["Importer votre dataset",_()]}),l.jsx(wn,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),l.jsxs(Pe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"dataset-name",children:"Nom du dataset"}),l.jsx(xt,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:C=>r(C.target.value),disabled:a})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"file-upload",children:"Fichier CSV"}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[l.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:y,className:"hidden",disabled:a}),e?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Zv,{className:"w-8 h-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:e.name}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):l.jsxs("div",{children:[l.jsx(Vb,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),l.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des données..."]}),l.jsxs("span",{children:[c,"%"]})]}),l.jsx(vx,{value:c,className:"w-full"})]}),h&&l.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?l.jsxs("div",{className:"flex items-center",children:[l.jsx(mn,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(kr,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),l.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((C,R)=>l.jsxs("li",{children:["• ",C]},R))})]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(oi,{id:"add-favorites",checked:i,onCheckedChange:C=>s(C),disabled:a}),l.jsx(ut,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),l.jsx(Q,{onClick:j,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),l.jsx(_e,{className:"mt-6",children:l.jsx(Pe,{className:"pt-6",children:l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var yx="Dialog",[zN,BN]=ci(yx),[_G,or]=zN(yx),HN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=b.useRef(null),c=b.useRef(null),[u=!1,d]=Nr({prop:r,defaultProp:i,onChange:s});return l.jsx(_G,{scope:t,triggerRef:o,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};HN.displayName=yx;var WN="DialogTrigger",VN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(WN,n),s=ke(t,i.triggerRef);return l.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wx(i.open),...r,ref:s,onClick:re(e.onClick,i.onOpenToggle)})});VN.displayName=WN;var xx="DialogPortal",[PG,qN]=zN(xx,{forceMount:void 0}),KN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=or(xx,t);return l.jsx(PG,{scope:t,forceMount:n,children:b.Children.map(r,a=>l.jsx(ui,{present:n||s.open,children:l.jsx(Cf,{asChild:!0,container:i,children:a})}))})};KN.displayName=xx;var uf="DialogOverlay",QN=b.forwardRef((e,t)=>{const n=qN(uf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=or(uf,e.__scopeDialog);return s.modal?l.jsx(ui,{present:r||s.open,children:l.jsx(EG,{...i,ref:t})}):null});QN.displayName=uf;var EG=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(uf,n);return l.jsx(qy,{as:Vs,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(le.div,{"data-state":wx(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Js="DialogContent",GN=b.forwardRef((e,t)=>{const n=qN(Js,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=or(Js,e.__scopeDialog);return l.jsx(ui,{present:r||s.open,children:s.modal?l.jsx(CG,{...i,ref:t}):l.jsx(kG,{...i,ref:t})})});GN.displayName=Js;var CG=b.forwardRef((e,t)=>{const n=or(Js,e.__scopeDialog),r=b.useRef(null),i=ke(t,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return zk(s)},[]),l.jsx(JN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault())})}),kG=b.forwardRef((e,t)=>{const n=or(Js,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(JN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JN=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=or(Js,n),c=b.useRef(null),u=ke(t,c);return Lk(),l.jsxs(l.Fragment,{children:[l.jsx(Wy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Vc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":wx(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(NG,{titleId:o.titleId}),l.jsx(OG,{contentRef:c,descriptionId:o.descriptionId})]})]})}),bx="DialogTitle",YN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(bx,n);return l.jsx(le.h2,{id:i.titleId,...r,ref:t})});YN.displayName=bx;var XN="DialogDescription",ZN=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(XN,n);return l.jsx(le.p,{id:i.descriptionId,...r,ref:t})});ZN.displayName=XN;var eT="DialogClose",tT=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=or(eT,n);return l.jsx(le.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>i.onOpenChange(!1))})});tT.displayName=eT;function wx(e){return e?"open":"closed"}var nT="DialogTitleWarning",[RG,rT]=v2(nT,{contentName:Js,titleName:bx,docsSlug:"dialog"}),NG=({titleId:e})=>{const t=rT(nT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},TG="DialogDescriptionWarning",OG=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rT(TG).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AG=HN,IG=VN,FG=KN,$G=QN,DG=GN,LG=YN,MG=ZN,iT=tT,sT="AlertDialog",[UG,HJ]=ci(sT,[BN]),hi=BN(),aT=e=>{const{__scopeAlertDialog:t,...n}=e,r=hi(t);return l.jsx(AG,{...r,...n,modal:!0})};aT.displayName=sT;var zG="AlertDialogTrigger",oT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(IG,{...i,...r,ref:t})});oT.displayName=zG;var BG="AlertDialogPortal",lT=e=>{const{__scopeAlertDialog:t,...n}=e,r=hi(t);return l.jsx(FG,{...r,...n})};lT.displayName=BG;var HG="AlertDialogOverlay",cT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx($G,{...i,...r,ref:t})});cT.displayName=HG;var Ya="AlertDialogContent",[WG,VG]=UG(Ya),uT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=hi(n),a=b.useRef(null),o=ke(t,a),c=b.useRef(null);return l.jsx(RG,{contentName:Ya,titleName:dT,docsSlug:"alert-dialog",children:l.jsx(WG,{scope:n,cancelRef:c,children:l.jsxs(DG,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:re(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Kv,{children:r}),l.jsx(KG,{contentRef:a})]})})})});uT.displayName=Ya;var dT="AlertDialogTitle",fT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(LG,{...i,...r,ref:t})});fT.displayName=dT;var hT="AlertDialogDescription",pT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(MG,{...i,...r,ref:t})});pT.displayName=hT;var qG="AlertDialogAction",mT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=hi(n);return l.jsx(iT,{...i,...r,ref:t})});mT.displayName=qG;var gT="AlertDialogCancel",vT=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=VG(gT,n),s=hi(n),a=ke(t,i);return l.jsx(iT,{...s,...r,ref:a})});vT.displayName=gT;var KG=({contentRef:e})=>{const t=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${hT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},QG=aT,GG=oT,JG=lT,yT=cT,xT=uT,bT=mT,wT=vT,ST=fT,jT=pT;const _T=QG,PT=GG,YG=JG,ET=b.forwardRef(({className:e,...t},n)=>l.jsx(yT,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ET.displayName=yT.displayName;const Sx=b.forwardRef(({className:e,...t},n)=>l.jsxs(YG,{children:[l.jsx(ET,{}),l.jsx(xT,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sx.displayName=xT.displayName;const jx=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});jx.displayName="AlertDialogHeader";const _x=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_x.displayName="AlertDialogFooter";const Px=b.forwardRef(({className:e,...t},n)=>l.jsx(ST,{ref:n,className:ie("text-lg font-semibold",e),...t}));Px.displayName=ST.displayName;const Ex=b.forwardRef(({className:e,...t},n)=>l.jsx(jT,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));Ex.displayName=jT.displayName;const Cx=b.forwardRef(({className:e,...t},n)=>l.jsx(bT,{ref:n,className:ie(Cy(),e),...t}));Cx.displayName=bT.displayName;const kx=b.forwardRef(({className:e,...t},n)=>l.jsx(wT,{ref:n,className:ie(Cy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));kx.displayName=wT.displayName;const XG=()=>{const{user:e,signOut:t}=rt(),{userProfile:n}=Ey(),{currentWorkspace:r}=di(),i=ia(),{toast:s}=Rt(),[a,o]=b.useState(!1),c=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),l.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(ud,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),l.jsx(wn,{children:"Informations générales sur votre compte"})]}),l.jsx(Pe,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),l.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),l.jsx("div",{className:"mt-1",children:l.jsx(Qe,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),l.jsx("div",{className:"mt-1",children:l.jsx(Qe,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(rI,{className:"mr-2 h-5 w-5"}),"Workspace"]}),l.jsx(wn,{children:"Informations sur votre espace de travail"})]}),l.jsx(Pe,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),l.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),l.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),i.isSupraAdmin&&l.jsxs(_e,{className:"border-primary/20",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center text-primary",children:[l.jsx(qs,{className:"mr-2 h-5 w-5"}),"Administration"]}),l.jsx(wn,{children:"Outils d'administration (Supra Admin uniquement)"})]}),l.jsx(Pe,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(Q,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[l.jsx(sI,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center",children:[l.jsx(fI,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),l.jsx(wn,{children:"Gérez votre session et vos données"})]}),l.jsx(Pe,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(_T,{open:a,onOpenChange:o,children:[l.jsx(PT,{asChild:!0,children:l.jsxs(Q,{variant:"outline",className:"flex items-center justify-center",children:[l.jsx(dP,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),l.jsxs(Sx,{children:[l.jsxs(jx,{children:[l.jsx(Px,{children:"Confirmer la déconnexion"}),l.jsx(Ex,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),l.jsxs(_x,{children:[l.jsx(kx,{children:"Annuler"}),l.jsx(Cx,{onClick:c,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&l.jsx(_e,{className:"border-orange-200 bg-orange-50",children:l.jsx(Pe,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Zl,{className:"h-5 w-5 text-orange-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),l.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function ZG(){const{user:e}=rt(),{toast:t}=Rt(),[n,r]=b.useState({}),[i,s]=b.useState(!1),a=async()=>{s(!0);try{const{data:{session:c},error:u}=await X.auth.getSession();r(d=>{var f,h;return{...d,session:{exists:!!c,userId:(f=c==null?void 0:c.user)==null?void 0:f.id,email:(h=c==null?void 0:c.user)==null?void 0:h.email,accessToken:c!=null&&c.access_token?"Present":"Missing",error:u==null?void 0:u.message}}})}catch(c){r(u=>({...u,session:{error:c instanceof Error?c.message:String(c)}}))}s(!1)},o=async()=>{s(!0);try{const{data:{session:c}}=await X.auth.getSession();if(!c)throw new Error("No session found");const{data:u,error:d}=await X.functions.invoke("create-checkout",{body:{planType:"standard"},headers:{Authorization:`Bearer ${c.access_token}`}});r(f=>({...f,createCheckout:{success:!d,data:u,error:d==null?void 0:d.message,url:u==null?void 0:u.url}})),u!=null&&u.url&&t({title:"Success",description:"Checkout URL generated successfully"})}catch(c){r(u=>({...u,createCheckout:{error:c instanceof Error?c.message:String(c)}}))}s(!1)};return l.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Auth Context Info"})}),l.jsxs(Pe,{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Session Test"})}),l.jsxs(Pe,{className:"space-y-4",children:[l.jsx(Q,{onClick:a,disabled:i,children:"Test Session"}),n.session&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(n.session,null,2)})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Create Checkout Test"})}),l.jsxs(Pe,{className:"space-y-4",children:[l.jsx(Q,{onClick:o,disabled:i,children:"Test Create Checkout"}),n.createCheckout&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(n.createCheckout,null,2)})]})]}),l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"All Debug Info"})}),l.jsx(Pe,{children:l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(n,null,2)})})]})]})]})}const iu=b.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",e),...t})}));iu.displayName="Table";const su=b.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",e),...t}));su.displayName="TableHeader";const au=b.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",e),...t}));au.displayName="TableBody";const eJ=b.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eJ.displayName="TableFooter";const Pn=b.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pn.displayName="TableRow";const qe=b.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qe.displayName="TableHead";const Oe=b.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableCell";const tJ=b.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));tJ.displayName="TableCaption";function Dc({className:e,...t}){return l.jsx("div",{className:ie("animate-pulse rounded-md bg-muted",e),...t})}async function yd(e){const{data:t,error:n}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function nJ(e,t=1,n=25){const{data:r,error:i}=await X.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function CT(e,t){const{data:n,error:r}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function rJ(e,t,n){const{data:r,error:i}=await X.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function iJ(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function sJ(e){const{error:t}=await X.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function aJ(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function oJ(e,t){const{data:n,error:r}=await X.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function lJ(e,t,n){const{data:r,error:i}=await X.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const cJ=()=>{const[e,t]=b.useState("paid"),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(null),[c,u]=b.useState(null),{toast:d}=Rt();b.useEffect(()=>{(async()=>{try{s(!0);const g=await yd(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const f=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",h=async(g,m)=>{try{await CT(g,m),d({title:"Plan mis à jour",description:`Nouveau plan: ${m}`});const w=await yd(e);r(w),o(null)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await iJ(g),d({title:"Entreprise supprimée",description:m});const w=await yd(e);r(w)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(nr,{value:e,onValueChange:g=>t(g),children:[l.jsx(Ln,{className:"w-40",children:l.jsx(rr,{placeholder:"Filtre"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"paid",children:"Payantes"}),l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"all",children:"Toutes"})]})]})})]})}),l.jsx(Pe,{children:i?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>l.jsx(Dc,{className:"h-12 w-full"},m))}):l.jsxs(iu,{children:[l.jsx(su,{children:l.jsxs(Pn,{children:[l.jsx(qe,{children:"Entreprise"}),l.jsx(qe,{children:"Propriétaire"}),l.jsx(qe,{children:"Plan"}),l.jsx(qe,{children:"Utilisateurs"}),l.jsx(qe,{children:"Créée le"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(au,{children:[n.map(g=>l.jsxs(Pn,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("div",{children:g.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),l.jsx(Oe,{children:g.owner_email}),l.jsx(Oe,{children:l.jsx(Qe,{variant:f(g.plan_type),children:g.plan_type})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gI,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(iI,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),l.jsx(Oe,{children:l.jsx("div",{className:"flex items-center gap-2",children:a===g.id?l.jsxs(l.Fragment,{children:[l.jsxs(nr,{value:g.plan_type,onValueChange:m=>h(g.id,m),children:[l.jsx(Ln,{className:"w-32",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>o(null),children:"Annuler"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>o(g.id),children:[l.jsx(hI,{className:"h-4 w-4 mr-2"}),"Modifier"]}),l.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:c===g.id,children:c===g.id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Nf,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&l.jsx(Pn,{children:l.jsx(Oe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},uJ=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(1),[a]=b.useState(25),[o,c]=b.useState(0),[u,d]=b.useState("all"),[f,h]=b.useState(!0),[p,g]=b.useState(null),[m,w]=b.useState(null),[v,x]=b.useState(null),{toast:y}=Rt(),{startImpersonation:S}=WE();b.useEffect(()=>{j(),_()},[]),b.useEffect(()=>{_()},[u,i]);const j=async()=>{try{const k=await yd("all");r((k||[]).map(A=>({id:A.id,name:A.name})))}catch(k){console.error("Error fetching workspaces:",k)}},_=async()=>{try{h(!0);const{items:k,total:A}=await nJ(u,i,a);t(k),c(A)}catch(k){console.error("Error fetching contacts:",k)}finally{h(!1)}},C=k=>{switch(k){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},R=k=>{switch(k){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},I=k=>{switch(k){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return k}},D=async(k,A)=>{g(`plan-${k.workspace_id}`);try{const T=await CT(k.workspace_id,A);y({title:"Plan du workspace mis à jour",description:`Plan changé vers ${A}. ${(T==null?void 0:T.updatedUsers)??0} utilisateur(s) mis à jour.`}),await _()}catch(T){console.error("Error updating workspace plan:",T),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{g(null)}},F=async(k,A)=>{g(`role-${k.user_id}`);try{await rJ(k.user_id,k.workspace_id,A),y({title:"Rôle mis à jour",description:`Rôle changé vers ${A}`}),await _()}catch(T){console.error("Error updating user role:",T),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{g(null)}},O=async k=>{x(k.user_id);try{if(await S(k.user_id,k.email||"",k.workspace_id,k.company_name||""))y({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${k.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(A){console.error("Error starting impersonation:",A),y({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{x(null)}},U=async(k,A)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${A}" ? Cette action est irréversible et supprimera toutes les données associées.`)){w(k);try{await sJ(k),y({title:"Contact supprimé",description:`Le contact "${A}" a été supprimé avec succès.`}),_()}catch(T){console.error("Error deleting contact:",T),y({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{w(null)}}};return f?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(ud,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),l.jsx(Pe,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Dc,{className:"h-10 w-full"}),[...Array(5)].map((k,A)=>l.jsx(Dc,{className:"h-12 w-full"},A))]})})]}):l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(ud,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{j(),_()},className:"ml-auto",children:[l.jsx(ny,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),l.jsxs(Pe,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",o," résultats"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>s(k=>Math.max(1,k-1)),disabled:i===1,children:"Précédent"}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>s(k=>k+1),disabled:i*a>=o,children:"Suivant"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs(nr,{value:u,onValueChange:d,children:[l.jsx(Ln,{className:"w-64",children:l.jsx(rr,{placeholder:"Filtrer par entreprise"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"all",children:"Toutes les entreprises"}),n.map(k=>l.jsx(Je,{value:k.id,children:k.name},k.id))]})]})}),l.jsxs(iu,{children:[l.jsx(su,{children:l.jsxs(Pn,{children:[l.jsx(qe,{children:"Contact"}),l.jsx(qe,{children:"Email"}),l.jsx(qe,{children:"Entreprise"}),l.jsx(qe,{children:"Plan"}),l.jsx(qe,{children:"Rôle"}),l.jsx(qe,{children:"Ajouté le"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(au,{children:[e.map(k=>l.jsxs(Pn,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ud,{className:"h-4 w-4 text-muted-foreground"}),k.first_name||k.last_name?`${k.first_name} ${k.last_name}`.trim():"Nom non renseigné"]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fP,{className:"h-4 w-4 text-muted-foreground"}),k.email]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"}),k.company_name]})}),l.jsx(Oe,{children:l.jsx(Qe,{variant:C(k.company_plan||"freemium"),children:k.company_plan})}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qs,{className:"h-4 w-4"}),l.jsx(Qe,{variant:R(k.role),children:I(k.role)})]})}),l.jsx(Oe,{children:new Date(k.created_at).toLocaleDateString("fr-FR")}),l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Q,{variant:"secondary",size:"sm",onClick:()=>O(k),disabled:v===k.user_id||(p==null?void 0:p.includes(k.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===k.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):l.jsx(pI,{className:"h-4 w-4"})}),l.jsxs(nr,{value:k.company_plan||"freemium",onValueChange:A=>D(k,A),disabled:p===`plan-${k.workspace_id}`,children:[l.jsx(Ln,{className:"w-24",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"freemium",children:"Freemium"}),l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsxs(nr,{value:k.role,onValueChange:A=>F(k,A),disabled:p===`role-${k.user_id}`,children:[l.jsx(Ln,{className:"w-32",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"admin",children:"Administrateur"}),l.jsx(Je,{value:"gestionnaire",children:"Gestionnaire"}),l.jsx(Je,{value:"lecteur",children:"Lecteur"})]})]}),l.jsx(Q,{variant:"destructive",size:"sm",onClick:()=>U(k.user_id,k.email||""),disabled:m===k.user_id||(p==null?void 0:p.includes(k.user_id)),children:m===k.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(Nf,{className:"h-4 w-4"})}),(p===`plan-${k.workspace_id}`||p===`role-${k.user_id}`)&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},k.id)),e.length===0&&l.jsx(Pn,{children:l.jsx(Oe,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},kT=H.createContext(void 0),dJ=({children:e})=>{const[t,n]=H.useState([]),[r,i]=H.useState(!0),s=H.useRef(0),a=H.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await X.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);H.useEffect(()=>{a(!0)},[a]);const o=H.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return l.jsx(kT.Provider,{value:o,children:e})};function RT(){const e=H.useContext(kT);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const fJ=()=>{const[e,t]=b.useState([]),[n,r]=b.useState({}),{toast:i}=Rt(),{sources:s,refresh:a,loading:o}=RT();b.useEffect(()=>{const p=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const c=b.useCallback(async(p,g)=>{r(m=>({...m,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${g}`);const{error:m}=await X.from("fe_sources").update({access_level:g}).eq("source_name",p);if(m)throw m;console.log(`✅ Successfully updated source ${p} to ${g}`);try{await X.rpc("refresh_ef_all_for_source",{p_source:p})}catch(w){console.warn("Refresh ef_all failed (tier updated in DB):",w)}r(w=>({...w,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${g}`}),setTimeout(()=>{r(w=>({...w,[p]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error("💥 Error updating source tier:",m),r(w=>({...w,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:m instanceof Error?m.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=o,d=p=>p==="premium"?"default":"secondary",f=p=>p==="premium"?Zl:qs,h=p=>{const g=n[p.source];return g!=null&&g.loading?l.jsxs(l.Fragment,{children:[l.jsx(mo,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):g!=null&&g.success?l.jsxs(l.Fragment,{children:[l.jsx(mn,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?l.jsxs(l.Fragment,{children:[l.jsx(Zl,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(qs,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(cd,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),l.jsx(Pe,{children:l.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,g)=>l.jsx(Dc,{className:"h-12 w-full"},g))})})]}):l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(cd,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[l.jsx(ny,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),l.jsx(Pe,{children:l.jsxs(iu,{children:[l.jsx(su,{children:l.jsxs(Pn,{children:[l.jsx(qe,{children:"Source"}),l.jsx(qe,{children:"Niveau actuel"}),l.jsx(qe,{children:"Facteurs Standard"}),l.jsx(qe,{children:"Facteurs Premium"}),l.jsx(qe,{children:"Total"}),l.jsx(qe,{children:"Actions"})]})}),l.jsxs(au,{children:[e.map(p=>{const g=f(p.current_tier),m=n[p.source];return l.jsxs(Pn,{children:[l.jsx(Oe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),l.jsx(Oe,{children:l.jsxs(Qe,{variant:d(p.current_tier),children:[l.jsx(g,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),l.jsx(Oe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),l.jsx(Oe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),l.jsx(Oe,{children:l.jsx("span",{className:"font-medium",children:p.total_count})}),l.jsx(Oe,{children:l.jsx(Q,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:h(p)})})]},p.source)}),e.length===0&&l.jsx(Pn,{children:l.jsx(Oe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},hJ=()=>{const[e,t]=b.useState([]),{sources:n,refresh:r}=RT(),[i,s]=b.useState([]),[a,o]=b.useState(!0),[c,u]=b.useState(""),[d,f]=b.useState(new Set),[h,p]=b.useState({}),{toast:g}=Rt(),m=y=>y==="premium"?"default":"secondary",w=b.useCallback(async()=>{const{data:y,error:S}=await X.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(S)throw S;const j=((y==null?void 0:y.data)||[]).map(_=>({id:_.id,name:_.name,plan_type:_.plan_type}));t(j),!c&&j.length&&u(j[0].id)},[c]),v=b.useCallback(async y=>{if(!y){f(new Set);return}const{data:S,error:j}=await X.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",y);if(j)throw j;f(new Set((S||[]).map(_=>_.source_name)))},[]);b.useEffect(()=>{s(n||[])},[n]),b.useEffect(()=>{(async()=>{try{o(!0),await w()}catch(y){console.error(y),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{o(!1)}})()},[w,g]),b.useEffect(()=>{(async()=>{try{c&&(o(!0),await v(c))}catch(y){console.error(y)}finally{o(!1)}})()},[c,v]);const x=b.useCallback(async(y,S)=>{if(c){p(j=>({...j,[y]:!0}));try{S?(await aJ(y,c),f(j=>new Set(j).add(y))):(await oJ(y,c),f(j=>{const _=new Set(j);return _.delete(y),_}))}catch(j){console.error(j),g({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(j=>({...j,[y]:!1}))}}},[c,g]);return a?l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),l.jsx(Pe,{children:l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((y,S)=>l.jsx(Dc,{className:"h-12 w-full"},S))})})]}):l.jsxs(_e,{children:[l.jsx(Ae,{children:l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",l.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[l.jsx(ny,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),l.jsx(Q,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const y=i.filter(I=>I.access_level==="premium").map(I=>I.source_name),S=i.filter(I=>I.access_level==="standard").map(I=>I.source_name),j=y.filter(I=>d.has(I)),_=y.filter(I=>!d.has(I)),C=[...S,...j],R=_;await lJ(c,C,R),g({title:"Synchronisation réussie",description:`Assignés: ${C.length} • Désassignés: ${R.length}`}),await v(c)}catch(y){console.error(y),g({title:"Erreur",description:(y==null?void 0:y.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),l.jsxs(Pe,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(nr,{value:c,onValueChange:u,children:[l.jsx(Ln,{className:"w-96",children:l.jsx(rr,{placeholder:"Sélectionner un workspace"})}),l.jsx(Mn,{children:e.map(y=>l.jsx(Je,{value:y.id,children:y.name},y.id))})]})})}),l.jsxs(iu,{children:[l.jsx(su,{children:l.jsxs(Pn,{children:[l.jsx(qe,{children:"Source"}),l.jsx(qe,{children:"Access level"}),l.jsx(qe,{children:"Activer"}),l.jsx(qe,{children:"Désactiver"})]})}),l.jsxs(au,{children:[i.map(y=>{const S=y.access_level==="standard"||d.has(y.source_name),j=!!h[y.source_name],_=y.access_level==="premium";return l.jsxs(Pn,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:y.source_name})]})}),l.jsx(Oe,{children:l.jsx(Qe,{variant:m(y.access_level),children:y.access_level})}),l.jsx(Oe,{children:j?l.jsx(mo,{className:"h-4 w-4 animate-spin"}):l.jsx(oi,{checked:S,onCheckedChange:()=>_&&x(y.source_name,!0),disabled:!c||!_})}),l.jsx(Oe,{children:j?l.jsx(mo,{className:"h-4 w-4 animate-spin"}):l.jsx(oi,{checked:!S,onCheckedChange:()=>_&&x(y.source_name,!1),disabled:!c||!_})})]},y.source_name)}),i.length===0&&l.jsx(Pn,{children:l.jsx(Oe,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},pJ=()=>{const[e,t]=H.useState("access");return l.jsxs(hg,{value:e,onValueChange:n=>t(n),className:"w-full",children:[l.jsxs(ef,{children:[l.jsx(Kr,{value:"access",children:"Accès aux sources"}),l.jsx(Kr,{value:"assignments",children:"Assignations"})]}),l.jsx("div",{className:"mt-4"}),e==="access"&&l.jsx(Qr,{value:"access",asChild:!0,children:l.jsx("div",{children:l.jsx(fJ,{})})}),e==="assignments"&&l.jsx(Qr,{value:"assignments",asChild:!0,children:l.jsx("div",{children:l.jsx(hJ,{})})})]})},mJ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{toast:c}=Rt(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=p.charAt(Math.floor(Math.random()*p.length));r(g)},d=async h=>{h.preventDefault(),o(!0);try{const{data:{session:p}}=await X.auth.getSession();if(!p){c({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succès",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{o(!1)}},f=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return l.jsxs(_e,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(mI,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),l.jsx(wn,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),l.jsx(Pe,{children:l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(xt,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),l.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?l.jsx(aI,{className:"h-4 w-4"}):l.jsx(oI,{className:"h-4 w-4"})})]}),l.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&l.jsx(ii,{children:l.jsxs(si,{children:["Force du mot de passe: ",f(n)?"✅ Fort":"❌ Faible",!f(n)&&l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),l.jsx(Q,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},gJ=()=>{const[e,t]=b.useState(!1),{toast:n}=Rt(),r=async()=>{t(!0);try{const{data:{session:i}}=await X.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return l.jsxs(_e,{className:"w-full max-w-md",children:[l.jsxs(Ae,{children:[l.jsxs(Ie,{className:"flex items-center gap-2",children:[l.jsx(Nf,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),l.jsx(wn,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),l.jsxs(Pe,{children:[l.jsxs(ii,{className:"mb-4",children:[l.jsx(Wd,{className:"h-4 w-4"}),l.jsx(si,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),l.jsxs(_T,{children:[l.jsx(PT,{asChild:!0,children:l.jsx(Q,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),l.jsxs(Sx,{children:[l.jsxs(jx,{children:[l.jsx(Px,{children:"Confirmer le nettoyage"}),l.jsx(Ex,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),l.jsxs(_x,{children:[l.jsx(kx,{children:"Annuler"}),l.jsx(Cx,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},vJ=()=>{const{toast:e}=Rt(),{isSupraAdmin:t}=nh(),[n,r]=H.useState(null),[i,s]=H.useState(!1),[a,o]=H.useState(0),[c,u]=H.useState(null),[d,f]=H.useState([]),[h,p]=H.useState(!1),[g,m]=H.useState([]),[w,v]=H.useState(!1),[x,y]=H.useState(null),S=()=>{const O=["ID","Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],U=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],k=[O.join(","),U.join(",")].join(`
`),A=new Blob([k],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL(A),M=document.createElement("a");M.href=T,M.download="template_import_emission_factors_bilingue.csv",M.click(),URL.revokeObjectURL(T)},j=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),o(0);const O=`imports/${Date.now()}_${n.name}`,{error:U}=await X.storage.from("imports").upload(O,n,{upsert:!0});if(U)throw U;u(O),o(100),p(!1),f([]),e({title:"Upload terminé",description:O})}catch(O){e({variant:"destructive",title:"Erreur upload",description:O.message||String(O)})}finally{s(!1)}},_=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:O,error:U}=await X.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!0}});if(U)throw U;const k=((O==null?void 0:O.sources)||[]).map(E=>({name:E.name,count:E.count,access_level:E.access_level||"standard",is_global:typeof E.is_global=="boolean"?E.is_global:!0}));f(k),p(!0),e({title:"Analyse terminée",description:`${(O==null?void 0:O.processed)||0} lignes valides; ${k.length} sources détectées`});const A=Number(O==null?void 0:O.processed)||k.reduce((E,L)=>E+(Number(L.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${k.length} — Lignes valides: ${A}`))return;const M={};k.forEach(E=>{M[E.name]={access_level:E.access_level,is_global:E.is_global}});const{data:P,error:$}=await X.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:M}});if($)throw $;e({title:"Import lancé",description:`Job: ${(P==null?void 0:P.import_id)||"en file"}`}),await I()}catch(O){e({variant:"destructive",title:"Erreur import",description:O.message||String(O)})}},C=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const O={};d.forEach(A=>{O[A.name]={access_level:A.access_level,is_global:A.is_global}});const{data:U,error:k}=await X.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:O}});if(k)throw k;e({title:"Import lancé",description:`Job: ${(U==null?void 0:U.import_id)||"en file"}`}),await I()}catch(O){e({variant:"destructive",title:"Erreur import",description:O.message||String(O)})}},R=async O=>{try{y(O);const{data:U,error:k}=await X.functions.invoke("reindex-ef-all",{body:{index:O,applySettings:!0}});if(k)throw k;e({title:"Reindex terminé",description:JSON.stringify(U)})}catch(U){e({variant:"destructive",title:"Erreur reindex",description:U.message||String(U)})}finally{y(null)}},I=H.useCallback(async()=>{try{v(!0);const{data:O,error:U}=await X.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(U)throw U;const k=(O||[]).map(A=>({id:A.id,status:A.status,processed:A.records_processed??null,failed:A.records_failed??null,created_at:A.created_at}));m(k)}catch{}finally{v(!1)}},[]);if(H.useEffect(()=>{I();const O=setInterval(I,5e3);return()=>clearInterval(O)},[I]),!t)return null;const D=O=>f(U=>U.map(k=>({...k,access_level:O}))),F=O=>f(U=>U.map(k=>({...k,is_global:O})));return l.jsxs(_e,{children:[l.jsxs(Ae,{children:[l.jsx(Ie,{children:"Import de la base de facteurs (FR/EN)"}),l.jsx(wn,{children:"Cet outil permet d\\'uploader un CSV complet (supra‑admin) puis de lancer un reindex Algolia. • Étape 1: Uploader le fichier vers le Storage. • Étape 2: Analyser pour détecter les sources et préparer le mapping (Standard/Premium, Global oui/non). • Étape 3: Lancer l\\'import. • Étape 4: Reindex Algolia."})]}),l.jsxs(Pe,{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Q,{variant:"secondary",onClick:S,children:"Télécharger le template CSV"})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ut,{children:"Fichier CSV"}),l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ji,{children:"Sélectionnez le CSV complet exporté depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportées."})]})})]}),l.jsx(xt,{type:"file",accept:".csv,text/csv",onChange:O=>{var U;return r(((U=O.target.files)==null?void 0:U[0])||null)}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx(Q,{onClick:j,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),l.jsx(ji,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),c&&l.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx(Q,{onClick:_,disabled:!c,children:"Analyser puis Importer"})}),l.jsx(ji,{children:"Analyse le CSV et propose immédiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),h&&d.length>0&&l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx(Q,{variant:"secondary",onClick:C,children:"Importer avec ce mapping"})}),l.jsx(ji,{children:"Utilise le mapping affiché ci-dessous sans relancer l'analyse."})]})})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ut,{children:"Sources détectées (après analyse)"}),l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ji,{children:"Choisissez l\\'accès par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),d.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),l.jsxs(nr,{onValueChange:O=>D(O),children:[l.jsx(Ln,{className:"w-40",children:l.jsx(rr,{placeholder:"Accès"})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>F(!0),children:"Global: Oui"}),l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>F(!1),children:"Global: Non"})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Source"}),l.jsx("th",{className:"p-2 text-right",children:"Lignes"}),l.jsx("th",{className:"p-2 text-left",children:"Accès"}),l.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),l.jsx("tbody",{children:d.map((O,U)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:O.name}),l.jsx("td",{className:"p-2 text-right",children:O.count}),l.jsx("td",{className:"p-2",children:l.jsxs(nr,{value:O.access_level,onValueChange:k=>f(A=>A.map((T,M)=>M===U?{...T,access_level:k}:T)),children:[l.jsx(Ln,{className:"w-36",children:l.jsx(rr,{})}),l.jsxs(Mn,{children:[l.jsx(Je,{value:"standard",children:"Standard"}),l.jsx(Je,{value:"premium",children:"Premium"})]})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:O.is_global,onChange:k=>f(A=>A.map((T,M)=>M===U?{...T,is_global:k.target.checked}:T))}),l.jsx("span",{children:"Global"})]})})]},O.name))})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ut,{children:"Historique des imports"}),l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ji,{children:"Liste des imports récents et leur statut."})]})})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Date"}),l.jsx("th",{className:"p-2 text-left",children:"Statut"}),l.jsx("th",{className:"p-2 text-right",children:"Traitées"}),l.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map(O=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(O.created_at).toLocaleString()}),l.jsx("td",{className:"p-2",children:O.status??"-"}),l.jsx("td",{className:"p-2 text-right",children:O.processed??"-"}),l.jsx("td",{className:"p-2 text-right",children:O.failed??"-"})]},O.id))})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ut,{children:"Algolia — Reindex"}),l.jsx(Si,{children:l.jsxs(gs,{children:[l.jsx(vs,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(ji,{children:'Reconstruit la table de projection puis pousse vers l\\\'index unique `ef_all` via batch API. Utilisez "Reindex TOUT" après un import massif.'})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lancer un reindex complet via replaceAllObjects (swap atomique). Les settings sont lus depuis Supabase Storage (",l.jsx("code",{children:"algolia_settings"}),")."]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Q,{variant:"secondary",onClick:()=>R("all"),disabled:x!==null,children:x==="all"?"Reindex tout...":"Reindex TOUT"})})]})]})]})]})},yJ=()=>{const{user:e}=rt(),{isSupraAdmin:t,loading:n}=nh();Rt();const[r,i]=b.useState(!1);return b.useEffect(()=>{i(!1)},[e,t]),n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(ii,{className:"max-w-2xl mx-auto",children:[l.jsx(Wd,{className:"h-4 w-4"}),l.jsx(si,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Ms,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[l.jsx(qs,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),l.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Qe,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),l.jsx(Qe,{variant:"outline",children:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),l.jsx(cJ,{})]}),l.jsx(uJ,{}),l.jsx(dJ,{children:l.jsx(pJ,{})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),l.jsx(vJ,{})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsx(mJ,{}),l.jsx(gJ,{})]})]})]}),l.jsxs(_e,{className:"mt-6",children:[l.jsx(Ae,{children:l.jsx(Ie,{children:"Informations de debug"})}),l.jsx(Pe,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",e.id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},xJ=()=>{const e=ta();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bJ=()=>{const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(!1),[a,o]=b.useState(null),{toast:c}=Rt(),u=Bf(),d=async f=>{f.preventDefault(),s(!0),o(null);try{const{error:h}=await X.auth.signInWithPassword({email:e,password:n});h?(o(h.message),c({variant:"destructive",title:"Erreur de connexion",description:h.message})):(c({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{o("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(it,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[l.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(_e,{children:[l.jsxs(Ae,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(qs,{className:"text-white w-6 h-6"})}),l.jsx(Ie,{className:"text-2xl",children:"Connexion Développeur"}),l.jsx(wn,{children:"Accès administrateur pour le développement et la maintenance"})]}),l.jsxs(Pe,{children:[l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(kr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),l.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email administrateur"}),l.jsx(xt,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"password",children:"Mot de passe"}),l.jsx(xt,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&l.jsxs(ii,{variant:"destructive",className:"mt-4",children:[l.jsx(kr,{className:"h-4 w-4"}),l.jsx(si,{children:a})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},wJ=new jD,wa=({children:e})=>{const{user:t,loading:n}=rt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(mE,{to:"/login",replace:!0})},Wp=({children:e})=>{const{user:t,loading:n}=rt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(mE,{to:"/search",replace:!0}):l.jsx(l.Fragment,{children:e})},SJ=()=>l.jsx(PD,{client:wJ,children:l.jsx(zM,{children:l.jsx(BM,{children:l.jsx(HM,{children:l.jsx(WM,{children:l.jsxs(Si,{children:[l.jsx(ZI,{}),l.jsx(kF,{}),l.jsx(bL,{children:l.jsxs("div",{className:"min-h-screen",children:[l.jsx(KM,{}),l.jsxs(hL,{children:[l.jsx(Nn,{path:"/",element:l.jsx(h3,{})}),l.jsx(Nn,{path:"/login",element:l.jsx(Wp,{children:l.jsx(v3,{})})}),l.jsx(Nn,{path:"/signup",element:l.jsx(Wp,{children:l.jsx(x3,{})})}),l.jsx(Nn,{path:"/dev",element:l.jsx(Wp,{children:l.jsx(bJ,{})})}),l.jsx(Nn,{path:"/search",element:l.jsx(wa,{children:l.jsx(pG,{})})}),l.jsx(Nn,{path:"/favoris",element:l.jsx(wa,{children:l.jsx(SG,{})})}),l.jsx(Nn,{path:"/import",element:l.jsx(wa,{children:l.jsx(jG,{})})}),l.jsx(Nn,{path:"/settings",element:l.jsx(wa,{children:l.jsx(XG,{})})}),l.jsx(Nn,{path:"/debug",element:l.jsx(wa,{children:l.jsx(ZG,{})})}),l.jsx(Nn,{path:"/admin",element:l.jsx(wa,{children:l.jsx(yJ,{})})}),l.jsx(Nn,{path:"*",element:l.jsx(xJ,{})})]})]})})]})})})})})});O_(document.getElementById("root")).render(l.jsx(SJ,{}));
